/*! SDK Edit Interface v25.7.3_webgl-869-g4345cd94f0 */var e,t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},n={};t.d(n,{m:()=>A}),function(e){e.POSTMESSAGE="postmessage",e.DIRECT="direct",e.WEBSOCKET="websocket"}(e||(e={}));const o="async-injection:INJECTABLE",r="async-injection:INJECT",a="async-injection:POSTCONSTRUCT_SYNC",i="async-injection:POSTCONSTRUCT_ASYNC";function s(e){let t;return e&&(t=e.name,!t&&e.constructor&&(t=e.constructor.name)),t}function c(e){return`index-${e}`}function l(e,t,n){const o=function(e,t,n){if(!function(e){return!("function"!=typeof e||!e.hasOwnProperty("prototype"))&&e.prototype.constructor===e}(t))throw new Error("@"+e+" is not valid here ["+s(t)+"]");return c(n)}(e,t,n);if(Reflect.hasOwnMetadata(e,t,o))throw new Error("@"+e+" applied multiple times ["+t.constructor.name+"]");return o}function u(){return function(e){if(Reflect.hasOwnMetadata(o,e))throw new Error("@Injectable applied multiple times ["+s(e)+"]");Reflect.defineMetadata(o,!0,e)}}function d(e){return function(t,n,o){if(void 0===e)throw new Error("Undefined id passed to @Inject ["+s(t)+"]");const a=l("Inject",t,o);Reflect.defineMetadata(r,e,t,a)}}function f(){return function(e,t,n){if("object"!=typeof e||"function"!=typeof e.constructor)throw new Error("@PostConstruct not applied to instance method ["+e.toString()+"/"+t.toString()+"]");if(Reflect.hasOwnMetadata(a,e.constructor)||Reflect.hasOwnMetadata(i,e.constructor))throw new Error("@PostConstruct applied multiple times ["+s(e.constructor)+"]");"function"==typeof Reflect.getMetadata("design:returntype",e,t)?Reflect.defineMetadata(i,t,e.constructor):Reflect.defineMetadata(a,t,e.constructor)}}const p=["dev-app.matterport.com","dev-app.matterportvr.cn","qa3-app.matterport.com","qa3-app.matterportvr.cn","gc1-app.matterport.com","my.matterport.com","my.matterportvr.cn","showcase-next.matterport.com","static.matterport.com","static.matterportvr.cn","static.matterport.us","matterport.github.io","local-dev.matterport.com","127.0.0.1","localhost"];var g,m,y=function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},R=function(e,t){return function(n,o){t(n,o,e)}};let b=class{constructor(e,t){this.sdk=e,this.roomBound=t}async init(){await this.sdk.addCommandToInterface({namespace:"UI",name:"isRoomBoundsVisible",args:[],sdkTypes:[e.DIRECT],origins:p,varArg:!1},Promise.resolve({validateInput:e=>e,exec:async()=>this.roomBound.getAllowRendering()}));const t={validateInput:function(e){if("boolean"!=typeof e.enabled)throw new Error("Expected a boolean");return e},exec:async e=>{const n=t.validateInput(e);this.roomBound.setAllowRendering(n.enabled)}};await this.sdk.addCommandToInterface({namespace:"UI",name:"toggleRoomBounds",args:["enabled"],sdkTypes:[e.DIRECT],origins:p,varArg:!1},Promise.resolve(t))}};y([f(),h("design:type",Function),h("design:paramtypes",[]),h("design:returntype","function"==typeof(m="undefined"!=typeof Promise&&Promise)?m:Object)],b.prototype,"init",null),b=y([u(),R(0,d("$WorkSdk")),R(1,d("IRoomBoundModule")),h("design:paramtypes",[Object,"function"==typeof(g="undefined"!=typeof RoomBoundModule&&RoomBoundModule)?g:Object])],b);var w=function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},O=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e,t){return function(n,o){t(n,o,e)}};let C=class{constructor(e,t,n){this.sdk=e,this.toolsModule=t,this.pluginConfigDataModule=n}init(){const t=Promise.resolve({getData:()=>{const e=this.toolsModule.toolsData.activeToolName;return e?e.slice(0):null},subscribe:e=>{const t=()=>{e.dirty=!0};return this.toolsModule.toolsData.onPropertyChanged("activeToolName",t),t(),{cancel:()=>{this.toolsModule.toolsData.removeOnPropertyChanged("activeToolName",t)},renew:()=>{this.toolsModule.toolsData.onPropertyChanged("activeToolName",t)}}}});this.sdk.addObservableToInterface({namespace:"UI",name:"currentPanel",sdkTypes:[e.DIRECT],origins:p},t);const n=Promise.resolve({getData:()=>{const e=this.pluginConfigDataModule.pluginConfigData.currentlyConfiguring.value;return JSON.parse(JSON.stringify(e))},subscribe:e=>{const t=()=>{e.dirty=!0};return this.pluginConfigDataModule.pluginConfigData.currentlyConfiguring.onChanged(t),t(),{cancel:()=>{this.pluginConfigDataModule.pluginConfigData.currentlyConfiguring.removeOnChanged(t)},renew:()=>{this.pluginConfigDataModule.pluginConfigData.currentlyConfiguring.onChanged(t)}}}});this.sdk.addObservableToInterface({namespace:"UI",name:"currentPlugin",sdkTypes:[e.DIRECT],origins:p},n)}};w([f(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],C.prototype,"init",null),C=w([u(),v(0,d("$WorkSdk")),v(1,d("IToolsModule")),v(2,d("IPluginConfigDataModule")),O("design:paramtypes",[Object,Object,Object])],C);var D,E=function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},I=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},T=function(e,t){return function(n,o){t(n,o,e)}};let k=class{constructor(e,t){this.sdk=e,this.makeTransformGizmo=t}async init(){await this.sdk.addCommandToInterface({namespace:"Scene",name:"makeTransformGizmo",args:[],sdkTypes:[e.DIRECT],origins:p},Promise.resolve({validateInput:e=>e,exec:()=>this.makeTransformGizmo()}))}};E([f(),I("design:type",Function),I("design:paramtypes",[]),I("design:returntype","function"==typeof(D="undefined"!=typeof Promise&&Promise)?D:Object)],k.prototype,"init",null),k=E([u(),T(0,d("$WorkSdk")),T(1,d("$makeTransformGizmo")),I("design:paramtypes",[Object,Function])],k);const P=window.navigationStart||Date.now(),j=new WeakMap;var S;!function(e){e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG"}(S||(S={}));class M{static for(e){let t=j.get(e);if(!t){const n=e.name||e.constructor.name;t=new M(n),j.set(e,t)}return t}constructor(e){this.timers={},this.handlers={[S.DEBUG]:console.debug,[S.INFO]:console.info,[S.WARN]:console.warn,[S.ERROR]:console.error};const t=e.split(new RegExp("/|\\\\"));this.prefix="["+t[t.length-1].replace(".js","")+"]"}message(e){if(M.level>=e&&console){return(this.handlers[e]?this.handlers[e]:console.log).bind(console,this.getPrefix())}return()=>{}}get debug(){return this.message(S.DEBUG)}get devInfo(){return()=>{}}get debugInfo(){return this.debug}get warnError(){return this.warn}get debugWarn(){return this.message(M.level>=S.DEBUG?S.WARN:S.DEBUG)}get info(){return this.message(S.INFO)}get warn(){return this.message(S.WARN)}get error(){return this.message(S.ERROR)}time(e){M.level>=S.DEBUG&&(this.timers[e]=Date.now())}timeEnd(e){if(M.level>=S.DEBUG){const t=this.timers[e];if(!t)return;const n=(Date.now()-t)/1e3;this.debug(e,n+"s")}}getPrefix(){const e=(Date.now()-P)/1e3+"s";return`${this.prefix} ${e}`}}M.level=S.INFO;const N="__workshopLoadedOnce__",B=new M("ws.sdk.interface");async function A(e,t,n,o,r,a,i,s){if(!s.isIdKnown(N,!0))return void B.warnError("Tried to load edit SDK but tracking symbol not registered, skipping...",s);s.bindConstant("$WorkSdk",e),s.bindConstant("$makeTransformGizmo",o.makeTransformGizmo),function(e){e.bindClass(b).asSingleton(),e.bindClass(C).asSingleton(),e.bindClass(k).asSingleton()}(s),B.debugInfo("Waiting for all modules to be loaded...");const c=Date.now();B.debugInfo("Awaiting WORKSHOP_LOADED..."),s.get(N).then((()=>{B.debugInfo(`WORKSHOP_LOADED: All registered modules loaded in ${Date.now()-c}ms: continue ws-sdk creation...`),s.resolveSingletons()}))}var G=n.m;export{G as setup};