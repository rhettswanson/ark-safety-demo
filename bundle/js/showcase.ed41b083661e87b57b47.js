/*! For license information please see showcase.ed41b083661e87b57b47.js.LICENSE.txt */
(()=>{var e,t,n,i,r={3898:(e,t,n)=>{"use strict";n.d(t,{InMemoryCache:()=>Ne,cacheSlot:()=>ce});var i=function(){return Object.create(null)},r=Array.prototype,o=r.forEach,s=r.slice,a=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=i),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return o.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(s.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=n.get(t);return i||n.set(t,i=new e(this.weakness,this.makeData)),i},e}();var l=null,c={},u=1,d="@wry/context:Slot",h=Array,p=h[d]||function(){var e=function(){function e(){this.id=["slot",u++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=l;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===c)break;return e!==l&&(l.slots[this.id]=t),!0}return l&&(l.slots[this.id]=c),!1},e.prototype.getValue=function(){if(this.hasValue())return l.slots[this.id]},e.prototype.withValue=function(e,t,n,i){var r,o=((r={__proto__:null})[this.id]=e,r),s=l;l={parent:s,slots:o};try{return t.apply(i,n)}finally{l=s}},e.bind=function(e){var t=l;return function(){var n=l;try{return l=t,e.apply(this,arguments)}finally{l=n}}},e.noContext=function(e,t,n){if(!l)return e.apply(n,t);var i=l;try{return l=null,e.apply(n,t)}finally{l=i}},e}();try{Object.defineProperty(h,d,{value:h[d]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();p.bind,p.noContext;function f(){}var m=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=f),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,i=t.newer;i&&(i.older=n),n&&(n.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t},e.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),g=new p;function v(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var y=[];function E(e,t){if(!e)throw new Error(t||"assertion failure")}function S(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var b=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!_(this))return this.value[0]},e.prototype.recompute=function(e){return E(!this.recomputing,"already recomputing"),function(e){var t=g.getValue();if(t)e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),_(e)?w(t,e):N(t,e)}(this),_(this)?function(e,t){R(e),g.withValue(e,O,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{v(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,_(e))return;A(e)}(e);return S(e.value)}(this,e):S(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,T(this),R(this),v(this))},e.prototype.dispose=function(){var e=this;R(this),v(this),this.parents.forEach((function(t){t.setDirty(),k(t,e)}))},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=y.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(this.deps.forEach((function(t){return t.delete(e)})),this.deps.clear(),y.push(this.deps),this.deps=null)},e.count=0,e}();function O(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function _(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function T(e){e.parents.forEach((function(t){return w(t,e)}))}function A(e){e.parents.forEach((function(t){return N(t,e)}))}function w(e,t){if(E(e.childValues.has(t)),E(_(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=y.pop()||new Set;e.dirtyChildren.add(t),T(e)}function N(e,t){E(e.childValues.has(t)),E(!_(t));var n,i,r,o=e.childValues.get(t);0===o.length?e.childValues.set(t,t.value.slice(0)):(n=o,i=t.value,(r=n.length)>0&&r===i.length&&n[r-1]===i[r-1]||e.setDirty()),I(e,t),_(e)||A(e)}function I(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(y.length<100&&y.push(n),e.dirtyChildren=null))}function R(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){k(e,n)})),e.forgetDeps(),E(null===e.dirtyChildren)}function k(e,t){t.parents.delete(e),e.childValues.delete(t),I(e,t)}function L(e){var t=new Map,n=e&&e.subscribe;function i(e){var i=g.getValue();if(i){var r=t.get(e);r||t.set(e,r=new Set),i.dependOn(r),"function"==typeof n&&(v(r),r.unsubscribe=n(e))}}return i.dirty=function(e){var n=t.get(e);n&&(n.forEach((function(e){return e.setDirty()})),t.delete(e),v(n))},i}var M=new a("function"==typeof WeakMap);function D(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return M.lookupArray(e)}var P=new Set;function C(e,t){void 0===t&&(t=Object.create(null));var n=new m(t.max||Math.pow(2,16),(function(e){return e.dispose()})),i=t.keyArgs||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r=t.makeCacheKey||D;function o(){var o=r.apply(null,i.apply(null,arguments));if(void 0===o)return e.apply(null,arguments);var s=n.get(o);s||(n.set(o,s=new b(e)),s.subscribe=t.subscribe);var a=s.recompute(Array.prototype.slice.call(arguments));return n.set(o,s),P.add(n),g.hasValue()||(P.forEach((function(e){return e.clean()})),P.clear()),a}function s(){var e=r.apply(null,arguments);if(void 0!==e)return n.get(e)}return o.dirty=function(){var e=s.apply(null,arguments);e&&e.setDirty()},o.peek=function(){var e=s.apply(null,arguments);if(e)return e.peek()},o.forget=function(){var e=r.apply(null,arguments);return void 0!==e&&n.delete(e)},o}var x,U=n(44153),j=function(){function e(){this.getFragmentDoc=C(U.ct)}return e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({query:this.getFragmentDoc(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.writeQuery=function(e){return this.write({dataId:e.id||"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables,broadcast:e.broadcast})},e.prototype.writeFragment=function(e){return this.write({dataId:e.id,result:e.data,variables:e.variables,query:this.getFragmentDoc(e.fragment,e.fragmentName),broadcast:e.broadcast})},e}();x||(x={});var F=function(e,t,n,i,r){this.message=e,this.path=t,this.query=n,this.clientOnly=i,this.variables=r},H=n(94626),G=n(16142),B=n(50453),V=Object.prototype.hasOwnProperty;var W=/^[_a-z][_0-9a-z]*/i;function z(e){var t=e.match(W);return t?t[0]:e}function $(e,t,n){return!(!t||"object"!=typeof t)&&(Array.isArray(t)?t.every((function(t){return $(e,t,n)})):e.selections.every((function(e){if((0,U.dt)(e)&&(0,U.MS)(e,n)){var i=(0,U.ue)(e);return V.call(t,i)&&(!e.selectionSet||$(e.selectionSet,t[i],n))}return!0})))}function K(e){return null!==e&&"object"==typeof e&&!(0,U.A_)(e)&&!Array.isArray(e)}var Y=Object.create(null),q=function(){return Y},Q=Object.create(null),X=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return(0,U.GH)((0,U.A_)(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return(0,U.A_)(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return(0,U.WU)(e);if((0,U.A_)(e))return e;var i=n.policies.identify(e)[0];if(i){var r=(0,U.WU)(i);return t&&n.merge(i,e),r}}}return e.prototype.toObject=function(){return(0,H.Cl)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),V.call(this.data,e)){var n=this.data[e];if(n&&V.call(n,t))return n[t]}return"__typename"===t&&V.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof ee?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),V.call(this.data,e)?this.data[e]:this instanceof ee?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n=this,i=this.lookup(e),r=new U.ZI(te).merge(i,t);if(this.data[e]=r,r!==i&&(delete this.refs[e],this.group.caching)){var o=Object.create(null);i||(o.__exists=1),Object.keys(t).forEach((function(e){if(!i||i[e]!==r[e]){o[e]=1;var t=z(e);t===e||n.policies.hasKeyArgs(r.__typename,t)||(o[t]=1),void 0!==r[e]||n instanceof ee||delete r[e]}})),Object.keys(o).forEach((function(t){return n.group.dirty(e,t)}))}},e.prototype.modify=function(e,t){var n=this,i=this.lookup(e);if(i){var r=Object.create(null),o=!1,s=!0,a={DELETE:Y,INVALIDATE:Q,isReference:U.A_,toReference:this.toReference,canRead:this.canRead,readField:function(t,i){return n.policies.readField("string"==typeof t?{fieldName:t,from:i||(0,U.WU)(e)}:t,{store:n})}};if(Object.keys(i).forEach((function(l){var c=z(l),u=i[l];if(void 0!==u){var d="function"==typeof t?t:t[l]||t[c];if(d){var h=d===q?Y:d((0,U.GH)(u),(0,H.Cl)((0,H.Cl)({},a),{fieldName:c,storeFieldName:l,storage:n.getStorage(e,l)}));h===Q?n.group.dirty(e,l):(h===Y&&(h=void 0),h!==u&&(r[l]=h,o=!0,u=h))}void 0!==u&&(s=!1)}})),o)return this.merge(e,r),s&&(this instanceof ee?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var i,r=this.lookup(e);if(r){var o=this.getFieldValue(r,"__typename"),s=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,s?((i={})[s]=q,i):q)}return!1},e.prototype.evict=function(e){var t=!1;return e.id&&(V.call(this.data,e.id)&&(t=this.delete(e.id,e.fieldName,e.args)),this instanceof ee&&(t=this.parent.evict(e)||t),(e.fieldName||t)&&this.group.dirty(e.id,e.fieldName||"__exists")),t},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){V.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&V.call(e,n)||t.delete(n)})),e){var n=e.__META,i=(0,H.Tt)(e,["__META"]);Object.keys(i).forEach((function(e){t.merge(e,i[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof ee?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(i){V.call(n,i)&&(Object.keys(e.findChildRefIds(i)).forEach(t.add,t),delete n[i])}));var i=Object.keys(n);if(i.length){for(var r=this;r instanceof ee;)r=r.parent;i.forEach((function(e){return r.delete(e)}))}return i},e.prototype.findChildRefIds=function(e){if(!V.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=new Set([this.data[e]]),i=function(e){return null!==e&&"object"==typeof e};n.forEach((function(e){(0,U.A_)(e)?t[e.__ref]=!0:i(e)&&Object.values(e).filter(i).forEach(n.add,n)}))}return this.refs[e]},e.prototype.makeCacheKey=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.group.keyMaker.lookupArray(e)},e}(),Z=function(){function e(e){this.caching=e,this.d=null,this.keyMaker=new a(U.et),this.d=e?L():null}return e.prototype.depend=function(e,t){if(this.d){this.d(J(e,t));var n=z(t);n!==t&&this.d(J(e,n))}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(J(e,t))},e}();function J(e,t){return t+"#"+e}!function(e){var t=function(e){function t(t){var n=t.policies,i=t.resultCaching,r=void 0===i||i,o=t.seed,s=e.call(this,n,new Z(r))||this;return s.storageTrie=new a(U.et),s.sharedLayerGroup=new Z(r),o&&s.replace(o),s}return(0,H.C6)(t,e),t.prototype.addLayer=function(e,t){return new ee(e,this,t,this.sharedLayerGroup)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(X||(X={}));var ee=function(e){function t(t,n,i,r){var o=e.call(this,n.policies,r)||this;return o.id=t,o.parent=n,o.replay=i,o.group=r,i(o),o}return(0,H.C6)(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){t.data[e]!==n.lookup(e)&&t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,H.Cl)((0,H.Cl)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return V.call(this.data,t)?(0,H.Cl)((0,H.Cl)({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(X);function te(e,t,n){var i=e[n],r=t[n];return(0,B.L)(i,r)?i:r}function ne(e){return!!(e instanceof X&&e.group.caching)}function ie(e,t){return new F(e.message,t.path.slice(),t.query,t.clientOnly,t.variables)}var re=function(){function e(e){var t=this;this.config=e,this.executeSelectionSet=C((function(e){return t.execSelectionSetImpl(e)}),{keyArgs:function(e){return[e.selectionSet,e.objectOrReference,e.context]},makeCacheKey:function(e,t,n){if(ne(n.store))return n.store.makeCacheKey(e,(0,U.A_)(t)?t.__ref:t,n.varString)}}),this.knownResults=new WeakMap,this.executeSubSelectedArray=C((function(e){return t.execSubSelectedArrayImpl(e)}),{makeCacheKey:function(e){var t=e.field,n=e.array,i=e.context;if(ne(i.store))return i.store.makeCacheKey(t,n,i.varString)}}),this.config=(0,H.Cl)({addTypename:!0},e)}return e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,i=e.rootId,r=void 0===i?"ROOT_QUERY":i,o=e.variables,s=e.returnPartialData,a=void 0===s||s,l=this.config.cache.policies;o=(0,H.Cl)((0,H.Cl)({},(0,U.wY)((0,U.AT)(n))),o);var c=this.executeSelectionSet({selectionSet:(0,U.Vn)(n).selectionSet,objectOrReference:(0,U.WU)(r),context:{store:t,query:n,policies:l,variables:o,varString:JSON.stringify(o),fragmentMap:(0,U.JG)((0,U.zK)(n)),path:[],clientOnly:!1}}),u=c.missing&&c.missing.length>0;if(u&&!a)throw c.missing[0];return{result:c.result,missing:c.missing,complete:!u}},e.prototype.isFresh=function(e,t,n,i){if(ne(i.store)&&this.knownResults.get(e)===n){var r=this.executeSelectionSet.peek(n,t,i);if(r&&e===r.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,i=e.objectOrReference,r=e.context;if((0,U.A_)(i)&&!r.policies.rootTypenamesById[i.__ref]&&!r.store.has(i.__ref))return{result:{},missing:[ie(new G.zU(4),r)]};var o=r.variables,s=r.policies,a=r.store,l=[],c={result:null},u=a.getFieldValue(i,"__typename");function d(){return c.missing||(c.missing=[])}function h(e){var t;return e.missing&&(t=d()).push.apply(t,e.missing),e.result}this.config.addTypename&&"string"==typeof u&&!s.rootIdsByTypename[u]&&l.push({__typename:u});var p=new Set(n.selections);return p.forEach((function(e){var n;if((0,U.MS)(e,o))if((0,U.dt)(e)){var a=s.readField({fieldName:e.name.value,field:e,variables:r.variables,from:i},r),c=(0,U.ue)(e);r.path.push(c);var f=r.clientOnly;r.clientOnly=f||!(!e.directives||!e.directives.some((function(e){return"client"===e.name.value}))),void 0===a?U.XY.added(e)||d().push(ie(new G.zU(5),r)):Array.isArray(a)?a=h(t.executeSubSelectedArray({field:e,array:a,context:r})):e.selectionSet&&null!=a&&(a=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:a,context:r}))),void 0!==a&&l.push(((n={})[c]=a,n)),r.clientOnly=f,(0,G.V1)(r.path.pop()===c)}else{var m=(0,U.HQ)(e,r.fragmentMap);m&&s.fragmentMatches(m,u)&&m.selectionSet.selections.forEach(p.add,p)}})),c.result=(0,U.IM)(l),this.knownResults.set(c.result,n),c},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,i=e.field,r=e.array,o=e.context;function s(e,n){return e.missing&&(t=t||[]).push.apply(t,e.missing),(0,G.V1)(o.path.pop()===n),e.result}return i.selectionSet&&(r=r.filter(o.store.canRead)),{result:r=r.map((function(e,t){return null===e?null:(o.path.push(t),Array.isArray(e)?s(n.executeSubSelectedArray({field:i,array:e,context:o}),t):i.selectionSet?s(n.executeSelectionSet({selectionSet:i.selectionSet,objectOrReference:e,context:o}),t):((0,G.V1)(o.path.pop()===t),e))})),missing:t}},e}();var oe=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e){var t=e.query,n=e.result,i=e.dataId,r=e.store,o=e.variables,s=(0,U.Vu)(t),a=new U.ZI;o=(0,H.Cl)((0,H.Cl)({},(0,U.wY)(s)),o);var l=this.processSelectionSet({result:n||Object.create(null),dataId:i,selectionSet:s.selectionSet,mergeTree:{map:new Map},context:{store:r,written:Object.create(null),merge:function(e,t){return a.merge(e,t)},variables:o,varString:JSON.stringify(o),fragmentMap:(0,U.JG)((0,U.zK)(t))}});if(!(0,U.A_)(l))throw new G.zU(7);return r.retain(l.__ref),l},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,i=e.result,r=e.selectionSet,o=e.context,s=e.mergeTree,a=this.cache.policies,l=a.identify(i,r,o.fragmentMap),c=l[0],u=l[1];if("string"==typeof(n=n||c)){var d=o.written[n]||(o.written[n]=[]),h=(0,U.WU)(n);if(d.indexOf(r)>=0)return h;if(d.push(r),this.reader&&this.reader.isFresh(i,h,r,o))return h}var p=Object.create(null);u&&(p=o.merge(p,u));var f=n&&a.rootTypenamesById[n]||(0,U.D$)(i,r,o.fragmentMap)||n&&o.store.get(n,"__typename");"string"==typeof f&&(p.__typename=f);var m=new Set(r.selections);if(m.forEach((function(e){var n;if((0,U.MS)(e,o.variables))if((0,U.dt)(e)){var r=(0,U.ue)(e),l=i[r];if(void 0!==l){var c=a.getStoreFieldName({typename:f,fieldName:e.name.value,field:e,variables:o.variables}),u=ae(s,c),d=t.processFieldValue(l,e,o,u),h=e.selectionSet&&o.store.getFieldValue(d,"__typename")||void 0,g=a.getMergeFunction(f,e.name.value,h);g?u.info={field:e,typename:f,merge:g}:le(s,c),p=o.merge(p,((n={})[c]=d,n))}else if(a.usingPossibleTypes&&!(0,U.d8)(["defer","client"],e))throw new G.zU(8)}else{var v=(0,U.HQ)(e,o.fragmentMap);v&&a.fragmentMatches(v,f,i,o.variables)&&v.selectionSet.selections.forEach(m.add,m)}})),"string"==typeof n){var g=(0,U.WU)(n);return s.map.size&&(p=this.applyMerges(s,g,p,o)),o.store.merge(n,p),g}return p},e.prototype.processFieldValue=function(e,t,n,i){var r=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,o){var s=r.processFieldValue(e,t,n,ae(i,o));return le(i,o),s})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:i}):e},e.prototype.applyMerges=function(e,t,n,i,r){var o,s=this;if(e.map.size&&!(0,U.A_)(n)){var a,l=Array.isArray(n)||!(0,U.A_)(t)&&!K(t)?void 0:t,c=n;l&&!r&&(r=[(0,U.A_)(l)?l.__ref:l]);var u=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:i.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){r&&r.push(t);var n=u(l,t),o=u(c,t),d=s.applyMerges(e,n,o,i,r);d!==o&&(a=a||new Map).set(t,d),r&&(0,G.V1)(r.pop()===t)})),a&&(n=Array.isArray(c)?c.slice(0):(0,H.Cl)({},c),a.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,i,r&&(o=i.store).getStorage.apply(o,r)):n},e}(),se=[];function ae(e,t){var n=e.map;return n.has(t)||n.set(t,se.pop()||{map:new Map}),n.get(t)}function le(e,t){var n=e.map,i=n.get(t);!i||i.info||i.map.size||(se.push(i),n.delete(t))}new Set;var ce=new p;var ue=new WeakMap;function de(e){var t=ue.get(e);return t||ue.set(e,t={vars:new Set,dep:L()}),t}function he(e){var t=new Set,n=new Set,i=function(o){if(arguments.length>0)e!==o&&(e=o,t.forEach((function(e){de(e).dep.dirty(i),function(e){e.broadcastWatches&&e.broadcastWatches()}(e)})),function(e,t){if(e.size){var n=[];e.forEach((function(e){return n.push(e)})),e.clear(),n.forEach(t)}}(n,(function(t){return t(e)})));else{var s=ce.getValue();s&&(r(s),de(s).dep(i))}return e};i.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var r=i.attachCache=function(e){return t.add(e),de(e).vars.add(i),i};return i.forgetCache=function(e){return t.delete(e)},i}function pe(e){return void 0!==e.args?e.args:e.field?(0,U.MB)(e.field,e.variables):null}var fe=function(e,t){var n=e.__typename,i=e.id,r=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==i?{id:i}:void 0!==r?{_id:r}:void 0),void 0===i&&(i=r),void 0!==i))return n+":"+("number"==typeof i||"string"==typeof i?i:JSON.stringify(i))},me=function(){},ge=function(e,t){return t.fieldName},ve=function(e,t,n){return(0,n.mergeObjects)(e,t)},ye=function(e,t){return t},Ee=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,H.Cl)({dataIdFromObject:fe},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t,n){var i=t&&n?(0,U.D$)(e,t,n):e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var r,o={typename:i,selectionSet:t,fragmentMap:n},s=i&&this.getTypePolicy(i),a=s&&s.keyFn||this.config.dataIdFromObject;a;){var l=a(e,o);if(!Array.isArray(l)){r=l;break}a=_e(l)}return r=r&&String(r),o.keyObject?[r,o.keyObject]:[r]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var i=e[n],r=i.queryType,o=i.mutationType,s=i.subscriptionType,a=(0,H.Tt)(i,["queryType","mutationType","subscriptionType"]);r&&t.setRootTypename("Query",n),o&&t.setRootTypename("Mutation",n),s&&t.setRootTypename("Subscription",n),V.call(t.toBeAdded,n)?t.toBeAdded[n].push(a):t.toBeAdded[n]=[a]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,i=this.getTypePolicy(e),r=t.keyFields,o=t.fields;function s(e,t){e.merge="function"==typeof t?t:!0===t?ve:!1===t?ye:e.merge}s(i,t.merge),i.keyFn=!1===r?me:Array.isArray(r)?_e(r):"function"==typeof r?r:i.keyFn,o&&Object.keys(o).forEach((function(t){var i=n.getFieldPolicy(e,t,!0),r=o[t];if("function"==typeof r)i.read=r;else{var a=r.keyArgs,l=r.read,c=r.merge;i.keyFn=!1===a?ge:Array.isArray(a)?Oe(a):"function"==typeof a?a:i.keyFn,"function"==typeof l&&(i.read=l),s(i,c)}i.read&&i.merge&&(i.keyFn=i.keyFn||ge)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];t!==i&&((0,G.V1)(!i||i===e,1),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var i=e.match(W);i&&i[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!V.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach((function(e){var i=t.getTypePolicy(e),r=i.fields,o=(0,H.Tt)(i,["fields"]);Object.assign(n,o),Object.assign(n.fields,r)}))}var r=this.toBeAdded[e];return r&&r.length&&this.updateTypePolicy(e,U.oE.apply(void 0,r.splice(0))),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var i=this.getTypePolicy(e).fields;return i[t]||n&&(i[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,i){var r=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var s=this.getSupertypeSet(t,!0),a=[s],l=function(e){var t=r.getSupertypeSet(e,!1);t&&t.size&&a.indexOf(t)<0&&a.push(t)},c=!(!n||!this.fuzzySubtypes.size),u=0;u<a.length;++u){var d=a[u];if(d.has(o))return s.has(o)||s.add(o),!0;d.forEach(l),c&&u===a.length-1&&$(e.selectionSet,n,i)&&(c=!1,this.fuzzySubtypes.forEach((function(e,n){var i=t.match(e);i&&i[0]===t&&l(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,i=e.fieldName,r=this.getFieldPolicy(n,i,!1),o=r&&r.keyFn;if(o&&n)for(var s={typename:n,fieldName:i,field:e.field||null,variables:e.variables},a=pe(e);o;){var l=o(a,s);if(!Array.isArray(l)){t=l||i;break}o=Oe(l)}return void 0===t&&(t=e.field?(0,U.Ii)(e.field,e.variables):(0,U.o5)(i,pe(e))),i===z(t)?t:i+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var i=t.store.getFieldValue(n,"__typename");i&&(e.typename=i)}var r=this.getStoreFieldName(e),o=z(r),s=t.store.getFieldValue(n,r),a=this.getFieldPolicy(e.typename,o,!1),l=a&&a.read;if(l){var c=Se(this,n,e,t,t.store.getStorage((0,U.A_)(n)?n.__ref:n,r));return ce.withValue(this.cache,l,[s,c])}return s}},e.prototype.getMergeFunction=function(e,t,n){var i=this.getFieldPolicy(e,t,!1),r=i&&i.merge;return!r&&n&&(r=(i=this.getTypePolicy(n))&&i.merge),r},e.prototype.runMergeFunction=function(e,t,n,i,r){var o=n.field,s=n.typename,a=n.merge;return a===ve?be(i.store.getFieldValue)(e,t):a===ye?t:a(e,t,Se(this,void 0,{typename:s,fieldName:o.name.value,field:o,variables:i.variables},i,r||Object.create(null)))},e}();function Se(e,t,n,i,r){var o=e.getStoreFieldName(n),s=z(o),a=n.variables||i.variables,l=i.store,c=l.getFieldValue,u=l.toReference,d=l.canRead;return{args:pe(n),field:n.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:U.A_,toReference:u,storage:r,cache:e.cache,canRead:d,readField:function(n,r){var o="string"==typeof n?{fieldName:n,from:r}:(0,H.Cl)({},n);return void 0===o.from&&(o.from=t),void 0===o.variables&&(o.variables=a),e.readField(o,i)},mergeObjects:be(c)}}function be(e){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw new G.zU(2);if(t&&"object"==typeof t&&n&&"object"==typeof n){var i=e(t,"__typename"),r=e(n,"__typename");return!(i&&r&&i!==r)&&K(t)&&K(n)?(0,H.Cl)((0,H.Cl)({},t),n):n}return n}}function Oe(e){return function(t,n){return t?n.fieldName+":"+JSON.stringify(Ae(t,e,!1)):n.fieldName}}function _e(e){var t=new a(U.et);return function(n,i){var r;if(i.selectionSet&&i.fragmentMap){var o=t.lookupArray([i.selectionSet,i.fragmentMap]);r=o.aliasMap||(o.aliasMap=Te(i.selectionSet,i.fragmentMap))}var s=i.keyObject=Ae(n,e,!0,r);return i.typename+":"+JSON.stringify(s)}}function Te(e,t){var n=Object.create(null),i=new Set([e]);return i.forEach((function(e){e.selections.forEach((function(e){if((0,U.dt)(e)){if(e.alias){var r=e.alias.value,o=e.name.value;if(o!==r)(n.aliases||(n.aliases=Object.create(null)))[o]=r}if(e.selectionSet)(n.subsets||(n.subsets=Object.create(null)))[e.name.value]=Te(e.selectionSet,t)}else{var s=(0,U.HQ)(e,t);s&&i.add(s.selectionSet)}}))})),n}function Ae(e,t,n,i){var r,o=Object.create(null);return t.forEach((function(t){if(Array.isArray(t)){if("string"==typeof r){var s=i&&i.subsets,a=s&&s[r];o[r]=Ae(e[r],t,n,a)}}else{var l=i&&i.aliases,c=l&&l[t]||t;V.call(e,c)?o[r=t]=e[c]:((0,G.V1)(!n,3),r=void 0)}})),o}var we={dataIdFromObject:fe,addTypename:!0,resultCaching:!0,typePolicies:{}},Ne=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=he,n.txCount=0,n.maybeBroadcastWatch=C((function(e,t){return n.broadcastWatch.call(n,e,!!t)}),{makeCacheKey:function(e){var t=e.optimistic?n.optimisticData:n.data;if(ne(t)){var i=e.optimistic,r=e.rootId,o=e.variables;return t.makeCacheKey(e.query,e.callback,JSON.stringify({optimistic:i,rootId:r,variables:o}))}}}),n.watchDep=L(),n.config=(0,H.Cl)((0,H.Cl)({},we),t),n.addTypename=!!n.config.addTypename,n.policies=new Ee({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.data=new X.Root({policies:n.policies,resultCaching:n.config.resultCaching}),n.optimisticData=n.data,n.storeWriter=new oe(n,n.storeReader=new re({cache:n,addTypename:n.addTypename})),n}return(0,H.C6)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:e.query,variables:e.variables,rootId:e.rootId,config:this.config,returnPartialData:n}).result||null}catch(e){if(e instanceof F)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore({store:this.data,query:e.query,result:e.result,dataId:e.dataId,variables:e.variables})}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(V.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,config:this.config})},t.prototype.watch=function(e){var t,n=this;return this.watches.size||de(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){n.watches.delete(e)&&!n.watches.size&&function(e){de(e).vars.forEach((function(t){return t.forgetCache(e)}))}(n),n.watchDep.dirty(e),n.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(){return this.optimisticData.gc()},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){return(0,U.A_)(e)?e.__ref:this.policies.identify(e)[0]},t.prototype.evict=function(e){if(!e.id){if(V.call(e,"id"))return!1;e=(0,H.Cl)((0,H.Cl)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.performTransaction=function(e,t){var n=this,i=function(t){var i=n,r=i.data,o=i.optimisticData;++n.txCount,t&&(n.data=n.optimisticData=t);try{e(n)}finally{--n.txCount,n.data=r,n.optimisticData=o}},r=!1;"string"==typeof t?(this.optimisticData=this.optimisticData.addLayer(t,i),r=!0):null===t?i(this.data):i(),this.broadcastWatches(r)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=(0,U.XY)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){this.watchDep.dirty(e),this.watchDep(e);var n=this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic});e.optimistic&&t&&(n.fromOptimisticTransaction=!0),e.callback(n)},t}(j)},74105:()=>{},61916:(e,t,n)=>{"use strict";n.d(t,{R:()=>_});var i=n(94626),r=n(16142),o=n(25119),s=n(44153),a=n(33601),l=n(50453),c=n(57684),u=n(78469),d=n(49248),h=n(84705),p=n(3898),f=function(){function e(e){var t=e.cache,n=e.client,i=e.resolvers,r=e.fragmentMatcher;this.cache=t,n&&(this.client=n),i&&this.addResolvers(i),r&&this.setFragmentMatcher(r)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=(0,s.D9)(t.resolvers,e)})):this.resolvers=(0,s.D9)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,o=e.variables,s=e.onlyRunForcedResolvers,a=void 0!==s&&s;return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,o,this.fragmentMatcher,a).then((function(e){return(0,i.Cl)((0,i.Cl)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return(0,s.d8)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return(0,s.er)(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,i.Cl)((0,i.Cl)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return(0,i.Cl)((0,i.Cl)({},t),e.exportedVariables)}))]:[2,(0,i.Cl)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,h.YR)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return h.sP}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:(0,s.zc)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,o,a){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=function(){return!0}),void 0===a&&(a=!1),(0,i.sH)(this,void 0,void 0,(function(){var l,c,u,d,h,p,f,m,g;return(0,i.YH)(this,(function(v){return l=(0,s.Vn)(e),c=(0,s.zK)(e),u=(0,s.JG)(c),d=l.operation,h=d?d.charAt(0).toUpperCase()+d.slice(1):"Query",f=(p=this).cache,m=p.client,g={fragmentMap:u,context:(0,i.Cl)((0,i.Cl)({},n),{cache:f,client:m}),variables:r,fragmentMatcher:o,defaultOperationType:h,exportedVariables:{},onlyRunForcedResolvers:a},[2,this.resolveSelectionSet(l.selectionSet,t,g).then((function(e){return{result:e,exportedVariables:g.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return(0,i.sH)(this,void 0,void 0,(function(){var o,a,l,c,u,d=this;return(0,i.YH)(this,(function(h){return o=n.fragmentMap,a=n.context,l=n.variables,c=[t],u=function(e){return(0,i.sH)(d,void 0,void 0,(function(){var u,d;return(0,i.YH)(this,(function(i){return(0,s.MS)(e,l)?(0,s.dt)(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&c.push(((n={})[(0,s.ue)(e)]=t,n))}))]:((0,s.kd)(e)?u=e:(u=o[e.name.value],(0,r.V1)(u,11)),u&&u.typeCondition&&(d=u.typeCondition.name.value,n.fragmentMatcher(t,d,a))?[2,this.resolveSelectionSet(u.selectionSet,t,n).then((function(e){c.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(u)).then((function(){return(0,s.IM)(c)}))]}))}))},e.prototype.resolveField=function(e,t,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,a,l,c,u,d,h,f,m=this;return(0,i.YH)(this,(function(i){return r=n.variables,o=e.name.value,a=(0,s.ue)(e),l=o!==a,c=t[a]||t[o],u=Promise.resolve(c),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(d=t.__typename||n.defaultOperationType,(h=this.resolvers&&this.resolvers[d])&&(f=h[l?o:a])&&(u=Promise.resolve(p.cacheSlot.withValue(this.cache,f,[t,(0,s.MB)(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(t){return void 0===t&&(t=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?m.resolveSubSelectedArray(e,t,n):e.selectionSet?m.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var i=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?i.resolveSubSelectedArray(e,t,n):e.selectionSet?i.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),m=new(s.et?WeakMap:Map);function g(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return m.set(e,(m.get(e)+1)%1e15),n.apply(this,arguments)})}function v(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var y=function(){function e(e){this.cache=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.diff=null,this.observableQuery=null,m.has(e)||(m.set(e,0),g(e,"evict"),g(e,"modify"),g(e,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||d.p.loading;return this.variables&&this.networkStatus!==d.p.loading&&!(0,l.L)(this.variables,e.variables)&&(t=d.p.setVariables),(0,l.L)(e.variables,this.variables)||(this.diff=null),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){v(this),this.diff=null,this.dirty=!1},e.prototype.getDiff=function(e){return void 0===e&&(e=this.variables),this.diff&&(0,l.L)(e,this.variables)?this.diff:(this.updateWatch(this.variables=e),this.diff=this.cache.diff({query:this.document,variables:e,returnPartialData:!0,optimistic:!0}))},e.prototype.setDiff=function(e){var t=this,n=this.diff;this.diff=e,this.dirty||(e&&e.result)===(n&&n.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;v(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if((0,d.b)(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.cancel(),delete this.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var e=this.observableQuery;e&&e.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;n&&"no-cache"===n.options.fetchPolicy||this.lastWatch&&this.lastWatch.query===this.document&&(0,l.L)(e,this.lastWatch.variables)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch={query:this.document,variables:e,optimistic:!0,callback:function(e){return t.setDiff(e)}}))},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===m.get(this.cache)&&(0,l.L)(t,n.variables)&&(0,l.L)(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var i=this;this.graphQLErrors=(0,s.EI)(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.diff={result:e.data,complete:!0}:!this.stopped&&n&&(E(e,t.errorPolicy)?this.cache.performTransaction((function(n){if(i.shouldWrite(e,t.variables))n.writeQuery({query:i.document,data:e.data,variables:t.variables}),i.lastWrite={result:e,variables:t.variables,dmCount:m.get(i.cache)};else if(i.diff&&i.diff.complete)return void(e.data=i.diff.result);var r=n.diff({query:i.document,variables:t.variables,returnPartialData:!0,optimistic:!0});i.stopped||i.updateWatch(t.variables),i.diff=r,r.complete&&(e.data=r.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=d.p.ready},e.prototype.markError=function(e){return this.networkStatus=d.p.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function E(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,i=!(0,s.to)(e);return!i&&n&&e.data&&(i=!0),i}var S=Object.prototype.hasOwnProperty,b=function(){function e(e){var t=e.cache,n=e.link,i=e.queryDeduplication,r=void 0!==i&&i,o=e.onBroadcast,a=e.ssrMode,l=void 0!==a&&a,c=e.clientAwareness,u=void 0===c?{}:c,d=e.localState,h=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(s.et?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=r,this.clientAwareness=u,this.localState=d||new f({cache:t}),this.ssrMode=l,this.assumeImmutableResults=!!h,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(new r.zU(12))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,o=e.optimisticResponse,a=e.updateQueries,l=e.refetchQueries,u=void 0===l?[]:l,d=e.awaitRefetchQueries,h=void 0!==d&&d,p=e.update,f=e.errorPolicy,m=void 0===f?"none":f,g=e.fetchPolicy,v=e.context,y=void 0===v?{}:v;return(0,i.sH)(this,void 0,void 0,(function(){var e,l,d;return(0,i.YH)(this,(function(f){switch(f.label){case 0:return(0,r.V1)(t,13),(0,r.V1)(!g||"no-cache"===g,14),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,y)]:[3,2];case 1:n=f.sent(),f.label=2;case 2:return l=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),o&&this.markMutationOptimistic(o,{mutationId:e,document:t,variables:n,errorPolicy:m,updateQueries:a,update:p}),this.broadcastQueries(),d=this,[2,new Promise((function(r,f){var v,E;d.getObservableFromLink(t,(0,i.Cl)((0,i.Cl)({},y),{optimisticResponse:o}),n,!1).subscribe({next:function(i){if((0,s.to)(i)&&"none"===m)E=new c.K({graphQLErrors:i.errors});else{if(l&&(l.loading=!1,l.error=null),"no-cache"!==g)try{d.markMutationResult({mutationId:e,result:i,document:t,variables:n,errorPolicy:m,updateQueries:a,update:p})}catch(e){return void(E=new c.K({networkError:e}))}v=i}},error:function(t){l&&(l.loading=!1,l.error=t),o&&d.cache.removeOptimistic(e),d.broadcastQueries(),f(new c.K({networkError:t}))},complete:function(){if(E&&l&&(l.loading=!1,l.error=E),o&&d.cache.removeOptimistic(e),d.broadcastQueries(),E)f(E);else{"function"==typeof u&&(u=u(v));var t=[];(0,s.EI)(u)&&u.forEach((function(e){if("string"==typeof e)d.queries.forEach((function(n){var i=n.observableQuery;i&&i.queryName===e&&t.push(i.refetch())}));else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(d.query(n))}})),Promise.all(h?t:[]).then((function(){"ignore"===m&&v&&(0,s.to)(v)&&delete v.errors,r(v)}),f)}}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;if(void 0===t&&(t=this.cache),E(e.result,e.errorPolicy)){var i=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&this.queries.forEach((function(o,a){var l=o.observableQuery,c=l&&l.queryName;if(c&&S.call(r,c)){var u=r[c],d=n.queries.get(a),h=d.document,p=d.variables,f=t.diff({query:h,variables:p,returnPartialData:!0,optimistic:!1}),m=f.result;if(f.complete&&m){var g=u(m,{mutationResult:e.result,queryName:h&&(0,s.n4)(h)||void 0,queryVariables:p});g&&i.push({result:g,dataId:"ROOT_QUERY",query:h,variables:p})}}})),t.performTransaction((function(t){i.forEach((function(e){return t.write(e)}));var n=e.update;n&&n(t,e.result)}),null)}},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult((0,i.Cl)((0,i.Cl)({},t),{result:{data:r}}),e)}catch(e){}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var n=this.cache.transformDocument(e),i=(0,s.hX)(this.cache.transformForLink(n)),r=this.localState.clientQuery(n),o=i&&this.localState.serverQuery(i),a={document:n,hasClientExports:(0,s.f2)(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:r,serverQuery:o,defaultVars:(0,s.wY)((0,s.Vu)(n))},l=function(e){e&&!t.has(e)&&t.set(e,a)};l(e),l(n),l(r),l(o)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,i.Cl)((0,i.Cl)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=(0,i.Cl)((0,i.Cl)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new y(this.cache),n=new u.U({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e){var t=this;(0,r.V1)(e.query,15),(0,r.V1)("Document"===e.query.kind,16),(0,r.V1)(!e.returnPartialData,17),(0,r.V1)(!e.pollInterval,18);var n=this.generateQueryId();return this.fetchQuery(n,e).finally((function(){return t.stopQuery(n)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(){return this.cancelPendingFetches(new r.zU(19)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=d.p.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach((function(i,r){var o=i.observableQuery;if(o&&o.hasObservers()){var s=o.options.fetchPolicy;o.resetLastResults(),"cache-only"===s||!e&&"standby"===s||n.push(o.refetch()),t.getQuery(r).setDiff(null)}})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,i=e.fetchPolicy,r=e.errorPolicy,o=e.variables,a=e.context,l=void 0===a?{}:a;n=this.transform(n).document,o=this.getVariables(n,o);var u=function(e){return t.getObservableFromLink(n,l,e,!1).map((function(o){if("no-cache"!==i&&(E(o,r)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),(0,s.to)(o))throw new c.K({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var d=this.localState.addExportedVariables(n,o,l).then(u);return new s.cP((function(e){var t=null;return d.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var a,l,c=this;void 0===r&&(r=null!==(a=null==t?void 0:t.queryDeduplication)&&void 0!==a?a:this.queryDeduplication);var u=this.transform(e).serverQuery;if(u){var d=this.inFlightLinkObservables,h=this.link,p={query:u,variables:n,operationName:(0,s.n4)(u)||void 0,context:this.prepareContext((0,i.Cl)((0,i.Cl)({},t),{forceFetch:!r}))};if(t=p.context,r){var f=d.get(u)||new Map;d.set(u,f);var m=JSON.stringify(n);if(!(l=f.get(m))){var g=new s.En([(0,o.execute)(h,p)]);f.set(m,l=g),g.cleanup((function(){f.delete(m)&&f.size<1&&d.delete(u)}))}}else l=new s.En([(0,o.execute)(h,p)])}else l=new s.En([s.cP.of({data:{}})]),t=this.prepareContext(t);var v=this.transform(e).clientQuery;return v&&(l=(0,s.xb)(l,(function(e){return c.localState.runResolvers({document:v,remoteResult:e,context:t,variables:n})}))),l},e.prototype.getResultsFromLink=function(e,t,n){var i=e.lastRequestId;return(0,s.xb)(this.getObservableFromLink(e.document,n.context,n.variables),(function(r){var o=(0,s.EI)(r.errors);if(i>=e.lastRequestId){if(o&&"none"===n.errorPolicy)throw e.markError(new c.K({graphQLErrors:r.errors}));e.markResult(r,n,t),e.markReady()}var a={data:r.data,loading:!1,networkStatus:e.networkStatus||d.p.ready};return o&&"ignore"!==n.errorPolicy&&(a.errors=r.errors),a}),(function(t){var n=(0,c.M)(t)?t:new c.K({networkError:t});throw i>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var i=this;void 0===n&&(n=d.p.loading);var r=this.transform(t.query).document,o=this.getVariables(r,t.variables),a=this.getQuery(e),l=a.networkStatus,c=t.fetchPolicy,u=void 0===c?"cache-first":c,h=t.errorPolicy,p=void 0===h?"none":h,f=t.returnPartialData,m=void 0!==f&&f,g=t.notifyOnNetworkStatusChange,v=void 0!==g&&g,y=t.context,E=void 0===y?{}:y;("cache-first"===u||"cache-and-network"===u||"network-only"===u||"no-cache"===u)&&v&&"number"==typeof l&&l!==n&&(0,d.b)(n)&&("cache-first"!==u&&(u="cache-and-network"),m=!0);var S=Object.assign({},t,{query:r,variables:o,fetchPolicy:u,errorPolicy:p,returnPartialData:m,notifyOnNetworkStatusChange:v,context:E}),b=function(e){return S.variables=e,i.fetchQueryByPolicy(a,S,n)};this.fetchCancelFns.set(e,(function(e){Promise.resolve().then((function(){return O.cancel(e)}))}));var O=new s.En(this.transform(S.query).hasClientExports?this.localState.addExportedVariables(S.query,S.variables,S.context).then(b):b(S.variables));return O.cleanup((function(){i.fetchCancelFns.delete(e);var n=t.nextFetchPolicy;n&&(t.nextFetchPolicy=void 0,t.fetchPolicy="function"==typeof n?n.call(t,t.fetchPolicy||"cache-first"):n)})),O},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,o=t.query,a=t.variables,l=t.fetchPolicy,c=t.errorPolicy,u=t.returnPartialData,h=t.context;e.init({document:o,variables:a,lastRequestId:this.generateRequestId(),networkStatus:n});var p=function(){return e.getDiff(a)},f=function(t,n){void 0===n&&(n=e.networkStatus||d.p.loading);var l=t.result;var c=function(e){return s.cP.of((0,i.Cl)({data:e,loading:(0,d.b)(n),networkStatus:n},t.complete?null:{partial:!0}))};return r.transform(o).hasForcedResolvers?r.localState.runResolvers({document:o,remoteResult:{data:l},context:h,variables:a,onlyRunForcedResolvers:!0}).then((function(e){return c(e.data)})):c(l)},m=function(t){return r.getResultsFromLink(e,t,{variables:a,context:h,fetchPolicy:l,errorPolicy:c})};switch(l){default:case"cache-first":return(g=p()).complete?[f(g,e.markReady())]:u?[f(g),m(!0)]:[m(!0)];case"cache-and-network":var g;return(g=p()).complete||u?[f(g),m(!0)]:[m(!0)];case"cache-only":return[f(p(),e.markReady())];case"network-only":return[m(!0)];case"no-cache":return[m(!1)];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new y(this.cache)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,i.Cl)((0,i.Cl)({},t),{clientAwareness:this.clientAwareness})},e}();function O(e,t){return(0,s.oE)(e,t,t.variables&&{variables:(0,i.Cl)((0,i.Cl)({},e.variables),t.variables)})}var _=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,i=e.credentials,s=e.headers,l=e.cache,c=e.ssrMode,u=void 0!==c&&c,d=e.ssrForceFetchDelay,h=void 0===d?0:d,p=e.connectToDevTools,m=void 0===p?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1:p,g=e.queryDeduplication,v=void 0===g||g,y=e.defaultOptions,E=e.assumeImmutableResults,S=void 0!==E&&E,O=e.resolvers,_=e.typeDefs,T=e.fragmentMatcher,A=e.name,w=e.version,N=e.link;if(N||(N=n?new a.PR({uri:n,credentials:i,headers:s}):o.ApolloLink.empty()),!l)throw new r.zU(9);this.link=N,this.cache=l,this.disableNetworkFetches=u||h>0,this.queryDeduplication=v,this.defaultOptions=y||{},this.typeDefs=_,h&&setTimeout((function(){return t.disableNetworkFetches=!1}),h),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),m&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),this.version="3.3.11",this.localState=new f({cache:l,client:this,resolvers:O,fragmentMatcher:T}),this.queryManager=new b({cache:this.cache,link:this.link,queryDeduplication:v,ssrMode:u,clientAwareness:{name:A,version:w},localState:this.localState,assumeImmutableResults:S,onBroadcast:m?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=O(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,i.Cl)((0,i.Cl)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=O(this.defaultOptions.query,e)),(0,r.V1)("cache-and-network"!==e.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,i.Cl)((0,i.Cl)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=O(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return(0,o.execute)(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}()},78469:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var i=n(94626),r=n(16142),o=n(50453),s=n(49248),a=n(44153),l=function(){function e(e,t,n,i){this.observer=e,this.options=t,this.fetch=n,this.shouldFetch=i}return e.prototype.reobserve=function(e,t){e?this.updateOptions(e):this.updatePolling();var n=this.fetch(this.options,t);return this.concast&&this.concast.removeObserver(this.observer,!0),n.addObserver(this.observer),(this.concast=n).promise},e.prototype.updateOptions=function(e){return Object.assign(this.options,(0,a.oE)(e)),this.updatePolling(),this},e.prototype.stop=function(){this.concast&&(this.concast.removeObserver(this.observer),delete this.concast),this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),this.options.pollInterval=0,this.updatePolling())},e.prototype.updatePolling=function(){var e=this,t=this.pollingInfo,n=this.options.pollInterval;if(n){if((!t||t.interval!==n)&&((0,r.V1)(n,20),!1!==this.shouldFetch)){(t||(this.pollingInfo={})).interval=n;var i=function(){e.pollingInfo&&(e.shouldFetch&&e.shouldFetch()?e.reobserve({fetchPolicy:"network-only",nextFetchPolicy:e.options.fetchPolicy||"cache-first"},s.p.poll).then(o,o):o())},o=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(i,t.interval))};o()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)},e}(),c=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,o=t.options,l=e.call(this,(function(e){return l.onSubscribe(e)}))||this;l.observers=new Set,l.subscriptions=new Set,l.observer={next:function(e){(l.lastError||l.isDifferentFromLastResult(e))&&(l.updateLastResult(e),(0,a.wi)(l.observers,"next",e))},error:function(e){l.updateLastResult((0,i.Cl)((0,i.Cl)({},l.lastResult),{error:e,errors:e.graphQLErrors,networkStatus:s.p.error,loading:!1})),(0,a.wi)(l.observers,"error",l.lastError=e)}},l.isTornDown=!1,l.options=o,l.queryId=n.generateQueryId();var c=(0,a.Vu)(o.query);return l.queryName=c&&c.name&&c.name.value,l.queryManager=n,l.queryInfo=r,l}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var i={next:function(n){t(n),e.observers.delete(i),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){r.unsubscribe()}),0)},error:n},r=e.subscribe(i)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.lastResult,n=this.queryInfo.networkStatus||t&&t.networkStatus||s.p.ready,r=(0,i.Cl)((0,i.Cl)({},t),{loading:(0,s.b)(n),networkStatus:n});if(this.isTornDown)return r;var o=this.options.fetchPolicy,a=void 0===o?"cache-first":o;if("no-cache"===a||"network-only"===a)delete r.partial;else if(!r.data||!this.queryManager.transform(this.options.query).hasForcedResolvers){var l=this.queryInfo.getDiff();r.data=l.complete||this.options.returnPartialData?l.result:void 0,l.complete?(r.networkStatus!==s.p.loading||"cache-first"!==a&&"cache-only"!==a||(r.networkStatus=s.p.ready,r.loading=!1),delete r.partial):r.partial=!0}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e){return!(0,o.L)(this.lastResultSnapshot,e)},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t={pollInterval:0},n=this.options.fetchPolicy;return"no-cache"!==n&&"cache-and-network"!==n&&(t.fetchPolicy="network-only",t.nextFetchPolicy=n||"cache-first"),e&&!(0,o.L)(this.options.variables,e)&&(t.variables=this.options.variables=(0,i.Cl)((0,i.Cl)({},this.options.variables),e)),this.newReobserver(!1).reobserve(t,s.p.refetch)},t.prototype.fetchMore=function(e){var t=this,n=(0,i.Cl)((0,i.Cl)({},e.query?e:(0,i.Cl)((0,i.Cl)((0,i.Cl)({},this.options),e),{variables:(0,i.Cl)((0,i.Cl)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=s.p.fetchMore,this.observe()),this.queryManager.fetchQuery(r,n,s.p.fetchMore).then((function(i){var r=i.data,o=e.updateQuery;return o?t.updateQuery((function(e){return o(e,{fetchMoreResult:r,variables:n.variables})})):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:r}),i})).finally((function(){t.queryManager.stopQuery(r),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var i=e.updateQuery;i&&t.updateQuery((function(e,t){var r=t.variables;return i(e,{subscriptionData:n,variables:r})}))},error:function(t){e.onError&&e.onError(t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){if((0,o.L)(this.variables,e))return this.observers.size?this.result():Promise.resolve();if(this.options.variables=e,!this.observers.size)return Promise.resolve();var t=this.options.fetchPolicy,n=void 0===t?"cache-first":t,i={fetchPolicy:n,variables:e};return"cache-first"!==n&&"no-cache"!==n&&"network-only"!==n&&(i.fetchPolicy="cache-and-network",i.nextFetchPolicy=n),this.reobserve(i,s.p.setVariables)},t.prototype.updateQuery=function(e){var t,n=this.queryManager,i=e(n.cache.diff({query:this.options.query,variables:this.variables,previousResult:null===(t=this.lastResult)||void 0===t?void 0:t.data,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});i&&(n.cache.writeQuery({query:this.options.query,data:i,variables:this.variables}),n.broadcastQueries())},t.prototype.startPolling=function(e){this.getReobserver().updateOptions({pollInterval:e})},t.prototype.stopPolling=function(){this.reobserver&&this.reobserver.updateOptions({pollInterval:0})},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:(0,a.mg)(e),(0,a.EI)(e.errors)||delete this.lastError,t},t.prototype.onSubscribe=function(e){var t=this;if(e===this.observer)return function(){};try{var n=e._subscription._observer;n&&!n.error&&(n.error=u)}catch(e){}var i=!this.observers.size;return this.observers.add(e),this.lastError?e.error&&e.error(this.lastError):this.lastResult&&e.next&&e.next(this.lastResult),i&&this.reobserve().catch((function(e){})),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.getReobserver=function(){return this.reobserver||(this.reobserver=this.newReobserver(!0))},t.prototype.newReobserver=function(e){var t=this,n=this.queryManager,r=this.queryId;return n.setObservableQuery(this),new l(this.observer,e?this.options:(0,i.Cl)({},this.options),(function(e,i){return n.setObservableQuery(t),n.fetchQueryObservable(r,e,i)}),!n.ssrMode&&function(){return!(0,s.b)(t.queryInfo.networkStatus)})},t.prototype.reobserve=function(e,t){return this.isTornDown=!1,this.getReobserver().reobserve(e,t)},t.prototype.observe=function(){this.observer.next(this.getCurrentResult(!1))},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.reobserver&&(this.reobserver.stop(),delete this.reobserver),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(a.cP);function u(e){}(0,a.rm)(c)},80788:(e,t,n)=>{"use strict";n.d(t,{ApolloClient:()=>i.R,ApolloError:()=>o.K,ApolloLink:()=>l.ApolloLink,InMemoryCache:()=>s.InMemoryCache,createHttpLink:()=>c.$9,gql:()=>d.Ay});var i=n(61916),r=(n(78469),n(49248),n(2609));n.o(r,"ApolloLink")&&n.d(t,{ApolloLink:function(){return r.ApolloLink}}),n.o(r,"createHttpLink")&&n.d(t,{createHttpLink:function(){return r.createHttpLink}});var o=n(57684),s=n(3898),a=n(74105);n.o(a,"ApolloLink")&&n.d(t,{ApolloLink:function(){return a.ApolloLink}}),n.o(a,"createHttpLink")&&n.d(t,{createHttpLink:function(){return a.createHttpLink}});var l=n(25119);n.o(l,"createHttpLink")&&n.d(t,{createHttpLink:function(){return l.createHttpLink}});var c=n(33601),u=(n(54949),n(44153),n(16142)),d=n(62678);(0,u.Q9)("log");d.Ay.resetCaches,d.Ay.disableFragmentWarnings,d.Ay.enableExperimentalFragmentVariables,d.Ay.disableExperimentalFragmentVariables},49248:(e,t,n)=>{"use strict";var i;function r(e){return!!e&&e<7}n.d(t,{b:()=>r,p:()=>i}),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(i||(i={}))},2609:()=>{},57684:(e,t,n)=>{"use strict";n.d(t,{K:()=>s,M:()=>o});var i=n(94626),r=n(44153);function o(e){return e.hasOwnProperty("graphQLErrors")}var s=function(e){function t(n){var i,o,s=n.graphQLErrors,a=n.networkError,l=n.errorMessage,c=n.extraInfo,u=e.call(this,l)||this;return u.graphQLErrors=s||[],u.networkError=a||null,u.message=l||(i=u,o="",(0,r.EI)(i.graphQLErrors)&&i.graphQLErrors.forEach((function(e){var t=e?e.message:"Error message not found.";o+=t+"\n"})),i.networkError&&(o+=i.networkError.message+"\n"),o=o.replace(/\n$/,"")),u.extraInfo=c,u.__proto__=t.prototype,u}return(0,i.C6)(t,e),t}(Error)},34060:(e,t,n)=>{"use strict";n.d(t,{C:()=>u});var i=n(94626),r=n(16142),o=n(44153),s=n(54949);function a(e,t){return t?t(e):o.cP.of()}function l(e){return"function"==typeof e?new u(e):e}function c(e){return e.request.length<=1}!function(e){function t(t,n){var i=e.call(this,t)||this;return i.link=n,i}(0,i.C6)(t,e)}(Error);var u=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return o.cP.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(l).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,i){var r=l(n),s=l(i||new e(a));return c(r)&&c(s)?new e((function(e){return t(e)?r.request(e)||o.cP.of():s.request(e)||o.cP.of()})):new e((function(e,n){return t(e)?r.request(e,n)||o.cP.of():s.request(e,n)||o.cP.of()}))},e.execute=function(e,t){return e.request((0,s.ki)(t.context,(0,s.Av)((0,s.KE)(t))))||o.cP.of()},e.concat=function(t,n){var i=l(t);if(c(i))return i;var r=l(n);return c(r)?new e((function(e){return i.request(e,(function(e){return r.request(e)||o.cP.of()}))||o.cP.of()})):new e((function(e,t){return i.request(e,(function(e){return r.request(e,t)||o.cP.of()}))||o.cP.of()}))},e.prototype.split=function(t,n,i){return this.concat(e.split(t,n,i||new e(a)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw new r.zU(21)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}()},4755:(e,t,n)=>{"use strict";n(34060).C.concat},77446:(e,t,n)=>{"use strict";n(34060).C.empty},38824:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var i=n(34060).C.execute},42235:(e,t,n)=>{"use strict";n(34060).C.from},25119:(e,t,n)=>{"use strict";n.d(t,{ApolloLink:()=>r.C,execute:()=>i.g});n(77446),n(42235),n(76843),n(4755);var i=n(38824),r=n(34060),o=n(50934);n.o(o,"createHttpLink")&&n.d(t,{createHttpLink:function(){return o.createHttpLink}})},76843:(e,t,n)=>{"use strict";n(34060).C.split},50934:()=>{},33601:(e,t,n)=>{"use strict";n.d(t,{PR:()=>f,$9:()=>p});var i=n(54949),r=Object.prototype.hasOwnProperty;var o=n(16142),s=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var i=new o.zU(23);throw i.parseError=e,i}return n},a=n(94626),l=n(11751),c={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},u=n(9111),d=n(25119),h=n(44153);var p=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,p=e.fetch,f=e.includeExtensions,m=e.useGETForQueries,g=e.includeUnusedVariables,v=void 0!==g&&g,y=(0,a.Tt)(e,["uri","fetch","includeExtensions","useGETForQueries","includeUnusedVariables"]);!function(e){if(!e&&"undefined"==typeof fetch)throw new o.zU(22)}(p),p||(p=fetch);var E={http:{includeExtensions:f},options:y.fetchOptions,credentials:y.credentials,headers:y.headers};return new d.ApolloLink((function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"==typeof t?t(e):t||"/graphql")}(e,n),o=e.getContext(),d={};if(o.clientAwareness){var f=o.clientAwareness,g=f.name,y=f.version;g&&(d["apollographql-client-name"]=g),y&&(d["apollographql-client-version"]=y)}var S,b=(0,a.Cl)((0,a.Cl)({},d),o.headers),O={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:b},_=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=(0,a.Cl)((0,a.Cl)({},t.options),{headers:t.headers,credentials:t.credentials}),o=t.http||{};n.forEach((function(e){r=(0,a.Cl)((0,a.Cl)((0,a.Cl)({},r),e.options),{headers:(0,a.Cl)((0,a.Cl)({},r.headers),e.headers)}),e.credentials&&(r.credentials=e.credentials),o=(0,a.Cl)((0,a.Cl)({},o),e.http)}));var s=e.operationName,c=e.extensions,u=e.variables,d=e.query,h={operationName:s,variables:u};return o.includeExtensions&&(h.extensions=c),o.includeQuery&&(h.query=(0,l.y)(d)),{options:r,body:h}}(e,c,E,O),T=_.options,A=_.body;if(A.variables&&!v){var w=new Set(Object.keys(A.variables));(0,u.YR)(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&w.delete(e.name.value)}}),w.size&&(A.variables=(0,a.Cl)({},A.variables),w.forEach((function(e){delete A.variables[e]})))}if(!T.signal){var N=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),I=N.controller,R=N.signal;(S=I)&&(T.signal=R)}if(m&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(T.method="GET"),"GET"===T.method){var k=function(e,t){var n=[],i=function(e,t){n.push(e+"="+encodeURIComponent(t))};if("query"in t&&i("query",t.query),t.operationName&&i("operationName",t.operationName),t.variables){var r=void 0;try{r=s(t.variables)}catch(e){return{parseError:e}}i("variables",r)}if(t.extensions){var o=void 0;try{o=s(t.extensions)}catch(e){return{parseError:e}}i("extensions",o)}var a="",l=e,c=e.indexOf("#");-1!==c&&(a=e.substr(c),l=e.substr(0,c));var u=-1===l.indexOf("?")?"?":"&";return{newURI:l+u+n.join("&")+a}}(t,A),L=k.newURI,M=k.parseError;if(M)return(0,i.NQ)(M);t=L}else try{T.body=s(A)}catch(M){return(0,i.NQ)(M)}return new h.cP((function(n){var o;return p(t,T).then((function(t){return e.setContext({response:t}),t})).then((o=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(i){var n=i;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&(0,i.As)(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||r.call(t,"data")||r.call(t,"errors")||(0,i.As)(e,t,"Server response was missing for query '"+(Array.isArray(o)?o.map((function(e){return e.operationName})):o.operationName)+"'."),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){S&&S.abort()}}))}))},f=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,p(t).request)||this;return n.options=t,n}return(0,a.C6)(t,e),t}(d.ApolloLink)},54949:(e,t,n)=>{"use strict";n.d(t,{ki:()=>c,NQ:()=>r,As:()=>s,Av:()=>u,KE:()=>a});var i=n(44153);function r(e){return new i.cP((function(t){t.error(e)}))}var o=n(16142);var s=function(e,t,n){var i=new Error(n);throw i.name="ServerError",i.response=e,i.statusCode=e.status,i.result=t,i};function a(e){for(var t=["query","operationName","variables","extensions","context"],n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(t.indexOf(r)<0)throw new o.zU(26)}return e}var l=n(94626);function c(e,t){var n=(0,l.Cl)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"==typeof e?(0,l.Cl)((0,l.Cl)({},n),e(n)):(0,l.Cl)((0,l.Cl)({},n),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,l.Cl)({},n)}}),t}function u(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?(0,i.n4)(t.query)||void 0:""),t}},62678:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>p});var i=n(94626),r=n(70556),o=new Map,s=new Map,a=!0,l=!1;function c(e){return e.replace(/[\s,]+/g," ").trim()}function u(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var i=e.name.value,r=c((l=e.loc).source.body.substring(l.start,l.end)),o=s.get(i);o&&!o.has(r)?a&&console.warn("Warning: fragment with name "+i+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||s.set(i,o=new Set),o.add(r),t.has(r)||(t.add(r),n.push(e))}else n.push(e);var l})),(0,i.Cl)((0,i.Cl)({},e),{definitions:n})}function d(e){var t=c(e);if(!o.has(t)){var n=(0,r.qg)(e,{experimentalFragmentVariables:l});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");o.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var i=e[n];i&&"object"==typeof i&&t.add(i)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(u(n)))}return o.get(t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var i=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?i+=t.loc.source.body:i+=t,i+=e[n+1]})),d(i)}const p=Object.assign(h,{gql:h,default:h,resetCaches:function(){o.clear(),s.clear()},disableFragmentWarnings:function(){a=!1},enableExperimentalFragmentVariables:function(){l=!0},disableExperimentalFragmentVariables:function(){l=!1}})},94626:(e,t,n)=>{"use strict";n.d(t,{C6:()=>r,Cl:()=>o,Tt:()=>s,YH:()=>l,aN:()=>c,sH:()=>a});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function a(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function l(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}},44153:(e,t,n)=>{"use strict";n.d(t,{En:()=>se,ZI:()=>q,cP:()=>X(),XY:()=>j,MB:()=>S,xb:()=>ie,zc:()=>B,et:()=>ce,mg:()=>J,oE:()=>ue,JG:()=>u,rm:()=>re,wY:()=>L,zK:()=>I,HQ:()=>d,ct:()=>c,Vn:()=>k,Vu:()=>w,n4:()=>N,AT:()=>R,o5:()=>E,D$:()=>O,to:()=>le,f2:()=>a,d8:()=>s,dt:()=>_,kd:()=>T,EI:()=>ae,A_:()=>m,wi:()=>ne,WU:()=>f,GH:()=>te,D9:()=>z,IM:()=>$,er:()=>V,hX:()=>H,ue:()=>b,MS:()=>o,Ii:()=>v});var i=n(84705),r=n(16142);function o(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments;e.name.value;(0,r.V1)(n&&1===n.length,39);var i=n[0];(0,r.V1)(i.name&&"if"===i.name.value,40);var o=i.value;(0,r.V1)(o&&("Variable"===o.kind||"BooleanValue"===o.kind),41),t.push({directive:e,ifArgument:i})}}));return t}(n).every((function(e){var n=e.directive,i=e.ifArgument,o=!1;return"Variable"===i.value.kind?(o=t&&t[i.value.name.value],(0,r.V1)(void 0!==o,38)):o=i.value.value,"skip"===n.name.value?!o:o}))}function s(e,t){return function(e){var t=[];return(0,i.YR)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function a(e){return e&&s(["client"],e)&&s(["export"],e)}var l=n(94626);function c(e,t){var n=t,i=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw new r.zU(42);"FragmentDefinition"===e.kind&&i.push(e)})),void 0===n&&((0,r.V1)(1===i.length,43),n=i[0].name.value),(0,l.Cl)((0,l.Cl)({},e),{definitions:(0,l.aN)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions)})}function u(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function d(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return(0,r.V1)(n,44),n;default:return null}}var h=n(72492),p=n.n(h);function f(e){return{__ref:String(e)}}function m(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function g(e,t,n,i){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map((function(e){return g(o,e.name,e.value,i)})),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var s=(i||{})[n.name.value];e[t.value]=s}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return g(n,t,e,i),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new r.zU(53);e[t.value]=null}}function v(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(i){var r=i.name,o=i.value;return g(n[e.name.value],r,o,t)}))})));var i=null;return e.arguments&&e.arguments.length&&(i={},e.arguments.forEach((function(e){var n=e.name,r=e.value;return g(i,n,r,t)}))),E(e.name.value,i,n)}var y=["connection","include","skip","client","rest","export"];function E(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var i=n.connection.filter?n.connection.filter:[];i.sort();var r={};return i.forEach((function(e){r[e]=t[e]})),n.connection.key+"("+JSON.stringify(r)+")"}return n.connection.key}var o=e;if(t){var s=p()(t);o+="("+s+")"}return n&&Object.keys(n).forEach((function(e){-1===y.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@"+e+"("+JSON.stringify(n[e])+")":o+="@"+e)})),o}function S(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var i=e.name,r=e.value;return g(n,i,r,t)})),n}return null}function b(e){return e.alias?e.alias.value:e.name.value}function O(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var i=0,r=t.selections;i<r.length;i++){var o=r[i];if(_(o)){if("__typename"===o.name.value)return e[b(o)]}else{var s=O(e,d(o,n).selectionSet,n);if("string"==typeof s)return s}}}function _(e){return"Field"===e.kind}function T(e){return"InlineFragment"===e.kind}function A(e){(0,r.V1)(e&&"Document"===e.kind,45);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw new r.zU(46);return e}));return(0,r.V1)(t.length<=1,47),e}function w(e){return A(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function N(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function I(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function R(e){var t=w(e);return(0,r.V1)(t&&"query"===t.operation,48),t}function k(e){var t;A(e);for(var n=0,i=e.definitions;n<i.length;n++){var o=i[n];if("OperationDefinition"===o.kind){var s=o.operation;if("query"===s||"mutation"===s||"subscription"===s)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw new r.zU(52)}function L(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&g(t,e.variable.name,e.defaultValue)})),t}function M(e,t,n){var i=0;return e.forEach((function(n,r){t.call(this,n,r,e)&&(e[i++]=n)}),n),e.length=i,e}var D={kind:"Field",name:{kind:"Name",value:"__typename"}};function P(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&P(t[e.name.value],t)}))}function C(e){return P(w(e)||function(e){(0,r.V1)("Document"===e.kind,49),(0,r.V1)(e.definitions.length<=1,50);var t=e.definitions[0];return(0,r.V1)("FragmentDefinition"===t.kind,51),t}(e),u(I(e)))?null:e}function x(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function U(e,t){var n=Object.create(null),r=[],o=Object.create(null),s=[],a=C((0,i.YR)(t,{Variable:{enter:function(e,t,i){"VariableDefinition"!==i.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(x(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&G(t.selectionSet).forEach((function(e){s.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){o[e.name.value]=!0}},Directive:{enter:function(t){if(x(e)(t))return null}}}));return a&&M(r,(function(e){return!!e.name&&!n[e.name]})).length&&(a=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return C((0,i.YR)(t,{OperationDefinition:{enter:function(t){return(0,l.Cl)((0,l.Cl)({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var i=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(i+=1)})),1===i)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,a)),a&&M(s,(function(e){return!!e.name&&!o[e.name]})).length&&(a=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return C((0,i.YR)(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(s,a)),a}function j(e){return(0,i.YR)(A(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var i=e.selections;if(i)if(!i.some((function(e){return _(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var r=n;if(!(_(r)&&r.directives&&r.directives.some((function(e){return"export"===e.name.value}))))return(0,l.Cl)((0,l.Cl)({},e),{selections:(0,l.aN)(i,[D])})}}}}})}j.added=function(e){return e===D};var F={test:function(e){var t="connection"===e.name.value;return t&&(!e.arguments||e.arguments.some((function(e){return"key"===e.name.value}))),t}};function H(e){return U([F],A(e))}function G(e){var t=[];return e.selections.forEach((function(e){(_(e)||T(e))&&e.selectionSet?G(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function B(e){return"query"===k(e).operation?e:(0,i.YR)(e,{OperationDefinition:{enter:function(e){return(0,l.Cl)((0,l.Cl)({},e),{operation:"query"})}}})}function V(e){A(e);var t=U([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=(0,i.YR)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return _(e)&&"__typename"===e.name.value})))return null}}})),t}var W=Object.prototype.hasOwnProperty;function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $(e)}function $(e){var t=e[0]||{},n=e.length;if(n>1)for(var i=new q,r=1;r<n;++r)t=i.merge(t,e[r]);return t}function K(e){return null!==e&&"object"==typeof e}var Y=function(e,t,n){return this.merge(e[n],t[n])},q=function(){function e(e){void 0===e&&(e=Y),this.reconciler=e,this.isObject=K,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return K(t)&&K(e)?(Object.keys(t).forEach((function(r){if(W.call(e,r)){var o=e[r];if(t[r]!==o){var s=n.reconciler.apply(n,(0,l.aN)([e,t,r],i));s!==o&&((e=n.shallowCopyForMerge(e))[r]=s)}}else(e=n.shallowCopyForMerge(e))[r]=t[r]})),e):t},e.prototype.shallowCopyForMerge=function(e){return K(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):(0,l.Cl)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}();var Q=n(16064),X=n.n(Q);n(9423);X().prototype["@@observable"]=function(){return this};var Z=Object.prototype.toString;function J(e){return ee(e)}function ee(e,t){switch(Z.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,i){n[i]=ee(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var i=Object.create(Object.getPrototypeOf(e));return t.set(e,i),Object.keys(e).forEach((function(n){i[n]=ee(e[n],t)})),i;default:return e}}function te(e){return e}function ne(e,t,n){var i=[];e.forEach((function(e){return e[t]&&i.push(e)})),i.forEach((function(e){return e[t](n)}))}function ie(e,t,n){return new(X())((function(i){var r=i.next,o=i.error,s=i.complete,a=0,l=!1;function c(e,t){return e?function(t){++a,new Promise((function(n){return n(e(t))})).then((function(e){--a,r&&r.call(i,e),l&&u.complete()}),(function(e){--a,o&&o.call(i,e)}))}:function(e){return t&&t.call(i,e)}}var u={next:c(t,r),error:c(n,o),complete:function(){l=!0,a||s&&s.call(i)}},d=e.subscribe(u);return function(){return d.unsubscribe()}}))}function re(e){function t(t){Object.defineProperty(e,t,{value:X()})}return"function"==typeof Symbol&&Symbol.species&&t(Symbol.species),t("@@species"),e}function oe(e){return e&&"function"==typeof e.then}var se=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],ne(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&Promise.resolve().then((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),ne(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?oe(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),ne(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new(X())(t)]),oe(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return(0,l.C6)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,n=!1,i=function(){n||(n=!0,t.observers.delete(r),e())},r={next:i,error:i,complete:i},o=this.addCount;this.addObserver(r),this.addCount=o},t}(X());function ae(e){return Array.isArray(e)&&e.length>0}function le(e){return e.errors&&e.errors.length>0||!1}re(se);var ce="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product);function ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var i=e[t];void 0!==i&&(n[t]=i)}))})),n}},65380:e=>{"use strict";function t(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}e.exports=t,t.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var r=this.sampleCurveX(n)-e;if(Math.abs(r)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=r/o}var s=0,a=1;for(n=e,i=0;i<20&&(r=this.sampleCurveX(n),!(Math.abs(r-e)<t));i++)e>r?s=n:a=n,n=.5*(a-s)+s;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}}},50453:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var i=Object.prototype,r=i.toString,o=i.hasOwnProperty,s=Function.prototype.toString,a=new Map;function l(e,t){try{return c(e,t)}finally{a.clear()}}function c(e,t){if(e===t)return!0;var n,i,a,l=r.call(e);if(l!==r.call(t))return!1;switch(l){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(p(e,t))return!0;var d=u(e),f=u(t),m=d.length;if(m!==f.length)return!1;for(var g=0;g<m;++g)if(!o.call(t,d[g]))return!1;for(g=0;g<m;++g){var v=d[g];if(!c(e[v],t[v]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(p(e,t))return!0;for(var y=e.entries(),E="[object Map]"===l;;){var S=y.next();if(S.done)break;var b=S.value,O=b[0],_=b[1];if(!t.has(O))return!1;if(E&&!c(_,t.get(O)))return!1}return!0;case"[object Function]":var T=s.call(e);return T===s.call(t)&&(i=h,!((a=(n=T).length-i.length)>=0&&n.indexOf(i,a)===a))}return!1}function u(e){return Object.keys(e).filter(d,e)}function d(e){return void 0!==this[e]}var h="{ [native code] }";function p(e,t){var n=a.get(e);if(n){if(n.has(t))return!0}else a.set(e,n=new Set);return n.add(t),!1}},14018:(e,t)=>{"use strict";function n(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:n(o,s),time:n(l,c),"date-time":n((function(e){const t=e.split(u);return 2===t.length&&o(t[0])&&l(t[1],!0)}),d),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return h.test(e)&&p.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(y.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return f.lastIndex=0,f.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=g&&e>=m}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:v},double:{type:"number",validate:v},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:n(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,r=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(e){const t=i.exec(e);if(!t)return!1;const n=+t[1],o=+t[2],s=+t[3];return o>=1&&o<=12&&s>=1&&s<=(2===o&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:r[o])}function s(e,t){if(e&&t)return e>t?1:e<t?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(e,t){const n=a.exec(e);if(!n)return!1;const i=+n[1],r=+n[2],o=+n[3],s=n[5];return(i<=23&&r<=59&&o<=59||23===i&&59===r&&60===o)&&(!t||""!==s)}function c(e,t){if(!e||!t)return;const n=a.exec(e),i=a.exec(t);return n&&i?(e=n[1]+n[2]+n[3]+(n[4]||""))>(t=i[1]+i[2]+i[3]+(i[4]||""))?1:e<t?-1:0:void 0}const u=/t|\s/i;function d(e,t){if(!e||!t)return;const[n,i]=e.split(u),[r,o]=t.split(u),a=s(n,r);return void 0!==a?a||c(i,o):void 0}const h=/\/|:/,p=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const f=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;const m=-(2**31),g=2**31-1;function v(){return!0}const y=/[^\\]\\Z/},68182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(14018),r=n(26461),o=n(99029),s=new o.Name("fullFormats"),a=new o.Name("fastFormats"),l=(e,t={keywords:!0})=>{if(Array.isArray(t))return c(e,t,i.fullFormats,s),e;const[n,o]="fast"===t.mode?[i.fastFormats,a]:[i.fullFormats,s];return c(e,t.formats||i.formatNames,n,o),t.keywords&&r.default(e),e};function c(e,t,n,i){var r,s;null!==(r=(s=e.opts.code).formats)&&void 0!==r||(s.formats=o._`require("ajv-formats/dist/formats").${i}`);for(const i of t)e.addFormat(i,n[i])}l.get=(e,t="full")=>{const n=("fast"===t?i.fastFormats:i.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n},e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},26461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const i=n(63282),r=n(99029),o=r.operators,s={formatMaximum:{okStr:"<=",ok:o.LTE,fail:o.GT},formatMinimum:{okStr:">=",ok:o.GTE,fail:o.LT},formatExclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},formatExclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},a={message:({keyword:e,schemaCode:t})=>r.str`should be ${s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${s[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(e){const{gen:t,data:n,schemaCode:o,keyword:a,it:l}=e,{opts:c,self:u}=l;if(!c.validateFormats)return;const d=new i.KeywordCxt(l,u.RULES.all.format.definition,"format");function h(e){return r._`${e}.compare(${n}, ${o}) ${s[a].fail} 0`}d.$data?function(){const n=t.scopeValue("formats",{ref:u.formats,code:c.code.formats}),i=t.const("fmt",r._`${n}[${d.schemaCode}]`);e.fail$data(r.or(r._`typeof ${i} != "object"`,r._`${i} instanceof RegExp`,r._`typeof ${i}.compare != "function"`,h(i)))}():function(){const n=d.schema,i=u.formats[n];if(!i||!0===i)return;if("object"!=typeof i||i instanceof RegExp||"function"!=typeof i.compare)throw new Error(`"${a}": format "${n}" does not define "compare" function`);const o=t.scopeValue("formats",{key:n,ref:i,code:c.code.formats?r._`${c.code.formats}${r.getProperty(n)}`:void 0});e.fail$data(h(o))}()},dependencies:["format"]};t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},63282:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const i=n(4042),r=n(86144),o=n(36653),s=n(72079),a=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends i.default{_addVocabularies(){super._addVocabularies(),r.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=n(62586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=n(99029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=n(13558);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var p=n(34551);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})},41520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class i extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=i;class r extends n{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof i&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function o(e,...t){const n=[e[0]];let i=0;for(;i<t.length;)l(n,t[i]),n.push(e[++i]);return new r(n)}t._Code=r,t.nil=new r(""),t._=o;const s=new r("+");function a(e,...t){const n=[u(e[0])];let i=0;for(;i<t.length;)n.push(s),l(n,t[i]),n.push(s,u(e[++i]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const n=c(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new r(n)}function l(e,t){var n;t instanceof r?e.push(...t._items):t instanceof i?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:u(Array.isArray(n)?n.join(","):n))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof i||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof i?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new r(u(e))},t.safeStringify=u,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new r(`.${e}`):o`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new r(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new r(e.toString())}},99029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const i=n(41520),r=n(57845);var o=n(41520);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var s=n(57845);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new i._Code(">"),GTE:new i._Code(">="),LT:new i._Code("<"),LTE:new i._Code("<="),EQ:new i._Code("==="),NEQ:new i._Code("!=="),NOT:new i._Code("!"),OR:new i._Code("||"),AND:new i._Code("&&"),ADD:new i._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?r.varKinds.var:this.varKind,i=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=L(this.rhs,e,t)),this}get names(){return this.rhs instanceof i._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof i.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=L(this.rhs,e,t),this}get names(){return k(this.lhs instanceof i.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,n,i){super(e,n,i),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class p extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=L(this.code,e,t),this}get names(){return this.code instanceof i._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let i=n.length;for(;i--;){const r=n[i];r.optimizeNames(e,t)||(M(e,r.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>R(e,t.names)),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class v extends m{}class y extends g{}y.kind="else";class E extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new y(e):e}return t?!1===e?t instanceof E?t:t.nodes:this.nodes.length?this:new E(D(e),t instanceof E?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=L(this.condition,e,t),this}get names(){const e=super.names;return k(e,this.condition),this.else&&R(e,this.else.names),e}}E.kind="if";class S extends g{}S.kind="for";class b extends S{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=L(this.iteration,e,t),this}get names(){return R(super.names,this.iteration.names)}}class O extends S{constructor(e,t,n,i){super(),this.varKind=e,this.name=t,this.from=n,this.to=i}render(e){const t=e.es5?r.varKinds.var:this.varKind,{name:n,from:i,to:o}=this;return`for(${t} ${n}=${i}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){const e=k(super.names,this.from);return k(e,this.to)}}class _ extends S{constructor(e,t,n,i){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=L(this.iterable,e,t),this}get names(){return R(super.names,this.iterable.names)}}class T extends g{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}T.kind="func";class A extends m{render(e){return"return "+super.render(e)}}A.kind="return";class w extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,i;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(i=this.finally)||void 0===i||i.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&R(e,this.catch.names),this.finally&&R(e,this.finally.names),e}}class N extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}N.kind="catch";class I extends g{render(e){return"finally"+super.render(e)}}I.kind="finally";function R(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function k(e,t){return t instanceof i._CodeOrName?R(e,t.names):e}function L(e,t,n){return e instanceof i.Name?o(e):(r=e)instanceof i._Code&&r._items.some((e=>e instanceof i.Name&&1===t[e.str]&&void 0!==n[e.str]))?new i._Code(e._items.reduce(((e,t)=>(t instanceof i.Name&&(t=o(t)),t instanceof i._Code?e.push(...t._items):e.push(t),e)),[])):e;var r;function o(e){const i=n[e.str];return void 0===i||1!==t[e.str]?e:(delete t[e.str],i)}}function M(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function D(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:i._`!${U(e)}`}t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new r.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,i){const r=this._scope.toName(t);return void 0!==n&&i&&(this._constants[r.str]=n),this._leafNode(new l(e,r,n)),r}const(e,t,n){return this._def(r.varKinds.const,e,t,n)}let(e,t,n){return this._def(r.varKinds.let,e,t,n)}var(e,t,n){return this._def(r.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new c(e,t,n))}add(e,n){return this._leafNode(new u(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==i.nil&&this._leafNode(new f(e)),this}object(...e){const t=["{"];for(const[n,r]of e)t.length>1&&t.push(","),t.push(n),(n!==r||this.opts.es5)&&(t.push(":"),(0,i.addCodeArg)(t,r));return t.push("}"),new i._Code(t)}if(e,t,n){if(this._blockNode(new E(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new E(e))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(E,y)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new b(e),t)}forRange(e,t,n,i,o=(this.opts.es5?r.varKinds.var:r.varKinds.let)){const s=this._scope.toName(e);return this._for(new O(o,s,t,n),(()=>i(s)))}forOf(e,t,n,o=r.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof i.Name?t:this.var("_arr",t);return this.forRange("_i",0,i._`${e}.length`,(t=>{this.var(s,i._`${e}[${t}]`),n(s)}))}return this._for(new _("of",o,s,t),(()=>n(s)))}forIn(e,t,n,o=(this.opts.es5?r.varKinds.var:r.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,i._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new _("in",o,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(S)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new h(e))}return(e){const t=new A;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(A)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const i=new w;if(this._blockNode(i),this.code(e),t){const e=this.name("e");this._currNode=i.catch=new N(e),t(e)}return n&&(this._currNode=i.finally=new I,this.code(n)),this._endBlockNode(N,I)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=i.nil,n,r){return this._blockNode(new T(e,t,n)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof E))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=D;const P=x(t.operators.AND);t.and=function(...e){return e.reduce(P)};const C=x(t.operators.OR);function x(e){return(t,n)=>t===i.nil?n:n===i.nil?t:i._`${U(t)} ${e} ${U(n)}`}function U(e){return e instanceof i.Name?e:i._`(${e})`}t.or=function(...e){return e.reduce(C)}},57845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const i=n(41520);class r extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(o=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new i.Name("const"),let:new i.Name("let"),var:new i.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof i.Name?e:this.name(e)}name(e){return new i.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends i.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=i._`.${new i.Name(t)}[${n}]`}}t.ValueScopeName=a;const l=i._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:i.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const i=this.toName(e),{prefix:r}=i,o=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[r];if(s){const e=s.get(o);if(e)return e}else s=this._values[r]=new Map;s.set(o,i);const a=this._scope[r]||(this._scope[r]=[]),l=a.length;return a[l]=t.ref,i.setValue(t,{property:r,itemIndex:l}),i}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return i._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,s={},a){let l=i.nil;for(const c in e){const u=e[c];if(!u)continue;const d=s[c]=s[c]||new Map;u.forEach((e=>{if(d.has(e))return;d.set(e,o.Started);let s=n(e);if(s){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;l=i._`${l}${n} ${e} = ${s};${this.opts._n}`}else{if(!(s=null==a?void 0:a(e)))throw new r(e);l=i._`${l}${s}${this.opts._n}`}d.set(e,o.Completed)}))}return l}}},48708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const i=n(99029),r=n(94227),o=n(42023);function s(e,t){const n=e.const("err",t);e.if(i._`${o.default.vErrors} === null`,(()=>e.assign(o.default.vErrors,i._`[${n}]`)),i._`${o.default.vErrors}.push(${n})`),e.code(i._`${o.default.errors}++`)}function a(e,t){const{gen:n,validateName:r,schemaEnv:o}=e;o.$async?n.throw(i._`new ${e.ValidationError}(${t})`):(n.assign(i._`${r}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>i.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?i.str`"${e}" keyword must be ${t} ($data)`:i.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,r,o){const{it:l}=e,{gen:u,compositeRule:d,allErrors:h}=l,p=c(e,n,r);(null!=o?o:d||h)?s(u,p):a(l,i._`[${p}]`)},t.reportExtraError=function(e,n=t.keywordError,i){const{it:r}=e,{gen:l,compositeRule:u,allErrors:d}=r;s(l,c(e,n,i)),u||d||a(r,o.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(o.default.errors,t),e.if(i._`${o.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(i._`${o.default.vErrors}.length`,t)),(()=>e.assign(o.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:r,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",s,o.default.errors,(s=>{e.const(l,i._`${o.default.vErrors}[${s}]`),e.if(i._`${l}.instancePath === undefined`,(()=>e.assign(i._`${l}.instancePath`,(0,i.strConcat)(o.default.instancePath,a.errorPath)))),e.assign(i._`${l}.schemaPath`,i.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(i._`${l}.schema`,n),e.assign(i._`${l}.data`,r))}))};const l={keyword:new i.Name("keyword"),schemaPath:new i.Name("schemaPath"),params:new i.Name("params"),propertyName:new i.Name("propertyName"),message:new i.Name("message"),schema:new i.Name("schema"),parentSchema:new i.Name("parentSchema")};function c(e,t,n){const{createErrors:r}=e.it;return!1===r?i._`{}`:function(e,t,n={}){const{gen:r,it:s}=e,a=[u(s,n),d(e,n)];return function(e,{params:t,message:n},r){const{keyword:s,data:a,schemaValue:c,it:u}=e,{opts:d,propertyName:h,topSchemaRef:p,schemaPath:f}=u;r.push([l.keyword,s],[l.params,"function"==typeof t?t(e):t||i._`{}`]),d.messages&&r.push([l.message,"function"==typeof n?n(e):n]);d.verbose&&r.push([l.schema,c],[l.parentSchema,i._`${p}${f}`],[o.default.data,a]);h&&r.push([l.propertyName,h])}(e,t,a),r.object(...a)}(e,t,n)}function u({errorPath:e},{instancePath:t}){const n=t?i.str`${e}${(0,r.getErrorPath)(t,r.Type.Str)}`:e;return[o.default.instancePath,(0,i.strConcat)(o.default.instancePath,n)]}function d({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:o}){let s=o?t:i.str`${t}/${e}`;return n&&(s=i.str`${s}${(0,r.getErrorPath)(n,r.Type.Str)}`),[l.schemaPath,s]}},73835:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const i=n(99029),r=n(13558),o=n(42023),s=n(66939),a=n(94227),l=n(62586);class c{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function u(e){const t=h.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:c}=this.opts.code,{ownProperties:u}=this.opts,d=new i.CodeGen(this.scope,{es5:a,lines:c,ownProperties:u});let p;e.$async&&(p=d.scopeValue("Error",{ref:r.default,code:i._`require("ajv/dist/runtime/validation_error").default`}));const f=d.scopeName("validate");e.validateName=f;const m={gen:d,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[i.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,i.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:p,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:i.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:i._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),(0,l.validateFunctionCode)(m),d.optimize(this.opts.code.optimize);const t=d.toString();g=`${d.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const n=new Function(`${o.default.self}`,`${o.default.scope}`,g)(this,this.scope.get());if(this.scope.value(f,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:f,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof i.Name?void 0:e,items:t instanceof i.Name?void 0:t,dynamicProps:e instanceof i.Name,dynamicItems:t instanceof i.Name},n.source&&(n.source.evaluated=(0,i.stringify)(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),t}finally{this._compilations.delete(e)}}function d(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function h(e){for(const i of this._compilations)if(n=e,(t=i).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return i;var t,n}function p(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||f.call(this,e,t)}function f(e,t){const n=this.opts.uriResolver.parse(t),i=(0,s._getFullPath)(this.opts.uriResolver,n);let r=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&i===r)return g.call(this,n,e);const o=(0,s.normalizeId)(i),a=this.refs[o]||this.schemas[o];if("string"==typeof a){const t=f.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,n,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||u.call(this,a),o===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,i=t[n];return i&&(r=(0,s.resolveUrl)(this.opts.uriResolver,r,i)),new c({schema:t,schemaId:n,root:e,baseId:r})}return g.call(this,n,a)}}t.SchemaEnv=c,t.compileSchema=u,t.resolveRef=function(e,t,n){var i;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const r=e.refs[n];if(r)return r;let o=p.call(this,e,n);if(void 0===o){const r=null===(i=e.localRefs)||void 0===i?void 0:i[n],{schemaId:s}=this.opts;r&&(o=new c({schema:r,schemaId:s,root:e,baseId:t}))}return void 0!==o?e.refs[n]=d.call(this,o):void 0},t.getCompilingSchema=h,t.resolveSchema=f;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:n,root:i}){var r;if("/"!==(null===(r=e.fragment)||void 0===r?void 0:r[0]))return;for(const i of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;const e=n[(0,a.unescapeFragment)(i)];if(void 0===e)return;const r="object"==typeof(n=e)&&n[this.opts.schemaId];!m.has(i)&&r&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,r))}let o;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,n.$ref);o=f.call(this,i,e)}const{schemaId:l}=this.opts;return o=o||new c({schema:n,schemaId:l,root:i,baseId:t}),o.schema!==o.root.schema?o:void 0}},42023:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={data:new i.Name("data"),valCxt:new i.Name("valCxt"),instancePath:new i.Name("instancePath"),parentData:new i.Name("parentData"),parentDataProperty:new i.Name("parentDataProperty"),rootData:new i.Name("rootData"),dynamicAnchors:new i.Name("dynamicAnchors"),vErrors:new i.Name("vErrors"),errors:new i.Name("errors"),this:new i.Name("this"),self:new i.Name("self"),scope:new i.Name("scope"),json:new i.Name("json"),jsonPos:new i.Name("jsonPos"),jsonLen:new i.Name("jsonLen"),jsonPart:new i.Name("jsonPart")};t.default=r},34551:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(66939);class r extends Error{constructor(e,t,n,r){super(r||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,i.resolveUrl)(e,t,n),this.missingSchema=(0,i.normalizeId)((0,i.getFullPath)(e,this.missingRef))}}t.default=r},66939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const i=n(94227),r=n(32017),o=n(7106),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!l(e):!!t&&c(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(l))return!0;if("object"==typeof n&&l(n))return!0}return!1}function c(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,i.eachItem)(e[n],(e=>t+=c(e))),t===1/0))return 1/0}return t}function u(e,t="",n){!1!==n&&(t=p(t));const i=e.parse(t);return d(e,i)}function d(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=d;const h=/#\/?$/;function p(e){return e?e.replace(h,""):""}t.normalizeId=p,t.resolveUrl=function(e,t,n){return n=p(n),e.resolve(t,n)};const f=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:i}=this.opts,s=p(e[n]||t),a={"":s},l=u(i,s,!1),c={},d=new Set;return o(e,{allKeys:!0},((e,t,i,r)=>{if(void 0===r)return;const o=l+t;let s=a[r];function u(t){const n=this.opts.uriResolver.resolve;if(t=p(s?n(s,t):t),d.has(t))throw m(t);d.add(t);let i=this.refs[t];return"string"==typeof i&&(i=this.refs[i]),"object"==typeof i?h(e,i.schema,t):t!==p(o)&&("#"===t[0]?(h(e,c[t],t),c[t]=e):this.refs[t]=o),t}function g(e){if("string"==typeof e){if(!f.test(e))throw new Error(`invalid anchor "${e}"`);u.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=u.call(this,e[n])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),a[t]=s})),c;function h(e,t,n){if(void 0!==t&&!r(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},10396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},94227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const i=n(99029),r=n(41520);function o(e,t=e.schema){const{opts:n,self:i}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const r=i.RULES.keywords;for(const n in t)r[n]||f(e,`unknown keyword: "${n}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:r}){return(o,s,a,l)=>{const c=void 0===a?s:a instanceof i.Name?(s instanceof i.Name?e(o,s,a):t(o,s,a),a):s instanceof i.Name?(t(o,a,s),s):n(s,a);return l!==i.Name||c instanceof i.Name?c:r(o,c)}}function u(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",i._`{}`);return void 0!==t&&d(e,n,t),n}function d(e,t,n){Object.keys(n).forEach((n=>e.assign(i._`${t}${(0,i.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=o,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,r,o){if(!o){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return i._`${n}`}return i._`${e}${t}${(0,i.getProperty)(r)}`},t.unescapeFragment=function(e){return l(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=l,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,n)=>e.if(i._`${n} !== true && ${t} !== undefined`,(()=>{e.if(i._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,i._`${n} || {}`).code(i._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(i._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,i._`${n} || {}`),d(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:c({mergeNames:(e,t,n)=>e.if(i._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,i._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(i._`${n} !== true`,(()=>e.assign(n,!0===t||i._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=u,t.setEvaluated=d;const h={};var p;function f(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:h[t.code]||(h[t.code]=new r._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(p=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof i.Name){const r=t===p.Num;return n?r?i._`"[" + ${e} + "]"`:i._`"['" + ${e} + "']"`:r?i._`"/" + ${e}`:i._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,i.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=f},7887:(e,t)=>{"use strict";function n(e,t){return t.rules.some((t=>i(e,t)))}function i(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},i){const r=t.RULES.types[i];return r&&!0!==r&&n(e,r)},t.shouldUseGroup=n,t.shouldUseRule=i},28727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const i=n(48708),r=n(99029),o=n(42023),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:r}=e,o={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,i.reportError)(o,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:i}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(o.default.data):(t.assign(r._`${i}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:i}=e;!1===i?(n.var(t,!1),a(e)):n.var(t,!0)}},10208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const i=n(10396),r=n(7887),o=n(48708),s=n(99029),a=n(94227);var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(i.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:i,opts:o}=e,a=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,o.coerceTypes),c=t.length>0&&!(0===a.length&&1===t.length&&(0,r.schemaHasRulesForType)(e,t[0]));if(c){const r=h(t,i,o.strictNumbers,l.Wrong);n.if(r,(()=>{a.length?function(e,t,n){const{gen:i,data:r,opts:o}=e,a=i.let("dataType",s._`typeof ${r}`),l=i.let("coerced",s._`undefined`);"array"===o.coerceTypes&&i.if(s._`${a} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,(()=>i.assign(r,s._`${r}[0]`).assign(a,s._`typeof ${r}`).if(h(t,r,o.strictNumbers),(()=>i.assign(l,r)))));i.if(s._`${l} !== undefined`);for(const e of n)(u.has(e)||"array"===e&&"array"===o.coerceTypes)&&c(e);function c(e){switch(e){case"string":return void i.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(l,s._`"" + ${r}`).elseIf(s._`${r} === null`).assign(l,s._`""`);case"number":return void i.elseIf(s._`${a} == "boolean" || ${r} === null
              || (${a} == "string" && ${r} && ${r} == +${r})`).assign(l,s._`+${r}`);case"integer":return void i.elseIf(s._`${a} === "boolean" || ${r} === null
              || (${a} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(l,s._`+${r}`);case"boolean":return void i.elseIf(s._`${r} === "false" || ${r} === 0 || ${r} === null`).assign(l,!1).elseIf(s._`${r} === "true" || ${r} === 1`).assign(l,!0);case"null":return i.elseIf(s._`${r} === "" || ${r} === 0 || ${r} === false`),void i.assign(l,null);case"array":i.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${r} === null`).assign(l,s._`[${r}]`)}}i.else(),f(e),i.endIf(),i.if(s._`${l} !== undefined`,(()=>{i.assign(r,l),function({gen:e,parentData:t,parentDataProperty:n},i){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,i)))}(e,l)}))}(e,t,a):f(e)}))}return c};const u=new Set(["string","number","integer","boolean","null"]);function d(e,t,n,i=l.Correct){const r=i===l.Correct?s.operators.EQ:s.operators.NEQ;let o;switch(e){case"null":return s._`${t} ${r} null`;case"array":o=s._`Array.isArray(${t})`;break;case"object":o=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return s._`typeof ${t} ${r} ${e}`}return i===l.Correct?o:(0,s.not)(o);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function h(e,t,n,i){if(1===e.length)return d(e[0],t,n,i);let r;const o=(0,a.toHash)(e);if(o.array&&o.object){const e=s._`typeof ${t} != "object"`;r=o.null?e:s._`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else r=s.nil;o.number&&delete o.integer;for(const e in o)r=(0,s.and)(r,d(e,t,n,i));return r}t.checkDataType=d,t.checkDataTypes=h;const p={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function f(e){const t=function(e){const{gen:t,data:n,schema:i}=e,r=(0,a.schemaRefOrVal)(e,i,"type");return{gen:t,keyword:"type",data:n,schema:i.type,schemaCode:r,schemaValue:r,parentSchema:i,params:{},it:e}}(e);(0,o.reportError)(t,p)}t.reportTypeError=f},7870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const i=n(99029),r=n(94227);function o(e,t,n){const{gen:o,compositeRule:s,data:a,opts:l}=e;if(void 0===n)return;const c=i._`${a}${(0,i.getProperty)(t)}`;if(s)return void(0,r.checkStrictMode)(e,`default is ignored for: ${c}`);let u=i._`${c} === undefined`;"empty"===l.useDefaults&&(u=i._`${u} || ${c} === null || ${c} === ""`),o.if(u,i._`${c} = ${(0,i.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:i}=e.schema;if("object"===t&&n)for(const t in n)o(e,t,n[t].default);else"array"===t&&Array.isArray(i)&&i.forEach(((t,n)=>o(e,n,t.default)))}},62586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const i=n(28727),r=n(10208),o=n(7887),s=n(10208),a=n(7870),l=n(33673),c=n(24495),u=n(99029),d=n(42023),h=n(66939),p=n(94227),f=n(48708);function m({gen:e,validateName:t,schema:n,schemaEnv:i,opts:r},o){r.code.es5?e.func(t,u._`${d.default.data}, ${d.default.valCxt}`,i.$async,(()=>{e.code(u._`"use strict"; ${g(n,r)}`),function(e,t){e.if(d.default.valCxt,(()=>{e.var(d.default.instancePath,u._`${d.default.valCxt}.${d.default.instancePath}`),e.var(d.default.parentData,u._`${d.default.valCxt}.${d.default.parentData}`),e.var(d.default.parentDataProperty,u._`${d.default.valCxt}.${d.default.parentDataProperty}`),e.var(d.default.rootData,u._`${d.default.valCxt}.${d.default.rootData}`),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`${d.default.valCxt}.${d.default.dynamicAnchors}`)}),(()=>{e.var(d.default.instancePath,u._`""`),e.var(d.default.parentData,u._`undefined`),e.var(d.default.parentDataProperty,u._`undefined`),e.var(d.default.rootData,d.default.data),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`{}`)}))}(e,r),e.code(o)})):e.func(t,u._`${d.default.data}, ${function(e){return u._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${e.dynamicRef?u._`, ${d.default.dynamicAnchors}={}`:u.nil}}={}`}(r)}`,i.$async,(()=>e.code(g(n,r)).code(o)))}function g(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?u._`/*# sourceURL=${n} */`:u.nil}function v(e,t){E(e)&&(S(e),y(e))?function(e,t){const{schema:n,gen:i,opts:r}=e;r.$comment&&n.$comment&&O(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,h.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=i.const("_errs",d.default.errors);b(e,o),i.var(t,u._`${o} === ${d.default.errors}`)}(e,t):(0,i.boolOrEmptySchema)(e,t)}function y({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function E(e){return"boolean"!=typeof e.schema}function S(e){(0,p.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:i,self:r}=e;t.$ref&&i.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function b(e,t){if(e.opts.jtd)return _(e,[],!1,t);const n=(0,r.getSchemaTypes)(e.schema);_(e,n,!(0,r.coerceAndCheckDataType)(e,n),t)}function O({gen:e,schemaEnv:t,schema:n,errSchemaPath:i,opts:r}){const o=n.$comment;if(!0===r.$comment)e.code(u._`${d.default.self}.logger.log(${o})`);else if("function"==typeof r.$comment){const n=u.str`${i}/$comment`,r=e.scopeValue("root",{ref:t.root});e.code(u._`${d.default.self}.opts.$comment(${o}, ${n}, ${r}.schema)`)}}function _(e,t,n,i){const{gen:r,schema:a,data:l,allErrors:c,opts:h,self:f}=e,{RULES:m}=f;function g(p){(0,o.shouldUseGroup)(a,p)&&(p.type?(r.if((0,s.checkDataType)(p.type,l,h.strictNumbers)),T(e,p),1===t.length&&t[0]===p.type&&n&&(r.else(),(0,s.reportTypeError)(e)),r.endIf()):T(e,p),c||r.if(u._`${d.default.errors} === ${i||0}`))}!a.$ref||!h.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(a,m)?(h.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{w(e.dataTypes,t)||N(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const n=[];for(const i of e.dataTypes)w(t,i)?n.push(i):t.includes("integer")&&"number"===i&&n.push("integer");e.dataTypes=n}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&N(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const n=e.self.RULES.all;for(const i in n){const r=n[i];if("object"==typeof r&&(0,o.shouldUseRule)(e.schema,r)){const{type:n}=r.definition;n.length&&!n.some((e=>A(t,e)))&&N(e,`missing type "${n.join(",")}" for keyword "${i}"`)}}}(e,e.dataTypes)}(e,t),r.block((()=>{for(const e of m.rules)g(e);g(m.post)}))):r.block((()=>R(e,"$ref",m.all.$ref.definition)))}function T(e,t){const{gen:n,schema:i,opts:{useDefaults:r}}=e;r&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,o.shouldUseRule)(i,n)&&R(e,n.keyword,n.definition,t.type)}))}function A(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function w(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function N(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,p.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){E(e)&&(S(e),y(e))?function(e){const{schema:t,opts:n,gen:i}=e;m(e,(()=>{n.$comment&&t.$comment&&O(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,p.checkStrictMode)(e,"default is ignored in the schema root")}(e),i.let(d.default.vErrors,null),i.let(d.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",u._`${n}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,(()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`))),t.if(u._`${e.evaluated}.dynamicItems`,(()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`)))}(e),b(e),function(e){const{gen:t,schemaEnv:n,validateName:i,ValidationError:r,opts:o}=e;n.$async?t.if(u._`${d.default.errors} === 0`,(()=>t.return(d.default.data)),(()=>t.throw(u._`new ${r}(${d.default.vErrors})`))):(t.assign(u._`${i}.errors`,d.default.vErrors),o.unevaluated&&function({gen:e,evaluated:t,props:n,items:i}){n instanceof u.Name&&e.assign(u._`${t}.props`,n);i instanceof u.Name&&e.assign(u._`${t}.items`,i)}(e),t.return(u._`${d.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,i.topBoolOrEmptySchema)(e)))};class I{constructor(e,t,n){if((0,l.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",M(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,n){this.failResult((0,u.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=u.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:r,def:o}=this;n.if((0,u.or)(u._`${i} === undefined`,t)),e!==u.nil&&n.assign(e,!0),(r.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:i,it:r}=this;return(0,u.or)(function(){if(n.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return u._`${(0,s.checkDataTypes)(e,t,r.opts.strictNumbers,s.DataType.Wrong)}`}return u.nil}(),function(){if(i.validateSchema){const n=e.scopeValue("validate$data",{ref:i.validateSchema});return u._`!${n}(${t})`}return u.nil}())}subschema(e,t){const n=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(n,this.it,e),(0,c.extendSubschemaMode)(n,e);const i={...this.it,...n,items:void 0,props:void 0};return v(i,t),i}mergeEvaluated(e,t){const{it:n,gen:i}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=p.mergeEvaluated.props(i,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=p.mergeEvaluated.items(i,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return i.if(t,(()=>this.mergeEvaluated(e,u.Name))),!0}}function R(e,t,n,i){const r=new I(e,n,t);"code"in n?n.code(r,i):r.$data&&n.validate?(0,l.funcKeywordCode)(r,n):"macro"in n?(0,l.macroKeywordCode)(r,n):(n.compile||n.validate)&&(0,l.funcKeywordCode)(r,n)}t.KeywordCxt=I;const k=/^\/(?:[^~]|~0|~1)*$/,L=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function M(e,{dataLevel:t,dataNames:n,dataPathArr:i}){let r,o;if(""===e)return d.default.rootData;if("/"===e[0]){if(!k.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);r=e,o=d.default.rootData}else{const s=L.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(r=s[2],"#"===r){if(a>=t)throw new Error(l("property/index",a));return i[t-a]}if(a>t)throw new Error(l("data",a));if(o=n[t-a],!r)return o}let s=o;const a=r.split("/");for(const e of a)e&&(o=u._`${o}${(0,u.getProperty)((0,p.unescapeJsonPointer)(e))}`,s=u._`${s} && ${o}`);return s;function l(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=M},33673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const i=n(99029),r=n(42023),o=n(15765),s=n(48708);function a(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,(()=>t.assign(n,i._`${r.parentData}[${r.parentDataProperty}]`)))}function l(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,i.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:r,schema:o,parentSchema:s,it:a}=e,c=t.macro.call(a.self,o,s,a),u=l(n,r,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const d=n.name("valid");e.subschema({schema:c,schemaPath:i.nil,errSchemaPath:`${a.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},d),e.pass(d,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:c,keyword:u,schema:d,parentSchema:h,$data:p,it:f}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(f,t);const m=!p&&t.compile?t.compile.call(f.self,d,h,f):t.validate,g=l(c,u,m),v=c.let("valid");function y(n=(t.async?i._`await `:i.nil)){const s=f.opts.passContext?r.default.this:r.default.self,a=!("compile"in t&&!p||!1===t.schema);c.assign(v,i._`${n}${(0,o.callValidateCode)(e,g,s,a)}`,t.modifying)}function E(e){var n;c.if((0,i.not)(null!==(n=t.valid)&&void 0!==n?n:v),e)}e.block$data(v,(function(){if(!1===t.errors)y(),t.modifying&&a(e),E((()=>e.error()));else{const n=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>y(i._`await `)),(t=>c.assign(v,!1).if(i._`${t} instanceof ${f.ValidationError}`,(()=>c.assign(e,i._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=i._`${g}.errors`;return c.assign(e,null),y(i.nil),e}();t.modifying&&a(e),E((()=>function(e,t){const{gen:n}=e;n.if(i._`Array.isArray(${t})`,(()=>{n.assign(r.default.vErrors,i._`${r.default.vErrors} === null ? ${t} : ${r.default.vErrors}.concat(${t})`).assign(r.default.errors,i._`${r.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:v)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:i},r,o){if(Array.isArray(r.keyword)?!r.keyword.includes(o):r.keyword!==o)throw new Error("ajv implementation error");const s=r.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(r.validateSchema){if(!r.validateSchema(e[o])){const e=`keyword "${o}" value is invalid at path "${i}": `+n.errorsText(r.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}}},24495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const i=n(99029),r=n(94227);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:o,schemaPath:s,errSchemaPath:a,topSchemaRef:l}){if(void 0!==t&&void 0!==o)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const o=e.schema[t];return void 0===n?{schema:o,schemaPath:i._`${e.schemaPath}${(0,i.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[n],schemaPath:i._`${e.schemaPath}${(0,i.getProperty)(t)}${(0,i.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,r.escapeFragment)(n)}`}}if(void 0!==o){if(void 0===s||void 0===a||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:s,topSchemaRef:l,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:o,data:s,dataTypes:a,propertyName:l}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==n){const{errorPath:s,dataPathArr:a,opts:l}=t;u(c.let("data",i._`${t.data}${(0,i.getProperty)(n)}`,!0)),e.errorPath=i.str`${s}${(0,r.getErrorPath)(n,o,l.jsPropertySyntax)}`,e.parentDataProperty=i._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}if(void 0!==s){u(s instanceof i.Name?s:c.let("data",s,!0)),void 0!==l&&(e.propertyName=l)}function u(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:i,createErrors:r,allErrors:o}){void 0!==i&&(e.compositeRule=i),void 0!==r&&(e.createErrors=r),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=n}},4042:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var i=n(62586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return i.KeywordCxt}});var r=n(99029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const o=n(13558),s=n(34551),a=n(10396),l=n(73835),c=n(99029),u=n(66939),d=n(10208),h=n(94227),p=n(63837),f=n(55944),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},E={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function S(e){var t,n,i,r,o,s,a,l,c,u,d,h,p,g,v,y,E,S,b,O,_,T,A,w,N;const I=e.strict,R=null===(t=e.code)||void 0===t?void 0:t.optimize,k=!0===R||void 0===R?1:R||0,L=null!==(i=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==i?i:m,M=null!==(r=e.uriResolver)&&void 0!==r?r:f.default;return{strictSchema:null===(s=null!==(o=e.strictSchema)&&void 0!==o?o:I)||void 0===s||s,strictNumbers:null===(l=null!==(a=e.strictNumbers)&&void 0!==a?a:I)||void 0===l||l,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:I)&&void 0!==u?u:"log",strictTuples:null!==(h=null!==(d=e.strictTuples)&&void 0!==d?d:I)&&void 0!==h?h:"log",strictRequired:null!==(g=null!==(p=e.strictRequired)&&void 0!==p?p:I)&&void 0!==g&&g,code:e.code?{...e.code,optimize:k,regExp:L}:{optimize:k,regExp:L},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:200,meta:null===(E=e.meta)||void 0===E||E,messages:null===(S=e.messages)||void 0===S||S,inlineRefs:null===(b=e.inlineRefs)||void 0===b||b,schemaId:null!==(O=e.schemaId)&&void 0!==O?O:"$id",addUsedSchema:null===(_=e.addUsedSchema)||void 0===_||_,validateSchema:null===(T=e.validateSchema)||void 0===T||T,validateFormats:null===(A=e.validateFormats)||void 0===A||A,unicodeRegExp:null===(w=e.unicodeRegExp)||void 0===w||w,int32range:null===(N=e.int32range)||void 0===N||N,uriResolver:M}}class b{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...S(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:v,es5:t,lines:n}),this.logger=function(e){if(!1===e)return I;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),O.call(this,y,e,"NOT SUPPORTED"),O.call(this,E,e,"DEPRECATED","warn"),this._metaOpts=N.call(this),e.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&w.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),T.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let i=p;"id"===n&&(i={...p},i.id=i.$id,delete i.$id),t&&e&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const i=n(t);return"$async"in n||(this.errors=n.errors),i}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return i.call(this,e,t);async function i(e,t){await r.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||o.call(this,n)}async function r(e){e&&!this.getSchema(e)&&await i.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await l.call(this,t.missingSchema),o.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const n=await c.call(this,e);this.refs[e]||await r.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,i=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,i);return this}let r;if("object"==typeof e){const{schemaId:t}=this.opts;if(r=e[t],void 0!==r&&"string"!=typeof r)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||r),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,i,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate(n,e);if(!i&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return i}getSchema(e){let t;for(;"string"==typeof(t=_.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,i=new l.SchemaEnv({schema:{},schemaId:n});if(t=l.resolveSchema.call(this,i,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=_.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,u.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(k.call(this,n,t),!t)return(0,h.eachItem)(n,(e=>L.call(this,e))),this;D.call(this,t);const i={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,h.eachItem)(n,0===i.type.length?e=>L.call(this,e,i):e=>i.type.forEach((t=>L.call(this,e,i,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const i of t){const t=i.split("/").slice(1);let r=e;for(const e of t)r=r[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:i}=t.definition,o=r[e];i&&o&&(r[e]=C(o))}}return e}_removeAllSchemas(e,t){for(const n in e){const i=e[n];t&&!t.test(n)||("string"==typeof i?delete e[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[n]))}}_addSchema(e,t,n,i=this.opts.validateSchema,r=this.opts.addUsedSchema){let o;const{schemaId:s}=this.opts;if("object"==typeof e)o=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,u.normalizeId)(o||n);const c=u.getSchemaRefs.call(this,e,n);return a=new l.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:c}),this._cache.set(a.schema,a),r&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),i&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function O(e,t,n,i="error"){for(const r in e){const o=r;o in t&&this.logger[i](`${n}: option ${r}. ${e[o]}`)}}function _(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function T(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function A(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function w(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function N(){const e={...this.opts};for(const t of g)delete e[t];return e}t.default=b,b.ValidationError=o.default,b.MissingRefError=s.default;const I={log(){},warn(){},error(){}};const R=/^[a-z_$][a-z0-9_$:-]*$/i;function k(e,t){const{RULES:n}=this;if((0,h.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!R.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function L(e,t,n){var i;const r=null==t?void 0:t.post;if(n&&r)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=r?o.post:o.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?M.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(i=t.implements)||void 0===i||i.forEach((e=>this.addKeyword(e)))}function M(e,t,n){const i=e.rules.findIndex((e=>e.keyword===n));i>=0?e.rules.splice(i,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function D(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=C(t)),e.validateSchema=this.compile(t,!0))}const P={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function C(e){return{anyOf:[e,P]}}},76250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(32017);i.code='require("ajv/dist/runtime/equal").default',t.default=i},53853:(e,t)=>{"use strict";function n(e){const t=e.length;let n,i=0,r=0;for(;r<t;)i++,n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<t&&(n=e.charCodeAt(r),56320==(64512&n)&&r++);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},55944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(46579);i.code='require("ajv/dist/runtime/uri").default',t.default=i},13558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},15457:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const i=n(99029),r=n(94227),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>i.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>i._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:i}=t;Array.isArray(i)?s(e,i):(0,r.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:n,schema:o,data:s,keyword:a,it:l}=e;l.items=!0;const c=n.const("len",i._`${s}.length`);if(!1===o)e.setParams({len:t.length}),e.pass(i._`${c} <= ${t.length}`);else if("object"==typeof o&&!(0,r.alwaysValidSchema)(l,o)){const o=n.var("valid",i._`${c} <= ${t.length}`);n.if((0,i.not)(o),(()=>function(o){n.forRange("i",t.length,c,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:r.Type.Num},o),l.allErrors||n.if((0,i.not)(o),(()=>n.break()))}))}(o))),e.ok(o)}}t.validateAdditionalItems=s,t.default=o},38660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o=n(42023),s=n(94227),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>r._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:l,errsCount:c,it:u}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:d,opts:h}=u;if(u.props=!0,"all"!==h.removeAdditional&&(0,s.alwaysValidSchema)(u,n))return;const p=(0,i.allSchemaProperties)(a.properties),f=(0,i.allSchemaProperties)(a.patternProperties);function m(e){t.code(r._`delete ${l}[${e}]`)}function g(i){if("all"===h.removeAdditional||h.removeAdditional&&!1===n)m(i);else{if(!1===n)return e.setParams({additionalProperty:i}),e.error(),void(d||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(u,n)){const n=t.name("valid");"failing"===h.removeAdditional?(v(i,n,!1),t.if((0,r.not)(n),(()=>{e.reset(),m(i)}))):(v(i,n),d||t.if((0,r.not)(n),(()=>t.break())))}}}function v(t,n,i){const r={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===i&&Object.assign(r,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(r,n)}t.forIn("key",l,(n=>{p.length||f.length?t.if(function(n){let o;if(p.length>8){const e=(0,s.schemaRefOrVal)(u,a.properties,"properties");o=(0,i.isOwnProperty)(t,e,n)}else o=p.length?(0,r.or)(...p.map((e=>r._`${n} === ${e}`))):r.nil;return f.length&&(o=(0,r.or)(o,...f.map((t=>r._`${(0,i.usePattern)(e,t)}.test(${n})`)))),(0,r.not)(o)}(n),(()=>g(n))):g(n)})),e.ok(r._`${c} === ${o.default.errors}`)}};t.default=a},15844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(94227),r={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const o=t.name("valid");n.forEach(((t,n)=>{if((0,i.alwaysValidSchema)(r,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},o);e.ok(o),e.mergeEvaluated(s)}))}};t.default=r},16505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(15765).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=i},12661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?i.str`must contain at least ${e} valid item(s)`:i.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?i._`{minContains: ${e}}`:i._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:o,data:s,it:a}=e;let l,c;const{minContains:u,maxContains:d}=o;a.opts.next?(l=void 0===u?1:u,c=d):l=1;const h=t.const("len",i._`${s}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,r.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,r.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,r.alwaysValidSchema)(a,n)){let t=i._`${h} >= ${l}`;return void 0!==c&&(t=i._`${t} && ${h} <= ${c}`),void e.pass(t)}a.items=!0;const p=t.name("valid");function f(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(i._`${e}++`),void 0===c?t.if(i._`${e} >= ${l}`,(()=>t.assign(p,!0).break())):(t.if(i._`${e} > ${c}`,(()=>t.assign(p,!1).break())),1===l?t.assign(p,!0):t.if(i._`${e} >= ${l}`,(()=>t.assign(p,!0))))}(n)))))}function m(n,i){t.forRange("i",0,h,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:r.Type.Num,compositeRule:!0},n),i()}))}void 0===c&&1===l?m(p,(()=>t.if(p,(()=>t.break())))):0===l?(t.let(p,!0),void 0!==c&&t.if(i._`${s}.length > 0`,f)):(t.let(p,!1),f()),e.result(p,(()=>e.reset()))}};t.default=o},83025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const i=n(99029),r=n(94227),o=n(15765);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const r=1===t?"property":"properties";return i.str`must have ${r} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:r}})=>i._`{property: ${e},
    missingProperty: ${r},
    depsCount: ${t},
    deps: ${n}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const i in e){if("__proto__"===i)continue;(Array.isArray(e[i])?t:n)[i]=e[i]}return[t,n]}(e);a(e,t),l(e,n)}};function a(e,t=e.schema){const{gen:n,data:r,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=(0,o.propertyInData)(n,r,l,s.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),s.allErrors?n.if(u,(()=>{for(const t of c)(0,o.checkReportMissingProp)(e,t)})):(n.if(i._`${u} && (${(0,o.checkMissingProp)(e,c,a)})`),(0,o.reportMissingProp)(e,a),n.else())}}function l(e,t=e.schema){const{gen:n,data:i,keyword:s,it:a}=e,l=n.name("valid");for(const c in t)(0,r.alwaysValidSchema)(a,t[c])||(n.if((0,o.propertyInData)(n,i,c,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>n.var(l,!0))),e.ok(l))}t.validatePropertyDeps=a,t.validateSchemaDeps=l,t.default=s},1239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>i.str`must match "${e.ifClause}" schema`,params:({params:e})=>i._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:o}=e;void 0===n.then&&void 0===n.else&&(0,r.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const a=s(o,"then"),l=s(o,"else");if(!a&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),a&&l){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,d("then",n),d("else",n))}else a?t.if(u,d("then")):t.if((0,i.not)(u),d("else"));function d(n,r){return()=>{const o=e.subschema({keyword:n},u);t.assign(c,u),e.mergeValidEvaluated(o,c),r?t.assign(r,i._`${n}`):e.setParams({ifClause:n})}}e.pass(c,(()=>e.error(!0)))}};function s(e,t){const n=e.schema[t];return void 0!==n&&!(0,r.alwaysValidSchema)(e,n)}t.default=o},56378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15457),r=n(65354),o=n(20494),s=n(93966),a=n(12661),l=n(83025),c=n(19713),u=n(38660),d=n(40117),h=n(45333),p=n(57923),f=n(16505),m=n(96163),g=n(15844),v=n(1239),y=n(14426);t.default=function(e=!1){const t=[p.default,f.default,m.default,g.default,v.default,y.default,c.default,u.default,l.default,d.default,h.default];return e?t.push(r.default,s.default):t.push(i.default,o.default),t.push(a.default),t}},20494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const i=n(99029),r=n(94227),o=n(15765),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,r.alwaysValidSchema)(n,t)||e.ok((0,o.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:o,parentSchema:s,data:a,keyword:l,it:c}=e;!function(e){const{opts:i,errSchemaPath:o}=c,s=n.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(i.strictTuples&&!a){const e=`"${l}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`;(0,r.checkStrictMode)(c,e,i.strictTuples)}}(s),c.opts.unevaluated&&n.length&&!0!==c.items&&(c.items=r.mergeEvaluated.items(o,n.length,c.items));const u=o.name("valid"),d=o.const("len",i._`${a}.length`);n.forEach(((t,n)=>{(0,r.alwaysValidSchema)(c,t)||(o.if(i._`${d} > ${n}`,(()=>e.subschema({keyword:l,schemaProp:n,dataProp:n},u))),e.ok(u))}))}t.validateTuple=a,t.default=s},93966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(15765),s=n(15457),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>i.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>i._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:i}=e,{prefixItems:a}=n;i.items=!0,(0,r.alwaysValidSchema)(i,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,o.validateArray)(e)))}};t.default=a},57923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(94227),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,i.alwaysValidSchema)(r,n))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=r},96163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>i._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&o.discriminator)return;const a=n,l=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block((function(){a.forEach(((n,o)=>{let a;(0,r.alwaysValidSchema)(s,n)?t.var(u,!0):a=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},u),o>0&&t.if(i._`${u} && ${l}`).assign(l,!1).assign(c,i._`[${c}, ${o}]`).else(),t.if(u,(()=>{t.assign(l,!0),t.assign(c,o),a&&e.mergeEvaluated(a,i.Name)}))}))})),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}};t.default=o},45333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o=n(94227),s=n(94227),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:l,it:c}=e,{opts:u}=c,d=(0,i.allSchemaProperties)(n),h=d.filter((e=>(0,o.alwaysValidSchema)(c,n[e])));if(0===d.length||h.length===d.length&&(!c.opts.unevaluated||!0===c.props))return;const p=u.strictSchema&&!u.allowMatchingProperties&&l.properties,f=t.name("valid");!0===c.props||c.props instanceof r.Name||(c.props=(0,s.evaluatedPropsToName)(t,c.props));const{props:m}=c;function g(e){for(const t in p)new RegExp(e).test(t)&&(0,o.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function v(n){t.forIn("key",a,(o=>{t.if(r._`${(0,i.usePattern)(e,n)}.test(${o})`,(()=>{const i=h.includes(n);i||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:o,dataPropType:s.Type.Str},f),c.opts.unevaluated&&!0!==m?t.assign(r._`${m}[${o}]`,!0):i||c.allErrors||t.if((0,r.not)(f),(()=>t.break()))}))}))}!function(){for(const e of d)p&&g(e),c.allErrors?v(e):(t.var(f,!0),v(e),t.if(f))}()}};t.default=a},65354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(20494),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,i.validateTuple)(e,"items")};t.default=r},40117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(62586),r=n(15765),o=n(94227),s=n(38660),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new i.KeywordCxt(c,s.default,"additionalProperties"));const u=(0,r.allSchemaProperties)(n);for(const e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=o.mergeEvaluated.props(t,(0,o.toHash)(u),c.props));const d=u.filter((e=>!(0,o.alwaysValidSchema)(c,n[e])));if(0===d.length)return;const h=t.name("valid");for(const n of d)p(n)?f(n):(t.if((0,r.propertyInData)(t,l,n,c.opts.ownProperties)),f(n),c.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(h);function p(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},h)}}};t.default=a},19713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>i._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:o,it:s}=e;if((0,r.alwaysValidSchema)(s,n))return;const a=t.name("valid");t.forIn("key",o,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,i.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=o},14426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(94227),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,i.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=r},15765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const i=n(99029),r=n(94227),o=n(42023),s=n(94227);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:i._`Object.prototype.hasOwnProperty`})}function l(e,t,n){return i._`${a(e)}.call(${t}, ${n})`}function c(e,t,n,r){const o=i._`${t}${(0,i.getProperty)(n)} === undefined`;return r?(0,i.or)(o,(0,i.not)(l(e,t,n))):o}function u(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:r,it:o}=e;n.if(c(n,r,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:i._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},r,o){return(0,i.or)(...r.map((r=>(0,i.and)(c(e,t,r,n.ownProperties),i._`${o} = ${r}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=l,t.propertyInData=function(e,t,n,r){const o=i._`${t}${(0,i.getProperty)(n)} !== undefined`;return r?i._`${o} && ${l(e,t,n)}`:o},t.noPropertyInData=c,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter((n=>!(0,r.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:s,errorPath:a},it:l},c,u,d){const h=d?i._`${e}, ${t}, ${r}${s}`:t,p=[[o.default.instancePath,(0,i.strConcat)(o.default.instancePath,a)],[o.default.parentData,l.parentData],[o.default.parentDataProperty,l.parentDataProperty],[o.default.rootData,o.default.rootData]];l.opts.dynamicRef&&p.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);const f=i._`${h}, ${n.object(...p)}`;return u!==i.nil?i._`${c}.call(${u}, ${f})`:i._`${c}(${f})`};const d=i._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:o}=t.code,a=o(n,r);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:i._`${"new RegExp"===o.code?d:(0,s.useFunc)(e,o)}(${n}, ${r})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:o,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(a,!0),l((()=>t.break())),a;function l(s){const l=t.const("len",i._`${n}.length`);t.forRange("i",0,l,(n=>{e.subschema({keyword:o,dataProp:n,dataPropType:r.Type.Num},a),t.if((0,i.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,r.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),l=t.name("_valid");t.block((()=>n.forEach(((n,r)=>{const s=e.subschema({keyword:o,schemaProp:r,compositeRule:!0},l);t.assign(a,i._`${a} || ${l}`);e.mergeValidEvaluated(s,l)||t.if((0,i.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},83463:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},72128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(83463),r=n(13693),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",i.default,r.default];t.default=o},13693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const i=n(34551),r=n(15765),o=n(99029),s=n(42023),a=n(73835),l=n(94227),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:s,schemaEnv:l,validateName:c,opts:h,self:p}=r,{root:f}=l;if(("#"===n||"#/"===n)&&s===f.baseId)return function(){if(l===f)return d(e,c,l,l.$async);const n=t.scopeValue("root",{ref:f});return d(e,o._`${n}.validate`,f,f.$async)}();const m=a.resolveRef.call(p,f,s,n);if(void 0===m)throw new i.default(r.opts.uriResolver,s,n);return m instanceof a.SchemaEnv?function(t){const n=u(e,t);d(e,n,t,t.$async)}(m):function(i){const r=t.scopeValue("schema",!0===h.code.source?{ref:i,code:(0,o.stringify)(i)}:{ref:i}),s=t.name("valid"),a=e.subschema({schema:i,dataTypes:[],schemaPath:o.nil,topSchemaRef:r,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(m)}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):o._`${n.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,n,i){const{gen:a,it:c}=e,{allErrors:u,schemaEnv:d,opts:h}=c,p=h.passContext?s.default.this:o.nil;function f(e){const t=o._`${e}.errors`;a.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,o._`${s.default.vErrors}.length`)}function m(e){var t;if(!c.opts.unevaluated)return;const i=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(i&&!i.dynamicProps)void 0!==i.props&&(c.props=l.mergeEvaluated.props(a,i.props,c.props));else{const t=a.var("props",o._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(a,t,c.props,o.Name)}if(!0!==c.items)if(i&&!i.dynamicItems)void 0!==i.items&&(c.items=l.mergeEvaluated.items(a,i.items,c.items));else{const t=a.var("items",o._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(a,t,c.items,o.Name)}}i?function(){if(!d.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(o._`await ${(0,r.callValidateCode)(e,t,p)}`),m(t),u||a.assign(n,!0)}),(e=>{a.if(o._`!(${e} instanceof ${c.ValidationError})`,(()=>a.throw(e))),f(e),u||a.assign(n,!1)})),e.ok(n)}():e.result((0,r.callValidateCode)(e,t,p),(()=>m(t)),(()=>f(t)))}t.getValidate=u,t.callRef=d,t.default=c},36653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(97652),o=n(73835),s=n(94227),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===r.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>i._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:l,it:c}=e,{oneOf:u}=l;if(!c.opts.discriminator)throw new Error("discriminator: requires discriminator option");const d=a.propertyName;if("string"!=typeof d)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const h=t.let("valid",!1),p=t.const("tag",i._`${n}${(0,i.getProperty)(d)}`);function f(n){const r=t.name("valid"),o=e.subschema({keyword:"oneOf",schemaProp:n},r);return e.mergeEvaluated(o,i.Name),r}t.if(i._`typeof ${p} == "string"`,(()=>function(){const n=function(){var e;const t={},n=r(l);let i=!0;for(let t=0;t<u.length;t++){let l=u[t];(null==l?void 0:l.$ref)&&!(0,s.schemaHasRulesButRef)(l,c.self.RULES)&&(l=o.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,null==l?void 0:l.$ref),l instanceof o.SchemaEnv&&(l=l.schema));const h=null===(e=null==l?void 0:l.properties)||void 0===e?void 0:e[d];if("object"!=typeof h)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);i=i&&(n||r(l)),a(h,t)}if(!i)throw new Error(`discriminator: "${d}" must be required`);return t;function r({required:e}){return Array.isArray(e)&&e.includes(d)}function a(e,t){if(e.const)h(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${d}" must have "const" or "enum"`);for(const n of e.enum)h(n,t)}}function h(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${d}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(i._`${p} === ${e}`),t.assign(h,f(n[e]));t.else(),e.error(!1,{discrError:r.DiscrError.Mapping,tag:p,tagName:d}),t.endIf()}()),(()=>e.error(!1,{discrError:r.DiscrError.Tag,tag:p,tagName:d}))),e.ok(h)}};t.default=a},97652:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},86144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(72128),r=n(67060),o=n(56378),s=n(97532),a=n(69857),l=[i.default,r.default,(0,o.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];t.default=l},94737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>i.str`must match format "${e}"`,params:({schemaCode:e})=>i._`{format: ${e}}`},code(e,t){const{gen:n,data:r,$data:o,schema:s,schemaCode:a,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:d,self:h}=l;c.validateFormats&&(o?function(){const o=n.scopeValue("formats",{ref:h.formats,code:c.code.formats}),s=n.const("fDef",i._`${o}[${a}]`),l=n.let("fType"),u=n.let("format");n.if(i._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(l,i._`${s}.type || "string"`).assign(u,i._`${s}.validate`)),(()=>n.assign(l,i._`"string"`).assign(u,s))),e.fail$data((0,i.or)(!1===c.strictSchema?i.nil:i._`${a} && !${u}`,function(){const e=d.$async?i._`(${s}.async ? await ${u}(${r}) : ${u}(${r}))`:i._`${u}(${r})`,n=i._`(typeof ${u} == "function" ? ${e} : ${u}.test(${r}))`;return i._`${u} && ${u} !== true && ${l} === ${t} && !${n}`}()))}():function(){const o=h.formats[s];if(!o)return void function(){if(!1===c.strictSchema)return void h.logger.warn(e());throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${u}"`}}();if(!0===o)return;const[a,l,p]=function(e){const t=e instanceof RegExp?(0,i.regexpCode)(e):c.code.formats?i._`${c.code.formats}${(0,i.getProperty)(s)}`:void 0,r=n.scopeValue("formats",{key:s,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,i._`${r}.validate`];return["string",e,r]}(o);a===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!d.$async)throw new Error("async format in sync schema");return i._`await ${p}(${r})`}return"function"==typeof l?i._`${p}(${r})`:i._`${p}.test(${r})`}())}())}};t.default=r},97532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=[n(94737).default];t.default=i},69857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},27935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(76250),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>i._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:s,schemaCode:a,schema:l}=e;s||l&&"object"==typeof l?e.fail$data(i._`!${(0,r.useFunc)(t,o.default)}(${n}, ${a})`):e.fail(i._`${l} !== ${n}`)}};t.default=s},28643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(76250),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>i._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:s,schema:a,schemaCode:l,it:c}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const u=a.length>=c.opts.loopEnum;let d;const h=()=>null!=d?d:d=(0,r.useFunc)(t,o.default);let p;if(u||s)p=t.let("valid"),e.block$data(p,(function(){t.assign(p,!1),t.forOf("v",l,(e=>t.if(i._`${h()}(${n}, ${e})`,(()=>t.assign(p,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",l);p=(0,i.or)(...a.map(((t,r)=>function(e,t){const r=a[t];return"object"==typeof r&&null!==r?i._`${h()}(${n}, ${e}[${t}])`:i._`${n} === ${r}`}(e,r))))}e.pass(p)}};t.default=s},67060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(75882),r=n(63439),o=n(77307),s=n(90422),a=n(34486),l=n(34003),c=n(61163),u=n(60617),d=n(27935),h=n(28643),p=[i.default,r.default,o.default,s.default,a.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,h.default];t.default=p},61163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return i.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:r}=e,o="maxItems"===t?i.operators.GT:i.operators.LT;e.fail$data(i._`${n}.length ${o} ${r}`)}};t.default=r},77307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(53853),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return i.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:s,it:a}=e,l="maxLength"===t?i.operators.GT:i.operators.LT,c=!1===a.opts.unicode?i._`${n}.length`:i._`${(0,r.useFunc)(e.gen,o.default)}(${n})`;e.fail$data(i._`${c} ${l} ${s}`)}};t.default=s},75882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=i.operators,o={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},s={message:({keyword:e,schemaCode:t})=>i.str`must be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>i._`{comparison: ${o[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data(i._`${n} ${o[t].fail} ${r} || isNaN(${n})`)}};t.default=a},34486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return i.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:r}=e,o="maxProperties"===t?i.operators.GT:i.operators.LT;e.fail$data(i._`Object.keys(${n}).length ${o} ${r}`)}};t.default=r},63439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>i.str`must be multiple of ${e}`,params:({schemaCode:e})=>i._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:r,it:o}=e,s=o.opts.multipleOfPrecision,a=t.let("res"),l=s?i._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:i._`${a} !== parseInt(${a})`;e.fail$data(i._`(${r} === 0 || (${a} = ${n}/${r}, ${l}))`)}};t.default=r},90422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match pattern "${e}"`,params:({schemaCode:e})=>r._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:o,schemaCode:s,it:a}=e,l=a.opts.unicodeRegExp?"u":"",c=n?r._`(new RegExp(${s}, ${l}))`:(0,i.usePattern)(e,o);e.fail$data(r._`!${c}.test(${t})`)}};t.default=o},34003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o=n(94227),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>r.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>r._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===n.length)return;const d=n.length>=u.loopRequired;if(c.allErrors?function(){if(d||l)e.block$data(r.nil,h);else for(const t of n)(0,i.checkReportMissingProp)(e,t)}():function(){const o=t.let("missing");if(d||l){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,o){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(o,(0,i.propertyInData)(t,a,n,u.ownProperties)),t.if((0,r.not)(o),(()=>{e.error(),t.break()}))}),r.nil)}(o,n))),e.ok(n)}else t.if((0,i.checkMissingProp)(e,n,o)),(0,i.reportMissingProp)(e,o),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:i}=e.it;for(const e of n)if(void 0===(null==t?void 0:t[e])&&!i.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;(0,o.checkStrictMode)(c,t,c.opts.strictRequired)}}function h(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,i.noPropertyInData)(t,a,n,u.ownProperties),(()=>e.error()))}))}}};t.default=s},60617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(10208),r=n(99029),o=n(94227),s=n(76250),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>r.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>r._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:l,parentSchema:c,schemaCode:u,it:d}=e;if(!a&&!l)return;const h=t.let("valid"),p=c.items?(0,i.getSchemaTypes)(c.items):[];function f(o,s){const a=t.name("item"),l=(0,i.checkDataTypes)(p,a,d.opts.strictNumbers,i.DataType.Wrong),c=t.const("indices",r._`{}`);t.for(r._`;${o}--;`,(()=>{t.let(a,r._`${n}[${o}]`),t.if(l,r._`continue`),p.length>1&&t.if(r._`typeof ${a} == "string"`,r._`${a} += "_"`),t.if(r._`typeof ${c}[${a}] == "number"`,(()=>{t.assign(s,r._`${c}[${a}]`),e.error(),t.assign(h,!1).break()})).code(r._`${c}[${a}] = ${o}`)}))}function m(i,a){const l=(0,o.useFunc)(t,s.default),c=t.name("outer");t.label(c).for(r._`;${i}--;`,(()=>t.for(r._`${a} = ${i}; ${a}--;`,(()=>t.if(r._`${l}(${n}[${i}], ${n}[${a}])`,(()=>{e.error(),t.assign(h,!1).break(c)}))))))}e.block$data(h,(function(){const i=t.let("i",r._`${n}.length`),o=t.let("j");e.setParams({i,j:o}),t.assign(h,!0),t.if(r._`${i} > 1`,(()=>(p.length>0&&!p.some((e=>"object"===e||"array"===e))?f:m)(i,o)))}),r._`${u} === false`),e.ok(h)}};t.default=a},72909:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,F:()=>s});var i=n(96540),r=n(28913);function o(e){if(!e.prototype||!e.prototype.render)return e.__scuWrap||(e.__scuWrap=a(e,d));e.prototype.shouldComponentUpdate=c}function s(e){if(!e.prototype||!e.prototype.render)return e.__scuWrap||(e.__scuWrap=a(e,r.E7));e.prototype.shouldComponentUpdate=u}function a(e,t){class n extends l{}return n.prototype.renderChild=e,n.prototype.diffFunc=t,n}class l extends i.Component{shouldComponentUpdate(e){return this.diffFunc(e,this.props)}render(){return this.renderChild(this.props,this.context)}}function c(e,t){return d(e,this.props)||d(t,this.state)}function u(e,t){return d(e,this.props)||(0,r.E7)(t,this.state)}function d(e,t){for(const n in e)if(e[n]!==t[n])return!0;for(const n in t)if(!(n in e))return!0;return!1}},32485:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&e.push(s)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var a in n)i.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},31863:(e,t,n)=>{"use strict";const i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0,r=e=>async(t,n)=>{"string"==typeof t&&(t=(new i.TextEncoder).encode(t)),n={outputFormat:"hex",...n};const r=await i.crypto.subtle.digest(e,t);return"hex"===n.outputFormat?(e=>{const t=new DataView(e);let n="";for(let e=0;e<t.byteLength;e+=4)n+=t.getUint32(e).toString(16).padStart(8,"0");return n})(r):r};t.e8=r("SHA-1"),t.sc=r("SHA-256"),r("SHA-384"),r("SHA-512")},30041:(e,t,n)=>{"use strict";var i=n(30592)(),r=n(7585),o=i&&r("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch(e){o=!1}var s=r("%SyntaxError%"),a=r("%TypeError%"),l=n(75795);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!l&&l(e,t);if(o)o(e,t,{configurable:null===c&&d?d.configurable:!c,enumerable:null===i&&d?d.enumerable:!i,value:n,writable:null===r&&d?d.writable:!r});else{if(!u&&(i||r||c))throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},68165:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,i=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,s=function(e,t){for(var n=[],i=t||0,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),a=n(0,r.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=r.apply(this,i(s,arguments));return Object(t)===t?t:this}return r.apply(e,i(s,arguments))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},90675:(e,t,n)=>{"use strict";var i=n(68165);e.exports=Function.prototype.bind||i},7585:(e,t,n)=>{"use strict";var i,r=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=n(25963)(),h=n(80024)(),p=Object.getPrototypeOf||(h?function(e){return e.__proto__}:null),f={},m="undefined"!=typeof Uint8Array&&p?p(Uint8Array):i,g={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":d&&p?p([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&p?p(p([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d&&p?p((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d&&p?p((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&p?p(""[Symbol.iterator]()):i,"%Symbol%":d?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":m,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(p)try{null.error}catch(e){var v=p(p(e));g["%Error.prototype%"]=v}var y=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&p&&(n=p(r.prototype))}return g[t]=n,n},E={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(90675),b=n(9957),O=S.call(Function.call,Array.prototype.concat),_=S.call(Function.apply,Array.prototype.splice),T=S.call(Function.call,String.prototype.replace),A=S.call(Function.call,String.prototype.slice),w=S.call(Function.call,RegExp.prototype.exec),N=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,R=function(e,t){var n,i=e;if(b(E,i)&&(i="%"+(n=E[i])[0]+"%"),b(g,i)){var o=g[i];if(o===f&&(o=y(i)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===w(/^%?[^%]*%?$/,e))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=A(e,0,1),n=A(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return T(e,N,(function(e,t,n,r){i[i.length]=n?T(r,I,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",o=R("%"+i+"%",t),a=o.name,c=o.value,u=!1,d=o.alias;d&&(i=d[0],_(n,O([0,1],d)));for(var h=1,p=!0;h<n.length;h+=1){var f=n[h],m=A(f,0,1),v=A(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===v||"'"===v||"`"===v)&&m!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),b(g,a="%"+(i+="."+f)+"%"))c=g[a];else if(null!=c){if(!(f in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=b(c,f),c=c[f];p&&!u&&(g[a]=c)}}return c}},25963:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(73145);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},73145:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},30655:(e,t,n)=>{"use strict";var i=n(47239)("%Object.defineProperty%",!0)||!1;if(i)try{i({},"a",{value:1})}catch(e){i=!1}e.exports=i},88059:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,i=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,s=function(e,t){for(var n=[],i=t||0,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),a=n(0,r.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=r.apply(this,i(s,arguments));return Object(t)===t?t:this}return r.apply(e,i(s,arguments))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},26389:(e,t,n)=>{"use strict";var i=n(88059);e.exports=Function.prototype.bind||i},47239:(e,t,n)=>{"use strict";var i,r=n(69383),o=n(41237),s=n(79290),a=n(79538),l=n(58068),c=n(69675),u=n(35345),d=Function,h=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var f=function(){throw new c},m=p?function(){try{return f}catch(e){try{return p(arguments,"callee").get}catch(e){return f}}}():f,g=n(50957)(),v=n(80024)(),y=Object.getPrototypeOf||(v?function(e){return e.__proto__}:null),E={},S="undefined"!=typeof Uint8Array&&y?y(Uint8Array):i,b={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":g&&y?y([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&y?y(y([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&y?y((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&y?y((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&y?y(""[Symbol.iterator]()):i,"%Symbol%":g?Symbol:i,"%SyntaxError%":l,"%ThrowTypeError%":m,"%TypedArray%":S,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(y)try{null.error}catch(e){var O=y(y(e));b["%Error.prototype%"]=O}var _=function e(t){var n;if("%AsyncFunction%"===t)n=h("async function () {}");else if("%GeneratorFunction%"===t)n=h("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=h("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&y&&(n=y(r.prototype))}return b[t]=n,n},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=n(26389),w=n(9957),N=A.call(Function.call,Array.prototype.concat),I=A.call(Function.apply,Array.prototype.splice),R=A.call(Function.call,String.prototype.replace),k=A.call(Function.call,String.prototype.slice),L=A.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,P=function(e,t){var n,i=e;if(w(T,i)&&(i="%"+(n=T[i])[0]+"%"),w(b,i)){var r=b[i];if(r===E&&(r=_(i)),void 0===r&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===L(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var i=[];return R(e,M,(function(e,t,n,r){i[i.length]=n?R(r,D,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",r=P("%"+i+"%",t),o=r.name,s=r.value,a=!1,u=r.alias;u&&(i=u[0],I(n,N([0,1],u)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],m=k(f,0,1),g=k(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&h||(a=!0),w(b,o="%"+(i+="."+f)+"%"))s=b[o];else if(null!=s){if(!(f in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&d+1>=n.length){var v=p(s,f);s=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:s[f]}else h=w(s,f),s=s[f];h&&!a&&(b[o]=s)}}return s}},50957:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(95279);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},95279:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},41237:e=>{"use strict";e.exports=EvalError},69383:e=>{"use strict";e.exports=Error},79290:e=>{"use strict";e.exports=RangeError},79538:e=>{"use strict";e.exports=ReferenceError},58068:e=>{"use strict";e.exports=SyntaxError},69675:e=>{"use strict";e.exports=TypeError},35345:e=>{"use strict";e.exports=URIError},5388:(e,t,n)=>{"use strict";var i=n(69675);e.exports=function(e){if(null==e)throw new i(arguments.length>0&&arguments[1]||"Cannot call method on "+e);return e}},32017:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var s=o[r];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},72492:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,i="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&(n=t.cmp,function(e){return function(t,i){var r={key:t,value:e[t]},o={key:i,value:e[i]};return n(r,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,s;if(Array.isArray(t)){for(s="[",n=0;n<t.length;n++)n&&(s+=","),s+=e(t[n])||"null";return s+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(t)-1,l=Object.keys(t).sort(r&&r(t));for(s="",n=0;n<l.length;n++){var c=l[n],u=e(t[c]);u&&(s&&(s+=","),s+=JSON.stringify(c)+":"+u)}return o.splice(a,1),"{"+s+"}"}}(e)}},89353:e=>{"use strict";var t=Array.prototype.slice,n=Object.prototype.toString;e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==n.call(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var r,o=t.call(arguments,1),s=Math.max(0,i.length-o.length),a=[],l=0;l<s;l++)a.push("$"+l);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var n=i.apply(this,o.concat(t.call(arguments)));return Object(n)===n?n:this}return i.apply(e,o.concat(t.call(arguments)))})),i.prototype){var c=function(){};c.prototype=i.prototype,r.prototype=new c,c.prototype=null}return r}},66743:(e,t,n)=>{"use strict";var i=n(89353);e.exports=Function.prototype.bind||i},54664:(e,t,n)=>{"use strict";function i(e,t=!1){let n=0;for(let t=0,i=e.length;t<i;t++){const r=e[t],o=e[t===i-1?0:t+1];n+=r[0]*o[1],n-=o[0]*r[1]}return t?n/2:Math.abs(n/2)}n.d(t,{A:()=>i})},28172:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var i=n(38523),r=n(8004);function o(e,t){const[[n,i],[o,s]]=e,[[a,l],[c,u]]=t;if(n===a&&i===l)return!0;if(o===c&&s===u)return!0;if((0,r.kW)(e[0],t)||(0,r.kW)(e[1],t))return!0;if((0,r.kW)(t[0],e)||(0,r.kW)(t[1],e))return!0;const d=(u-l)*(o-n)-(c-a)*(s-i);if(0===d)return!1;const h=i-l,p=n-a,f=((c-a)*h-(u-l)*p)/d,m=((o-n)*h-(s-i)*p)/d;return f>0&&f<1&&m>0&&m<1}function s(e,t){let n=!1;const s=(0,i.V)(t);for(let t=0,i=s.length-1;t<i;t++){const i=s[t],a=s[t+1];if(o(e,[i,a])||(0,r.kW)(i,e)&&(0,r.kW)(a,e)){n=!0;break}}return n}},15854:(e,t,n)=>{"use strict";function i(e,t){let n=e[0],i=e[1],r=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){const s=t[e][0],a=t[e][1],l=t[o][0],c=t[o][1];a>i!=c>i&&n<(l-s)*(i-a)/(c-a)+s&&(r=!r)}return r}n.d(t,{s:()=>i})},8004:(e,t,n)=>{"use strict";function i(e){return Math.sqrt(Math.pow(e[1][0]-e[0][0],2)+Math.pow(e[1][1]-e[0][1],2))}function r(e,t,n=0){const r=i(t);return function(e,t,n=0){return Math.abs((i=e,r=t[0],o=t[1],(i[0]-o[0])*(r[1]-o[1])-(i[1]-o[1])*(r[0]-o[0])))<=n;var i,r,o}(e,t,n)&&i([t[0],e])<=r&&i([t[1],e])<=r}n.d(t,{kW:()=>r})},38523:(e,t,n)=>{"use strict";function i(e){return function(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]}(e)?e:[...e,e[0]]}n.d(t,{V:()=>i})},70453:(e,t,n)=>{"use strict";var i,r=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=n(64039)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?i:h(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?h((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?h((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):i,"%Symbol%":d?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=h(r.prototype))}return m[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(66743),E=n(19030),S=y.call(Function.call,Array.prototype.concat),b=y.call(Function.apply,Array.prototype.splice),O=y.call(Function.call,String.prototype.replace),_=y.call(Function.call,String.prototype.slice),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,w=function(e,t){var n,i=e;if(E(v,i)&&(i="%"+(n=v[i])[0]+"%"),E(m,i)){var o=m[i];if(o===p&&(o=g(i)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var n=function(e){var t=_(e,0,1),n=_(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return O(e,T,(function(e,t,n,r){i[i.length]=n?O(r,A,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",o=w("%"+i+"%",t),a=o.name,c=o.value,u=!1,d=o.alias;d&&(i=d[0],b(n,S([0,1],d)));for(var h=1,p=!0;h<n.length;h+=1){var f=n[h],g=_(f,0,1),v=_(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),E(m,a="%"+(i+="."+f)+"%"))c=m[a];else if(null!=c){if(!(f in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=E(c,f),c=c[f];p&&!u&&(m[a]=c)}}return c}},75795:(e,t,n)=>{"use strict";var i=n(1219)("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(e){i=null}e.exports=i},1219:(e,t,n)=>{"use strict";var i,r=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=n(23009)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?i:h(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?h((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?h((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):i,"%Symbol%":d?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};try{null.error}catch(e){var g=h(h(e));m["%Error.prototype%"]=g}var v=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=h(r.prototype))}return m[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=n(66743),S=n(19030),b=E.call(Function.call,Array.prototype.concat),O=E.call(Function.apply,Array.prototype.splice),_=E.call(Function.call,String.prototype.replace),T=E.call(Function.call,String.prototype.slice),A=E.call(Function.call,RegExp.prototype.exec),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,I=function(e,t){var n,i=e;if(S(y,i)&&(i="%"+(n=y[i])[0]+"%"),S(m,i)){var o=m[i];if(o===p&&(o=v(i)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,e))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=T(e,0,1),n=T(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return _(e,w,(function(e,t,n,r){i[i.length]=n?_(r,N,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",o=I("%"+i+"%",t),a=o.name,c=o.value,u=!1,d=o.alias;d&&(i=d[0],O(n,b([0,1],d)));for(var h=1,p=!0;h<n.length;h+=1){var f=n[h],g=T(f,0,1),v=T(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),S(m,a="%"+(i+="."+f)+"%"))c=m[a];else if(null!=c){if(!(f in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=S(c,f),c=c[f];p&&!u&&(m[a]=c)}}return c}},23009:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(38547);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},38547:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},17246:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteExternalAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ParentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteExternalAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"attachmentId"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}},{kind:"Argument",name:{kind:"Name",value:"parentType"},value:{kind:"Variable",name:{kind:"Name",value:"parentType"}}},{kind:"Argument",name:{kind:"Name",value:"parentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemoveFileAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ParentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeFileAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"attachmentId"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}},{kind:"Argument",name:{kind:"Name",value:"parentType"},value:{kind:"Variable",name:{kind:"Name",value:"parentType"}}},{kind:"Argument",name:{kind:"Name",value:"parentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FileAttachmentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FileAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bytes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mimeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"downloadUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageFileAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageWidth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageHeight"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ExternalAttachmentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExternalAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parentDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}}],loc:{start:0,end:1139}};t.loc.source={body:"\n# Deletes a single external attachment\nmutation DeleteExternalAttachment($modelId: ID!, $attachmentId: ID!, $parentType: ParentType!, $parentId: ID!) {\n  deleteExternalAttachment(modelId: $modelId, , attachmentId: $attachmentId, parentType: $parentType, parentId: $parentId)\n}\n\n# Removes a file attachment association from the annotation it is attached to.\n# Can delete the file attachment completely if the 'cascadeDelete' flag is set to true (not currently used)\nmutation RemoveFileAttachment($modelId: ID!, $attachmentId: ID!, $parentType: ParentType!, $parentId: ID!) {\n  removeFileAttachment(modelId: $modelId, , attachmentId: $attachmentId, parentType: $parentType, parentId: $parentId)\n}\n\nfragment FileAttachmentDetails on FileAttachment {\n  id\n  created\n  filename\n  url\n  validUntil\n  bytes\n  mimeType\n  downloadUrl\n  ...on ImageFileAttachment {\n      imageWidth\n      imageHeight\n  }\n}\n\n# common External Attachment properties\nfragment ExternalAttachmentDetails on ExternalAttachment {\n  id\n  created\n  modified\n  thumbnailUrl\n  url\n  mediaType\n  width\n  height\n  parentDetails { type, parent { id } }\n  category\n  validUntil\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.DeleteExternalAttachment=o(t,"DeleteExternalAttachment"),e.exports.RemoveFileAttachment=o(t,"RemoveFileAttachment"),e.exports.FileAttachmentDetails=o(t,"FileAttachmentDetails"),e.exports.ExternalAttachmentDetails=o(t,"ExternalAttachmentDetails")},98585:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFloors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelFloors"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelFloors"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"floors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FloorDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FloorDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelFloor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sequence"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"areaFloor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"units"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchFloor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"floorId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FloorPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchFloor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"floorId"},value:{kind:"Variable",name:{kind:"Name",value:"floorId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:442}};t.loc.source={body:"query GetFloors($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    ...ModelFloors\n  }\n}\n\nfragment ModelFloors on Model {\n  floors { ...FloorDetails }\n}\n\nfragment FloorDetails on ModelFloor {\n  id\n  meshId\n  classification\n  label\n  sequence\n  dimensions {\n    areaFloor\n    units\n  }\n}\n\nmutation PatchFloor($modelId: ID!, $floorId: ID!, $data: FloorPatch!) {\n  patchFloor(modelId: $modelId, , floorId: $floorId, patch: $data) {\n    id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetFloors=o(t,"GetFloors"),e.exports.ModelFloors=o(t,"ModelFloors"),e.exports.FloorDetails=o(t,"FloorDetails"),e.exports.PatchFloor=o(t,"PatchFloor")},96069:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetLabels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LabelDetails"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LabelPatch"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LabelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Label"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:1042}};t.loc.source={body:"# Read all labels for the given model\nquery GetLabels($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    labels (includeDisabled: $includeDisabled) {\n      ...LabelDetails\n    }\n  }\n}\n\n# Create a new label\nmutation AddLabel ($modelId: ID!, $labelId: ID, $data: LabelDetails!, $includeLayers: Boolean!) {\n  addLabel(modelId: $modelId, labelId: $labelId, label: $data) {\n    ...LabelDetails\n  }\n}\n\n# Update a single label\nmutation PatchLabel ($modelId: ID!, $labelId: ID!, $data: LabelPatch!, $includeLayers: Boolean!) {\n  patchLabel(modelId: $modelId, , labelId: $labelId, patch: $data) {\n    ...LabelDetails\n  }\n}\n\n# Deletes a single label\nmutation DeleteLabel ($modelId: ID!, ,$labelId: ID!) {\n  deleteLabel(modelId: $modelId, labelId: $labelId)\n}\n\n# Default Label properties used by Showcase and Workshop\nfragment LabelDetails on Label {\n  id\n  position { x y z }\n  floor { id meshId }\n  room { id meshId }\n  layer @include(if: $includeLayers) { id }\n  label\n  enabled\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetLabels=o(t,"GetLabels"),e.exports.AddLabel=o(t,"AddLabel"),e.exports.PatchLabel=o(t,"PatchLabel"),e.exports.DeleteLabel=o(t,"DeleteLabel"),e.exports.LabelDetails=o(t,"LabelDetails")},92711:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderedLists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderedListByName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddOrderedList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entries"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EntryInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOrderedList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"entries"},value:{kind:"Variable",name:{kind:"Name",value:"entries"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddOrderedListWithLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entries"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EntryInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOrderedList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"entries"},value:{kind:"Variable",name:{kind:"Name",value:"entries"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderedListDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OrderedList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"entries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntryDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EntryDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:1324}};t.loc.source={body:"\n# get the ordered lists for the specified model\nquery GetOrderedLists($modelId: ID!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    orderedLists(ids: []) {\n      ...OrderedListDetails\n    }\n  }\n}\n\n# get an ordered list by name for the specified view\nquery GetOrderedListByName($modelId: ID!, $label: String!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    orderedLists(label: $label) {\n      ...OrderedListDetails\n    }\n  }\n}\n\n# add a new ordered list\nmutation AddOrderedList($modelId: ID!, $label: String!, $description: String!, $entries: [EntryInput!], $includeLayers: Boolean!) {\n  addOrderedList(modelId: $modelId, , label: $label, description: $description, entries: $entries) {\n    ...OrderedListDetails\n  }\n}\n\nmutation AddOrderedListWithLayer($modelId: ID!, $label: String!, $description: String!, $layerId: ID!, $entries: [EntryInput!], $includeLayers: Boolean!) {\n  addOrderedList(modelId: $modelId, , label: $label, description: $description, layerId: $layerId, entries: $entries) {\n    ...OrderedListDetails\n  }\n}\n\n# Default OrderedList properties used by Showcase and Workshop\nfragment OrderedListDetails on OrderedList {\n  id\n  label\n  layer @include(if: $includeLayers) { id }\n  entries {\n    ...EntryDetails\n  }\n}\n\n# Default Entry properties\nfragment EntryDetails on Entry {\n  id\n  type\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetOrderedLists=o(t,"GetOrderedLists"),e.exports.GetOrderedListByName=o(t,"GetOrderedListByName"),e.exports.AddOrderedList=o(t,"AddOrderedList"),e.exports.AddOrderedListWithLayer=o(t,"AddOrderedListWithLayer"),e.exports.OrderedListDetails=o(t,"OrderedListDetails"),e.exports.EntryDetails=o(t,"EntryDetails")},27140:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMattertags"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RefreshTagFileAttachments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddMattertag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MattertagDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMattertag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertagId"},value:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertag"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteMattertag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteMattertag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertagId"},value:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MattertagDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mattertag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchorPosition"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stemNormal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"media"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExternalAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"objectAnnotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"defaultKeywords"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"keywords"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]}]}}],loc:{start:0,end:1529}};i.loc.source={body:'#import "./attachments.gql"\n\n# read all mattertags for the specified model\nquery GetMattertags($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id,\n    mattertags(includeDisabled: $includeDisabled) {\n      ...MattertagDetails\n    }\n  }\n}\n\n# refresh file attachment expiring resources for all mattertags\nquery RefreshTagFileAttachments($modelId: ID!, $includeDisabled: Boolean!) {\n  model(id: $modelId) {\n    id,\n    mattertags(includeDisabled: $includeDisabled) {\n      id\n      fileAttachments { ...FileAttachmentDetails }\n    }\n  }\n}\n\n# add a new mattertag\nmutation AddMattertag($modelId:ID!, $mattertagId: ID, $data: MattertagDetails!) {\n  addMattertag(modelId: $modelId, mattertagId: $mattertagId, mattertag: $data) {\n    id\n    created\n    modified\n  }\n}\n\n# delete an existing tag by id\nmutation DeleteMattertag($modelId: ID!, $mattertagId: ID!) {\n  deleteMattertag(modelId: $modelId, mattertagId: $mattertagId)\n}\n\n# common Mattertag properties used by Showcase and Workshop\nfragment MattertagDetails on Mattertag {\n  id\n  label\n  description\n  color\n  enabled\n  floor { id, meshId }\n  room { id, meshId }\n  layer @include(if: $includeLayers) { id } \n  anchorPosition { x y z }\n  stemEnabled\n  stemNormal { x, y, z }\n  stemLength\n  media\n  mediaType\n  created\n  modified\n  externalAttachments { ...ExternalAttachmentDetails }\n  fileAttachments { ...FileAttachmentDetails }\n  objectAnnotation {\n    id\n    classification {\n      defaultKeywords\n    }\n  }\n  keywords\n  icon\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(n(17246).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var s={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function l(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(s[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),s[e.name.value]=t}})),e.exports=i,e.exports.GetMattertags=l(i,"GetMattertags"),e.exports.RefreshTagFileAttachments=l(i,"RefreshTagFileAttachments"),e.exports.AddMattertag=l(i,"AddMattertag"),e.exports.DeleteMattertag=l(i,"DeleteMattertag"),e.exports.MattertagDetails=l(i,"MattertagDetails")},64639:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMeasurements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPathDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"path"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pathId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPathPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"pathId"},value:{kind:"Variable",name:{kind:"Name",value:"pathId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pathId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"pathId"},value:{kind:"Variable",name:{kind:"Name",value:"pathId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MeasurementDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPath"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lineType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:903}};t.loc.source={body:"\nquery GetMeasurements($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id,\n    measurementPaths(includeDisabled: $includeDisabled) {\n      ...MeasurementDetails\n    }\n  }\n}\n\nmutation AddMeasurement($modelId: ID!, $data: MeasurementPathDetails!) {\n  addMeasurementPath(modelId: $modelId, path: $data) {\n    id\n  }\n}\n\nmutation PatchMeasurement($modelId: ID!, $pathId: ID!, $data: MeasurementPathPatch!) {\n  patchMeasurementPath(modelId: $modelId, , pathId: $pathId, patch: $data) {\n    id\n  }\n}\n\nmutation DeleteMeasurement($modelId: ID!, $pathId: ID!) {\n  deleteMeasurementPath(modelId: $modelId, , pathId: $pathId)\n}\n\nfragment MeasurementDetails on MeasurementPath {\n  id\n  lineType\n  label\n  enabled\n  points {\n    position { x y z }\n    floor { id meshId }\n    room { id meshId }\n  }\n  layer @include(if: $includeLayers) { id }\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetMeasurements=o(t,"GetMeasurements"),e.exports.AddMeasurement=o(t,"AddMeasurement"),e.exports.PatchMeasurement=o(t,"PatchMeasurement"),e.exports.DeleteMeasurement=o(t,"DeleteMeasurement"),e.exports.MeasurementDetails=o(t,"MeasurementDetails")},14991:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rootModelId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discoverable"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelStatus"},directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"urlBrandingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialSharingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vrEnabled"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicationDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelPublicationDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"published"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastPublished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultViewId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contact"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelAvailableAssets"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rootModelId"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelStatus"},directives:[]},{kind:"Field",name:{kind:"Name",value:"assets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"meshes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"formats"},value:{kind:"StringValue",value:"dam",block:!1}},{kind:"Argument",name:{kind:"Name",value:"resolutions"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"50k",block:!1},{kind:"StringValue",value:"500k",block:!1}]}},{kind:"Argument",name:{kind:"Name",value:"compressions"},value:{kind:"EnumValue",value:"none"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeshDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"textures"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextureDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tilesets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TilesetDetails"},directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"lod"},name:{kind:"Name",value:"policy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"StringValue",value:"spaces.chunked.mesh.lod",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelStatus"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MeshDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mesh"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TextureDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Texture"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quality"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TilesetDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tileset"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetDepth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetPreset"},arguments:[],directives:[]}]}}],loc:{start:0,end:1289}};t.loc.source={body:'# Publicly available model details. Must not contain any private fields.\nfragment ModelDetails on Model {\n  id\n  rootModelId\n  name\n  visibility\n  discoverable\n  ...ModelStatus\n  image { ...PhotoDetails }\n  publication { ...PublicationDetails }\n  options {\n    urlBrandingEnabled\n    socialSharingEnabled\n    vrEnabled\n  }\n}\n\nfragment PublicationDetails on ModelPublicationDetails {\n  address\n  published\n  lastPublished\n  presentedBy\n  summary\n  defaultViewId\n  description\n  externalUrl\n  contact {\n    name\n    email\n    phoneNumber\n  }\n}\n\nfragment ModelAvailableAssets on Model {\n  id\n  rootModelId\n  ...ModelStatus\n  assets {\n    meshes(formats: "dam", resolutions: ["50k", "500k"], compressions: none) { ...MeshDetails }\n    textures { ...TextureDetails }\n    tilesets { ...TilesetDetails }\n  }\n  lod: policy(name: "spaces.chunked.mesh.lod") {\n    ... on PolicyOptions {\n      options\n    }\n  }\n}\n\nfragment ModelStatus on Model {\n  state\n}\n\nfragment MeshDetails on Mesh {\n  id\n  status\n  filename\n  format\n  resolution\n  url\n  validUntil\n}\n\nfragment TextureDetails on Texture {\n  id\n  status\n  format\n  resolution\n  quality\n  urlTemplate\n  validUntil\n}\n\nfragment TilesetDetails on Tileset {\n  status\n  tilesetVersion\n  url\n  urlTemplate\n  validUntil\n  tilesetDepth\n  tilesetPreset\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.ModelDetails=o(t,"ModelDetails"),e.exports.PublicationDetails=o(t,"PublicationDetails"),e.exports.ModelAvailableAssets=o(t,"ModelAvailableAssets"),e.exports.ModelStatus=o(t,"ModelStatus"),e.exports.MeshDetails=o(t,"MeshDetails"),e.exports.TextureDetails=o(t,"TextureDetails"),e.exports.TilesetDetails=o(t,"TilesetDetails")},82038:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelPlayerOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationOptions"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelOptions"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defurnishViewEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dollhouseEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dollhouseLabelsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorSelectEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorplanEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highlightReelEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labelsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"measurements"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roomBoundsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialSharingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"spaceSearchEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourButtonsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourDollhousePanSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourFastTransitionsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanAngle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourTransitionSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourTransitionTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourZoomDuration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unitType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlBrandingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vrEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicationOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelPublicationOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactEmail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contactName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contactPhone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelSummary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUrl"},arguments:[],directives:[]}]}}],loc:{start:0,end:854}};t.loc.source={body:"# Model fields to populate PlayerOptions\nfragment ModelPlayerOptions on Model {\n  publication {\n    options { ...PublicationOptions }\n  }\n  options { ...ModelOptions }\n}\n\nfragment ModelOptions on ModelOptions {\n  backgroundColor\n  defurnishViewEnabled\n  dollhouseEnabled\n  dollhouseLabelsEnabled\n  floorSelectEnabled\n  floorplanEnabled\n  highlightReelEnabled\n  labelsEnabled\n  measurements\n  roomBoundsEnabled\n  socialSharingEnabled\n  spaceSearchEnabled\n  tourButtonsEnabled\n  tourDollhousePanSpeed\n  tourFastTransitionsEnabled\n  tourPanAngle\n  tourPanDirection\n  tourPanSpeed\n  tourTransitionSpeed\n  tourTransitionTime\n  tourZoomDuration\n  unitType\n  urlBrandingEnabled\n  vrEnabled\n}\n\nfragment PublicationOptions on ModelPublicationOptions {\n  contactEmail\n  contactName\n  contactPhone\n  modelName\n  modelSummary\n  presentedBy\n  address\n  externalUrl\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.ModelPlayerOptions=o(t,"ModelPlayerOptions"),e.exports.ModelOptions=o(t,"ModelOptions"),e.exports.PublicationOptions=o(t,"PublicationOptions")},25e3:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlayLayerExists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"overlayLayers"},name:{kind:"Name",value:"layers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.overlay.assets",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlayViewIds"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rootModelId"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"defurnishViews"},name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"StringValue",value:"matterport.model.defurnished",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"onError"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"not.found",block:!1}},{kind:"Argument",name:{kind:"Name",value:"null"},value:{kind:"BooleanValue",value:!0}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:529}};t.loc.source={body:'\n# presence of overlay layers hints the current loaded view has alternate sweeps (Defunrnish)\nfragment OverlayLayerExists on Model {\n  overlayLayers: layers(types: ["matterport.overlay.assets"]) {\n    id\n  }\n}\n\n# we need both base and defurnish view id\'s in order to manually sync position/placement writes across\nfragment OverlayViewIds on Model {\n  rootModelId\n  # defurnish view, if exists\n  defurnishViews: views(types: "matterport.model.defurnished") @onError(id: "not.found", null: true) {\n    model {\n      id\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.OverlayLayerExists=o(t,"OverlayLayerExists"),e.exports.OverlayViewIds=o(t,"OverlayViewIds")},10600:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PhotoDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rootModelId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"downloadUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolutions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"thumbnailUrl"},name:{kind:"Name",value:"resizeUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolution"},value:{kind:"EnumValue",value:"thumbnail"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"presentationUrl"},name:{kind:"Name",value:"resizeUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolution"},value:{kind:"EnumValue",value:"presentation"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"w"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"zoom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorVisibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sequence"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pano"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placement"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:597}};t.loc.source={body:"\nfragment PhotoDetails on Photo {\n  id\n  label\n  classification\n  category\n  model {\n    id\n    rootModelId\n  }\n  height\n  width\n  created\n  modified\n  status\n  filename\n  format\n  url\n  downloadUrl\n  resolutions\n  type\n  origin\n  validUntil\n  thumbnailUrl: resizeUrl(resolution: thumbnail)\n  presentationUrl: resizeUrl(resolution: presentation)\n  snapshotLocation {\n    viewMode\n    position { x y z }\n    rotation { x y z w }\n    zoom\n    floorVisibility {\n      id\n      meshId\n      sequence\n    }\n    anchor {\n      id\n      tags\n      pano {\n        id\n        placement\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.PhotoDetails=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(t,"PhotoDetails")},9192:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPlugins"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sdkPlugins"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PluginDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeletePlugin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteSdkPlugin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePlugin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"patch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SdkPluginPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateSdkPlugin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"patch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PluginDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PluginDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SdkPlugin"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"versions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredPolicies"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}],loc:{start:0,end:764}};i.loc.source={body:'#import "./attachments.gql"\n\n# read all plugins for the specified model\nquery GetPlugins($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    sdkPlugins {\n      ...PluginDetails\n    }\n  }\n}\n\n# delete an existing plugin by id\nmutation DeletePlugin($modelId: ID!, $name: String!) {\n  deleteSdkPlugin(modelId: $modelId, name: $name)\n}\n\nmutation UpdatePlugin($modelId: ID!, $name: String!, $patch: SdkPluginPatch!) {\n  updateSdkPlugin(\n    modelId: $modelId\n    name: $name\n    patch: $patch\n  ) {\n    ...PluginDetails\n  }\n}\n\n# common Plugin properties used by Showcase and Workshop\nfragment PluginDetails on SdkPlugin {\n  id\n  name\n  currentVersion\n  description\n  versions {\n    version\n    requiredPolicies\n  }\n  fileAttachments {\n    ...FileAttachmentDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(n(17246).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var s={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function l(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(s[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),s[e.name.value]=t}})),e.exports=i,e.exports.GetPlugins=l(i,"GetPlugins"),e.exports.DeletePlugin=l(i,"DeletePlugin"),e.exports.UpdatePlugin=l(i,"UpdatePlugin"),e.exports.PluginDetails=l(i,"PluginDetails")},3718:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelPolicies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelPolicies"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelPolicies"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[{kind:"Argument",name:{kind:"Name",value:"names"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"spaces.tours_v2",block:!1},{kind:"StringValue",value:"spaces.notes",block:!1},{kind:"StringValue",value:"spaces.visitor.subscriber.prompt",block:!1},{kind:"StringValue",value:"spaces.webgl.layers.mode",block:!1},{kind:"StringValue",value:"spaces.elements",block:!1},{kind:"StringValue",value:"spaces.chunked.mesh.lod",block:!1},{kind:"StringValue",value:"org.spaces.auto.reel",block:!1},{kind:"StringValue",value:"spaces.aws.twinmaker.sdk.access",block:!1},{kind:"StringValue",value:"spaces.sdk.qa",block:!1},{kind:"StringValue",value:"spaces.plugins",block:!1},{kind:"StringValue",value:"spaces.plugins.config",block:!1},{kind:"StringValue",value:"spaces.plugins.debug",block:!1},{kind:"StringValue",value:"spaces.plugins.groups",block:!1},{kind:"StringValue",value:"org.spaces.importtags",block:!1},{kind:"StringValue",value:"perm.spaces.workshop.edit",block:!1},{kind:"StringValue",value:"spaces.bundles.mp.defurnish",block:!1},{kind:"StringValue",value:"perm.spaces.notes.view",block:!1},{kind:"StringValue",value:"perm.spaces.notes.edit",block:!1},{kind:"StringValue",value:"perm.spaces.notes.delete",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFlag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyValue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFeature"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1333}};t.loc.source={body:'\n# get model policies available to all users\nquery GetModelPolicies($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    ...ModelPolicies\n  }\n}\n\nfragment ModelPolicies on Model {\n  # Subset of policies used by our apps\n  # NOTE: in Showcase these will be prefetched as anonymous, so user-specific\n  # policy values cannot be used there unless you explicitly requery them.\n  policies(names: [\n    # Model-level:\n    "spaces.tours_v2",\n    "spaces.notes",\n    "spaces.visitor.subscriber.prompt",\n    "spaces.webgl.layers.mode",\n    "spaces.elements",\n    "spaces.chunked.mesh.lod",\n\n    # Org-level:\n    "org.spaces.auto.reel", \n\n    # SDK/Plugins:\n    "spaces.aws.twinmaker.sdk.access",\n    "spaces.sdk.qa",\n    "spaces.plugins",\n    "spaces.plugins.config",\n    "spaces.plugins.debug",\n    "spaces.plugins.groups",\n\n    # workshop plugin enablement\n    "org.spaces.importtags",\n\n    # Known to vary by user - will not exist if user is not logged in\n    "perm.spaces.workshop.edit",\n    "spaces.bundles.mp.defurnish",\n    "perm.spaces.notes.view",\n    "perm.spaces.notes.edit",\n    "perm.spaces.notes.delete",\n  ]) {\n    name\n    type: __typename\n    ...on PolicyFlag {\n      enabled\n    }\n    ...on PolicyOptions {\n      options\n    }\n    ...on PolicyValue {\n      value\n    }\n    ...on PolicyFeature {\n      availability\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetModelPolicies=o(t,"GetModelPolicies"),e.exports.ModelPolicies=o(t,"ModelPolicies")},3073:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelPrefetch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sweepTags"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},defaultValue:{kind:"ListValue",values:[{kind:"StringValue",value:"showcase",block:!1}]},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"view"},value:{kind:"EnumValue",value:"default"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelAvailableAssets"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlayLayerExists"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OverlayViewIds"},directives:[]},{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tags"},value:{kind:"Variable",name:{kind:"Name",value:"sweepTags"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnchorLocationDetails"},directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublicModelViews"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRootPrefetch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewLookup"}},type:{kind:"NamedType",name:{kind:"Name",value:"ViewLookupMode"}},defaultValue:{kind:"EnumValue",value:"root"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"view"},value:{kind:"Variable",name:{kind:"Name",value:"viewLookup"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelDetails"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelPlayerOptions"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelFloors"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelRooms"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelPolicies"},directives:[]}]}}]}}],loc:{start:0,end:1747}};i.loc.source={body:'# Make sure the following imports do not import files themselves, it seems\n# to mess up the platform side parsing. That is why you see these\n# -fragment.gql files below.\n\n#import "./model-fragments.gql"\n#import "./model-options-fragments.gql"\n#import "./photo-fragments.gql"\n#import "./floors.gql"\n#import "./rooms.gql"\n#import "./overlay-fragments.gql"\n#import "./sweeps-fragments.gql"\n#import "./view-fragments.gql"\n#import "./policy.gql"\n\n# Preloaded model data to be embedded into Showcase HTML page,\n# only load data that is required for Showcase to start,\n# not varied by user, and safe for long-term-cache type behavior.\n# Includes the default view.\n# (ie. NO Mattertags)\nquery GetModelPrefetch($modelId: ID!, $sweepTags: [String!] = ["showcase"]) {\n  model(id: $modelId, view: default) {\n    # MdsModelAssetsStore\n    ...ModelAvailableAssets\n    ...OverlayLayerExists\n    ...OverlayViewIds\n\n    # MdsSweepStore\n    # an alternative that lets me pass $sweepTags: null to get all sweeps\n    # in a workshop context\n    locations(tags: $sweepTags) {\n      ...AnchorLocationDetails\n    }\n\n    # LayersData.views - filtered to public only\n    ...PublicModelViews\n  }\n}\n\nquery GetRootPrefetch($modelId: ID!, $viewLookup: ViewLookupMode = root) {\n  model(id: $modelId, view: $viewLookup) {\n    # MdsModelStore\n    ...ModelDetails\n\n    # MdsPlayerOptionsStore\n    # adds to the subset from the ModelDetails fragment\n    ...ModelPlayerOptions\n\n    # MdsFloorStore\n    ...ModelFloors\n\n    # MdsRoomStore\n    ...ModelRooms\n\n    # MdsPolicyStore\n    # Policy values here will always be those for anonymous users; if any of them vary by\n    # user and we care about them in Showcase, they\'ll need to be explicitly requeried.\n    ...ModelPolicies\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}function s(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){s(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){s(e,t)})),e.definitions&&e.definitions.forEach((function(e){s(e,t)}))}i.definitions=i.definitions.concat(o(n(14991).definitions)),i.definitions=i.definitions.concat(o(n(82038).definitions)),i.definitions=i.definitions.concat(o(n(10600).definitions)),i.definitions=i.definitions.concat(o(n(98585).definitions)),i.definitions=i.definitions.concat(o(n(26172).definitions)),i.definitions=i.definitions.concat(o(n(25e3).definitions)),i.definitions=i.definitions.concat(o(n(77583).definitions)),i.definitions=i.definitions.concat(o(n(31595).definitions)),i.definitions=i.definitions.concat(o(n(3718).definitions));var a={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;s(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GetModelPrefetch=c(i,"GetModelPrefetch"),e.exports.GetRootPrefetch=c(i,"GetRootPrefetch")},32126:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRoomBounds"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"floors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeUsed"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vertices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"centerLineBias"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thickness"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"openings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"relativeCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lowerElevation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"classifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidence"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"boundary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"holes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"dimensionEstimates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"areaIndoor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"areaIndoorWithWalls"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"depth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"units"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"ceiling"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"planes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"measurements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bottom"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"maxHeight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minHeight"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"keywords"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRoomClassifications"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RoomClassifications"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RoomClassifications"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roomClassifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultKeywords"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1205}};t.loc.source={body:"query GetRoomBounds($modelId: ID!) {\n  model(id: $modelId) {\n    floors {\n      id\n      layer { id }\n      edges(includeUsed: true) {\n        id\n        layer { id }\n        type\n        vertices { id layer { id } position { x y }}\n        centerLineBias\n        thickness\n        openings {\n          id\n          width\n          relativeCenter\n          type\n          height\n          lowerElevation\n          layer { id }\n        }\n      }\n    }\n    rooms {\n      id\n      layer { id }\n      floor { id }\n      classifications {\n        id\n        confidence\n        label\n      }\n      boundary {\n        edges { id }\n      }\n      holes {\n        edges { id }\n      }\n      dimensionEstimates {\n        area\n        areaIndoor\n        areaIndoorWithWalls\n        width\n        depth\n        height\n        units\n      }\n      ceiling {\n        planes {\n          measurements {\n            bottom { x y z }\n            height\n          }\n        }\n        maxHeight\n        minHeight\n      }\n      label\n      keywords\n    }\n  }\n}\n\nquery GetRoomClassifications {\n  ...RoomClassifications\n}\n\nfragment RoomClassifications on Query {\n  roomClassifications {\n    id\n    label\n    defaultKeywords\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetRoomBounds=o(t,"GetRoomBounds"),e.exports.GetRoomClassifications=o(t,"GetRoomClassifications"),e.exports.RoomClassifications=o(t,"RoomClassifications")},26172:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRooms"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelRooms"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelRooms"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RoomDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RoomDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelRoom"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"depth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"areaFloor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]}]}}],loc:{start:0,end:312}};t.loc.source={body:"\nquery GetRooms ($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    ...ModelRooms\n  }\n}\n\nfragment ModelRooms on Model {\n  rooms {\n    ...RoomDetails\n  }\n}\n\nfragment RoomDetails on ModelRoom {\n  id\n  meshId\n  floor {\n    id\n    meshId\n  }\n  dimensions {\n    height\n    width\n    depth\n    areaFloor\n  }\n  tags\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.GetRooms=o(t,"GetRooms"),e.exports.ModelRooms=o(t,"ModelRooms"),e.exports.RoomDetails=o(t,"RoomDetails")},77583:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SkyboxDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SkyboxPanorama"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileResolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileUrlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SkyboxUrlDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PanoramicImageLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolutions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"skyboxes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SkyboxDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AnchorLocationDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AnchorLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"index"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"neighbors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pano"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sweepUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placement"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"w"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SkyboxUrlDetails"},directives:[]}]}}]}}],loc:{start:0,end:542}};t.loc.source={body:"fragment SkyboxDetails on SkyboxPanorama {\n  resolution\n  status\n  urlTemplate\n  tileResolution\n  tileCount\n  tileUrlTemplate\n  validUntil\n}\n\nfragment SkyboxUrlDetails on PanoramicImageLocation {\n  id\n  resolutions\n  skyboxes { ...SkyboxDetails }\n}\n\nfragment AnchorLocationDetails on AnchorLocation {\n  id\n  index\n  floor { id, meshId }\n  room { id, meshId }\n  neighbors\n  tags\n  position { x y z }\n  pano {\n    id\n    sweepUuid\n    label\n    placement\n    source\n    position { x y z }\n    rotation { x y z w }\n    ...SkyboxUrlDetails\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.SkyboxDetails=o(t,"SkyboxDetails"),e.exports.SkyboxUrlDetails=o(t,"SkyboxUrlDetails"),e.exports.AnchorLocationDetails=o(t,"AnchorLocationDetails")},31595:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicModelViews"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.model.defurnished",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1},{kind:"StringValue",value:"matterport.user.insights",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ViewDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelView"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rootModelId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visible"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:576}};t.loc.source={body:'# Subset of view types that are available to public users, i.e. safe for prefetch\nfragment PublicModelViews on Model {\n  views(types: [\n    "matterport.model.default",\n    "matterport.model.layered",\n    "matterport.model.defurnished",\n    "matterport.user.view",\n    "matterport.user.insights"\n  ]) {\n    ...ViewDetails\n  }\n}\n\nfragment ViewDetails on ModelView {\n  id\n  type\n  name\n  enabled\n  created\n  modified\n  model {\n    rootModelId\n  }\n  layers {\n    layer {\n      id\n      created\n      modified\n      type\n      name\n      label\n    }\n    position\n    visible\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t,e.exports.PublicModelViews=o(t,"PublicModelViews"),e.exports.ViewDetails=o(t,"ViewDetails")},43066:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMergeDiff"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeDiff"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"src"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"typesModified"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"viewId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddUserView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"userDataLayer"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"masks"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"deleteLayersIfOrphaned"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"deleteLayersIfOrphaned"},value:{kind:"Variable",name:{kind:"Name",value:"deleteLayersIfOrphaned"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RenameView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetViewEnabled"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertRootViewToLayered"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertRootViewToLayered"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertRootViewToLegacy"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertRootViewToLegacy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"deleteLayersIfOrphaned"},value:{kind:"BooleanValue",value:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MoveViewDataToLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LayeredViewSelection"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moveViewData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"srcViewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"destLayerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"viewSelections"},value:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteFromView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LayeredViewSelection"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteFromView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"viewSelections"},value:{kind:"Variable",name:{kind:"Name",value:"viewSelections"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DuplicateView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}},{kind:"Argument",name:{kind:"Name",value:"userDataLayer"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"masks"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}}]}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PublishView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMutator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"src"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSessionDiff"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"base"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.model.default",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"view"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.workshop.session",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:4185}};i.loc.source={body:'#import "./labels.gql"\n#import "./lists.gql"\n#import "./mattertags.gql"\n#import "./measurements.gql"\n#import "./view-fragments.gql"\n\n# Gets the data types that have changed between a view and the base model\nquery GetMergeDiff($viewId: ID!) {\n  model(id: $viewId) {\n    id\n    mergeDiff {\n      src\n      dest\n      typesModified\n    }\n  }\n}\n\n# Get available views for a model\nquery GetViews($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    views {\n      ...ViewDetails\n    }\n  }\n}\n\n# Get one view\nquery GetView($viewId: ID!) {\n  model(id: $viewId) {\n    id\n    views(ids: [$viewId]) {\n      ...ViewDetails\n    }\n  }\n}\n\n# Adds a new User View using the base Model ID.\n# By default, it masks view-based data layer items\nmutation AddUserView($modelId: ID!, $name: String!) {\n  addView(\n    id: $modelId,\n    name: $name,\n    userDataLayer: {\n      masks: [\n        { type: HighlightReel },\n        { type: Label },\n        { type: Mattertag },\n        { type: MeasurementPath },\n        { type: Note },\n        { type: ObjectAnnotation },\n        { type: OrderedList },\n      ]\n    }\n  ) {\n    ...ViewDetails\n  }\n}\n\n# Deletes a View using the base Model ID and the viewId to delete\n# deleteLayersIfOphaned: true will delete the Common layers if orphaned,\n# dedicated layers are deleted in all cases?\nmutation DeleteView($modelId: ID!, $viewId: ID!, $deleteLayersIfOrphaned: Boolean) {\n  deleteView(id: $modelId, viewId: $viewId, deleteLayersIfOrphaned: $deleteLayersIfOrphaned)\n}\n\nmutation RenameView($viewId: ID!, $name: String!) {\n  patchView(id: $viewId, name: $name) {\n    name\n  }\n}\n\nmutation SetViewEnabled($viewId: ID!, $enabled: Boolean) {\n  patchView(id: $viewId, enabled: $enabled) {\n    enabled\n  }\n}\n\nmutation ConvertRootViewToLayered($modelId: ID!) {\n  convertRootViewToLayered(id: $modelId) {\n    ...ViewDetails\n  }\n}\n\nmutation ConvertRootViewToLegacy($modelId: ID!) {\n  convertRootViewToLegacy(id: $modelId, deleteLayersIfOrphaned: false) {\n    ...ViewDetails\n  }\n}\n\nmutation MoveViewDataToLayer($viewId: ID!, $layerId: ID, $viewSelections: [LayeredViewSelection!]) {\n  moveViewData(\n    id: $viewId\n    srcViewId: $viewId\n    destLayerId: $layerId\n    viewSelections: $viewSelections\n  )\n}\n\n# Deletes items from view\nmutation DeleteFromView($viewId: ID!, $viewSelections: [LayeredViewSelection!]) {\n  deleteFromView(id: $viewId, viewSelections: $viewSelections)\n}\n\nmutation DuplicateView($modelId: ID!, $viewId: ID!, $name: String!, $enabled: Boolean) {\n addView(\n    id: $modelId\n    name: $name\n    enabled: $enabled\n    userDataLayer: {\n      masks: [\n        { type: HighlightReel },\n        { type: Label },\n        { type: Mattertag },\n        { type: MeasurementPath },\n        { type: Note },\n        { type: ObjectAnnotation },\n        { type: OrderedList },\n      ]\n    },\n    copyDataFrom: [\n      { viewId: $viewId, type: HighlightReel },\n      { viewId: $viewId, type: Label },\n      { viewId: $viewId, type: Mattertag },\n      { viewId: $viewId, type: MeasurementPath },\n      { viewId: $viewId, type: Note },\n      { viewId: $viewId, type: ObjectAnnotation },\n      { viewId: $viewId, type: OrderedList },\n    ]\n    generateIds: true,\n  ) {\n    ...ViewDetails\n  }\n}\n\n# Merges the given view into the base model view\nmutation PublishView($viewId: ID!) {\n  mergeMutator(src: $viewId) {\n    merge {\n      id\n    }\n  }\n}\n\n# Gets the data that has changed between the Workshop session and base model\nquery GetSessionDiff($modelId: ID!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    base: view(type: "matterport.model.default") {\n      id\n      model {\n        labels(includeDisabled: true) { ...LabelDetails }\n        mattertags(includeDisabled: true) { ...MattertagDetails }\n        measurementPaths(includeDisabled: true) { ...MeasurementDetails }\n        orderedLists(ids: []) { ...OrderedListDetails }\n      }\n    }\n    view: view(type: "matterport.workshop.session") {\n      id\n      model {\n        labels(includeDisabled: true) { id modified }\n        mattertags(includeDisabled: true) { id modified }\n        measurementPaths(includeDisabled: true) { id modified }\n        orderedLists(ids: []) { ...OrderedListDetails }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}function s(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){s(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){s(e,t)})),e.definitions&&e.definitions.forEach((function(e){s(e,t)}))}i.definitions=i.definitions.concat(o(n(96069).definitions)),i.definitions=i.definitions.concat(o(n(92711).definitions)),i.definitions=i.definitions.concat(o(n(27140).definitions)),i.definitions=i.definitions.concat(o(n(64639).definitions)),i.definitions=i.definitions.concat(o(n(31595).definitions));var a={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}i.definitions.forEach((function(e){if(e.name){var t=new Set;s(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GetMergeDiff=c(i,"GetMergeDiff"),e.exports.GetViews=c(i,"GetViews"),e.exports.GetView=c(i,"GetView"),e.exports.AddUserView=c(i,"AddUserView"),e.exports.DeleteView=c(i,"DeleteView"),e.exports.RenameView=c(i,"RenameView"),e.exports.SetViewEnabled=c(i,"SetViewEnabled"),e.exports.ConvertRootViewToLayered=c(i,"ConvertRootViewToLayered"),e.exports.ConvertRootViewToLegacy=c(i,"ConvertRootViewToLegacy"),e.exports.MoveViewDataToLayer=c(i,"MoveViewDataToLayer"),e.exports.DeleteFromView=c(i,"DeleteFromView"),e.exports.DuplicateView=c(i,"DuplicateView"),e.exports.PublishView=c(i,"PublishView"),e.exports.GetSessionDiff=c(i,"GetSessionDiff")},63580:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype.toJSON;"function"==typeof t||(0,i.default)(0),e.prototype.inspect=t,r.default&&(e.prototype[r.default]=t)};var i=o(n(61321)),r=o(n(98493));function o(e){return e&&e.__esModule?e:{default:e}}},29657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return l(e,[])};var i,r=(i=n(98493))&&i.__esModule?i:{default:i};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var s=10,a=2;function l(e,t){switch(o(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),i=function(e){var t=e[String(r.default)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==i){var o=i.call(e);if(o!==e)return"string"==typeof o?o:l(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>a)return"[Array]";for(var n=Math.min(s,e.length),i=e.length-n,r=[],o=0;o<n;++o)r.push(l(e[o],t));1===i?r.push("... 1 more item"):i>1&&r.push("... ".concat(i," more items"));return"["+r.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>a)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";var i=n.map((function(n){return n+": "+l(e[n],t)}));return"{ "+i.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},61321:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}},98493:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.default=n},76257:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(e){return null!=e&&"string"==typeof e.kind},t.Token=t.Location=void 0;var i,r=(i=n(63580))&&i.__esModule?i:{default:i};var o=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();t.Location=o,(0,r.default)(o);var s=function(){function e(e,t,n,i,r,o,s){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=r,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();t.Token=s,(0,r.default)(s)},9111:(e,t,n)=>{"use strict";t.YR=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,i=void 0,c=Array.isArray(e),u=[e],d=-1,h=[],p=void 0,f=void 0,m=void 0,g=[],v=[],y=e;do{var E=++d===u.length,S=E&&0!==h.length;if(E){if(f=0===v.length?void 0:g[g.length-1],p=m,m=v.pop(),S){if(c)p=p.slice();else{for(var b={},O=0,_=Object.keys(p);O<_.length;O++){var T=_[O];b[T]=p[T]}p=b}for(var A=0,w=0;w<h.length;w++){var N=h[w][0],I=h[w][1];c&&(N-=A),c&&null===I?(p.splice(N,1),A++):p[N]=I}}d=i.index,u=i.keys,h=i.edits,c=i.inArray,i=i.prev}else{if(f=m?c?d:u[d]:void 0,null==(p=m?m[f]:y))continue;m&&g.push(f)}var R,k=void 0;if(!Array.isArray(p)){if(!(0,o.isNode)(p))throw new Error("Invalid AST Node: ".concat((0,r.default)(p),"."));var L=l(t,p.kind,E);if(L){if((k=L.call(t,p,f,m,g,v))===a)break;if(!1===k){if(!E){g.pop();continue}}else if(void 0!==k&&(h.push([f,k]),!E)){if(!(0,o.isNode)(k)){g.pop();continue}p=k}}}if(void 0===k&&S&&h.push([f,p]),E)g.pop();else i={inArray:c,index:d,keys:u,edits:h,prev:i},u=(c=Array.isArray(p))?p:null!==(R=n[p.kind])&&void 0!==R?R:[],d=-1,h=[],m&&v.push(m),m=p}while(void 0!==i);0!==h.length&&(y=h[h.length-1][1]);return y};var i,r=(i=n(29657))&&i.__esModule?i:{default:i},o=n(76257);var s={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};var a=Object.freeze({});function l(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var r=n?i.leave:i.enter;if("function"==typeof r)return r}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}},30592:(e,t,n)=>{"use strict";var i=n(70453)("%Object.defineProperty%",!0),r=function(){if(i)try{return i({},"a",{value:1}),!0}catch(e){return!1}return!1};r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return 1!==i([],"length",{value:1}).length}catch(e){return!0}},e.exports=r},80024:e=>{"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},64039:(e,t,n)=>{"use strict";var i=n.g.Symbol,r=n(41333);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},41333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},19030:(e,t,n)=>{"use strict";var i=n(66743);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},9957:(e,t,n)=>{"use strict";var i=Function.prototype.call,r=Object.prototype.hasOwnProperty,o=n(63639);e.exports=o.call(i,r)},74921:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,i=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,s=function(e,t){for(var n=[],i=t||0,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),a=n(0,r.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=r.apply(this,i(s,arguments));return Object(t)===t?t:this}return r.apply(e,i(s,arguments))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},63639:(e,t,n)=>{"use strict";var i=n(74921);e.exports=Function.prototype.bind||i},37172:e=>{function t(e){var t="Parsing error";throw e&&(t+=": "+e),new Error(t)}var n={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"};e.exports=function(e){for(var i=[],r=0,o=s();o;)i.push(o),o=s();return i;function s(){for(var i,o,s,a,l,c,u=e.length;r<u;)switch(c=e[r]){case"\t":case"\n":case"\r":case" ":for(i=e[r];-1!=="\t\n\r ".indexOf(e[++r]);)i+=e[r];return{type:"whitespace",value:i,raw:i};case"{":case"}":case"[":case"]":case":":case",":var d=e[r++];return{type:"punctuator",value:d,raw:d};case'"':var h=r;for(i="",r++;r<u;){if(c=e[r],e.charCodeAt(r)<32)return t("Unescaped ASCII control characters are not permitted.");if("\\"===c)switch(c=e[++r]){case"\\":case'"':case"/":case"b":case"t":case"n":case"f":case"r":i+=n[c],r++;break;case"u":for(o=++r,s=r+4;r<s;r++)if(!((l=e.charCodeAt(r))>=48&&l<=57||l>=97&&l<=102||l>=65&&l<=70))return t("Invalid Unicode escape sequence.");i+=String.fromCharCode("0x"+e.slice(o,r));break;default:return t("Invalid escape sequence.")}else{if('"'===c)break;for(c=e[r],o=r,l=e.charCodeAt(r);l>=32&&92!==l&&34!==l;)l=e.charCodeAt(++r);i+=e.slice(o,r)}}return'"'===e[r]?(r++,{type:"string",value:i,raw:e.slice(h,r)}):t("Unterminated string.");default:if(o=r,"-"===c&&(a=!0,l=e.charCodeAt(++r),c=e[r]),(l=e.charCodeAt(r))>=48&&l<=57){if(48===l&&((l=e.charCodeAt(r+1))>=48&&l<=57))return t("Illegal octal literal.");for(a=!1;r<u&&((l=e.charCodeAt(r))>=48&&l<=57);r++);if(46===e.charCodeAt(r)){for(s=++r;s<u&&((l=e.charCodeAt(s))>=48&&l<=57);s++);if(s===r)return t("Illegal trailing decimal.");r=s}if(101===(l=e.charCodeAt(r))||69===l){for(43!==(l=e.charCodeAt(++r))&&45!==l||r++,s=r;s<u&&((l=e.charCodeAt(s))>=48&&l<=57);s++);if(s===r)return t("Illegal empty exponent.");r=s}var p=e.slice(o,r);return{type:"number",value:+p,raw:p}}if(a)return t("A negative sign may only precede numbers.");var f=e.slice(r,r+4);return"true"===f?(r+=4,{type:"literal",value:!0,raw:"true"}):"fals"===f&&"e"===e[r+4]?(r+=5,{type:"literal",value:!1,raw:"false"}):"null"===f?(r+=4,{type:"literal",value:null,raw:"null"}):t("Unrecognized token.")}return!1}}},7106:e=>{"use strict";var t=e.exports=function(e,t,i){"function"==typeof t&&(i=t,t={}),n(t,"function"==typeof(i=t.cb||i)?i:i.pre||function(){},i.post||function(){},e,"",e)};function n(e,i,r,o,s,a,l,c,u,d){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in i(o,s,a,l,c,u,d),o){var p=o[h];if(Array.isArray(p)){if(h in t.arrayKeywords)for(var f=0;f<p.length;f++)n(e,i,r,p[f],s+"/"+h+"/"+f,a,s,h,o,f)}else if(h in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)n(e,i,r,p[m],s+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,h,o,m)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&n(e,i,r,p,s+"/"+h,a,s,h,o)}r(o,s,a,l,c,u,d)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},56239:(e,t)=>{var n=/~/,i=/~[01]/g;function r(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function o(e){return n.test(e)?e.replace(i,r):e}function s(e){if("string"==typeof e){if(""===(e=e.split("/"))[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e)){for(const t of e)if("string"!=typeof t&&"number"!=typeof t)throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function a(e,t){if("object"!=typeof e)throw new Error("Invalid input object.");var n=(t=s(t)).length;if(1===n)return e;for(var i=1;i<n;){if(e=e[o(t[i++])],n===i)return e;if("object"!=typeof e||null===e)return}}function l(e,t,n){if("object"!=typeof e)throw new Error("Invalid input object.");if(0===(t=s(t)).length)throw new Error("Invalid JSON pointer for set.");return function(e,t,n){for(var i,r,s=1,a=t.length;s<a;){if("constructor"===t[s]||"prototype"===t[s]||"__proto__"===t[s])return e;if(i=o(t[s++]),r=a>s,void 0===e[i]&&(Array.isArray(e)&&"-"===i&&(i=e.length),r&&(""!==t[s]&&t[s]<1/0||"-"===t[s]?e[i]=[]:e[i]={})),!r)break;e=e[i]}var l=e[i];return void 0===n?delete e[i]:e[i]=n,l}(e,t,n)}t.Jt=a},20181:(e,t,n)=>{var i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var i,r,o,s,a,l,c=0,u=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=i,o=r;return i=r=void 0,c=t,s=e.apply(o,n)}function E(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function S(){var e=f();if(E(e))return b(e);a=setTimeout(S,function(e){var n=t-(e-l);return d?p(n,o-(e-c)):n}(e))}function b(e){return a=void 0,v&&i?y(e):(i=r=void 0,s)}function O(){var e=f(),n=E(e);if(i=arguments,r=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(S,t),u?y(e):s}(l);if(d)return a=setTimeout(S,t),y(l)}return void 0===a&&(a=setTimeout(S,t)),s}return t=g(t)||0,m(n)&&(u=!!n.leading,o=(d="maxWait"in n)?h(g(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),O.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},O.flush=function(){return void 0===a?s:b(f())},O}},71865:()=>{},14682:(e,t,n)=>{"use strict";var i=n(73932),r=n(9771),o=n(20522),s=function(e){r(!1,e)},a=String.prototype.replace,l=String.prototype.split,c="||||",u=function(e){var t=e%100,n=t%10;return 11!==t&&1===n?0:2<=n&&n<=4&&!(t>=12&&t<=14)?1:2},d={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:u,chinese:function(){return 0},croatian:u,french:function(e){return e>=2?1:0},german:function(e){return 1!==e?1:0},russian:u,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3},romanian:function(e){if(1===e)return 0;var t=e%100;return 0===e||t>=2&&t<=19?1:2},ukrainian:u},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"],ukrainian:["uk","ua"]}};function h(e,t){var n=function(e){for(var t={},n=i(e),r=0;r<n.length;r+=1)for(var o=n[r][0],s=n[r][1],a=0;a<s.length;a+=1)t[s[a]]=o;return t}(e.pluralTypeToLanguages);return n[t]||n[l.call(t,/-/,1)[0]]||n.en}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var f,m=(f={},function(e,t){var n=f[t];return n&&!e.pluralTypes[n]&&(n=null,f[t]=n),n||(n=h(e,t))&&(f[t]=n),n}),g=/%\{(.*?)\}/g;function v(e,t,n,i,r,s){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var u=e,h=i||g,p=s||a,f="number"==typeof t?{smart_count:t}:t;if(null!=f.smart_count&&e){var v=r||d,y=l.call(e,c),E=function(e,t,n){return e.pluralTypes[t](n)}(v,m(v,n||"en"),f.smart_count);u=a.call(y[E]||y[0],/^[^\S]*|[^\S]*$/g,"")}return u=p.call(u,h,(function(e,t){return o(f,t)&&null!=f[t]?f[t]:e}))}function y(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var n=t.allowMissing?v:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||s,this.replaceImplementation=t.replace||a,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",n=e&&e.suffix||"}";if(t===c||n===c)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(p(t)+"(.*?)"+p(n),"g")}(t.interpolation),this.pluralRules=t.pluralRules||d}y.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},y.prototype.extend=function(e,t){for(var n=i(e||{}),r=0;r<n.length;r+=1){var o=n[r][0],s=n[r][1],a=t?t+"."+o:o;"object"==typeof s?this.extend(s,a):this.phrases[a]=s}},y.prototype.unset=function(e,t){if("string"==typeof e)delete this.phrases[e];else for(var n=i(e||{}),r=0;r<n.length;r+=1){var o=n[r][0],s=n[r][1],a=t?t+"."+o:o;"object"==typeof s?this.unset(s,a):delete this.phrases[a]}},y.prototype.clear=function(){this.phrases={}},y.prototype.replace=function(e){this.clear(),this.extend(e)},y.prototype.t=function(e,t){var n,i,r=null==t?{}:t;if("string"==typeof this.phrases[e])n=this.phrases[e];else if("string"==typeof r._)n=r._;else if(this.onMissingKey){i=(0,this.onMissingKey)(e,r,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)}else this.warn('Missing translation for key: "'+e+'"'),i=e;return"string"==typeof n&&(i=v(n,r,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),i},y.prototype.has=function(e){return o(this.phrases,e)},y.transformPhrase=function(e,t,n){return v(e,t,n)},e.exports=y},93450:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,i=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,s=function(e,t){for(var n=[],i=t||0,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),a=n(0,r.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=r.apply(this,i(s,arguments));return Object(t)===t?t:this}return r.apply(e,i(s,arguments))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},99602:(e,t,n)=>{"use strict";var i=n(93450);e.exports=Function.prototype.bind||i},20522:(e,t,n)=>{"use strict";var i=Function.prototype.call,r=Object.prototype.hasOwnProperty,o=n(99602);e.exports=o.call(i,r)},28875:(e,t,n)=>{"use strict";var i;if(!Object.keys){var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(1093),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();i=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),i=s(e),a=t&&"[object String]"===o.call(e),h=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(a&&e.length>0&&!r.call(e,0))for(var m=0;m<e.length;++m)h.push(String(m));if(i&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var v in e)f&&"prototype"===v||!r.call(e,v)||h.push(String(v));if(l)for(var y=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}}(e),E=0;E<u.length;++E)y&&"constructor"===u[E]||!r.call(e,u[E])||h.push(u[E]);return h}}e.exports=i},1189:(e,t,n)=>{"use strict";var i=Array.prototype.slice,r=n(1093),o=Object.keys,s=o?function(e){return o(e)}:n(28875),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return r(e)?a(i.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},1093:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),i}},73488:(e,t,n)=>{"use strict";var i=n(5388),r=n(8588),o=r("Object.prototype.propertyIsEnumerable"),s=r("Array.prototype.push");e.exports=function(e){var t=i(e),n=[];for(var r in t)o(t,r)&&s(n,[r,t[r]]);return n}},73932:(e,t,n)=>{"use strict";var i=n(8275),r=n(29664),o=n(73488),s=n(63445),a=n(57891),l=r(s(),Object);i(l,{getPolyfill:s,implementation:o,shim:a}),e.exports=l},8588:(e,t,n)=>{"use strict";var i=n(59474),r=n(29664),o=r(i("String.prototype.indexOf"));e.exports=function(e,t){var n=i(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?r(n):n}},29664:(e,t,n)=>{"use strict";var i=n(51560),r=n(59474),o=n(96897),s=n(69675),a=r("%Function.prototype.apply%"),l=r("%Function.prototype.call%"),c=r("%Reflect.apply%",!0)||i.call(l,a),u=n(30655),d=r("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new s("a function is required");var t=c(i,l,arguments);return o(t,1+d(0,e.length-(arguments.length-1)),!0)};var h=function(){return c(i,a,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h},8275:(e,t,n)=>{"use strict";var i=n(1189),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=n(30041),l=n(30592)(),c=function(e,t,n,i){if(t in e)if(!0===i){if(e[t]===n)return}else if("function"!=typeof(r=i)||"[object Function]"!==o.call(r)||!i())return;var r;l?a(e,t,n,!0):a(e,t,n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},o=i(t);r&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)c(e,o[a],t[o[a]],n[o[a]])};u.supportsDescriptors=!!l,e.exports=u},95564:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,i=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,s=function(e,t){for(var n=[],i=t||0,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),a=n(0,r.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=r.apply(this,i(s,arguments));return Object(t)===t?t:this}return r.apply(e,i(s,arguments))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},51560:(e,t,n)=>{"use strict";var i=n(95564);e.exports=Function.prototype.bind||i},59474:(e,t,n)=>{"use strict";var i,r=n(69383),o=n(41237),s=n(79290),a=n(79538),l=n(58068),c=n(69675),u=n(35345),d=Function,h=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var f=function(){throw new c},m=p?function(){try{return f}catch(e){try{return p(arguments,"callee").get}catch(e){return f}}}():f,g=n(42588)(),v=n(80024)(),y=Object.getPrototypeOf||(v?function(e){return e.__proto__}:null),E={},S="undefined"!=typeof Uint8Array&&y?y(Uint8Array):i,b={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":g&&y?y([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&y?y(y([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&y?y((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&y?y((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&y?y(""[Symbol.iterator]()):i,"%Symbol%":g?Symbol:i,"%SyntaxError%":l,"%ThrowTypeError%":m,"%TypedArray%":S,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(y)try{null.error}catch(e){var O=y(y(e));b["%Error.prototype%"]=O}var _=function e(t){var n;if("%AsyncFunction%"===t)n=h("async function () {}");else if("%GeneratorFunction%"===t)n=h("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=h("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&y&&(n=y(r.prototype))}return b[t]=n,n},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=n(51560),w=n(9957),N=A.call(Function.call,Array.prototype.concat),I=A.call(Function.apply,Array.prototype.splice),R=A.call(Function.call,String.prototype.replace),k=A.call(Function.call,String.prototype.slice),L=A.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,P=function(e,t){var n,i=e;if(w(T,i)&&(i="%"+(n=T[i])[0]+"%"),w(b,i)){var r=b[i];if(r===E&&(r=_(i)),void 0===r&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===L(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var i=[];return R(e,M,(function(e,t,n,r){i[i.length]=n?R(r,D,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",r=P("%"+i+"%",t),o=r.name,s=r.value,a=!1,u=r.alias;u&&(i=u[0],I(n,N([0,1],u)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],m=k(f,0,1),g=k(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&h||(a=!0),w(b,o="%"+(i+="."+f)+"%"))s=b[o];else if(null!=s){if(!(f in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&d+1>=n.length){var v=p(s,f);s=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:s[f]}else h=w(s,f),s=s[f];h&&!a&&(b[o]=s)}}return s}},42588:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(51646);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},51646:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},63445:(e,t,n)=>{"use strict";var i=n(73488);e.exports=function(){return"function"==typeof Object.entries?Object.entries:i}},57891:(e,t,n)=>{"use strict";var i=n(63445),r=n(8275);e.exports=function(){var e=i();return r(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e}},89955:(e,t,n)=>{"use strict";var i=n(44262);function r(e,t,n){var r,a,l,c;t=t||1;for(var u=0;u<e[0].length;u++){var d=e[0][u];(!u||d[0]<r)&&(r=d[0]),(!u||d[1]<a)&&(a=d[1]),(!u||d[0]>l)&&(l=d[0]),(!u||d[1]>c)&&(c=d[1])}var h=l-r,p=c-a,f=Math.min(h,p),m=f/2;if(0===f){var g=[r,a];return g.distance=0,g}for(var v=new i(void 0,o),y=r;y<l;y+=f)for(var E=a;E<c;E+=f)v.push(new s(y+m,E+m,m,e));var S=function(e){for(var t=0,n=0,i=0,r=e[0],o=0,a=r.length,l=a-1;o<a;l=o++){var c=r[o],u=r[l],d=c[0]*u[1]-u[0]*c[1];n+=(c[0]+u[0])*d,i+=(c[1]+u[1])*d,t+=3*d}return 0===t?new s(r[0][0],r[0][1],0,e):new s(n/t,i/t,0,e)}(e),b=new s(r+h/2,a+p/2,0,e);b.d>S.d&&(S=b);for(var O=v.length;v.length;){var _=v.pop();_.d>S.d&&(S=_,n&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,O)),_.max-S.d<=t||(m=_.h/2,v.push(new s(_.x-m,_.y-m,m,e)),v.push(new s(_.x+m,_.y-m,m,e)),v.push(new s(_.x-m,_.y+m,m,e)),v.push(new s(_.x+m,_.y+m,m,e)),O+=4)}n&&(console.log("num probes: "+O),console.log("best distance: "+S.d));var T=[S.x,S.y];return T.distance=S.d,T}function o(e,t){return t.max-e.max}function s(e,t,n,i){this.x=e,this.y=t,this.h=n,this.d=function(e,t,n){for(var i=!1,r=1/0,o=0;o<n.length;o++)for(var s=n[o],l=0,c=s.length,u=c-1;l<c;u=l++){var d=s[l],h=s[u];d[1]>t!=h[1]>t&&e<(h[0]-d[0])*(t-d[1])/(h[1]-d[1])+d[0]&&(i=!i),r=Math.min(r,a(e,t,d,h))}return 0===r?0:(i?1:-1)*Math.sqrt(r)}(e,t,i),this.max=this.d+this.h*Math.SQRT2}function a(e,t,n,i){var r=n[0],o=n[1],s=i[0]-r,a=i[1]-o;if(0!==s||0!==a){var l=((e-r)*s+(t-o)*a)/(s*s+a*a);l>1?(r=i[0],o=i[1]):l>0&&(r+=s*l,o+=a*l)}return(s=e-r)*s+(a=t-o)*a}i.default&&(i=i.default),e.exports=r,e.exports.default=r},35341:function(e){e.exports=function(){"use strict";function e(e,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,l=i-r+1,c=Math.log(a),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1);e(n,i,Math.max(r,Math.floor(i-l*u/a+d)),Math.min(o,Math.floor(i+(a-l)*u/a+d)),s)}var h=n[i],p=r,f=o;for(t(n,r,i),s(n[o],h)>0&&t(n,r,o);p<f;){for(t(n,p,f),p++,f--;s(n[p],h)<0;)p++;for(;s(n[f],h)>0;)f--}0===s(n[r],h)?t(n,r,f):t(n,++f,o),f<=i&&(r=f+1),i<=f&&(o=f-1)}}(e,i,r||0,o||e.length-1,s||n)}function t(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function n(e,t){return e<t?-1:e>t?1:0}var i=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(e,t,n){if(!n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function o(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,i,r){r||(r=f(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=t;o<n;o++){var s=e.children[o];a(r,e.leaf?i(s):s)}return r}function a(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,n,i,r,o){for(var s=[n,i];s.length;)if(!((i=s.pop())-(n=s.pop())<=r)){var a=n+Math.ceil((i-n)/r/2)*r;e(t,a,n,i,o),s.push(n,a,a,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(e){var t=this.data,n=[];if(!p(e,t))return n;for(var i=this.toBBox,r=[];t;){for(var o=0;o<t.children.length;o++){var s=t.children[o],a=t.leaf?i(s):s;p(e,a)&&(t.leaf?n.push(s):h(e,a)?this._all(s,n):r.push(s))}t=r.pop()}return n},i.prototype.collides=function(e){var t=this.data;if(!p(e,t))return!1;for(var n=[];t;){for(var i=0;i<t.children.length;i++){var r=t.children[i],o=t.leaf?this.toBBox(r):r;if(p(e,o)){if(t.leaf||h(e,o))return!0;n.push(r)}}t=n.pop()}return!1},i.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},i.prototype.clear=function(){return this.data=f([]),this},i.prototype.remove=function(e,t){if(!e)return this;for(var n,i,o,s=this.data,a=this.toBBox(e),l=[],c=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=c.pop(),o=!0),s.leaf){var u=r(e,s.children,t);if(-1!==u)return s.children.splice(u,1),l.push(s),this._condense(l),this}o||s.leaf||!h(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(l.push(s),c.push(n),n=0,i=s,s=s.children[0])}return this},i.prototype.toBBox=function(e){return e},i.prototype.compareMinX=function(e,t){return e.minX-t.minX},i.prototype.compareMinY=function(e,t){return e.minY-t.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(e){return this.data=e,this},i.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},i.prototype._build=function(e,t,n,i){var r,s=n-t+1,a=this._maxEntries;if(s<=a)return o(r=f(e.slice(t,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),(r=f([])).leaf=!1,r.height=i;var l=Math.ceil(s/a),c=l*Math.ceil(Math.sqrt(a));m(e,t,n,c,this.compareMinX);for(var u=t;u<=n;u+=c){var d=Math.min(u+c-1,n);m(e,u,d,l,this.compareMinY);for(var h=u;h<=d;h+=l){var p=Math.min(h+l-1,d);r.children.push(this._build(e,h,p,i-1))}}return o(r,this.toBBox),r},i.prototype._chooseSubtree=function(e,t,n,i){for(;i.push(t),!t.leaf&&i.length-1!==n;){for(var r=1/0,o=1/0,s=void 0,a=0;a<t.children.length;a++){var l=t.children[a],c=u(l),d=(h=e,p=l,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-c);d<o?(o=d,r=c<r?c:r,s=l):d===o&&c<r&&(r=c,s=l)}t=s||t.children[0]}var h,p;return t},i.prototype._insert=function(e,t,n){var i=n?e:this.toBBox(e),r=[],o=this._chooseSubtree(i,this.data,t,r);for(o.children.push(e),a(o,i);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(i,r,t)},i.prototype._split=function(e,t){var n=e[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var s=this._chooseSplitIndex(n,r,i),a=f(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)},i.prototype._splitRoot=function(e,t){this.data=f([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(e,t,n){for(var i,r,o,a,l,c,d,h=1/0,p=1/0,f=t;f<=n-t;f++){var m=s(e,0,f,this.toBBox),g=s(e,f,n,this.toBBox),v=(r=m,o=g,a=void 0,l=void 0,c=void 0,d=void 0,a=Math.max(r.minX,o.minX),l=Math.max(r.minY,o.minY),c=Math.min(r.maxX,o.maxX),d=Math.min(r.maxY,o.maxY),Math.max(0,c-a)*Math.max(0,d-l)),y=u(m)+u(g);v<h?(h=v,i=f,p=y<p?y:p):v===h&&y<p&&(p=y,i=f)}return i||n-t},i.prototype._chooseSplitAxis=function(e,t,n){var i=e.leaf?this.compareMinX:l,r=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)},i.prototype._allDistMargin=function(e,t,n,i){e.children.sort(i);for(var r=this.toBBox,o=s(e,0,t,r),l=s(e,n-t,n,r),c=d(o)+d(l),u=t;u<n-t;u++){var h=e.children[u];a(o,e.leaf?r(h):h),c+=d(o)}for(var p=n-t-1;p>=t;p--){var f=e.children[p];a(l,e.leaf?r(f):f),c+=d(l)}return c},i.prototype._adjustParentBBoxes=function(e,t,n){for(var i=n;i>=0;i--)a(t[i],e)},i.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},i}()},22551:(e,t,n)=>{"use strict";var i=n(96540),r=n(69982);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,i,r,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function E(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),O=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function C(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=P&&e[P]||e["@@iterator"])?e:null}var x,U=Object.assign;function j(e){if(void 0===x)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return"\n"+x+e}var F=!1;function H(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var r=t.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function G(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _:return"Fragment";case O:return"Portal";case A:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case k:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case w:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=z(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&E(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Oe=null,_e=null,Te=null;function Ae(e){if(e=gr(e)){if("function"!=typeof Oe)throw Error(o(280));var t=e.stateNode;t&&(t=yr(t),Oe(e.stateNode,e.type,t))}}function we(e){_e?Te?Te.push(e):Te=[e]:_e=e}function Ne(){if(_e){var e=_e,t=Te;if(Te=_e=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ie(e,t){return e(t)}function Re(){}var ke=!1;function Le(e,t,n){if(ke)return e(t,n);ke=!0;try{return Ie(e,t,n)}finally{ke=!1,(null!==_e||null!==Te)&&(Re(),Ne())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var i=yr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){De=!1}function Ce(e,t,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var xe=!1,Ue=null,je=!1,Fe=null,He={onError:function(e){xe=!0,Ue=e}};function Ge(e,t,n,i,r,o,s,a,l){xe=!1,Ue=null,Ce.apply(He,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return We(r),e;if(s===i)return We(r),t;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,qe=r.unstable_shouldYield,Qe=r.unstable_requestPaint,Xe=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?i=dt(a):0!==(o&=s)&&(i=dt(o))}else 0!==(s=n&~r)?i=dt(s):0!==o&&(i=dt(o));if(0===i)return 0;if(0!==t&&t!==i&&!(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&4194240&o))return t;if(4&i&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-st(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-st(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var yt=0;function Et(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var St,bt,Ot,_t,Tt,At=!1,wt=[],Nt=null,It=null,Rt=null,kt=new Map,Lt=new Map,Mt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Ct(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=gr(t))&&bt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function xt(e){var t=mr(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Ot(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gr(n))&&bt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Se=i,n.target.dispatchEvent(i),Se=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Ft(){At=!1,null!==Nt&&Ut(Nt)&&(Nt=null),null!==It&&Ut(It)&&(It=null),null!==Rt&&Ut(Rt)&&(Rt=null),kt.forEach(jt),Lt.forEach(jt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ft)))}function Gt(e){function t(t){return Ht(t,e)}if(0<wt.length){Ht(wt[0],e);for(var n=1;n<wt.length;n++){var i=wt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Nt&&Ht(Nt,e),null!==It&&Ht(It,e),null!==Rt&&Ht(Rt,e),kt.forEach(t),Lt.forEach(t),n=0;n<Mt.length;n++)(i=Mt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)xt(n),null===n.blockedOn&&Mt.shift()}var Bt=S.ReactCurrentBatchConfig;function Vt(e,t,n,i){var r=yt,o=Bt.transition;Bt.transition=null;try{yt=1,zt(e,t,n,i)}finally{yt=r,Bt.transition=o}}function Wt(e,t,n,i){var r=yt,o=Bt.transition;Bt.transition=null;try{yt=4,zt(e,t,n,i)}finally{yt=r,Bt.transition=o}}function zt(e,t,n,i){var r=Kt(e,t,n,i);if(null===r)Bi(e,t,i,$t,n),Pt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Nt=Ct(Nt,e,t,n,i,r),!0;case"dragenter":return It=Ct(It,e,t,n,i,r),!0;case"mouseover":return Rt=Ct(Rt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return kt.set(o,Ct(kt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Lt.set(o,Ct(Lt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Pt(e,i),4&t&&-1<Dt.indexOf(e)){for(;null!==r;){var o=gr(r);if(null!==o&&St(o),null===(o=Kt(e,t,n,i))&&Bi(e,t,i,$t,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Bi(e,t,i,null,n)}var $t=null;function Kt(e,t,n,i){if($t=null,null!==(e=mr(e=be(i))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var qt=null,Qt=null,Xt=null;function Zt(){if(Xt)return Xt;var e,t,n=Qt,i=n.length,r="value"in qt?qt.value:qt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return Xt=r.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?en:tn,this.isPropagationStopped=tn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,on,sn,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(an),cn=U({},an,{view:0,detail:0}),un=nn(cn),dn=U({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(rn=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=rn=0,sn=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=nn(dn),pn=nn(U({},dn,{dataTransfer:0})),fn=nn(U({},cn,{relatedTarget:0})),mn=nn(U({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=U({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=nn(gn),yn=nn(U({},an,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function _n(){return On}var Tn=U({},cn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=nn(Tn),wn=nn(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=nn(U({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),In=nn(U({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kn=nn(Rn),Ln=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Pn=u&&"TextEvent"in window&&!Dn,Cn=u&&(!Mn||Dn&&8<Dn&&11>=Dn),xn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Vn(e,t,n,i){we(i),0<(t=Wi(t,"onChange")).length&&(n=new ln("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Wn=null,zn=null;function $n(e){xi(e,0)}function Kn(e){if(K(vr(e)))return e}function Yn(e,t){if("change"===e)return t}var qn=!1;if(u){var Qn;if(u){var Xn="oninput"in document;if(!Xn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Xn="function"==typeof Zn.oninput}Qn=Xn}else Qn=!1;qn=Qn&&(!document.documentMode||9<document.documentMode)}function Jn(){Wn&&(Wn.detachEvent("onpropertychange",ei),zn=Wn=null)}function ei(e){if("value"===e.propertyName&&Kn(zn)){var t=[];Vn(t,zn,e,be(e)),Le($n,t)}}function ti(e,t,n){"focusin"===e?(Jn(),zn=n,(Wn=t).attachEvent("onpropertychange",ei)):"focusout"===e&&Jn()}function ni(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(zn)}function ii(e,t){if("click"===e)return Kn(t)}function ri(e,t){if("input"===e||"change"===e)return Kn(t)}var oi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function si(e,t){if(oi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!oi(e[r],t[r]))return!1}return!0}function ai(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function li(e,t){var n,i=ai(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ai(i)}}function ci(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ci(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ui(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hi(e){var t=ui(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ci(n.ownerDocument.documentElement,n)){if(null!==i&&di(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=li(n,o);var s=li(n,i);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pi=u&&"documentMode"in document&&11>=document.documentMode,fi=null,mi=null,gi=null,vi=!1;function yi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vi||null==fi||fi!==Y(i)||("selectionStart"in(i=fi)&&di(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},gi&&si(gi,i)||(gi=i,0<(i=Wi(mi,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=fi)))}function Ei(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},bi={},Oi={};function _i(e){if(bi[e])return bi[e];if(!Si[e])return e;var t,n=Si[e];for(t in n)if(n.hasOwnProperty(t)&&t in Oi)return bi[e]=n[t];return e}u&&(Oi=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);var Ti=_i("animationend"),Ai=_i("animationiteration"),wi=_i("animationstart"),Ni=_i("transitionend"),Ii=new Map,Ri="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(e,t){Ii.set(e,t),l(t,[e])}for(var Li=0;Li<Ri.length;Li++){var Mi=Ri[Li];ki(Mi.toLowerCase(),"on"+(Mi[0].toUpperCase()+Mi.slice(1)))}ki(Ti,"onAnimationEnd"),ki(Ai,"onAnimationIteration"),ki(wi,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(Ni,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Ci(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,s,a,l,c){if(Ge.apply(this,arguments),xe){if(!xe)throw Error(o(198));var u=Ue;xe=!1,Ue=null,je||(je=!0,Fe=u)}}(i,t,void 0,e),e.currentTarget=null}function xi(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;Ci(r,a,c),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;Ci(r,a,c),o=l}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Ui(e,t){var n=t[hr];void 0===n&&(n=t[hr]=new Set);var i=e+"__bubble";n.has(i)||(Gi(t,e,2,!1),n.add(i))}function ji(e,t,n){var i=0;t&&(i|=4),Gi(n,e,i,t)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[Fi]){e[Fi]=!0,s.forEach((function(t){"selectionchange"!==t&&(Pi.has(t)||ji(t,!1,e),ji(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fi]||(t[Fi]=!0,ji("selectionchange",!1,t))}}function Gi(e,t,n,i){switch(Yt(t)){case 1:var r=Vt;break;case 4:r=Wt;break;default:r=zt}n=r.bind(null,t,n,e),r=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Bi(e,t,n,i,r){var o=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=mr(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue e}a=a.parentNode}}i=i.return}Le((function(){var i=o,r=be(n),s=[];e:{var a=Ii.get(e);if(void 0!==a){var l=ln,c=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=fn;break;case"focusout":c="blur",l=fn;break;case"beforeblur":case"afterblur":l=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Ti:case Ai:case wi:l=mn;break;case Ni:l=In;break;case"scroll":l=un;break;case"wheel":l=kn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=wn}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Me(f,h))&&u.push(Vi(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,r),s.push({event:a,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Se||!(c=n.relatedTarget||n.fromElement)||!mr(c)&&!c[dr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?mr(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=hn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=wn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:vr(l),p=null==c?a:vr(c),(a=new u(m,f+"leave",l,n,r)).target=d,a.relatedTarget=p,m=null,mr(r)===i&&((u=new u(h,f+"enter",c,n,r)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=zi(p))f++;for(p=0,m=h;m;m=zi(m))p++;for(;0<f-p;)u=zi(u),f--;for(;0<p-f;)h=zi(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=zi(u),h=zi(h)}u=null}else u=null;null!==l&&$i(s,a,l,u,!1),null!==c&&null!==d&&$i(s,d,c,u,!0)}if("select"===(l=(a=i?vr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Bn(a))if(qn)g=ri;else{g=ni;var v=ti}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ii);switch(g&&(g=g(e,i))?Vn(s,g,n,r):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?vr(i):window,e){case"focusin":(Bn(v)||"true"===v.contentEditable)&&(fi=v,mi=i,gi=null);break;case"focusout":gi=mi=fi=null;break;case"mousedown":vi=!0;break;case"contextmenu":case"mouseup":case"dragend":vi=!1,yi(s,n,r);break;case"selectionchange":if(pi)break;case"keydown":case"keyup":yi(s,n,r)}var y;if(Mn)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Hn?jn(e,n)&&(E="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(E="onCompositionStart");E&&(Cn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==E?"onCompositionEnd"===E&&Hn&&(y=Zt()):(Qt="value"in(qt=r)?qt.value:qt.textContent,Hn=!0)),0<(v=Wi(i,E)).length&&(E=new yn(E,e,null,n,r),s.push({event:E,listeners:v}),y?E.data=y:null!==(y=Fn(n))&&(E.data=y))),(y=Pn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Un=!0,xn);case"textInput":return(e=t.data)===xn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&jn(e,t)?(e=Zt(),Xt=Qt=qt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Wi(i,"onBeforeInput")).length&&(r=new yn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=y))}xi(s,t)}))}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Me(e,n))&&i.unshift(Vi(e,o,r)),null!=(o=Me(e,t))&&i.push(Vi(e,o,r))),e=e.return}return i}function zi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $i(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Me(n,o))&&s.unshift(Vi(n,l,a)):r||null!=(l=Me(n,o))&&s.push(Vi(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ki=/\r\n?/g,Yi=/\u0000|\uFFFD/g;function qi(e){return("string"==typeof e?e:""+e).replace(Ki,"\n").replace(Yi,"")}function Qi(e,t,n){if(t=qi(t),qi(e)!==t&&n)throw Error(o(425))}function Xi(){}var Zi=null;function Ji(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var er="function"==typeof setTimeout?setTimeout:void 0,tr="function"==typeof clearTimeout?clearTimeout:void 0,nr="function"==typeof Promise?Promise:void 0,ir="function"==typeof queueMicrotask?queueMicrotask:void 0!==nr?function(e){return nr.resolve(null).then(e).catch(rr)}:er;function rr(e){setTimeout((function(){throw e}))}function or(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Gt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Gt(t)}function sr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ar(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var lr=Math.random().toString(36).slice(2),cr="__reactFiber$"+lr,ur="__reactProps$"+lr,dr="__reactContainer$"+lr,hr="__reactEvents$"+lr,pr="__reactListeners$"+lr,fr="__reactHandles$"+lr;function mr(e){var t=e[cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dr]||n[cr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ar(e);null!==e;){if(n=e[cr])return n;e=ar(e)}return t}n=(e=n).parentNode}return null}function gr(e){return!(e=e[cr]||e[dr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function yr(e){return e[ur]||null}var Er=[],Sr=-1;function br(e){return{current:e}}function Or(e){0>Sr||(e.current=Er[Sr],Er[Sr]=null,Sr--)}function _r(e,t){Sr++,Er[Sr]=e.current,e.current=t}var Tr={},Ar=br(Tr),wr=br(!1),Nr=Tr;function Ir(e,t){var n=e.type.contextTypes;if(!n)return Tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Rr(e){return null!=(e=e.childContextTypes)}function kr(){Or(wr),Or(Ar)}function Lr(e,t,n){if(Ar.current!==Tr)throw Error(o(168));_r(Ar,t),_r(wr,n)}function Mr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,V(e)||"Unknown",r));return U({},n,i)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,Nr=Ar.current,_r(Ar,e),_r(wr,wr.current),!0}function Pr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Mr(e,t,Nr),i.__reactInternalMemoizedMergedChildContext=e,Or(wr),Or(Ar),_r(Ar,e)):Or(wr),_r(wr,n)}var Cr=null,xr=!1,Ur=!1;function jr(e){null===Cr?Cr=[e]:Cr.push(e)}function Fr(){if(!Ur&&null!==Cr){Ur=!0;var e=0,t=yt;try{var n=Cr;for(yt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Cr=null,xr=!1}catch(t){throw null!==Cr&&(Cr=Cr.slice(e+1)),Ke(Je,Fr),t}finally{yt=t,Ur=!1}}return null}var Hr=S.ReactCurrentBatchConfig;function Gr(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Br=br(null),Vr=null,Wr=null,zr=null;function $r(){zr=Wr=Vr=null}function Kr(e){var t=Br.current;Or(Br),e._currentValue=t}function Yr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function qr(e,t){Vr=e,zr=Wr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(ya=!0),e.firstContext=null)}function Qr(e){var t=e._currentValue;if(zr!==e)if(e={context:e,memoizedValue:t,next:null},null===Wr){if(null===Vr)throw Error(o(308));Wr=e,Vr.dependencies={lanes:0,firstContext:e}}else Wr=Wr.next=e;return t}var Xr=null,Zr=!1;function Jr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function to(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function no(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==El&&1&e.mode&&!(2&yl)?(null===(e=n.interleaved)?(t.next=t,null===Xr?Xr=[n]:Xr.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function io(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}function ro(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oo(e,t,n,i){var r=e.updateQueue;Zr=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,p=a.eventTime;if((i&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=m.payload)?f.call(p,d,h):f))break e;d=U({},d,h);break e;case 2:Zr=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(h=a).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);wl|=s,e.lanes=s,e.memoizedState=d}}function so(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!=typeof r)throw Error(o(191,r));r.call(i)}}}var ao=(new i.Component).refs;function lo(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var co={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Vl(),r=Wl(e),o=to(i,r);o.payload=t,null!=n&&(o.callback=n),no(e,o),null!==(t=zl(e,r,i))&&io(t,e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Vl(),r=Wl(e),o=to(i,r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),no(e,o),null!==(t=zl(e,r,i))&&io(t,e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vl(),i=Wl(e),r=to(n,i);r.tag=2,null!=t&&(r.callback=t),no(e,r),null!==(t=zl(e,i,n))&&io(t,e,i)}};function uo(e,t,n,i,r,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!si(n,i)||!si(r,o))}function ho(e,t,n){var i=!1,r=Tr,o=t.contextType;return"object"==typeof o&&null!==o?o=Qr(o):(r=Rr(t)?Nr:Ar.current,o=(i=null!=(i=t.contextTypes))?Ir(e,r):Tr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=co,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function po(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&co.enqueueReplaceState(t,t.state,null)}function fo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=ao,Jr(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=Qr(o):(o=Rr(t)?Nr:Ar.current,r.context=Ir(e,o)),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(lo(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&co.enqueueReplaceState(r,r.state,null),oo(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}var mo=[],go=0,vo=null,yo=0,Eo=[],So=0,bo=null,Oo=1,_o="";function To(e,t){mo[go++]=yo,mo[go++]=vo,vo=e,yo=t}function Ao(e,t,n){Eo[So++]=Oo,Eo[So++]=_o,Eo[So++]=bo,bo=e;var i=Oo;e=_o;var r=32-st(i)-1;i&=~(1<<r),n+=1;var o=32-st(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Oo=1<<32-st(t)+r|n<<r|i,_o=o+e}else Oo=1<<o|n<<r|i,_o=e}function wo(e){null!==e.return&&(To(e,1),Ao(e,1,0))}function No(e){for(;e===vo;)vo=mo[--go],mo[go]=null,yo=mo[--go],mo[go]=null;for(;e===bo;)bo=Eo[--So],Eo[So]=null,_o=Eo[--So],Eo[So]=null,Oo=Eo[--So],Eo[So]=null}var Io=null,Ro=null,ko=!1,Lo=null;function Mo(e,t){var n=bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Do(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Io=e,Ro=sr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Io=e,Ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==bo?{id:Oo,overflow:_o}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Io=e,Ro=null,!0);default:return!1}}function Po(e){return!(!(1&e.mode)||128&e.flags)}function Co(e){if(ko){var t=Ro;if(t){var n=t;if(!Do(e,t)){if(Po(e))throw Error(o(418));t=sr(n.nextSibling);var i=Io;t&&Do(e,t)?Mo(i,n):(e.flags=-4097&e.flags|2,ko=!1,Io=e)}}else{if(Po(e))throw Error(o(418));e.flags=-4097&e.flags|2,ko=!1,Io=e}}}function xo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Io=e}function Uo(e){if(e!==Io)return!1;if(!ko)return xo(e),ko=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Ji(e.type,e.memoizedProps)),t&&(t=Ro)){if(Po(e)){for(e=Ro;e;)e=sr(e.nextSibling);throw Error(o(418))}for(;t;)Mo(e,t),t=sr(t.nextSibling)}if(xo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ro=sr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ro=null}}else Ro=Io?sr(e.stateNode.nextSibling):null;return!0}function jo(){Ro=Io=null,ko=!1}function Fo(e){null===Lo?Lo=[e]:Lo.push(e)}function Ho(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;t===ao&&(t=r.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bo(e){return(0,e._init)(e._payload)}function Vo(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Nc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var o=n.type;return o===_?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===M&&Bo(o)===t.type)?((i=r(t,n.props)).ref=Ho(e,t,n),i.return=e,i):((i=Tc(n.type,n.key,n.props,null,e.mode,i)).ref=Ho(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Ac(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Tc(t.type,t.key,t.props,null,e.mode,n)).ref=Ho(e,null,t),n.return=e,n;case O:return(t=Ic(t,e.mode,n)).return=e,t;case M:return h(e,(0,t._init)(t._payload),n)}if(te(t)||C(t))return(t=Ac(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===r?c(e,t,n,i):null;case O:return n.key===r?u(e,t,n,i):null;case M:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||C(n))return null!==r?null:d(e,t,n,i,null);Go(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case b:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case O:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case M:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||C(i))return d(t,e=e.get(n)||null,i,r,null);Go(t,i)}return null}function m(r,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(r,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(r,d),ko&&To(r,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(r,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return ko&&To(r,m),c}for(d=i(r,d);m<a.length;m++)null!==(g=f(d,r,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),ko&&To(r,m),c}function g(r,a,l,c){var u=C(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var E=p(r,m,y.value,c);if(null===E){null===m&&(m=v);break}e&&m&&null===E.alternate&&t(r,m),a=s(E,a,g),null===d?u=E:d.sibling=E,d=E,m=v}if(y.done)return n(r,m),ko&&To(r,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return ko&&To(r,g),u}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(r,e)})),ko&&To(r,g),u}return function e(i,o,s,l){if("object"==typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case b:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===_){if(7===u.tag){n(i,u.sibling),(o=r(u,s.props.children)).return=i,i=o;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===M&&Bo(c)===u.type){n(i,u.sibling),(o=r(u,s.props)).ref=Ho(i,u,s),o.return=i,i=o;break e}n(i,u);break}t(i,u),u=u.sibling}s.type===_?((o=Ac(s.props.children,i.mode,l,s.key)).return=i,i=o):((l=Tc(s.type,s.key,s.props,null,i.mode,l)).ref=Ho(i,o,s),l.return=i,i=l)}return a(i);case O:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(i,o.sibling),(o=r(o,s.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Ic(s,i.mode,l)).return=i,i=o}return a(i);case M:return e(i,o,(u=s._init)(s._payload),l)}if(te(s))return m(i,o,s,l);if(C(s))return g(i,o,s,l);Go(i,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,s)).return=i,i=o):(n(i,o),(o=Nc(s,i.mode,l)).return=i,i=o),a(i)):n(i,o)}}var Wo=Vo(!0),zo=Vo(!1),$o={},Ko=br($o),Yo=br($o),qo=br($o);function Qo(e){if(e===$o)throw Error(o(174));return e}function Xo(e,t){switch(_r(qo,t),_r(Yo,e),_r(Ko,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Or(Ko),_r(Ko,t)}function Zo(){Or(Ko),Or(Yo),Or(qo)}function Jo(e){Qo(qo.current);var t=Qo(Ko.current),n=le(t,e.type);t!==n&&(_r(Yo,e),_r(Ko,n))}function es(e){Yo.current===e&&(Or(Ko),Or(Yo))}var ts=br(0);function ns(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var is=[];function rs(){for(var e=0;e<is.length;e++)is[e]._workInProgressVersionPrimary=null;is.length=0}var os=S.ReactCurrentDispatcher,ss=S.ReactCurrentBatchConfig,as=0,ls=null,cs=null,us=null,ds=!1,hs=!1,ps=0,fs=0;function ms(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function vs(e,t,n,i,r,s){if(as=s,ls=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Js:ea,e=n(i,r),hs){s=0;do{if(hs=!1,ps=0,25<=s)throw Error(o(301));s+=1,us=cs=null,t.updateQueue=null,os.current=ta,e=n(i,r)}while(hs)}if(os.current=Zs,t=null!==cs&&null!==cs.next,as=0,us=cs=ls=null,ds=!1,t)throw Error(o(300));return e}function ys(){var e=0!==ps;return ps=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?ls.memoizedState=us=e:us=us.next=e,us}function Ss(){if(null===cs){var e=ls.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===us?ls.memoizedState:us.next;if(null!==t)us=t,cs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===us?ls.memoizedState=us=e:us=us.next=e}return us}function bs(e,t){return"function"==typeof t?t(e):t}function Os(e){var t=Ss(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=cs,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((as&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=i):c=c.next=h,ls.lanes|=d,wl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=i:c.next=l,oi(i,t.memoizedState)||(ya=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,ls.lanes|=s,wl|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=Ss(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=e(s,a.action),a=a.next}while(a!==r);oi(s,t.memoizedState)||(ya=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Ts(){}function As(e,t){var n=ls,i=Ss(),r=t(),s=!oi(i.memoizedState,r);if(s&&(i.memoizedState=r,ya=!0),i=i.queue,xs(Is.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,Ls(9,Ns.bind(null,n,i,r,t),void 0,null),null===El)throw Error(o(349));30&as||ws(n,t,r)}return r}function ws(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ns(e,t,n,i){t.value=n,t.getSnapshot=i,Rs(t)&&zl(e,1,-1)}function Is(e,t,n){return n((function(){Rs(t)&&zl(e,1,-1)}))}function Rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(e){return!0}}function ks(e){var t=Es();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,ls,e),[t.memoizedState,e]}function Ls(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ms(){return Ss().memoizedState}function Ds(e,t,n,i){var r=Es();ls.flags|=e,r.memoizedState=Ls(1|t,n,void 0,void 0===i?null:i)}function Ps(e,t,n,i){var r=Ss();i=void 0===i?null:i;var o=void 0;if(null!==cs){var s=cs.memoizedState;if(o=s.destroy,null!==i&&gs(i,s.deps))return void(r.memoizedState=Ls(t,n,o,i))}ls.flags|=e,r.memoizedState=Ls(1|t,n,o,i)}function Cs(e,t){return Ds(8390656,8,e,t)}function xs(e,t){return Ps(2048,8,e,t)}function Us(e,t){return Ps(4,2,e,t)}function js(e,t){return Ps(4,4,e,t)}function Fs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Hs(e,t,n){return n=null!=n?n.concat([e]):null,Ps(4,4,Fs.bind(null,t,e),n)}function Gs(){}function Bs(e,t){var n=Ss();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&gs(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=Ss();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&gs(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var i=ss.transition;ss.transition={};try{e(!1),t()}finally{yt=n,ss.transition=i}}function zs(){return Ss().memoizedState}function $s(e,t,n){var i=Wl(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e)?qs(t,n):(Qs(e,t,n),null!==(e=zl(e,i,n=Vl()))&&Xs(e,t,i))}function Ks(e,t,n){var i=Wl(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))qs(t,r);else{Qs(e,t,r);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,oi(a,s))return}catch(e){}null!==(e=zl(e,i,n=Vl()))&&Xs(e,t,i)}}function Ys(e){var t=e.alternate;return e===ls||null!==t&&t===ls}function qs(e,t){hs=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qs(e,t,n){null!==El&&1&e.mode&&!(2&yl)?(null===(e=t.interleaved)?(n.next=n,null===Xr?Xr=[t]:Xr.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xs(e,t,n){if(4194240&n){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zs={readContext:Qr,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},Js={readContext:Qr,useCallback:function(e,t){return Es().memoizedState=[e,void 0===t?null:t],e},useContext:Qr,useEffect:Cs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ds(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Es();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=$s.bind(null,ls,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Es().memoizedState=e},useState:ks,useDebugValue:Gs,useDeferredValue:function(e){var t=ks(e),n=t[0],i=t[1];return Cs((function(){var t=ss.transition;ss.transition={};try{i(e)}finally{ss.transition=t}}),[e]),n},useTransition:function(){var e=ks(!1),t=e[0];return e=Ws.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ls,r=Es();if(ko){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===El)throw Error(o(349));30&as||ws(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Cs(Is.bind(null,i,s,e),[e]),i.flags|=2048,Ls(9,Ns.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=Es(),t=El.identifierPrefix;if(ko){var n=_o;t=":"+t+"R"+(n=(Oo&~(1<<32-st(Oo)-1)).toString(32)+n),0<(n=ps++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Qr,useCallback:Bs,useContext:Qr,useEffect:xs,useImperativeHandle:Hs,useInsertionEffect:Us,useLayoutEffect:js,useMemo:Vs,useReducer:Os,useRef:Ms,useState:function(){return Os(bs)},useDebugValue:Gs,useDeferredValue:function(e){var t=Os(bs),n=t[0],i=t[1];return xs((function(){var t=ss.transition;ss.transition={};try{i(e)}finally{ss.transition=t}}),[e]),n},useTransition:function(){return[Os(bs)[0],Ss().memoizedState]},useMutableSource:Ts,useSyncExternalStore:As,useId:zs,unstable_isNewReconciler:!1},ta={readContext:Qr,useCallback:Bs,useContext:Qr,useEffect:xs,useImperativeHandle:Hs,useInsertionEffect:Us,useLayoutEffect:js,useMemo:Vs,useReducer:_s,useRef:Ms,useState:function(){return _s(bs)},useDebugValue:Gs,useDeferredValue:function(e){var t=_s(bs),n=t[0],i=t[1];return xs((function(){var t=ss.transition;ss.transition={};try{i(e)}finally{ss.transition=t}}),[e]),n},useTransition:function(){return[_s(bs)[0],Ss().memoizedState]},useMutableSource:Ts,useSyncExternalStore:As,useId:zs,unstable_isNewReconciler:!1};function na(e,t){try{var n="",i=t;do{n+=G(i),i=i.return}while(i);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r}}function ia(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ra,oa,sa,aa,la="function"==typeof WeakMap?WeakMap:Map;function ca(e,t,n){(n=to(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Dl||(Dl=!0,Pl=i),ia(0,t)},n}function ua(e,t,n){(n=to(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ia(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ia(0,t),"function"!=typeof i&&(null===Cl?Cl=new Set([this]):Cl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function da(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new la;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=mc.bind(null,e,t,n),t.then(e,e))}function ha(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function pa(e,t,n,i,r){return 1&e.mode?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=to(-1,1)).tag=2,no(n,t))),n.lanes|=1),e)}function fa(e,t){if(!ko)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ma(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ga(e,t,n){var i=t.pendingProps;switch(No(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ma(t),null;case 1:case 17:return Rr(t.type)&&kr(),ma(t),null;case 3:return i=t.stateNode,Zo(),Or(wr),Or(Ar),rs(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Uo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Lo&&(Ql(Lo),Lo=null))),oa(e,t),ma(t),null;case 5:es(t);var r=Qo(qo.current);if(n=t.type,null!==e&&null!=t.stateNode)sa(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return ma(t),null}if(e=Qo(Ko.current),Uo(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[cr]=t,i[ur]=s,e=!!(1&t.mode),n){case"dialog":Ui("cancel",i),Ui("close",i);break;case"iframe":case"object":case"embed":Ui("load",i);break;case"video":case"audio":for(r=0;r<Di.length;r++)Ui(Di[r],i);break;case"source":Ui("error",i);break;case"img":case"image":case"link":Ui("error",i),Ui("load",i);break;case"details":Ui("toggle",i);break;case"input":Q(i,s),Ui("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ui("invalid",i);break;case"textarea":re(i,s),Ui("invalid",i)}for(var l in ye(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?i.textContent!==c&&(Qi(i.textContent,c,e),r=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(Qi(i.textContent,c,e),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ui("scroll",i)}switch(n){case"input":$(i),J(i,s,!0);break;case"textarea":$(i),se(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=Xi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[cr]=t,e[ur]=i,ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ee(n,i),n){case"dialog":Ui("cancel",e),Ui("close",e),r=i;break;case"iframe":case"object":case"embed":Ui("load",e),r=i;break;case"video":case"audio":for(r=0;r<Di.length;r++)Ui(Di[r],e);r=i;break;case"source":Ui("error",e),r=i;break;case"img":case"image":case"link":Ui("error",e),Ui("load",e),r=i;break;case"details":Ui("toggle",e),r=i;break;case"input":Q(e,i),r=q(e,i),Ui("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=U({},i,{value:void 0}),Ui("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Ui("invalid",e)}for(s in ye(n,r),c=r)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"==typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"==typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ui("scroll",e):null!=u&&E(e,s,u,l))}switch(n){case"input":$(e),J(e,i,!1);break;case"textarea":$(e),se(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ne(e,!!i.multiple,s,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof r.onClick&&(e.onclick=Xi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ma(t),null;case 6:if(e&&null!=t.stateNode)aa(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(o(166));if(n=Qo(qo.current),Qo(Ko.current),Uo(t)){if(i=t.stateNode,n=t.memoizedProps,i[cr]=t,(s=i.nodeValue!==n)&&null!==(e=Io))switch(l=!!(1&e.mode),e.tag){case 3:Qi(i.nodeValue,n,l);break;case 5:!0!==e.memoizedProps[void 0]&&Qi(i.nodeValue,n,l)}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[cr]=t,t.stateNode=i}return ma(t),null;case 13:if(Or(ts),i=t.memoizedState,ko&&null!==Ro&&1&t.mode&&!(128&t.flags)){for(i=Ro;i;)i=sr(i.nextSibling);return jo(),t.flags|=98560,t}if(null!==i&&null!==i.dehydrated){if(i=Uo(t),null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[cr]=t}else jo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ma(t),null}return null!==Lo&&(Ql(Lo),Lo=null),128&t.flags?(t.lanes=n,t):(i=null!==i,n=!1,null===e?Uo(t):n=null!==e.memoizedState,i&&!n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ts.current?0===Tl&&(Tl=3):oc())),null!==t.updateQueue&&(t.flags|=4),ma(t),null);case 4:return Zo(),oa(e,t),null===e&&Hi(t.stateNode.containerInfo),ma(t),null;case 10:return Kr(t.type._context),ma(t),null;case 19:if(Or(ts),null===(s=t.memoizedState))return ma(t),null;if(i=!!(128&t.flags),null===(l=s.rendering))if(i)fa(s,!1);else{if(0!==Tl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ns(e))){for(t.flags|=128,fa(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _r(ts,1&ts.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Ml&&(t.flags|=128,i=!0,fa(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ns(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),fa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ko)return ma(t),null}else 2*Xe()-s.renderingStartTime>Ml&&1073741824!==n&&(t.flags|=128,i=!0,fa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ts.current,_r(ts,i?1&n|2:1&n),t):(ma(t),null);case 22:case 23:return tc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&1&t.mode?!!(1073741824&Ol)&&(ma(t),6&t.subtreeFlags&&(t.flags|=8192)):ma(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},oa=function(){},sa=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Qo(Ko.current);var o,s=null;switch(n){case"input":r=q(e,r),i=q(e,i),s=[];break;case"select":r=U({},r,{value:void 0}),i=U({},i,{value:void 0}),s=[];break;case"textarea":r=ie(e,r),i=ie(e,i),s=[];break;default:"function"!=typeof r.onClick&&"function"==typeof i.onClick&&(e.onclick=Xi)}for(u in ye(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ui("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},aa=function(e,t,n,i){n!==i&&(t.flags|=4)};var va=S.ReactCurrentOwner,ya=!1;function Ea(e,t,n,i){t.child=null===e?zo(t,null,n,i):Wo(t,e.child,n,i)}function Sa(e,t,n,i,r){n=n.render;var o=t.ref;return qr(t,r),i=vs(e,t,n,i,o,r),n=ys(),null===e||ya?(ko&&n&&wo(t),t.flags|=1,Ea(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ha(e,t,r))}function ba(e,t,n,i,r){if(null===e){var o=n.type;return"function"!=typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Oa(e,t,o,i,r))}if(o=e.child,!(e.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:si)(s,i)&&e.ref===t.ref)return Ha(e,t,r)}return t.flags|=1,(e=_c(o,i)).ref=t.ref,e.return=t,t.child=e}function Oa(e,t,n,i,r){if(null!==e&&si(e.memoizedProps,i)&&e.ref===t.ref){if(ya=!1,!(e.lanes&r))return t.lanes=e.lanes,Ha(e,t,r);131072&e.flags&&(ya=!0)}return Aa(e,t,n,i,r)}function _a(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,_r(_l,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null},i=null!==o?o.baseLanes:n,_r(_l,Ol),Ol|=i}else t.memoizedState={baseLanes:0,cachePool:null},_r(_l,Ol),Ol|=n;else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,_r(_l,Ol),Ol|=i;return Ea(e,t,r,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,i,r){var o=Rr(n)?Nr:Ar.current;return o=Ir(t,o),qr(t,r),n=vs(e,t,n,i,o,r),i=ys(),null===e||ya?(ko&&i&&wo(t),t.flags|=1,Ea(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ha(e,t,r))}function wa(e,t,n,i,r){if(Rr(n)){var o=!0;Dr(t)}else o=!1;if(qr(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ho(t,n,i),fo(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=Qr(c):c=Ir(t,c=Rr(n)?Nr:Ar.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==c)&&po(t,s,i,c),Zr=!1;var h=t.memoizedState;s.state=h,oo(t,i,s,r),l=t.memoizedState,a!==i||h!==l||wr.current||Zr?("function"==typeof u&&(lo(t,n,u,i),l=t.memoizedState),(a=Zr||uo(t,n,a,i,h,l,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,eo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Gr(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"==typeof(l=n.contextType)&&null!==l?l=Qr(l):l=Ir(t,l=Rr(n)?Nr:Ar.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&po(t,s,i,l),Zr=!1,h=t.memoizedState,s.state=h,oo(t,i,s,r);var f=t.memoizedState;a!==d||h!==f||wr.current||Zr?("function"==typeof p&&(lo(t,n,p,i),f=t.memoizedState),(c=Zr||uo(t,n,c,i,h,f,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=l,i=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Na(e,t,n,i,o,r)}function Na(e,t,n,i,r,o){Ta(e,t);var s=!!(128&t.flags);if(!i&&!s)return r&&Pr(t,n,!1),Ha(e,t,o);i=t.stateNode,va.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=Wo(t,e.child,null,o),t.child=Wo(t,null,a,o)):Ea(e,t,a,o),t.memoizedState=i.state,r&&Pr(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),Xo(e,t.containerInfo)}function Ra(e,t,n,i,r){return jo(),Fo(r),t.flags|=256,Ea(e,t,n,i),t.child}var ka={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null}}function Ma(e,t,n){var i,r=t.pendingProps,s=ts.current,a=!1,l=!!(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&!!(2&s)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),_r(ts,1&s),null===e)return Co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},1&r||null===a?a=wc(s,r,0,null):(a.childLanes=0,a.pendingProps=s),e=Ac(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=ka,e):Da(t,s));if(null!==(s=e.memoizedState)){if(null!==(i=s.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,xa(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=wc({mode:"visible",children:r.children},s,0,null),(a=Ac(a,s,n,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&Wo(t,e.child,null,n),t.child.memoizedState=La(n),t.memoizedState=ka,a);if(1&t.mode)if("$!"===i.data)t=xa(e,t,n,Error(o(419)));else if(r=!!(n&e.childLanes),ya||r){if(null!==(r=El)){switch(n&-n){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(r=a&(r.suspendedLanes|n)?0:a)&&r!==s.retryLane&&(s.retryLane=r,zl(e,r,-1))}oc(),t=xa(e,t,n,Error(o(421)))}else"$?"===i.data?(t.flags|=128,t.child=e.child,t=vc.bind(null,e),i._reactRetry=t,t=null):(n=s.treeContext,Ro=sr(i.nextSibling),Io=t,ko=!0,Lo=null,null!==n&&(Eo[So++]=Oo,Eo[So++]=_o,Eo[So++]=bo,Oo=n.id,_o=n.overflow,bo=t),(t=Da(t,t.pendingProps.children)).flags|=4096);else t=xa(e,t,n,null);return t}return a?(r=Ca(e,t,r.children,r.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?La(n):{baseLanes:s.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=ka,r):(n=Pa(e,t,r.children,n),t.memoizedState=null,n)}return a?(r=Ca(e,t,r.children,r.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?La(n):{baseLanes:s.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=ka,r):(n=Pa(e,t,r.children,n),t.memoizedState=null,n)}function Da(e,t){return(t=wc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Pa(e,t,n,i){var r=e.child;return e=r.sibling,n=_c(r,{mode:"visible",children:n}),!(1&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n}function Ca(e,t,n,i,r){var o=t.mode,s=(e=e.child).sibling,a={mode:"hidden",children:n};return 1&o||t.child===e?(n=_c(e,a)).subtreeFlags=14680064&e.subtreeFlags:((n=t.child).childLanes=0,n.pendingProps=a,t.deletions=null),null!==s?i=_c(s,i):(i=Ac(i,o,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function xa(e,t,n,i){return null!==i&&Fo(i),Wo(t,e.child,null,n),(e=Da(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Yr(e.return,t,n)}function ja(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Fa(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Ea(e,t,i.children,n),2&(i=ts.current))i=1&i|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(_r(ts,i),1&t.mode)switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ns(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ja(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ns(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ja(t,!0,n,null,o);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),wl|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){switch(No(t),t.tag){case 1:return Rr(t.type)&&kr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zo(),Or(wr),Or(Ar),rs(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return es(t),null;case 13:if(Or(ts),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));jo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Or(ts),null;case 4:return Zo(),null;case 10:return Kr(t.type._context),null;case 22:case 23:return tc(),null;default:return null}}var Ba=!1,Va=!1,Wa="function"==typeof WeakSet?WeakSet:Set,za=null;function $a(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){fc(e,t,n)}else n.current=null}function Ka(e,t,n){try{n()}catch(n){fc(e,t,n)}}var Ya=!1;function qa(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&Ka(t,n,o)}r=r.next}while(r!==i)}}function Qa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Xa(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function Za(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e=e.next;do{var r=i,o=r.destroy;r=r.tag,void 0!==o&&(2&r||4&r)&&Ka(t,n,o),i=i.next}while(i!==e)}break;case 1:if($a(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){fc(t,n,e)}break;case 5:$a(t,n);break;case 4:ol(e,t,n)}}function Ja(e){var t=e.alternate;null!==t&&(e.alternate=null,Ja(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[cr],delete t[ur],delete t[hr],delete t[pr],delete t[fr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function el(e){return 5===e.tag||3===e.tag||4===e.tag}function tl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||el(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function nl(e){e:{for(var t=e.return;null!==t;){if(el(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rl(e,n=tl(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,il(e,n=tl(e),t);break;default:throw Error(o(161))}}function il(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xi));else if(4!==i&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}function rl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(rl(e,t,n),e=e.sibling;null!==e;)rl(e,t,n),e=e.sibling}function ol(e,t,n){for(var i,r,s=t,a=!1;;){if(!a){a=s.return;e:for(;;){if(null===a)throw Error(o(160));switch(i=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===s.tag||6===s.tag){e:for(var l=e,c=s,u=n,d=c;;)if(Za(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r?(l=i,c=s.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):i.removeChild(s.stateNode)}else if(18===s.tag)r?(l=i,c=s.stateNode,8===l.nodeType?or(l.parentNode,c):1===l.nodeType&&or(l,c),Gt(l)):or(i,s.stateNode);else if(4===s.tag){if(null!==s.child){i=s.stateNode.containerInfo,r=!0,s.child.return=s,s=s.child;continue}}else if(Za(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(a=!1)}s.sibling.return=s.return,s=s.sibling}}function sl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return qa(3,t,t.return),Qa(3,t),void qa(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for("input"===e&&"radio"===i.type&&null!=i.name&&X(n,i),Ee(e,r),t=Ee(e,i),r=0;r<s.length;r+=2){var a=s[r],l=s[r+1];"style"===a?ge(n,l):"dangerouslySetInnerHTML"===a?de(n,l):"children"===a?he(n,l):E(n,a,l,t)}switch(e){case"input":Z(n,i);break;case"textarea":oe(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(s=i.value)?ne(n,!!i.multiple,s,!1):e!==!!i.multiple&&(null!=i.defaultValue?ne(n,!!i.multiple,i.defaultValue,!0):ne(n,!!i.multiple,i.multiple?[]:"",!1))}n[ur]=i}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Gt(t.stateNode.containerInfo));case 13:case 19:return void al(t)}throw Error(o(163))}function al(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Wa),t.forEach((function(t){var i=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ll(e,t,n){za=e,cl(e,t,n)}function cl(e,t,n){for(var i=!!(1&e.mode);null!==za;){var r=za,o=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||Ba;if(!s){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Va;a=Ba;var c=Va;if(Ba=s,(Va=l)&&!c)for(za=r;null!==za;)l=(s=za).child,22===s.tag&&null!==s.memoizedState?hl(r):null!==l?(l.return=s,za=l):hl(r);for(;null!==o;)za=o,cl(o,t,n),o=o.sibling;za=r,Ba=a,Va=c}ul(e)}else 8772&r.subtreeFlags&&null!==o?(o.return=r,za=o):ul(e)}}function ul(e){for(;null!==za;){var t=za;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Va||Qa(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Va)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Gr(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&so(t,s,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}so(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Gt(h)}}}break;default:throw Error(o(163))}Va||512&t.flags&&Xa(t)}catch(e){fc(t,t.return,e)}}if(t===e){za=null;break}if(null!==(n=t.sibling)){n.return=t.return,za=n;break}za=t.return}}function dl(e){for(;null!==za;){var t=za;if(t===e){za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,za=n;break}za=t.return}}function hl(e){for(;null!==za;){var t=za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qa(4,t)}catch(e){fc(t,n,e)}break;case 1:var i=t.stateNode;if("function"==typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(e){fc(t,r,e)}}var o=t.return;try{Xa(t)}catch(e){fc(t,o,e)}break;case 5:var s=t.return;try{Xa(t)}catch(e){fc(t,s,e)}}}catch(e){fc(t,t.return,e)}if(t===e){za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,za=a;break}za=t.return}}var pl,fl=Math.ceil,ml=S.ReactCurrentDispatcher,gl=S.ReactCurrentOwner,vl=S.ReactCurrentBatchConfig,yl=0,El=null,Sl=null,bl=0,Ol=0,_l=br(0),Tl=0,Al=null,wl=0,Nl=0,Il=0,Rl=null,kl=null,Ll=0,Ml=1/0,Dl=!1,Pl=null,Cl=null,xl=!1,Ul=null,jl=0,Fl=0,Hl=null,Gl=-1,Bl=0;function Vl(){return 6&yl?Xe():-1!==Gl?Gl:Gl=Xe()}function Wl(e){return 1&e.mode?2&yl&&0!==bl?bl&-bl:null!==Hr.transition?(0===Bl&&(e=ct,!(4194240&(ct<<=1))&&(ct=64),Bl=e),Bl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type):1}function zl(e,t,n){if(50<Fl)throw Fl=0,Hl=null,Error(o(185));var i=$l(e,t);return null===i?null:(gt(i,t,n),2&yl&&i===El||(i===El&&(!(2&yl)&&(Nl|=t),4===Tl&&Xl(i,bl)),Kl(i,n),1===t&&0===yl&&!(1&e.mode)&&(Ml=Xe()+500,xr&&Fr())),i)}function $l(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Kl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=r[s];-1===l?a&n&&!(a&i)||(r[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var i=ht(e,e===El?bl:0);if(0===i)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){xr=!0,jr(e)}(Zl.bind(null,e)):jr(Zl.bind(null,e)),ir((function(){0===yl&&Fr()})),n=null;else{switch(Et(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ec(n,Yl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yl(e,t){if(Gl=-1,Bl=0,6&yl)throw Error(o(327));var n=e.callbackNode;if(hc()&&e.callbackNode!==n)return null;var i=ht(e,e===El?bl:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=sc(e,i);else{t=i;var r=yl;yl|=2;var s=rc();for(El===e&&bl===t||(Ml=Xe()+500,nc(e,t));;)try{lc();break}catch(t){ic(e,t)}$r(),ml.current=s,yl=r,null!==Sl?t=0:(El=null,bl=0,t=Tl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=ql(e,r))),1===t)throw n=Al,nc(e,0),Xl(e,i),Kl(e,Xe()),n;if(6===t)Xl(e,i);else{if(r=e.current.alternate,!(30&i||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!oi(o(),r))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)||(t=sc(e,i),2===t&&(s=ft(e),0!==s&&(i=s,t=ql(e,s))),1!==t)))throw n=Al,nc(e,0),Xl(e,i),Kl(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:dc(e,kl);break;case 3:if(Xl(e,i),(130023424&i)===i&&10<(t=Ll+500-Xe())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){Vl(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=er(dc.bind(null,e,kl),t);break}dc(e,kl);break;case 4:if(Xl(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-st(i);s=1<<a,(a=t[a])>r&&(r=a),i&=~s}if(i=r,10<(i=(120>(i=Xe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*fl(i/1960))-i)){e.timeoutHandle=er(dc.bind(null,e,kl),i);break}dc(e,kl);break;default:throw Error(o(329))}}}return Kl(e,Xe()),e.callbackNode===n?Yl.bind(null,e):null}function ql(e,t){var n=Rl;return e.current.memoizedState.isDehydrated&&(nc(e,t).flags|=256),2!==(e=sc(e,t))&&(t=kl,kl=n,null!==t&&Ql(t)),e}function Ql(e){null===kl?kl=e:kl.push.apply(kl,e)}function Xl(e,t){for(t&=~Il,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),i=1<<n;e[n]=-1,t&=~i}}function Zl(e){if(6&yl)throw Error(o(327));hc();var t=ht(e,0);if(!(1&t))return Kl(e,Xe()),null;var n=sc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ql(e,i))}if(1===n)throw n=Al,nc(e,0),Xl(e,t),Kl(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dc(e,kl),Kl(e,Xe()),null}function Jl(e,t){var n=yl;yl|=1;try{return e(t)}finally{0===(yl=n)&&(Ml=Xe()+500,xr&&Fr())}}function ec(e){null!==Ul&&0===Ul.tag&&!(6&yl)&&hc();var t=yl;yl|=1;var n=vl.transition,i=yt;try{if(vl.transition=null,yt=1,e)return e()}finally{yt=i,vl.transition=n,!(6&(yl=t))&&Fr()}}function tc(){Ol=_l.current,Or(_l)}function nc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,tr(n)),null!==Sl)for(n=Sl.return;null!==n;){var i=n;switch(No(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&kr();break;case 3:Zo(),Or(wr),Or(Ar),rs();break;case 5:es(i);break;case 4:Zo();break;case 13:case 19:Or(ts);break;case 10:Kr(i.type._context);break;case 22:case 23:tc()}n=n.return}if(El=e,Sl=e=_c(e.current,null),bl=Ol=t,Tl=0,Al=null,Il=Nl=wl=0,kl=Rl=null,null!==Xr){for(t=0;t<Xr.length;t++)if(null!==(i=(n=Xr[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,i.next=s}n.pending=i}Xr=null}return e}function ic(e,t){for(;;){var n=Sl;try{if($r(),os.current=Zs,ds){for(var i=ls.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ds=!1}if(as=0,us=cs=ls=null,hs=!1,ps=0,gl.current=null,null===n||null===n.return){Tl=1,Al=t,Sl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=bl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ha(a);if(null!==f){f.flags&=-257,pa(f,a,l,0,t),1&f.mode&&da(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){da(s,u,t),oc();break e}c=Error(o(426))}else if(ko&&1&l.mode){var v=ha(a);if(null!==v){!(65536&v.flags)&&(v.flags|=256),pa(v,a,l,0,t),Fo(c);break e}}s=c,4!==Tl&&(Tl=2),null===Rl?Rl=[s]:Rl.push(s),c=na(c,l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,ro(l,ca(0,c,t));break e;case 1:s=c;var y=l.type,E=l.stateNode;if(!(128&l.flags||"function"!=typeof y.getDerivedStateFromError&&(null===E||"function"!=typeof E.componentDidCatch||null!==Cl&&Cl.has(E)))){l.flags|=65536,t&=-t,l.lanes|=t,ro(l,ua(l,s,t));break e}}l=l.return}while(null!==l)}uc(n)}catch(e){t=e,Sl===n&&null!==n&&(Sl=n=n.return);continue}break}}function rc(){var e=ml.current;return ml.current=Zs,null===e?Zs:e}function oc(){0!==Tl&&3!==Tl&&2!==Tl||(Tl=4),null===El||!(268435455&wl)&&!(268435455&Nl)||Xl(El,bl)}function sc(e,t){var n=yl;yl|=2;var i=rc();for(El===e&&bl===t||nc(e,t);;)try{ac();break}catch(t){ic(e,t)}if($r(),yl=n,ml.current=i,null!==Sl)throw Error(o(261));return El=null,bl=0,Tl}function ac(){for(;null!==Sl;)cc(Sl)}function lc(){for(;null!==Sl&&!qe();)cc(Sl)}function cc(e){var t=pl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?uc(e):Sl=t,gl.current=null}function uc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Sl=n);if(null===e)return Tl=6,void(Sl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=ga(n,t,Ol)))return void(Sl=n);if(null!==(t=t.sibling))return void(Sl=t);Sl=t=e}while(null!==t);0===Tl&&(Tl=5)}function dc(e,t){var n=yt,i=vl.transition;try{vl.transition=null,yt=1,function(e,t,n){do{hc()}while(null!==Ul);if(6&yl)throw Error(o(327));var i=e.finishedWork,r=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=i.lanes|i.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,s),e===El&&(Sl=El=null,bl=0),!(2064&i.subtreeFlags)&&!(2064&i.flags)||xl||(xl=!0,Ec(tt,(function(){return hc(),null}))),s=!!(15990&i.flags),!!(15990&i.subtreeFlags)||s){s=vl.transition,vl.transition=null;var a=yt;yt=1;var l=yl;yl|=4,gl.current=null,function(e,t){if(di(e=ui())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=a+r),h!==s||0!==i&&3!==h.nodeType||(c=a+i),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=a),p===s&&++d===i&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zi={focusedElem:e,selectionRange:n},za=t;null!==za;)if(e=(t=za).child,1028&t.subtreeFlags&&null!==e)e.return=t,za=e;else for(;null!==za;){t=za;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,E=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Gr(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=t.stateNode.containerInfo;if(1===S.nodeType)S.textContent="";else if(9===S.nodeType){var b=S.body;null!=b&&(b.textContent="")}break;default:throw Error(o(163))}}catch(e){fc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,za=e;break}za=t.return}m=Ya,Ya=!1}(e,i),function(e,t){for(za=t;null!==za;){var n=(t=za).deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{ol(e,r,t);var o=r.alternate;null!==o&&(o.return=null),r.return=null}catch(e){fc(r,t,e)}}if(n=t.child,12854&t.subtreeFlags&&null!==n)n.return=t,za=n;else for(;null!==za;){t=za;try{var s=t.flags;if(32&s&&he(t.stateNode,""),512&s){var a=t.alternate;if(null!==a){var l=a.ref;null!==l&&("function"==typeof l?l(null):l.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ll=Xe())}break;case 22:var u=null!==t.memoizedState,d=t.alternate,h=null!==d&&null!==d.memoizedState;e:{r=u;for(var p=null,f=i=n=t;;){if(5===f.tag){if(null===p){p=f;var m=f.stateNode;if(r){var g=m.style;"function"==typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var v=f.stateNode,y=f.memoizedProps.style,E=null!=y&&y.hasOwnProperty("display")?y.display:null;v.style.display=me("display",E)}}}else if(6===f.tag)null===p&&(f.stateNode.nodeValue=r?"":f.memoizedProps);else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===i)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===i)break;for(;null===f.sibling;){if(null===f.return||f.return===i)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}if(u&&!h&&1&n.mode){za=n;for(var S=n.child;null!==S;){for(n=za=S;null!==za;){var b=(i=za).child;switch(i.tag){case 0:case 11:case 14:case 15:qa(4,i,i.return);break;case 1:$a(i,i.return);var O=i.stateNode;if("function"==typeof O.componentWillUnmount){var _=i.return;try{O.props=i.memoizedProps,O.state=i.memoizedState,O.componentWillUnmount()}catch(e){fc(i,_,e)}}break;case 5:$a(i,i.return);break;case 22:if(null!==i.memoizedState){dl(n);continue}}null!==b?(b.return=i,za=b):dl(n)}S=S.sibling}}}switch(4102&s){case 2:nl(t),t.flags&=-3;break;case 6:nl(t),t.flags&=-3,sl(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,sl(t.alternate,t);break;case 4:sl(t.alternate,t)}}catch(e){fc(t,t.return,e)}if(null!==(n=t.sibling)){n.return=t.return,za=n;break}za=t.return}}}(e,i),hi(Zi),Zi=null,e.current=i,ll(i,e,r),Qe(),yl=l,yt=a,vl.transition=s}else e.current=i;if(xl&&(xl=!1,Ul=e,jl=r),s=e.pendingLanes,0===s&&(Cl=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,!(128&~e.current.flags))}catch(e){}}(i.stateNode),Kl(e,Xe()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)n(t[i]);if(Dl)throw Dl=!1,e=Pl,Pl=null,e;!!(1&jl)&&0!==e.tag&&hc(),s=e.pendingLanes,1&s?e===Hl?Fl++:(Fl=0,Hl=e):Fl=0,Fr()}(e,t,n)}finally{vl.transition=i,yt=n}return null}function hc(){if(null!==Ul){var e=Et(jl),t=vl.transition,n=yt;try{if(vl.transition=null,yt=16>e?16:e,null===Ul)var i=!1;else{if(e=Ul,Ul=null,jl=0,6&yl)throw Error(o(331));var r=yl;for(yl|=4,za=e.current;null!==za;){var s=za,a=s.child;if(16&za.flags){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(za=u;null!==za;){var d=za;switch(d.tag){case 0:case 11:case 15:qa(8,d,s)}var h=d.child;if(null!==h)h.return=d,za=h;else for(;null!==za;){var p=(d=za).sibling,f=d.return;if(Ja(d),d===u){za=null;break}if(null!==p){p.return=f,za=p;break}za=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}za=s}}if(2064&s.subtreeFlags&&null!==a)a.return=s,za=a;else e:for(;null!==za;){if(2048&(s=za).flags)switch(s.tag){case 0:case 11:case 15:qa(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,za=y;break e}za=s.return}}var E=e.current;for(za=E;null!==za;){var S=(a=za).child;if(2064&a.subtreeFlags&&null!==S)S.return=a,za=S;else e:for(a=E;null!==za;){if(2048&(l=za).flags)try{switch(l.tag){case 0:case 11:case 15:Qa(9,l)}}catch(e){fc(l,l.return,e)}if(l===a){za=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,za=b;break e}za=l.return}}if(yl=r,Fr(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(e){}i=!0}return i}finally{yt=n,vl.transition=t}}return!1}function pc(e,t,n){no(e,t=ca(0,t=na(n,t),1)),t=Vl(),null!==(e=$l(e,1))&&(gt(e,1,t),Kl(e,t))}function fc(e,t,n){if(3===e.tag)pc(e,e,n);else for(;null!==t;){if(3===t.tag){pc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Cl||!Cl.has(i))){no(t,e=ua(t,e=na(n,e),1)),e=Vl(),null!==(t=$l(t,1))&&(gt(t,1,e),Kl(t,e));break}}t=t.return}}function mc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=Vl(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(bl&n)===n&&(4===Tl||3===Tl&&(130023424&bl)===bl&&500>Xe()-Ll?nc(e,0):Il|=n),Kl(e,t)}function gc(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=Vl();null!==(e=$l(e,t))&&(gt(e,t,n),Kl(e,n))}function vc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),gc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),gc(e,n)}function Ec(e,t){return Ke(e,t)}function Sc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bc(e,t,n,i){return new Sc(e,t,n,i)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tc(e,t,n,i,r,s){var a=2;if(i=e,"function"==typeof e)Oc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case _:return Ac(n.children,r,s,t);case T:a=8,r|=8;break;case A:return(e=bc(12,n,t,2|r)).elementType=A,e.lanes=s,e;case R:return(e=bc(13,n,t,r)).elementType=R,e.lanes=s,e;case k:return(e=bc(19,n,t,r)).elementType=k,e.lanes=s,e;case D:return wc(n,r,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case w:a=10;break e;case N:a=9;break e;case I:a=11;break e;case L:a=14;break e;case M:a=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=bc(a,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Ac(e,t,n,i){return(e=bc(7,e,i,t)).lanes=n,e}function wc(e,t,n,i){return(e=bc(22,e,i,t)).elementType=D,e.lanes=n,e.stateNode={},e}function Nc(e,t,n){return(e=bc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function kc(e,t,n,i,r,o,s,a,l){return e=new Rc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=bc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null},Jr(o),e}function Lc(e){if(!e)return Tr;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Rr(n))return Mr(e,n,t)}return t}function Mc(e,t,n,i,r,o,s,a,l){return(e=kc(n,i,!0,e,0,o,0,a,l)).context=Lc(null),n=e.current,(o=to(i=Vl(),r=Wl(n))).callback=null!=t?t:null,no(n,o),e.current.lanes=r,gt(e,r,i),Kl(e,i),e}function Dc(e,t,n,i){var r=t.current,o=Vl(),s=Wl(r);return n=Lc(n),null===t.context?t.context=n:t.pendingContext=n,(t=to(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),no(r,t),null!==(e=zl(r,s,o))&&io(e,r,s),s}function Pc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Cc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function xc(e,t){Cc(e,t),(e=e.alternate)&&Cc(e,t)}pl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||wr.current)ya=!0;else{if(!(e.lanes&n||128&t.flags))return ya=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),jo();break;case 5:Jo(t);break;case 1:Rr(t.type)&&Dr(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;_r(Br,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(_r(ts,1&ts.current),t.flags|=128,null):n&t.child.childLanes?Ma(e,t,n):(_r(ts,1&ts.current),null!==(e=Ha(e,t,n))?e.sibling:null);_r(ts,1&ts.current);break;case 19:if(i=!!(n&t.childLanes),128&e.flags){if(i)return Fa(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),_r(ts,ts.current),i)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return Ha(e,t,n)}(e,t,n);ya=!!(131072&e.flags)}else ya=!1,ko&&1048576&t.flags&&Ao(t,yo,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var r=Ir(t,Ar.current);qr(t,n),r=vs(null,t,i,e,r,n);var s=ys();return t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(i)?(s=!0,Dr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Jr(t),r.updater=co,t.stateNode=r,r._reactInternals=t,fo(t,i,e,n),t=Na(null,t,i,!0,s,n)):(t.tag=0,ko&&s&&wo(t),Ea(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"==typeof e)return Oc(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===L)return 14}return 2}(i),e=Gr(i,e),r){case 0:t=Aa(null,t,i,e,n);break e;case 1:t=wa(null,t,i,e,n);break e;case 11:t=Sa(null,t,i,e,n);break e;case 14:t=ba(null,t,i,Gr(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Aa(e,t,i,r=t.elementType===i?r:Gr(i,r),n);case 1:return i=t.type,r=t.pendingProps,wa(e,t,i,r=t.elementType===i?r:Gr(i,r),n);case 3:e:{if(Ia(t),null===e)throw Error(o(387));i=t.pendingProps,r=(s=t.memoizedState).element,eo(e,t),oo(t,i,null,n);var a=t.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,i,n,r=Error(o(423)));break e}if(i!==r){t=Ra(e,t,i,n,r=Error(o(424)));break e}for(Ro=sr(t.stateNode.containerInfo.firstChild),Io=t,ko=!0,Lo=null,n=zo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(jo(),i===r){t=Ha(e,t,n);break e}Ea(e,t,i,n)}t=t.child}return t;case 5:return Jo(t),null===e&&Co(t),i=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,a=r.children,Ji(i,r)?a=null:null!==s&&Ji(i,s)&&(t.flags|=32),Ta(e,t),Ea(e,t,a,n),t.child;case 6:return null===e&&Co(t),null;case 13:return Ma(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Wo(t,null,i,n):Ea(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Sa(e,t,i,r=t.elementType===i?r:Gr(i,r),n);case 7:return Ea(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ea(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,a=r.value,_r(Br,i._currentValue),i._currentValue=a,null!==s)if(oi(s.value,a)){if(s.children===r.children&&!wr.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=to(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Yr(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Yr(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ea(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,qr(t,n),i=i(r=Qr(r)),t.flags|=1,Ea(e,t,i,n),t.child;case 14:return r=Gr(i=t.type,t.pendingProps),ba(e,t,i,r=Gr(i.type,r),n);case 15:return Oa(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Gr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Rr(i)?(e=!0,Dr(t)):e=!1,qr(t,n),ho(t,i,r),fo(t,i,r,n),Na(null,t,i,!0,e,n);case 19:return Fa(e,t,n);case 22:return _a(e,t,n)}throw Error(o(156,t.tag))};var Uc="function"==typeof reportError?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}function Fc(e){this._internalRoot=e}function Hc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function Vc(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof r){var a=r;r=function(){var e=Pc(s);a.call(e)}}Dc(t,s,e,r)}else s=function(e,t,n,i,r){if(r){if("function"==typeof i){var o=i;i=function(){var e=Pc(s);o.call(e)}}var s=Mc(t,i,e,0,null,!1,0,"",Bc);return e._reactRootContainer=s,e[dr]=s.current,Hi(8===e.nodeType?e.parentNode:e),ec(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"==typeof i){var a=i;i=function(){var e=Pc(l);a.call(e)}}var l=kc(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=l,e[dr]=l.current,Hi(8===e.nodeType?e.parentNode:e),ec((function(){Dc(t,l,n,i)})),l}(n,t,e,r,i);return Pc(s)}Fc.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Dc(e,t,null,null)},Fc.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ec((function(){Dc(null,e,null,null)})),t[dr]=null}},Fc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&xt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),Kl(t,Xe()),!(6&yl)&&(Ml=Xe()+500,Fr()))}break;case 13:var i=Vl();ec((function(){return zl(e,1,i)})),xc(e,1)}},bt=function(e){13===e.tag&&(zl(e,134217728,Vl()),xc(e,134217728))},Ot=function(e){if(13===e.tag){var t=Vl(),n=Wl(e);zl(e,n,t),xc(e,n)}},_t=function(){return yt},Tt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Oe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=yr(i);if(!r)throw Error(o(90));K(i),Z(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=Jl,Re=ec;var Wc={usingClientEntryPoint:!1,Events:[gr,vr,yr,we,Ne,Jl]},zc={findFiberByHostInstance:mr,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},$c={bundleType:zc.bundleType,version:zc.version,rendererPackageName:zc.rendererPackageName,rendererConfig:zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:zc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{rt=Kc.inject($c),ot=Kc}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Hc(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Hc(e))throw Error(o(299));var n=!1,i="",r=Uc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=kc(e,1,!1,null,0,n,0,i,r),e[dr]=t.current,Hi(8===e.nodeType?e.parentNode:e),new jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return ec(e)},t.hydrate=function(e,t,n){if(!Gc(t))throw Error(o(200));return Vc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Hc(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",a=Uc;if(null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Mc(t,null,e,1,null!=n?n:null,r,0,s,a),e[dr]=t.current,Hi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Fc(t)},t.render=function(e,t,n){if(!Gc(t))throw Error(o(200));return Vc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gc(e))throw Error(o(40));return!!e._reactRootContainer&&(ec((function(){Vc(null,null,e,!1,(function(){e._reactRootContainer=null,e[dr]=null}))})),!0)},t.unstable_batchedUpdates=Jl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Gc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Vc(e,t,n,!1,i)},t.version="18.0.0-fc46dba67-20220329"},5338:(e,t,n)=>{"use strict";var i=n(40961);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},40961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(22551)},30115:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,i="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(!o(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],s.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!=l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],s[c[l]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},13647:(e,t,n)=>{"use strict";n.d(t,{E:()=>Ee});var i=n(96540);function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){return e instanceof r(e).Element||e instanceof Element}function s(e){return e instanceof r(e).HTMLElement||e instanceof HTMLElement}function a(e){return"undefined"!=typeof ShadowRoot&&(e instanceof r(e).ShadowRoot||e instanceof ShadowRoot)}var l=Math.max,c=Math.min,u=Math.round;function d(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),i=1,r=1;if(s(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(i=u(n.width)/a||1),o>0&&(r=u(n.height)/o||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function h(e){var t=r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function f(e){return((o(e)?e.ownerDocument:e.document)||window.document).documentElement}function m(e){return d(f(e)).left+h(e).scrollLeft}function g(e){return r(e).getComputedStyle(e)}function v(e){var t=g(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function y(e,t,n){void 0===n&&(n=!1);var i,o,a=s(t),l=s(t)&&function(e){var t=e.getBoundingClientRect(),n=u(t.width)/e.offsetWidth||1,i=u(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),c=f(t),g=d(e,l),y={scrollLeft:0,scrollTop:0},E={x:0,y:0};return(a||!a&&!n)&&(("body"!==p(t)||v(c))&&(y=(i=t)!==r(i)&&s(i)?{scrollLeft:(o=i).scrollLeft,scrollTop:o.scrollTop}:h(i)),s(t)?((E=d(t,!0)).x+=t.clientLeft,E.y+=t.clientTop):c&&(E.x=m(c))),{x:g.left+y.scrollLeft-E.x,y:g.top+y.scrollTop-E.y,width:g.width,height:g.height}}function E(e){var t=d(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function S(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(a(e)?e.host:null)||f(e)}function b(e){return["html","body","#document"].indexOf(p(e))>=0?e.ownerDocument.body:s(e)&&v(e)?e:b(S(e))}function O(e,t){var n;void 0===t&&(t=[]);var i=b(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),s=r(i),a=o?[s].concat(s.visualViewport||[],v(i)?i:[]):i,l=t.concat(a);return o?l:l.concat(O(S(a)))}function _(e){return["table","td","th"].indexOf(p(e))>=0}function T(e){return s(e)&&"fixed"!==g(e).position?e.offsetParent:null}function A(e){for(var t=r(e),n=T(e);n&&_(n)&&"static"===g(n).position;)n=T(n);return n&&("html"===p(n)||"body"===p(n)&&"static"===g(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&s(e)&&"fixed"===g(e).position)return null;for(var n=S(e);s(n)&&["html","body"].indexOf(p(n))<0;){var i=g(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var w="top",N="bottom",I="right",R="left",k="auto",L=[w,N,I,R],M="start",D="end",P="viewport",C="popper",x=L.reduce((function(e,t){return e.concat([t+"-"+M,t+"-"+D])}),[]),U=[].concat(L,[k]).reduce((function(e,t){return e.concat([t,t+"-"+M,t+"-"+D])}),[]),j=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function F(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}var H={placement:"bottom",modifiers:[],strategy:"absolute"};function G(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function B(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,s=void 0===r?H:r;return function(e,t,n){void 0===n&&(n=s);var r,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},H,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(n){var r="function"==typeof n?n(l.options):n;h(),l.options=Object.assign({},s,l.options,r),l.scrollParents={reference:o(e)?O(e):e.contextElement?O(e.contextElement):[],popper:O(t)};var a=function(e){var t=F(e);return j.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,l.options.modifiers)));return l.orderedModifiers=a.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:l,name:t,instance:d,options:i}),s=function(){};c.push(o||s)}})),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(G(t,n)){l.rects={reference:y(t,A(n),"fixed"===l.options.strategy),popper:E(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<l.orderedModifiers.length;i++)if(!0!==l.reset){var r=l.orderedModifiers[i],o=r.fn,s=r.options,a=void 0===s?{}:s,c=r.name;"function"==typeof o&&(l=o({state:l,options:a,name:c,instance:d})||l)}else l.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(r())}))}))),a}),destroy:function(){h(),u=!0}};if(!G(e,t))return d;function h(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var V={passive:!0};function W(e){return e.split("-")[0]}function z(e){return e.split("-")[1]}function $(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function K(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?W(r):null,s=r?z(r):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case w:t={x:a,y:n.y-i.height};break;case N:t={x:a,y:n.y+n.height};break;case I:t={x:n.x+n.width,y:l};break;case R:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?$(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case M:t[c]=t[c]-(n[u]/2-i[u]/2);break;case D:t[c]=t[c]+(n[u]/2-i[u]/2)}}return t}var Y={top:"auto",right:"auto",bottom:"auto",left:"auto"};function q(e){var t,n=e.popper,i=e.popperRect,o=e.placement,s=e.variation,a=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,h=e.roundOffsets,p=e.isFixed,m=a.x,v=void 0===m?0:m,y=a.y,E=void 0===y?0:y,S="function"==typeof h?h({x:v,y:E}):{x:v,y:E};v=S.x,E=S.y;var b=a.hasOwnProperty("x"),O=a.hasOwnProperty("y"),_=R,T=w,k=window;if(d){var L=A(n),M="clientHeight",P="clientWidth";if(L===r(n)&&"static"!==g(L=f(n)).position&&"absolute"===l&&(M="scrollHeight",P="scrollWidth"),o===w||(o===R||o===I)&&s===D)T=N,E-=(p&&k.visualViewport?k.visualViewport.height:L[M])-i.height,E*=c?1:-1;if(o===R||(o===w||o===N)&&s===D)_=I,v-=(p&&k.visualViewport?k.visualViewport.width:L[P])-i.width,v*=c?1:-1}var C,x=Object.assign({position:l},d&&Y),U=!0===h?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:u(t*i)/i||0,y:u(n*i)/i||0}}({x:v,y:E}):{x:v,y:E};return v=U.x,E=U.y,c?Object.assign({},x,((C={})[T]=O?"0":"",C[_]=b?"0":"",C.transform=(k.devicePixelRatio||1)<=1?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",C)):Object.assign({},x,((t={})[T]=O?E+"px":"",t[_]=b?v+"px":"",t.transform="",t))}const Q={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=U.reduce((function(e,n){return e[n]=function(e,t,n){var i=W(e),r=[R,w].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[R,I].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}};var X={left:"right",right:"left",bottom:"top",top:"bottom"};function Z(e){return e.replace(/left|right|bottom|top/g,(function(e){return X[e]}))}var J={start:"end",end:"start"};function ee(e){return e.replace(/start|end/g,(function(e){return J[e]}))}function te(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&a(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ne(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ie(e,t){return t===P?ne(function(e){var t=r(e),n=f(e),i=t.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;return i&&(o=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=i.offsetLeft,l=i.offsetTop)),{width:o,height:s,x:a+m(e),y:l}}(e)):o(t)?function(e){var t=d(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ne(function(e){var t,n=f(e),i=h(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=l(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=l(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+m(e),c=-i.scrollTop;return"rtl"===g(r||n).direction&&(a+=l(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}(f(e)))}function re(e,t,n){var i="clippingParents"===t?function(e){var t=O(S(e)),n=["absolute","fixed"].indexOf(g(e).position)>=0&&s(e)?A(e):e;return o(n)?t.filter((function(e){return o(e)&&te(e,n)&&"body"!==p(e)})):[]}(e):[].concat(t),r=[].concat(i,[n]),a=r[0],u=r.reduce((function(t,n){var i=ie(e,n);return t.top=l(i.top,t.top),t.right=c(i.right,t.right),t.bottom=c(i.bottom,t.bottom),t.left=l(i.left,t.left),t}),ie(e,a));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function oe(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function se(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ae(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,s=n.boundary,a=void 0===s?"clippingParents":s,l=n.rootBoundary,c=void 0===l?P:l,u=n.elementContext,h=void 0===u?C:u,p=n.altBoundary,m=void 0!==p&&p,g=n.padding,v=void 0===g?0:g,y=oe("number"!=typeof v?v:se(v,L)),E=h===C?"reference":C,S=e.rects.popper,b=e.elements[m?E:h],O=re(o(b)?b:b.contextElement||f(e.elements.popper),a,c),_=d(e.elements.reference),T=K({reference:_,element:S,strategy:"absolute",placement:r}),A=ne(Object.assign({},S,T)),R=h===C?A:_,k={top:O.top-R.top+y.top,bottom:R.bottom-O.bottom+y.bottom,left:O.left-R.left+y.left,right:R.right-O.right+y.right},M=e.modifiersData.offset;if(h===C&&M){var D=M[r];Object.keys(k).forEach((function(e){var t=[I,N].indexOf(e)>=0?1:-1,n=[w,N].indexOf(e)>=0?"y":"x";k[e]+=D[n]*t}))}return k}function le(e,t,n){return l(e,c(t,n))}const ce={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.padding,f=n.tether,m=void 0===f||f,g=n.tetherOffset,v=void 0===g?0:g,y=ae(t,{boundary:u,rootBoundary:d,padding:p,altBoundary:h}),S=W(t.placement),b=z(t.placement),O=!b,_=$(S),T="x"===_?"y":"x",k=t.modifiersData.popperOffsets,L=t.rects.reference,D=t.rects.popper,P="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,C="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(k){if(o){var j,F="y"===_?w:R,H="y"===_?N:I,G="y"===_?"height":"width",B=k[_],V=B+y[F],K=B-y[H],Y=m?-D[G]/2:0,q=b===M?L[G]:D[G],Q=b===M?-D[G]:-L[G],X=t.elements.arrow,Z=m&&X?E(X):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=J[F],te=J[H],ne=le(0,L[G],Z[G]),ie=O?L[G]/2-Y-ne-ee-C.mainAxis:q-ne-ee-C.mainAxis,re=O?-L[G]/2+Y+ne+te+C.mainAxis:Q+ne+te+C.mainAxis,oe=t.elements.arrow&&A(t.elements.arrow),se=oe?"y"===_?oe.clientTop||0:oe.clientLeft||0:0,ce=null!=(j=null==x?void 0:x[_])?j:0,ue=B+re-ce,de=le(m?c(V,B+ie-ce-se):V,B,m?l(K,ue):K);k[_]=de,U[_]=de-B}if(a){var he,pe="x"===_?w:R,fe="x"===_?N:I,me=k[T],ge="y"===T?"height":"width",ve=me+y[pe],ye=me-y[fe],Ee=-1!==[w,R].indexOf(S),Se=null!=(he=null==x?void 0:x[T])?he:0,be=Ee?ve:me-L[ge]-D[ge]-Se+C.altAxis,Oe=Ee?me+L[ge]+D[ge]-Se-C.altAxis:ye,_e=m&&Ee?function(e,t,n){var i=le(e,t,n);return i>n?n:i}(be,me,Oe):le(m?be:ve,me,m?Oe:ye);k[T]=_e,U[T]=_e-me}t.modifiersData[i]=U}},requiresIfExists:["offset"]};const ue={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=W(n.placement),l=$(a),c=[R,I].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return oe("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:se(e,L))}(r.padding,n),d=E(o),h="y"===l?w:R,p="y"===l?N:I,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=A(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,S=u[h],b=v-d[c]-u[p],O=v/2-d[c]/2+y,_=le(S,O,b),T=l;n.modifiersData[i]=((t={})[T]=_,t.centerOffset=_-O,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&te(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function de(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function he(e){return[w,I,N,R].some((function(t){return e[t]>=0}))}var pe=B({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,s=void 0===o||o,a=i.resize,l=void 0===a||a,c=r(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach((function(e){e.addEventListener("scroll",n.update,V)})),l&&c.addEventListener("resize",n.update,V),function(){s&&u.forEach((function(e){e.removeEventListener("scroll",n.update,V)})),l&&c.removeEventListener("resize",n.update,V)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=K({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:W(t.placement),variation:z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,q(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,q(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];s(r)&&p(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});s(i)&&p(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},Q,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=W(g),y=l||(v===g||!f?[Z(g)]:function(e){if(W(e)===k)return[];var t=Z(e);return[ee(e),t,ee(t)]}(g)),E=[g].concat(y).reduce((function(e,n){return e.concat(W(n)===k?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?U:l,u=z(i),d=u?a?x:x.filter((function(e){return z(e)===u})):L,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=ae(e,{placement:n,boundary:r,rootBoundary:o,padding:s})[W(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),S=t.rects.reference,b=t.rects.popper,O=new Map,_=!0,T=E[0],A=0;A<E.length;A++){var D=E[A],P=W(D),C=z(D)===M,j=[w,N].indexOf(P)>=0,F=j?"width":"height",H=ae(t,{placement:D,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),G=j?C?I:R:C?N:w;S[F]>b[F]&&(G=Z(G));var B=Z(G),V=[];if(o&&V.push(H[P]<=0),a&&V.push(H[G]<=0,H[B]<=0),V.every((function(e){return e}))){T=D,_=!1;break}O.set(D,V)}if(_)for(var $=function(e){var t=E.find((function(t){var n=O.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},K=f?3:1;K>0;K--){if("break"===$(K))break}t.placement!==T&&(t.modifiersData[i]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},ce,ue,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=ae(t,{elementContext:"reference"}),a=ae(t,{altBoundary:!0}),l=de(s,i),c=de(a,r,o),u=he(l),d=he(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),fe=n(30115),me=n.n(fe),ge=function(e){return e.reduce((function(e,t){var n=t[0],i=t[1];return e[n]=i,e}),{})},ve="undefined"!=typeof window&&window.document&&window.document.createElement?i.useLayoutEffect:i.useEffect,ye=[],Ee=function(e,t,n){void 0===n&&(n={});var r=i.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||ye},s=i.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=s[0],l=s[1],c=i.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);l({styles:ge(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:ge(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),u=i.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return me()(r.current,e)?r.current||e:(r.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),d=i.useRef();return ve((function(){d.current&&d.current.setOptions(u)}),[u]),ve((function(){if(null!=e&&null!=t){var i=(n.createPopper||pe)(e,t,u);return d.current=i,function(){i.destroy(),d.current=null}}}),[e,t,n.createPopper]),{state:d.current?d.current.state:null,styles:a.styles,attributes:a.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}}},21020:(e,t,n)=>{"use strict";var i=n(96540),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},15287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function E(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var S=E.prototype=new y;S.constructor=E,m(S,v.prototype),S.isPureReactComponent=!0;var b=Array.isArray,O=Object.prototype.hasOwnProperty,_={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,i){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)O.call(t,r)&&!T.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:_.current}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,r,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=e),e=""===o?"."+I(l,0):o,b(s)?(r="",null!=e&&(r=e.replace(N,"$&/")+"/"),R(s,t,r,"",(function(e){return e}))):null!=s&&(w(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",b(e))for(var c=0;c<e.length;c++){var u=o+I(a=e[c],c);l+=R(a,t,r,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=R(a=a.value,t,r,u=o+I(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function k(e,t,n){if(null==e)return e;var i=[],r=0;return R(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},D={transition:null},P={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!w(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=s,t.PureComponent=E,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,i){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)O.call(t,c)&&!T.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=w,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},96540:(e,t,n)=>{"use strict";e.exports=n(15287)},74848:(e,t,n)=>{"use strict";e.exports=n(21020)},43591:(e,t,n)=>{"use strict";n.d(t,{A:()=>T});var i=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function o(){n&&(n=!1,e()),i&&l()}function a(){s(o)}function l(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(a,t);r=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},h=y(0,0,0,0);function p(e){return parseFloat(e)||0}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var i=d(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=p(o)}return t}(i),o=r.left+r.right,s=r.top+r.bottom,a=p(i.width),l=p(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==t&&(a-=f(i,"left","right")+o),Math.round(l+s)!==n&&(l-=f(i,"top","bottom")+s)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return y(r.left,r.top,a,l)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return r?g(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):h}function y(e,t,n,i){return{x:e,y:t,width:n,height:i}}var E=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),S=function(e,t){var n,i,r,o,s,a,l,c=(i=(n=t).x,r=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),u(l,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),l);u(this,{target:e,contentRect:c})},b=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new E(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new S(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),O="undefined"!=typeof WeakMap?new WeakMap:new i,_=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),i=new b(t,n,this);O.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){_.prototype[e]=function(){var t;return(t=O.get(this))[e].apply(t,arguments)}}));const T=void 0!==o.ResizeObserver?o.ResizeObserver:_},7463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>o(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,E="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function b(e){if(g=!1,S(e),!m)if(null!==i(c))m=!0,D(O);else{var t=i(u);null!==t&&P(b,t.startTime-e)}}function O(e,n){m=!1,g&&(g=!1,y(w),w=-1),f=!0;var o=p;try{for(S(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var s=h.callback;if("function"==typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?h.callback=a:h===i(c)&&r(c),S(n)}else r(c);h=i(c)}if(null!==h)var l=!0;else{var d=i(u);null!==d&&P(b,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,T=!1,A=null,w=-1,N=5,I=-1;function R(){return!(t.unstable_now()-I<N)}function k(){if(null!==A){var e=t.unstable_now();I=e;var n=!0;try{n=A(!0,e)}finally{n?_():(T=!1,A=null)}}else T=!1}if("function"==typeof E)_=function(){E(k)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,M=L.port2;L.port1.onmessage=k,_=function(){M.postMessage(null)}}else _=function(){v(k,0)};function D(e){A=e,T||(T=!0,_())}function P(e,n){w=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,D(O))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===i(c)&&e===i(u)&&(g?(y(w),w=-1):g=!0,P(b,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,D(O))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},69982:(e,t,n)=>{"use strict";e.exports=n(7463)},96897:(e,t,n)=>{"use strict";var i=n(33273),r=n(69661),o=n(71548)(),s=n(75795),a=n(69675),l=i("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,c=!0;if("length"in e&&s){var u=s(e,"length");u&&!u.configurable&&(i=!1),u&&!u.writable&&(c=!1)}return(i||c||!n)&&(o?r(e,"length",t,!0,!0):r(e,"length",t)),e}},69661:(e,t,n)=>{"use strict";var i=n(30655),r=n(58068),o=n(69675),s=n(75795);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!s&&s(e,t);if(i)i(e,t,{configurable:null===c&&d?d.configurable:!c,enumerable:null===a&&d?d.enumerable:!a,value:n,writable:null===l&&d?d.writable:!l});else{if(!u&&(a||l||c))throw new r("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},96653:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,i=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,s=function(e,t){for(var n=[],i=t||0,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),a=n(0,r.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=r.apply(this,i(s,arguments));return Object(t)===t?t:this}return r.apply(e,i(s,arguments))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},30075:(e,t,n)=>{"use strict";var i=n(96653);e.exports=Function.prototype.bind||i},33273:(e,t,n)=>{"use strict";var i,r=n(69383),o=n(41237),s=n(79290),a=n(79538),l=n(58068),c=n(69675),u=n(35345),d=Function,h=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var f=function(){throw new c},m=p?function(){try{return f}catch(e){try{return p(arguments,"callee").get}catch(e){return f}}}():f,g=n(51203)(),v=n(80024)(),y=Object.getPrototypeOf||(v?function(e){return e.__proto__}:null),E={},S="undefined"!=typeof Uint8Array&&y?y(Uint8Array):i,b={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":g&&y?y([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&y?y(y([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&y?y((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&y?y((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&y?y(""[Symbol.iterator]()):i,"%Symbol%":g?Symbol:i,"%SyntaxError%":l,"%ThrowTypeError%":m,"%TypedArray%":S,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(y)try{null.error}catch(e){var O=y(y(e));b["%Error.prototype%"]=O}var _=function e(t){var n;if("%AsyncFunction%"===t)n=h("async function () {}");else if("%GeneratorFunction%"===t)n=h("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=h("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&y&&(n=y(r.prototype))}return b[t]=n,n},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=n(30075),w=n(9957),N=A.call(Function.call,Array.prototype.concat),I=A.call(Function.apply,Array.prototype.splice),R=A.call(Function.call,String.prototype.replace),k=A.call(Function.call,String.prototype.slice),L=A.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,P=function(e,t){var n,i=e;if(w(T,i)&&(i="%"+(n=T[i])[0]+"%"),w(b,i)){var r=b[i];if(r===E&&(r=_(i)),void 0===r&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===L(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var i=[];return R(e,M,(function(e,t,n,r){i[i.length]=n?R(r,D,"$1"):t||e})),i}(e),i=n.length>0?n[0]:"",r=P("%"+i+"%",t),o=r.name,s=r.value,a=!1,u=r.alias;u&&(i=u[0],I(n,N([0,1],u)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],m=k(f,0,1),g=k(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&h||(a=!0),w(b,o="%"+(i+="."+f)+"%"))s=b[o];else if(null!=s){if(!(f in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&d+1>=n.length){var v=p(s,f);s=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:s[f]}else h=w(s,f),s=s[f];h&&!a&&(b[o]=s)}}return s}},71548:(e,t,n)=>{"use strict";var i=n(30655),r=function(){return!!i};r.hasArrayLengthDefineBug=function(){if(!i)return null;try{return 1!==i([],"length",{value:1}).length}catch(e){return!0}},e.exports=r},51203:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(5825);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},5825:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},98567:e=>{"use strict";e.exports={stdin:!1,stderr:!1,supportsHyperlink:function(){return!1}}},9423:(e,t,n)=>{"use strict";e=n.hmd(e);!function(e){var t,n=e.Symbol;if("function"==typeof n)if(n.observable)t=n.observable;else{t=n.for("https://github.com/benlesh/symbol-observable");try{n.observable=t}catch(e){}}else t="@@observable"}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)},44262:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});class i{constructor(e=[],t=r){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const r=e-1>>1,o=t[r];if(n(i,o)>=0)break;t[e]=o,e=r}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,r=t[e];for(;e<i;){let i=1+(e<<1),o=t[i];const s=i+1;if(s<this.length&&n(t[s],o)<0&&(i=s,o=t[s]),n(o,r)>=0)break;t[e]=o,e=i}t[e]=r}}function r(e,t){return e<t?-1:e>t?1:0}},95183:(e,t,n)=>{"use strict";n.d(t,{EY:()=>Ne,Dw:()=>q,PY:()=>J});var i=n(68909);function r(){var e=Object.create(null);function t(i,r){var o=i.id,s=i.name,a=i.dependencies;void 0===a&&(a=[]);var l=i.init;void 0===l&&(l=function(){});var c=i.getTransferables;if(void 0===c&&(c=null),!e[o])try{a=a.map((function(n){return n&&n.isWorkerModule&&(t(n,(function(e){if(e instanceof Error)throw e})),n=e[n.id].value),n})),l=n("<"+s+">.init",l),c&&(c=n("<"+s+">.getTransferables",c));var u=null;"function"==typeof l?u=l.apply(void 0,a):console.error("worker module init function failed to rehydrate"),e[o]={id:o,value:u,getTransferables:c},r(u)}catch(e){e&&e.noLog||console.error(e),r(e)}}function n(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var i=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(i)}catch(e){console.error(e)}return URL.revokeObjectURL(i),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var i=n.data,r=i.messageId,o=i.action,s=i.data;try{"registerModule"===o&&t(s,(function(e){e instanceof Error?postMessage({messageId:r,success:!1,error:e.message}):postMessage({messageId:r,success:!0,result:{isCallable:"function"==typeof e}})})),"callModule"===o&&function(t,n){var i,r=t.id,o=t.args;e[r]&&"function"==typeof e[r].value||n(new Error("Worker module "+r+": not found or its 'init' did not return a function"));try{var s=(i=e[r]).value.apply(i,o);s&&"function"==typeof s.then?s.then(a,(function(e){return n(e instanceof Error?e:new Error(""+e))})):a(s)}catch(e){n(e)}function a(t){try{var i=e[r].getTransferables&&e[r].getTransferables(t);i&&Array.isArray(i)&&i.length||(i=void 0),n(t,i)}catch(e){console.error(e),n(e)}}}(s,(function(e,t){e instanceof Error?postMessage({messageId:r,success:!1,error:e.message}):postMessage({messageId:r,success:!0,result:e},t||void 0)}))}catch(e){postMessage({messageId:r,success:!1,error:e.stack})}}))}var o=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return o=function(){return e},e},s=0,a=0,l=!1,c=Object.create(null),u=Object.create(null),d=Object.create(null);function h(e){if(!(e&&"function"==typeof e.init||l))throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,i=e.getTransferables,r=e.workerId,a=function(e){var t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then((function(t){if("function"==typeof t)return t.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,i=e.init;n=Array.isArray(n)?n.map((function(e){return e&&(e=e.onMainThread||e)._getInitResult&&(e=e._getInitResult()),e})):[];var r=Promise.all(n).then((function(e){return i.apply(null,e)}));return t._getInitResult=function(){return r},r},t}(e);null==r&&(r="#default");var c="workerModule"+ ++s,d=e.name||c,m=null;function g(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!o())return a.apply(void 0,e);if(!m){m=f(r,"registerModule",g.workerModuleData);var n=function(){m=null,u[r].delete(n)};(u[r]||(u[r]=new Set)).add(n)}return m.then((function(t){if(t.isCallable)return f(r,"callModule",{id:c,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!=typeof e||e.workerModuleData||(l=!0,e=h({workerId:r,name:"<"+d+"> function dependency: "+e.name,init:"function(){return (\n"+p(e)+"\n)}"}),l=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),g.workerModuleData={isWorkerModule:!0,id:c,name:d,dependencies:t,init:p(n),getTransferables:i&&p(i)},g.onMainThread=a,g}function p(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function f(e,t,n){return new Promise((function(i,o){var s=++a;d[s]=function(e){e.success?i(e.result):o(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=c[e];if(!t){var n=p(r);(t=c[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,i=d[n];if(!i)throw new Error("WorkerModule response with empty or unknown messageId");delete d[n],i(t)}}return t}(e).postMessage({messageId:s,action:t,data:n})}))}function m(){var e=function(e){function t(e,t,n,i,r,o,s,a,l,c){var u=1-l;c.x=u*u*u*e+3*u*u*l*n+3*u*l*l*r+l*l*l*s,c.y=u*u*u*t+3*u*u*l*i+3*u*l*l*o+l*l*l*a}function n(e,t){for(var n,i,r,o,s,a=/([MLQCZ])([^MLQCZ]*)/g;n=a.exec(e);){var l=n[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(n[1]){case"M":o=i=l[0],s=r=l[1];break;case"L":l[0]===o&&l[1]===s||t("L",o,s,o=l[0],s=l[1]);break;case"Q":t("Q",o,s,o=l[2],s=l[3],l[0],l[1]);break;case"C":t("C",o,s,o=l[4],s=l[5],l[0],l[1],l[2],l[3]);break;case"Z":o===i&&s===r||t("L",o,s,i,r)}}}function i(e,i,r){void 0===r&&(r=16);var o={x:0,y:0};n(e,(function(e,n,s,a,l,c,u,d,h){switch(e){case"L":i(n,s,a,l);break;case"Q":for(var p=n,f=s,m=1;m<r;m++)E=s,S=u,b=l,T=void 0,T=1-(O=m/(r-1)),(_=o).x=T*T*n+2*T*O*c+O*O*a,_.y=T*T*E+2*T*O*S+O*O*b,i(p,f,o.x,o.y),p=o.x,f=o.y;break;case"C":for(var g=n,v=s,y=1;y<r;y++)t(n,s,c,u,d,h,a,l,y/(r-1),o),i(g,v,o.x,o.y),g=o.x,v=o.y}var E,S,b,O,_,T}))}var r="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o=new WeakMap,s={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function a(e,t){var n=e.getContext?e.getContext("webgl",s):e,i=o.get(n);if(!i){var r="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext,a={},l={},c={},u=-1,d=[];function h(e){var t=a[e];if(!t&&!(t=a[e]=n.getExtension(e)))throw new Error(e+" not supported");return t}function p(e,t){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function f(e,t,i,o){if(!l[e]){var s={},a={},c=n.createProgram();n.attachShader(c,p(t,n.VERTEX_SHADER)),n.attachShader(c,p(i,n.FRAGMENT_SHADER)),n.linkProgram(c),l[e]={program:c,transaction:function(e){n.useProgram(c),e({setUniform:function(e,t){for(var i=[],r=arguments.length-2;r-- >0;)i[r]=arguments[r+2];var o=a[t]||(a[t]=n.getUniformLocation(c,t));n["uniform"+e].apply(n,[o].concat(i))},setAttribute:function(e,t,i,o,a){var l=s[e];l||(l=s[e]={buf:n.createBuffer(),loc:n.getAttribLocation(c,e),data:null}),n.bindBuffer(n.ARRAY_BUFFER,l.buf),n.vertexAttribPointer(l.loc,t,n.FLOAT,!1,0,0),n.enableVertexAttribArray(l.loc),r?n.vertexAttribDivisor(l.loc,o):h("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,o),a!==l.data&&(n.bufferData(n.ARRAY_BUFFER,a,i),l.data=a)}})}}}l[e].transaction(o)}function m(e,t){u++;try{n.activeTexture(n.TEXTURE0+u);var i=c[e];i||(i=c[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,i),t(i,u)}finally{u--}}function g(e,t,i){var r=n.createFramebuffer();d.push(r),n.bindFramebuffer(n.FRAMEBUFFER,r),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{i(r)}finally{n.deleteFramebuffer(r),n.bindFramebuffer(n.FRAMEBUFFER,d[--d.length-1]||null)}}function v(){a={},l={},c={},u=-1,d.length=0}n.canvas.addEventListener("webglcontextlost",(function(e){v(),e.preventDefault()}),!1),o.set(n,i={gl:n,isWebGL2:r,getExtension:h,withProgram:f,withTexture:m,withTextureFramebuffer:g,handleContextLoss:v})}t(i)}function l(e,t,n,i,o,s,l,c){void 0===l&&(l=15),void 0===c&&(c=null),a(e,(function(e){var a=e.gl,u=e.withProgram;(0,e.withTexture)("copy",(function(e,d){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,o,s,0,a.RGBA,a.UNSIGNED_BYTE,t),u("copy",r,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",(function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,a.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",d),a.bindFramebuffer(a.FRAMEBUFFER,c||null),a.disable(a.BLEND),a.colorMask(8&l,4&l,2&l,1&l),a.viewport(n,i,o,s),a.scissor(n,i,o,s),a.drawArrays(a.TRIANGLES,0,3)}))}))}))}var c=Object.freeze({__proto__:null,withWebGLContext:a,renderImageData:l,resizeWebGLCanvasWithoutClearing:function(e,t,n){var i=e.width,r=e.height;a(e,(function(o){var s=o.gl,a=new Uint8Array(i*r*4);s.readPixels(0,0,i,r,s.RGBA,s.UNSIGNED_BYTE,a),e.width=t,e.height=n,l(s,a,0,0,i,r)}))}});function u(e,t,n,r,o,s){void 0===s&&(s=1);var a=new Uint8Array(e*t),l=r[2]-r[0],c=r[3]-r[1],u=[];i(n,(function(e,t,n,i){u.push({x1:e,y1:t,x2:n,y2:i,minX:Math.min(e,n),minY:Math.min(t,i),maxX:Math.max(e,n),maxY:Math.max(t,i)})})),u.sort((function(e,t){return e.maxX-t.maxX}));for(var d=0;d<e;d++)for(var h=0;h<t;h++){var f=g(r[0]+l*(d+.5)/e,r[1]+c*(h+.5)/t),m=Math.pow(1-Math.abs(f)/o,s)/2;f<0&&(m=1-m),m=Math.max(0,Math.min(255,Math.round(255*m))),a[h*e+d]=m}return a;function g(e,t){for(var n=1/0,i=1/0,r=u.length;r--;){var o=u[r];if(o.maxX+i<=e)break;if(e+i>o.minX&&t-i<o.maxY&&t+i>o.minY){var s=p(e,t,o.x1,o.y1,o.x2,o.y2);s<n&&(n=s,i=Math.sqrt(n))}}return function(e,t){for(var n=0,i=u.length;i--;){var r=u[i];if(r.maxX<=e)break;r.y1>t!=r.y2>t&&e<(r.x2-r.x1)*(t-r.y1)/(r.y2-r.y1)+r.x1&&(n+=r.y1<r.y2?1:-1)}return 0!==n}(e,t)&&(i=-i),i}}function d(e,t,n,i,r,o,s,a,l,c){void 0===o&&(o=1),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),h(e,t,n,i,r,o,s,null,a,l,c)}function h(e,t,n,i,r,o,s,a,c,d,h){void 0===o&&(o=1),void 0===c&&(c=0),void 0===d&&(d=0),void 0===h&&(h=0);for(var p=u(e,t,n,i,r,o),f=new Uint8Array(4*p.length),m=0;m<p.length;m++)f[4*m+h]=p[m];l(s,f,c,d,e,t,1<<3-h,a)}function p(e,t,n,i,r,o){var s=r-n,a=o-i,l=s*s+a*a,c=l?Math.max(0,Math.min(1,((e-n)*s+(t-i)*a)/l)):0,u=e-(n+c*s),d=t-(i+c*a);return u*u+d*d}var f=Object.freeze({__proto__:null,generate:u,generateIntoCanvas:d,generateIntoFramebuffer:h}),m=new Float32Array([0,0,2,0,0,2]),g=null,v=!1,y={},E=new WeakMap;function S(e){if(!v&&!T(e))throw new Error("WebGL generation not supported")}function b(e,t,n,i,r,o,s){if(void 0===o&&(o=1),void 0===s&&(s=null),!s&&!(s=g)){var l="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!l)throw new Error("OffscreenCanvas or DOM canvas not supported");s=g=l.getContext("webgl",{depth:!1})}S(s);var c=new Uint8Array(e*t*4);a(s,(function(s){var a=s.gl,l=s.withTexture,u=s.withTextureFramebuffer;l("readable",(function(s,l){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,e,t,0,a.RGBA,a.UNSIGNED_BYTE,null),u(s,l,(function(s){_(e,t,n,i,r,o,a,s,0,0,0),a.readPixels(0,0,e,t,a.RGBA,a.UNSIGNED_BYTE,c)}))}))}));for(var u=new Uint8Array(e*t),d=0,h=0;d<c.length;d+=4)u[h++]=c[d];return u}function O(e,t,n,i,r,o,s,a,l,c){void 0===o&&(o=1),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),_(e,t,n,i,r,o,s,null,a,l,c)}function _(e,t,n,o,s,l,c,u,d,h,p){void 0===l&&(l=1),void 0===d&&(d=0),void 0===h&&(h=0),void 0===p&&(p=0),S(c);var f=[];i(n,(function(e,t,n,i){f.push(e,t,n,i)})),f=new Float32Array(f),a(c,(function(n){var i=n.gl,a=n.isWebGL2,c=n.getExtension,g=n.withProgram,v=n.withTexture,y=n.withTextureFramebuffer,E=n.handleContextLoss;if(v("rawDistances",(function(n,v){e===n._lastWidth&&t===n._lastHeight||i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n._lastWidth=e,n._lastHeight=t,0,i.RGBA,i.UNSIGNED_BYTE,null),g("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",(function(r){var u=r.setAttribute,d=r.setUniform,h=!a&&c("ANGLE_instanced_arrays"),p=!a&&c("EXT_blend_minmax");u("aUV",2,i.STATIC_DRAW,0,m),u("aLineSegment",4,i.DYNAMIC_DRAW,1,f),d.apply(void 0,["4f","uGlyphBounds"].concat(o)),d("1f","uMaxDistance",s),d("1f","uExponent",l),y(n,v,(function(n){i.enable(i.BLEND),i.colorMask(!0,!0,!0,!0),i.viewport(0,0,e,t),i.scissor(0,0,e,t),i.blendFunc(i.ONE,i.ONE),i.blendEquationSeparate(i.FUNC_ADD,a?i.MAX:p.MAX_EXT),i.clear(i.COLOR_BUFFER_BIT),a?i.drawArraysInstanced(i.TRIANGLES,0,3,f.length/4):h.drawArraysInstancedANGLE(i.TRIANGLES,0,3,f.length/4)}))})),g("post",r,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",(function(n){n.setAttribute("aUV",2,i.STATIC_DRAW,0,m),n.setUniform("1i","tex",v),i.bindFramebuffer(i.FRAMEBUFFER,u),i.disable(i.BLEND),i.colorMask(0===p,1===p,2===p,3===p),i.viewport(d,h,e,t),i.scissor(d,h,e,t),i.drawArrays(i.TRIANGLES,0,3)}))})),i.isContextLost())throw E(),new Error("webgl context lost")}))}function T(e){var t=e&&e!==g?e.canvas||e:y,n=E.get(t);if(void 0===n){v=!0;var i=null;try{var r=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],o=b(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(n=o&&r.length===o.length&&o.every((function(e,t){return e===r[t]})))||(i="bad trial run results",console.info(r,o))}catch(e){n=!1,i=e.message}i&&console.warn("WebGL SDF generation not supported:",i),v=!1,E.set(t,n)}return n}var A=Object.freeze({__proto__:null,generate:b,generateIntoCanvas:O,generateIntoFramebuffer:_,isSupported:T});return e.forEachPathCommand=n,e.generate=function(e,t,n,i,r,o){void 0===r&&(r=Math.max(i[2]-i[0],i[3]-i[1])/2),void 0===o&&(o=1);try{return b.apply(A,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),u.apply(f,arguments)}},e.generateIntoCanvas=function(e,t,n,i,r,o,s,a,l,c){void 0===r&&(r=Math.max(i[2]-i[0],i[3]-i[1])/2),void 0===o&&(o=1),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0);try{return O.apply(A,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),d.apply(f,arguments)}},e.javascript=f,e.pathToLineSegments=i,e.webgl=A,e.webglUtils=c,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}const g=function(){return function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},i={};n.L=1,i[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,i[n[e]]=e})),Object.freeze(n);var r=n.LRI|n.RLI|n.FSI,o=n.L|n.R|n.AL,s=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,a=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,l=n.S|n.WS|n.B|r|n.PDI|a,c=null;function u(e){return function(){if(!c){c=new Map;var e=function(e){if(t.hasOwnProperty(e)){var i=0;t[e].split(",").forEach((function(t){var r=t.split("+"),o=r[0],s=r[1];o=parseInt(o,36),s=s?parseInt(s,36):0,c.set(i+=o,n[e]);for(var a=0;a<s;a++)c.set(++i,n[e])}))}};for(var i in t)e(i)}}(),c.get(e.codePointAt(0))||n.L}var d,h,p,f="14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",m="6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye";function g(e,t){var n,i=0,r=new Map,o=t&&new Map;return e.split(",").forEach((function e(s){if(-1!==s.indexOf("+"))for(var a=+s;a--;)e(n);else{n=s;var l=s.split(">"),c=l[0],u=l[1];c=String.fromCodePoint(i+=parseInt(c,36)),u=String.fromCodePoint(i+=parseInt(u,36)),r.set(c,u),t&&o.set(u,c)}})),{map:r,reverseMap:o}}function v(){if(!d){var e=g(f,!0),t=e.map,n=e.reverseMap;d=t,h=n,p=g(m,!1).map}}function y(e){return v(),d.get(e)||null}function E(e){return v(),h.get(e)||null}function S(e){return v(),p.get(e)||null}var b=n.L,O=n.R,_=n.EN,T=n.ES,A=n.ET,w=n.AN,N=n.CS,I=n.B,R=n.S,k=n.ON,L=n.BN,M=n.NSM,D=n.AL,P=n.LRO,C=n.RLO,x=n.LRE,U=n.RLE,j=n.PDF,F=n.LRI,H=n.RLI,G=n.FSI,B=n.PDI;var V;function W(e){return function(){if(!V){var e=g("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),V=t}}(),V.get(e)||null}function z(e,t,n,i){var r=e.length;n=Math.max(0,null==n?0:+n),i=Math.min(r-1,null==i?r-1:+i);var o=[];return t.paragraphs.forEach((function(r){var s=Math.max(n,r.start),a=Math.min(i,r.end);if(s<a){for(var c=t.levels.slice(s,a+1),d=a;d>=s&&u(e[d])&l;d--)c[d]=r.level;for(var h=r.level,p=1/0,f=0;f<c.length;f++){var m=c[f];m>h&&(h=m),m<p&&(p=1|m)}for(var g=h;g>=p;g--)for(var v=0;v<c.length;v++)if(c[v]>=g){for(var y=v;v+1<c.length&&c[v+1]>=g;)v++;v>y&&o.push([y+n,v+n])}}})),o}function $(e,t,n,i){for(var r=z(e,t,n,i),o=[],s=0;s<e.length;s++)o[s]=s;return r.forEach((function(e){for(var t=e[0],n=e[1],i=o.slice(t,n+1),r=i.length;r--;)o[n-r]=i[r]})),o}return e.closingToOpeningBracket=E,e.getBidiCharType=u,e.getBidiCharTypeName=function(e){return i[u(e)]},e.getCanonicalBracket=S,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),i=0;i<e.length;i++)n[i]=u(e[i]);var c=new Map;function d(e,t){var i=n[e];n[e]=t,c.set(i,c.get(i)-1),i&s&&c.set(s,c.get(s)-1),c.set(t,(c.get(t)||0)+1),t&s&&c.set(s,(c.get(s)||0)+1)}for(var h=new Uint8Array(e.length),p=new Map,f=[],m=null,g=0;g<e.length;g++)m||f.push(m={start:g,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:Gt(g,!1)}),n[g]&I&&(m.end=g,m=null);for(var v=U|x|C|P|r|B|j|I,V=function(e){return e+(1&e?1:2)},W=function(e){return e+(1&e?2:1)},z=0;z<f.length;z++){var $=[{_level:(m=f[z]).level,_override:0,_isolate:0}],K=void 0,Y=0,q=0,Q=0;c.clear();for(var X=m.start;X<=m.end;X++){var Z=n[X];if(K=$[$.length-1],c.set(Z,(c.get(Z)||0)+1),Z&s&&c.set(s,(c.get(s)||0)+1),Z&v)if(Z&(U|x)){h[X]=K._level;var J=(Z===U?W:V)(K._level);J<=125&&!Y&&!q?$.push({_level:J,_override:0,_isolate:0}):Y||q++}else if(Z&(C|P)){h[X]=K._level;var ee=(Z===C?W:V)(K._level);ee<=125&&!Y&&!q?$.push({_level:ee,_override:Z&C?O:b,_isolate:0}):Y||q++}else if(Z&r){Z&G&&(Z=1===Gt(X+1,!0)?H:F),h[X]=K._level,K._override&&d(X,K._override);var te=(Z===H?W:V)(K._level);te<=125&&0===Y&&0===q?(Q++,$.push({_level:te,_override:0,_isolate:1,_isolInitIndex:X})):Y++}else if(Z&B){if(Y>0)Y--;else if(Q>0){for(q=0;!$[$.length-1]._isolate;)$.pop();var ne=$[$.length-1]._isolInitIndex;null!=ne&&(p.set(ne,X),p.set(X,ne)),$.pop(),Q--}K=$[$.length-1],h[X]=K._level,K._override&&d(X,K._override)}else Z&j?(0===Y&&(q>0?q--:!K._isolate&&$.length>1&&($.pop(),K=$[$.length-1])),h[X]=K._level):Z&I&&(h[X]=m.level);else h[X]=K._level,K._override&&Z!==L&&d(X,K._override)}for(var ie=[],re=null,oe=m.start;oe<=m.end;oe++){var se=n[oe];if(!(se&a)){var ae=h[oe],le=se&r,ce=se===B;re&&ae===re._level?(re._end=oe,re._endsWithIsolInit=le):ie.push(re={_start:oe,_end:oe,_level:ae,_startsWithPDI:ce,_endsWithIsolInit:le})}}for(var ue=[],de=0;de<ie.length;de++){var he=ie[de];if(!he._startsWithPDI||he._startsWithPDI&&!p.has(he._start)){for(var pe=[re=he],fe=void 0;re&&re._endsWithIsolInit&&null!=(fe=p.get(re._end));)for(var me=de+1;me<ie.length;me++)if(ie[me]._start===fe){pe.push(re=ie[me]);break}for(var ge=[],ve=0;ve<pe.length;ve++)for(var ye=pe[ve],Ee=ye._start;Ee<=ye._end;Ee++)ge.push(Ee);for(var Se=h[ge[0]],be=m.level,Oe=ge[0]-1;Oe>=0;Oe--)if(!(n[Oe]&a)){be=h[Oe];break}var _e=ge[ge.length-1],Te=h[_e],Ae=m.level;if(!(n[_e]&r))for(var we=_e+1;we<=m.end;we++)if(!(n[we]&a)){Ae=h[we];break}ue.push({_seqIndices:ge,_sosType:Math.max(be,Se)%2?O:b,_eosType:Math.max(Ae,Te)%2?O:b})}}for(var Ne=0;Ne<ue.length;Ne++){var Ie=ue[Ne],Re=Ie._seqIndices,ke=Ie._sosType,Le=Ie._eosType;if(c.get(M))for(var Me=0;Me<Re.length;Me++){var De=Re[Me];if(n[De]&M){for(var Pe=ke,Ce=Me-1;Ce>=0;Ce--)if(!(n[Re[Ce]]&a)){Pe=n[Re[Ce]];break}d(De,Pe&(r|B)?k:Pe)}}if(c.get(_))for(var xe=0;xe<Re.length;xe++){var Ue=Re[xe];if(n[Ue]&_)for(var je=xe-1;je>=-1;je--){var Fe=-1===je?ke:n[Re[je]];if(Fe&o){Fe===D&&d(Ue,w);break}}}if(c.get(D))for(var He=0;He<Re.length;He++){var Ge=Re[He];n[Ge]&D&&d(Ge,O)}if(c.get(T)||c.get(N))for(var Be=1;Be<Re.length-1;Be++){var Ve=Re[Be];if(n[Ve]&(T|N)){for(var We=0,ze=0,$e=Be-1;$e>=0&&(We=n[Re[$e]])&a;$e--);for(var Ke=Be+1;Ke<Re.length&&(ze=n[Re[Ke]])&a;Ke++);We===ze&&(n[Ve]===T?We===_:We&(_|w))&&d(Ve,We)}}if(c.get(_))for(var Ye=0;Ye<Re.length;Ye++){var qe=Re[Ye];if(n[qe]&_){for(var Qe=Ye-1;Qe>=0&&n[Re[Qe]]&(A|a);Qe--)d(Re[Qe],_);for(var Xe=Ye+1;Xe<Re.length&&n[Re[Xe]]&(A|a);Xe++)d(Re[Xe],_)}}if(c.get(A)||c.get(T)||c.get(N))for(var Ze=0;Ze<Re.length;Ze++){var Je=Re[Ze];if(n[Je]&(A|T|N)){d(Je,k);for(var et=Ze-1;et>=0&&n[Re[et]]&a;et--)d(Re[et],k);for(var tt=Ze+1;tt<Re.length&&n[Re[tt]]&a;tt++)d(Re[tt],k)}}if(c.get(_))for(var nt=0,it=ke;nt<Re.length;nt++){var rt=Re[nt],ot=n[rt];ot&_?it===b&&d(rt,b):ot&o&&(it=ot)}if(c.get(s)){for(var st=O|_|w,at=st|b,lt=[],ct=[],ut=0;ut<Re.length;ut++)if(n[Re[ut]]&s){var dt=e[Re[ut]],ht=void 0;if(null!==y(dt)){if(!(ct.length<63))break;ct.push({char:dt,seqIndex:ut})}else if(null!==(ht=E(dt)))for(var pt=ct.length-1;pt>=0;pt--){var ft=ct[pt].char;if(ft===ht||ft===E(S(dt))||y(S(ft))===dt){lt.push([ct[pt].seqIndex,ut]),ct.length=pt;break}}}lt.sort((function(e,t){return e[0]-t[0]}));for(var mt=0;mt<lt.length;mt++){for(var gt=lt[mt],vt=gt[0],yt=gt[1],Et=!1,St=0,bt=vt+1;bt<yt;bt++){var Ot=Re[bt];if(n[Ot]&at){Et=!0;var _t=n[Ot]&st?O:b;if(_t===Vt(Ot)){St=_t;break}}}if(Et&&!St){St=ke;for(var Tt=vt-1;Tt>=0;Tt--){var At=Re[Tt];if(n[At]&at){var wt=n[At]&st?O:b;St=wt!==Vt(At)?wt:Vt(At);break}}}if(St){if(n[Re[vt]]=n[Re[yt]]=St,St!==Vt(Re[vt]))for(var Nt=vt+1;Nt<Re.length;Nt++)if(!(n[Re[Nt]]&a)){u(e[Re[Nt]])&M&&(n[Re[Nt]]=St);break}if(St!==Vt(Re[yt]))for(var It=yt+1;It<Re.length;It++)if(!(n[Re[It]]&a)){u(e[Re[It]])&M&&(n[Re[It]]=St);break}}}for(var Rt=0;Rt<Re.length;Rt++)if(n[Re[Rt]]&s){for(var kt=Rt,Lt=Rt,Mt=ke,Dt=Rt-1;Dt>=0;Dt--){if(!(n[Re[Dt]]&a)){Mt=n[Re[Dt]]&st?O:b;break}kt=Dt}for(var Pt=Le,Ct=Rt+1;Ct<Re.length;Ct++){if(!(n[Re[Ct]]&(s|a))){Pt=n[Re[Ct]]&st?O:b;break}Lt=Ct}for(var xt=kt;xt<=Lt;xt++)n[Re[xt]]=Mt===Pt?Mt:Vt(Re[xt]);Rt=Lt}}}for(var Ut=m.start;Ut<=m.end;Ut++){var jt=h[Ut],Ft=n[Ut];if(1&jt?Ft&(b|_|w)&&h[Ut]++:Ft&O?h[Ut]++:Ft&(w|_)&&(h[Ut]+=2),Ft&a&&(h[Ut]=0===Ut?m.level:h[Ut-1]),Ut===m.end||u(e[Ut])&(R|I))for(var Ht=Ut;Ht>=0&&u(e[Ht])&l;Ht--)h[Ht]=m.level}}return{levels:h,paragraphs:f};function Gt(t,i){for(var o=t;o<e.length;o++){var s=n[o];if(s&(O|D))return 1;if(s&(I|b)||i&&s===B)return 0;if(s&r){var a=Bt(o);o=-1===a?e.length:a}}return 0}function Bt(t){for(var i=1,o=t+1;o<e.length;o++){var s=n[o];if(s&I)break;if(s&B){if(0==--i)return o}else s&r&&i++}return-1}function Vt(e){return 1&h[e]?O:b}},e.getMirroredCharacter=W,e.getMirroredCharactersMap=function(e,t,n,i){var r=e.length;n=Math.max(0,null==n?0:+n),i=Math.min(r-1,null==i?r-1:+i);for(var o=new Map,s=n;s<=i;s++)if(1&t[s]){var a=W(e[s]);null!==a&&o.set(s,a)}return o},e.getReorderSegments=z,e.getReorderedIndices=$,e.getReorderedString=function(e,t,n,i){var r=$(e,t,n,i),o=[].concat(e);return r.forEach((function(n,i){o[i]=(1&t.levels[n]?W(e[n]):null)||e[n]})),o.join("")},e.openingToClosingBracket=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({})},v=/\bvoid\s+main\s*\(\s*\)\s*{/g;function y(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){let n=i.ShaderChunk[t];return n?y(n):e}))}const E=[];for(let e=0;e<256;e++)E[e]=(e<16?"0":"")+e.toString(16);const S=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},b=Date.now(),O=new WeakMap,_=new Map;let T=1e10;function A(e,t){const n=function(e){const t=JSON.stringify(e,N);let n=R.get(t);null==n&&R.set(t,n=++I);return n}(t);let r=O.get(e);if(r||O.set(e,r=Object.create(null)),r[n])return new r[n];const o=`_onBeforeCompile${n}`,s=function(i,r){e.onBeforeCompile.call(this,i,r);const s=this.customProgramCacheKey()+"|"+i.vertexShader+"|"+i.fragmentShader;let a=_[s];if(!a){const e=function(e,{vertexShader:t,fragmentShader:n},i,r){let{vertexDefs:o,vertexMainIntro:s,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:d,fragmentColorTransform:h,customRewriter:p,timeUniform:f}=i;o=o||"",s=s||"",a=a||"",c=c||"",u=u||"",d=d||"",(l||p)&&(t=y(t));(h||p)&&(n=y(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(p){let e=p({vertexShader:t,fragmentShader:n});t=e.vertexShader,n=e.fragmentShader}if(h){let e=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(t=>(e.push(t),""))),d=`${h}\n${e.join("\n")}\n${d}`}if(f){const e=`\nuniform float ${f};\n`;o=e+o,c=e+c}l&&(o=`${o}\nvoid troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${l}\n}\n`,s=`\ntroika_position_${r} = vec3(position);\ntroika_normal_${r} = vec3(normal);\ntroika_uv_${r} = vec2(uv);\ntroikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});\n${s}\n`,t=(t=`vec3 troika_position_${r};\nvec3 troika_normal_${r};\nvec2 troika_uv_${r};\n${t}\n`).replace(/\b(position|normal|uv)\b/g,((e,t,n,i)=>/\battribute\s+vec[23]\s+$/.test(i.substr(0,n))?t:`troika_${t}_${r}`)),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${r}`)));return t=w(t,r,o,s,a),n=w(n,r,c,u,d),{vertexShader:t,fragmentShader:n}}(this,i,t,n);a=_[s]=e}i.vertexShader=a.vertexShader,i.fragmentShader=a.fragmentShader,S(i.uniforms,this.uniforms),t.timeUniform&&(i.uniforms[t.timeUniform]={get value(){return Date.now()-b}}),this[o]&&this[o](i)},a=function(){return l(t.chained?e:e.clone())},l=function(i){const r=Object.create(i,c);return Object.defineProperty(r,"baseMaterial",{value:e}),Object.defineProperty(r,"id",{value:T++}),r.uuid=function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(E[255&e]+E[e>>8&255]+E[e>>16&255]+E[e>>24&255]+"-"+E[255&t]+E[t>>8&255]+"-"+E[t>>16&15|64]+E[t>>24&255]+"-"+E[63&n|128]+E[n>>8&255]+"-"+E[n>>16&255]+E[n>>24&255]+E[255&i]+E[i>>8&255]+E[i>>16&255]+E[i>>24&255]).toUpperCase()}(),r.uniforms=S({},i.uniforms,t.uniforms),r.defines=S({},i.defines,t.defines),r.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",r.extensions=S({},i.extensions,t.extensions),r._listeners=void 0,r},c={constructor:{value:a},isDerivedMaterial:{value:!0},type:{get:()=>e.type,set:t=>{e.type=t}},isDerivedFrom:{writable:!0,configurable:!0,value:function(e){const t=this.baseMaterial;return e===t||t.isDerivedMaterial&&t.isDerivedFrom(e)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get:()=>s,set(e){this[o]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(S(this.extensions,t.extensions),S(this.defines,t.defines),S(this.uniforms,i.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const t=new e.constructor;return l(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let n=this._depthMaterial;return n||(n=this._depthMaterial=A(e.isDerivedMaterial?e.getDepthMaterial():new i.MeshDepthMaterial({depthPacking:i.RGBADepthPacking}),t),n.defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let n=this._distanceMaterial;return n||(n=this._distanceMaterial=A(e.isDerivedMaterial?e.getDistanceMaterial():new i.MeshDistanceMaterial,t),n.defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:t,_distanceMaterial:n}=this;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=a,new a}function w(e,t,n,i,r){return(i||r||n)&&(e=e.replace(v,`\n${n}\nvoid troikaOrigMain${t}() {`),e+=`\nvoid main() {\n  ${i}\n  troikaOrigMain${t}();\n  ${r}\n}`),e}function N(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let I=0;const R=new Map;i.DoubleSide;i.Mesh;const k=h({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,i=new Uint8Array(e);if("ttcf"==n.readASCII(i,0,4)){var r=4;n.readUshort(i,r),r+=2,n.readUshort(i,r),r+=2;var o=n.readUint(i,r);r+=4;for(var s=[],a=0;a<o;a++){var l=n.readUint(i,r);r+=4,s.push(t._readFont(i,l))}return s}return[t._readFont(i,0)]},_readFont:function(e,n){var i=t._bin,r=n;i.readFixed(e,n),n+=4;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],a={_data:e,_offset:r},l={},c=0;c<o;c++){var u=i.readASCII(e,n,4);n+=4,i.readUint(e,n),n+=4;var d=i.readUint(e,n);n+=4;var h=i.readUint(e,n);n+=4,l[u]={offset:d,length:h}}for(c=0;c<s.length;c++){var p=s[c];l[p]&&(a[p.trim()]=t[p.trim()].parse(e,l[p].offset,l[p].length,a))}return a},_tabOffset:function(e,n,i){for(var r=t._bin,o=r.readUshort(e,i+4),s=i+12,a=0;a<o;a++){var l=r.readASCII(e,s,4);s+=4,r.readUint(e,s),s+=4;var c=r.readUint(e,s);if(s+=4,r.readUint(e,s),s+=4,l==n)return c}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,i){for(var r=[],o=0;o<i;o++)r.push(t._bin.readUshort(e,n+2*o));return r},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(e[t+r]);return i},readUnicode:function(e,t,n){for(var i="",r=0;r<n;r++){var o=e[t++]<<8|e[t++];i+=String.fromCharCode(o)}return i},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,i){var r=t._bin._tdec;return r&&0==n&&i==e.length?r.decode(e):t._bin.readASCII(e,n,i)},readBytes:function(e,t,n){for(var i=[],r=0;r<n;r++)i.push(e[t+r]);return i},readASCIIArray:function(e,t,n){for(var i=[],r=0;r<n;r++)i.push(String.fromCharCode(e[t+r]));return i},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,i,r,o){var s=t._bin,a={},l=n;s.readFixed(e,n),n+=4;var c=s.readUshort(e,n);n+=2;var u=s.readUshort(e,n);n+=2;var d=s.readUshort(e,n);return n+=2,a.scriptList=t._lctf.readScriptList(e,l+c),a.featureList=t._lctf.readFeatureList(e,l+u),a.lookupList=t._lctf.readLookupList(e,l+d,o),a},t._lctf.readLookupList=function(e,n,i){var r=t._bin,o=n,s=[],a=r.readUshort(e,n);n+=2;for(var l=0;l<a;l++){var c=r.readUshort(e,n);n+=2;var u=t._lctf.readLookupTable(e,o+c,i);s.push(u)}return s},t._lctf.readLookupTable=function(e,n,i){var r=t._bin,o=n,s={tabs:[]};s.ltype=r.readUshort(e,n),n+=2,s.flag=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2;for(var l=s.ltype,c=0;c<a;c++){var u=r.readUshort(e,n);n+=2;var d=i(e,l,o+u,s);s.tabs.push(d)}return s},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)e>>>n&1&&t++;return t},t._lctf.readClassDef=function(e,n){var i=t._bin,r=[],o=i.readUshort(e,n);if(n+=2,1==o){var s=i.readUshort(e,n);n+=2;var a=i.readUshort(e,n);n+=2;for(var l=0;l<a;l++)r.push(s+l),r.push(s+l),r.push(i.readUshort(e,n)),n+=2}if(2==o){var c=i.readUshort(e,n);for(n+=2,l=0;l<c;l++)r.push(i.readUshort(e,n)),n+=2,r.push(i.readUshort(e,n)),n+=2,r.push(i.readUshort(e,n)),n+=2}return r},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var i=e[n],r=e[n+1];if(e[n+2],i<=t&&t<=r)return n}return-1},t._lctf.readCoverage=function(e,n){var i=t._bin,r={};r.fmt=i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);return n+=2,1==r.fmt&&(r.tab=i.readUshorts(e,n,o)),2==r.fmt&&(r.tab=i.readUshorts(e,n,3*o)),r},t._lctf.coverageIndex=function(e,n){var i=e.tab;if(1==e.fmt)return i.indexOf(n);if(2==e.fmt){var r=t._lctf.getInterval(i,n);if(-1!=r)return i[r+2]+(n-i[r])}return-1},t._lctf.readFeatureList=function(e,n){var i=t._bin,r=n,o=[],s=i.readUshort(e,n);n+=2;for(var a=0;a<s;a++){var l=i.readASCII(e,n,4);n+=4;var c=i.readUshort(e,n);n+=2;var u=t._lctf.readFeatureTable(e,r+c);u.tag=l.trim(),o.push(u)}return o},t._lctf.readFeatureTable=function(e,n){var i=t._bin,r=n,o={},s=i.readUshort(e,n);n+=2,s>0&&(o.featureParams=r+s);var a=i.readUshort(e,n);n+=2,o.tab=[];for(var l=0;l<a;l++)o.tab.push(i.readUshort(e,n+2*l));return o},t._lctf.readScriptList=function(e,n){var i=t._bin,r=n,o={},s=i.readUshort(e,n);n+=2;for(var a=0;a<s;a++){var l=i.readASCII(e,n,4);n+=4;var c=i.readUshort(e,n);n+=2,o[l.trim()]=t._lctf.readScriptTable(e,r+c)}return o},t._lctf.readScriptTable=function(e,n){var i=t._bin,r=n,o={},s=i.readUshort(e,n);n+=2,s>0&&(o.default=t._lctf.readLangSysTable(e,r+s));var a=i.readUshort(e,n);n+=2;for(var l=0;l<a;l++){var c=i.readASCII(e,n,4);n+=4;var u=i.readUshort(e,n);n+=2,o[c.trim()]=t._lctf.readLangSysTable(e,r+u)}return o},t._lctf.readLangSysTable=function(e,n){var i=t._bin,r={};i.readUshort(e,n),n+=2,r.reqFeature=i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);return n+=2,r.features=i.readUshorts(e,n,o),r},t.CFF={},t.CFF.parse=function(e,n,i){var r=t._bin;(e=new Uint8Array(e.buffer,n,i))[n=0],e[++n],e[++n],e[++n],n++;var o=[];n=t.CFF.readIndex(e,n,o);for(var s=[],a=0;a<o.length-1;a++)s.push(r.readASCII(e,n+o[a],o[a+1]-o[a]));n+=o[o.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var c=[];for(a=0;a<l.length-1;a++)c.push(t.CFF.readDict(e,n+l[a],n+l[a+1]));n+=l[l.length-1];var u=c[0],d=[];n=t.CFF.readIndex(e,n,d);var h=[];for(a=0;a<d.length-1;a++)h.push(r.readASCII(e,n+d[a],d[a+1]-d[a]));if(n+=d[d.length-1],t.CFF.readSubrs(e,n,u),u.CharStrings){n=u.CharStrings,d=[],n=t.CFF.readIndex(e,n,d);var p=[];for(a=0;a<d.length-1;a++)p.push(r.readBytes(e,n+d[a],d[a+1]-d[a]));u.CharStrings=p}if(u.ROS){n=u.FDArray;var f=[];for(n=t.CFF.readIndex(e,n,f),u.FDArray=[],a=0;a<f.length-1;a++){var m=t.CFF.readDict(e,n+f[a],n+f[a+1]);t.CFF._readFDict(e,m,h),u.FDArray.push(m)}n+=f[f.length-1],n=u.FDSelect,u.FDSelect=[];var g=e[n];if(n++,3!=g)throw g;var v=r.readUshort(e,n);for(n+=2,a=0;a<v+1;a++)u.FDSelect.push(r.readUshort(e,n),e[n+2]),n+=3}return u.Encoding&&(u.Encoding=t.CFF.readEncoding(e,u.Encoding,u.CharStrings.length)),u.charset&&(u.charset=t.CFF.readCharset(e,u.charset,u.CharStrings.length)),t.CFF._readFDict(e,u,h),u},t.CFF._readFDict=function(e,n,i){var r;for(var o in n.Private&&(r=n.Private[1],n.Private=t.CFF.readDict(e,r,r+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,r+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(o)&&(n[o]=i[n[o]-426+35])},t.CFF.readSubrs=function(e,n,i){var r=t._bin,o=[];n=t.CFF.readIndex(e,n,o);var s,a=o.length;s=a<1240?107:a<33900?1131:32768,i.Bias=s,i.Subrs=[];for(var l=0;l<o.length-1;l++)i.Subrs.push(r.readBytes(e,n+o[l],o[l+1]-o[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,i){t._bin;var r=[".notdef"],o=e[n];if(n++,0!=o)throw"error: unknown encoding format: "+o;var s=e[n];n++;for(var a=0;a<s;a++)r.push(e[n+a]);return r},t.CFF.readCharset=function(e,n,i){var r=t._bin,o=[".notdef"],s=e[n];if(n++,0==s)for(var a=0;a<i;a++){var l=r.readUshort(e,n);n+=2,o.push(l)}else{if(1!=s&&2!=s)throw"error: format: "+s;for(;o.length<i;){l=r.readUshort(e,n),n+=2;var c=0;for(1==s?(c=e[n],n++):(c=r.readUshort(e,n),n+=2),a=0;a<=c;a++)o.push(l),l++}}return o},t.CFF.readIndex=function(e,n,i){var r=t._bin,o=r.readUshort(e,n)+1,s=e[n+=2];if(n++,1==s)for(var a=0;a<o;a++)i.push(e[n+a]);else if(2==s)for(a=0;a<o;a++)i.push(r.readUshort(e,n+2*a));else if(3==s)for(a=0;a<o;a++)i.push(16777215&r.readUint(e,n+3*a-1));else if(1!=o)throw"unsupported offset size: "+s+", count: "+o;return(n+=o*s)-1},t.CFF.getCharString=function(e,n,i){var r=t._bin,o=e[n],s=e[n+1];e[n+2],e[n+3],e[n+4];var a=1,l=null,c=null;o<=20&&(l=o,a=1),12==o&&(l=100*o+s,a=2),21<=o&&o<=27&&(l=o,a=1),28==o&&(c=r.readShort(e,n+1),a=3),29<=o&&o<=31&&(l=o,a=1),32<=o&&o<=246&&(c=o-139,a=1),247<=o&&o<=250&&(c=256*(o-247)+s+108,a=2),251<=o&&o<=254&&(c=256*-(o-251)-s-108,a=2),255==o&&(c=r.readInt(e,n+1)/65535,a=5),i.val=null!=c?c:"o"+l,i.size=a},t.CFF.readCharString=function(e,n,i){for(var r=n+i,o=t._bin,s=[];n<r;){var a=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var c=1,u=null,d=null;a<=20&&(u=a,c=1),12==a&&(u=100*a+l,c=2),19!=a&&20!=a||(u=a,c=2),21<=a&&a<=27&&(u=a,c=1),28==a&&(d=o.readShort(e,n+1),c=3),29<=a&&a<=31&&(u=a,c=1),32<=a&&a<=246&&(d=a-139,c=1),247<=a&&a<=250&&(d=256*(a-247)+l+108,c=2),251<=a&&a<=254&&(d=256*-(a-251)-l-108,c=2),255==a&&(d=o.readInt(e,n+1)/65535,c=5),s.push(null!=d?d:"o"+u),n+=c}return s},t.CFF.readDict=function(e,n,i){for(var r=t._bin,o={},s=[];n<i;){var a=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var c=1,u=null,d=null;if(28==a&&(d=r.readShort(e,n+1),c=3),29==a&&(d=r.readInt(e,n+1),c=5),32<=a&&a<=246&&(d=a-139,c=1),247<=a&&a<=250&&(d=256*(a-247)+l+108,c=2),251<=a&&a<=254&&(d=256*-(a-251)-l-108,c=2),255==a)throw d=r.readInt(e,n+1)/65535,c=5,"unknown number";if(30==a){var h=[];for(c=1;;){var p=e[n+c];c++;var f=p>>4,m=15&p;if(15!=f&&h.push(f),15!=m&&h.push(m),15==m)break}for(var g="",v=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<h.length;y++)g+=v[h[y]];d=parseFloat(g)}a<=21&&(u=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][a],c=1,12==a&&(u=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],c=2)),null!=u?(o[u]=1==s.length?s[0]:s,s=[]):s.push(d),n+=c}return o},t.cmap={},t.cmap.parse=function(e,n,i){e=new Uint8Array(e.buffer,n,i),n=0;var r=t._bin,o={};r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var a=[];o.tables=[];for(var l=0;l<s;l++){var c=r.readUshort(e,n);n+=2;var u=r.readUshort(e,n);n+=2;var d=r.readUint(e,n);n+=4;var h="p"+c+"e"+u,p=a.indexOf(d);if(-1==p){var f;p=o.tables.length,a.push(d);var m=r.readUshort(e,d);0==m?f=t.cmap.parse0(e,d):4==m?f=t.cmap.parse4(e,d):6==m?f=t.cmap.parse6(e,d):12==m?f=t.cmap.parse12(e,d):console.debug("unknown format: "+m,c,u,d),o.tables.push(f)}if(null!=o[h])throw"multiple tables for one platform+encoding";o[h]=p}return o},t.cmap.parse0=function(e,n){var i=t._bin,r={};r.format=i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,r.map=[];for(var s=0;s<o-6;s++)r.map.push(e[n+s]);return r},t.cmap.parse4=function(e,n){var i=t._bin,r=n,o={};o.format=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2;var a=i.readUshort(e,n);n+=2;var l=a/2;o.searchRange=i.readUshort(e,n),n+=2,o.entrySelector=i.readUshort(e,n),n+=2,o.rangeShift=i.readUshort(e,n),n+=2,o.endCount=i.readUshorts(e,n,l),n+=2*l,n+=2,o.startCount=i.readUshorts(e,n,l),n+=2*l,o.idDelta=[];for(var c=0;c<l;c++)o.idDelta.push(i.readShort(e,n)),n+=2;for(o.idRangeOffset=i.readUshorts(e,n,l),n+=2*l,o.glyphIdArray=[];n<r+s;)o.glyphIdArray.push(i.readUshort(e,n)),n+=2;return o},t.cmap.parse6=function(e,n){var i=t._bin,r={};r.format=i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,r.firstCode=i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,r.glyphIdArray=[];for(var s=0;s<o;s++)r.glyphIdArray.push(i.readUshort(e,n)),n+=2;return r},t.cmap.parse12=function(e,n){var i=t._bin,r={};r.format=i.readUshort(e,n),n+=2,n+=2,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4;var o=i.readUint(e,n);n+=4,r.groups=[];for(var s=0;s<o;s++){var a=n+12*s,l=i.readUint(e,a+0),c=i.readUint(e,a+4),u=i.readUint(e,a+8);r.groups.push([l,c,u])}return r},t.glyf={},t.glyf.parse=function(e,t,n,i){for(var r=[],o=0;o<i.maxp.numGlyphs;o++)r.push(null);return r},t.glyf._parseGlyf=function(e,n){var i=t._bin,r=e._data,o=t._tabOffset(r,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var s={};if(s.noc=i.readShort(r,o),o+=2,s.xMin=i.readShort(r,o),o+=2,s.yMin=i.readShort(r,o),o+=2,s.xMax=i.readShort(r,o),o+=2,s.yMax=i.readShort(r,o),o+=2,s.xMin>=s.xMax||s.yMin>=s.yMax)return null;if(s.noc>0){s.endPts=[];for(var a=0;a<s.noc;a++)s.endPts.push(i.readUshort(r,o)),o+=2;var l=i.readUshort(r,o);if(o+=2,r.length-o<l)return null;s.instructions=i.readBytes(r,o,l),o+=l;var c=s.endPts[s.noc-1]+1;for(s.flags=[],a=0;a<c;a++){var u=r[o];if(o++,s.flags.push(u),8&u){var d=r[o];o++;for(var h=0;h<d;h++)s.flags.push(u),a++}}for(s.xs=[],a=0;a<c;a++){var p=!!(2&s.flags[a]),f=!!(16&s.flags[a]);p?(s.xs.push(f?r[o]:-r[o]),o++):f?s.xs.push(0):(s.xs.push(i.readShort(r,o)),o+=2)}for(s.ys=[],a=0;a<c;a++)p=!!(4&s.flags[a]),f=!!(32&s.flags[a]),p?(s.ys.push(f?r[o]:-r[o]),o++):f?s.ys.push(0):(s.ys.push(i.readShort(r,o)),o+=2);var m=0,g=0;for(a=0;a<c;a++)m+=s.xs[a],g+=s.ys[a],s.xs[a]=m,s.ys[a]=g}else{var v;s.parts=[];do{v=i.readUshort(r,o),o+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(s.parts.push(y),y.glyphIndex=i.readUshort(r,o),o+=2,1&v){var E=i.readShort(r,o);o+=2;var S=i.readShort(r,o);o+=2}else E=i.readInt8(r,o),o++,S=i.readInt8(r,o),o++;2&v?(y.m.tx=E,y.m.ty=S):(y.p1=E,y.p2=S),8&v?(y.m.a=y.m.d=i.readF2dot14(r,o),o+=2):64&v?(y.m.a=i.readF2dot14(r,o),o+=2,y.m.d=i.readF2dot14(r,o),o+=2):128&v&&(y.m.a=i.readF2dot14(r,o),o+=2,y.m.b=i.readF2dot14(r,o),o+=2,y.m.c=i.readF2dot14(r,o),o+=2,y.m.d=i.readF2dot14(r,o),o+=2)}while(32&v);if(256&v){var b=i.readUshort(r,o);for(o+=2,s.instr=[],a=0;a<b;a++)s.instr.push(r[o]),o++}}return s},t.GDEF={},t.GDEF.parse=function(e,n,i,r){var o=n;n+=4;var s=t._bin.readUshort(e,n);return{glyphClassDef:0===s?null:t._lctf.readClassDef(e,o+s)}},t.GPOS={},t.GPOS.parse=function(e,n,i,r){return t._lctf.parse(e,n,i,r,t.GPOS.subt)},t.GPOS.subt=function(e,n,i,r){var o=t._bin,s=i,a={};if(a.fmt=o.readUshort(e,i),i+=2,1==n||2==n||3==n||7==n||8==n&&a.fmt<=2){var l=o.readUshort(e,i);i+=2,a.coverage=t._lctf.readCoverage(e,l+s)}if(1==n&&1==a.fmt){var c=o.readUshort(e,i);i+=2,0!=c&&(a.pos=t.GPOS.readValueRecord(e,i,c))}else if(2==n&&a.fmt>=1&&a.fmt<=2){c=o.readUshort(e,i),i+=2;var u=o.readUshort(e,i);i+=2;var d=t._lctf.numOfOnes(c),h=t._lctf.numOfOnes(u);if(1==a.fmt){a.pairsets=[];var p=o.readUshort(e,i);i+=2;for(var f=0;f<p;f++){var m=s+o.readUshort(e,i);i+=2;var g=o.readUshort(e,m);m+=2;for(var v=[],y=0;y<g;y++){var E=o.readUshort(e,m);m+=2,0!=c&&(A=t.GPOS.readValueRecord(e,m,c),m+=2*d),0!=u&&(w=t.GPOS.readValueRecord(e,m,u),m+=2*h),v.push({gid2:E,val1:A,val2:w})}a.pairsets.push(v)}}if(2==a.fmt){var S=o.readUshort(e,i);i+=2;var b=o.readUshort(e,i);i+=2;var O=o.readUshort(e,i);i+=2;var _=o.readUshort(e,i);for(i+=2,a.classDef1=t._lctf.readClassDef(e,s+S),a.classDef2=t._lctf.readClassDef(e,s+b),a.matrix=[],f=0;f<O;f++){var T=[];for(y=0;y<_;y++){var A=null,w=null;0!=c&&(A=t.GPOS.readValueRecord(e,i,c),i+=2*d),0!=u&&(w=t.GPOS.readValueRecord(e,i,u),i+=2*h),T.push({val1:A,val2:w})}a.matrix.push(T)}}}else if(4==n&&1==a.fmt)a.markCoverage=t._lctf.readCoverage(e,o.readUshort(e,i)+s),a.baseCoverage=t._lctf.readCoverage(e,o.readUshort(e,i+2)+s),a.markClassCount=o.readUshort(e,i+4),a.markArray=t.GPOS.readMarkArray(e,o.readUshort(e,i+6)+s),a.baseArray=t.GPOS.readBaseArray(e,o.readUshort(e,i+8)+s,a.markClassCount);else if(6==n&&1==a.fmt)a.mark1Coverage=t._lctf.readCoverage(e,o.readUshort(e,i)+s),a.mark2Coverage=t._lctf.readCoverage(e,o.readUshort(e,i+2)+s),a.markClassCount=o.readUshort(e,i+4),a.mark1Array=t.GPOS.readMarkArray(e,o.readUshort(e,i+6)+s),a.mark2Array=t.GPOS.readBaseArray(e,o.readUshort(e,i+8)+s,a.markClassCount);else{if(9==n&&1==a.fmt){var N=o.readUshort(e,i);i+=2;var I=o.readUint(e,i);if(i+=4,9==r.ltype)r.ltype=N;else if(r.ltype!=N)throw"invalid extension substitution";return t.GPOS.subt(e,r.ltype,s+I)}console.debug("unsupported GPOS table LookupType",n,"format",a.fmt)}return a},t.GPOS.readValueRecord=function(e,n,i){var r=t._bin,o=[];return o.push(1&i?r.readShort(e,n):0),n+=1&i?2:0,o.push(2&i?r.readShort(e,n):0),n+=2&i?2:0,o.push(4&i?r.readShort(e,n):0),n+=4&i?2:0,o.push(8&i?r.readShort(e,n):0),n+=8&i?2:0,o},t.GPOS.readBaseArray=function(e,n,i){var r=t._bin,o=[],s=n,a=r.readUshort(e,n);n+=2;for(var l=0;l<a;l++){for(var c=[],u=0;u<i;u++)c.push(t.GPOS.readAnchorRecord(e,s+r.readUshort(e,n))),n+=2;o.push(c)}return o},t.GPOS.readMarkArray=function(e,n){var i=t._bin,r=[],o=n,s=i.readUshort(e,n);n+=2;for(var a=0;a<s;a++){var l=t.GPOS.readAnchorRecord(e,i.readUshort(e,n+2)+o);l.markClass=i.readUshort(e,n),r.push(l),n+=4}return r},t.GPOS.readAnchorRecord=function(e,n){var i=t._bin,r={};return r.fmt=i.readUshort(e,n),r.x=i.readShort(e,n+2),r.y=i.readShort(e,n+4),r},t.GSUB={},t.GSUB.parse=function(e,n,i,r){return t._lctf.parse(e,n,i,r,t.GSUB.subt)},t.GSUB.subt=function(e,n,i,r){var o=t._bin,s=i,a={};if(a.fmt=o.readUshort(e,i),i+=2,1!=n&&2!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||2==n||4==n||5==n&&a.fmt<=2||6==n&&a.fmt<=2){var l=o.readUshort(e,i);i+=2,a.coverage=t._lctf.readCoverage(e,s+l)}if(1==n&&a.fmt>=1&&a.fmt<=2){if(1==a.fmt)a.delta=o.readShort(e,i),i+=2;else if(2==a.fmt){var c=o.readUshort(e,i);i+=2,a.newg=o.readUshorts(e,i,c),i+=2*a.newg.length}}else if(2==n&&1==a.fmt){c=o.readUshort(e,i),i+=2,a.seqs=[];for(var u=0;u<c;u++){var d=o.readUshort(e,i)+s;i+=2;var h=o.readUshort(e,d);a.seqs.push(o.readUshorts(e,d+2,h))}}else if(4==n)for(a.vals=[],c=o.readUshort(e,i),i+=2,u=0;u<c;u++){var p=o.readUshort(e,i);i+=2,a.vals.push(t.GSUB.readLigatureSet(e,s+p))}else if(5==n&&2==a.fmt){if(2==a.fmt){var f=o.readUshort(e,i);i+=2,a.cDef=t._lctf.readClassDef(e,s+f),a.scset=[];var m=o.readUshort(e,i);for(i+=2,u=0;u<m;u++){var g=o.readUshort(e,i);i+=2,a.scset.push(0==g?null:t.GSUB.readSubClassSet(e,s+g))}}}else if(6==n&&3==a.fmt){if(3==a.fmt){for(u=0;u<3;u++){c=o.readUshort(e,i),i+=2;for(var v=[],y=0;y<c;y++)v.push(t._lctf.readCoverage(e,s+o.readUshort(e,i+2*y)));i+=2*c,0==u&&(a.backCvg=v),1==u&&(a.inptCvg=v),2==u&&(a.ahedCvg=v)}c=o.readUshort(e,i),i+=2,a.lookupRec=t.GSUB.readSubstLookupRecords(e,i,c)}}else{if(7==n&&1==a.fmt){var E=o.readUshort(e,i);i+=2;var S=o.readUint(e,i);if(i+=4,9==r.ltype)r.ltype=E;else if(r.ltype!=E)throw"invalid extension substitution";return t.GSUB.subt(e,r.ltype,s+S)}console.debug("unsupported GSUB table LookupType",n,"format",a.fmt)}return a},t.GSUB.readSubClassSet=function(e,n){var i=t._bin.readUshort,r=n,o=[],s=i(e,n);n+=2;for(var a=0;a<s;a++){var l=i(e,n);n+=2,o.push(t.GSUB.readSubClassRule(e,r+l))}return o},t.GSUB.readSubClassRule=function(e,n){var i=t._bin.readUshort,r={},o=i(e,n),s=i(e,n+=2);n+=2,r.input=[];for(var a=0;a<o-1;a++)r.input.push(i(e,n)),n+=2;return r.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,s),r},t.GSUB.readSubstLookupRecords=function(e,n,i){for(var r=t._bin.readUshort,o=[],s=0;s<i;s++)o.push(r(e,n),r(e,n+2)),n+=4;return o},t.GSUB.readChainSubClassSet=function(e,n){var i=t._bin,r=n,o=[],s=i.readUshort(e,n);n+=2;for(var a=0;a<s;a++){var l=i.readUshort(e,n);n+=2,o.push(t.GSUB.readChainSubClassRule(e,r+l))}return o},t.GSUB.readChainSubClassRule=function(e,n){for(var i=t._bin,r={},o=["backtrack","input","lookahead"],s=0;s<o.length;s++){var a=i.readUshort(e,n);n+=2,1==s&&a--,r[o[s]]=i.readUshorts(e,n,a),n+=2*r[o[s]].length}return a=i.readUshort(e,n),n+=2,r.subst=i.readUshorts(e,n,2*a),n+=2*r.subst.length,r},t.GSUB.readLigatureSet=function(e,n){var i=t._bin,r=n,o=[],s=i.readUshort(e,n);n+=2;for(var a=0;a<s;a++){var l=i.readUshort(e,n);n+=2,o.push(t.GSUB.readLigature(e,r+l))}return o},t.GSUB.readLigature=function(e,n){var i=t._bin,r={chain:[]};r.nglyph=i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2;for(var s=0;s<o-1;s++)r.chain.push(i.readUshort(e,n)),n+=2;return r},t.head={},t.head.parse=function(e,n,i){var r=t._bin,o={};return r.readFixed(e,n),n+=4,o.fontRevision=r.readFixed(e,n),n+=4,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4,o.flags=r.readUshort(e,n),n+=2,o.unitsPerEm=r.readUshort(e,n),n+=2,o.created=r.readUint64(e,n),n+=8,o.modified=r.readUint64(e,n),n+=8,o.xMin=r.readShort(e,n),n+=2,o.yMin=r.readShort(e,n),n+=2,o.xMax=r.readShort(e,n),n+=2,o.yMax=r.readShort(e,n),n+=2,o.macStyle=r.readUshort(e,n),n+=2,o.lowestRecPPEM=r.readUshort(e,n),n+=2,o.fontDirectionHint=r.readShort(e,n),n+=2,o.indexToLocFormat=r.readShort(e,n),n+=2,o.glyphDataFormat=r.readShort(e,n),n+=2,o},t.hhea={},t.hhea.parse=function(e,n,i){var r=t._bin,o={};return r.readFixed(e,n),n+=4,o.ascender=r.readShort(e,n),n+=2,o.descender=r.readShort(e,n),n+=2,o.lineGap=r.readShort(e,n),n+=2,o.advanceWidthMax=r.readUshort(e,n),n+=2,o.minLeftSideBearing=r.readShort(e,n),n+=2,o.minRightSideBearing=r.readShort(e,n),n+=2,o.xMaxExtent=r.readShort(e,n),n+=2,o.caretSlopeRise=r.readShort(e,n),n+=2,o.caretSlopeRun=r.readShort(e,n),n+=2,o.caretOffset=r.readShort(e,n),n+=2,n+=8,o.metricDataFormat=r.readShort(e,n),n+=2,o.numberOfHMetrics=r.readUshort(e,n),n+=2,o},t.hmtx={},t.hmtx.parse=function(e,n,i,r){for(var o=t._bin,s={aWidth:[],lsBearing:[]},a=0,l=0,c=0;c<r.maxp.numGlyphs;c++)c<r.hhea.numberOfHMetrics&&(a=o.readUshort(e,n),n+=2,l=o.readShort(e,n),n+=2),s.aWidth.push(a),s.lsBearing.push(l);return s},t.kern={},t.kern.parse=function(e,n,i,r){var o=t._bin,s=o.readUshort(e,n);if(n+=2,1==s)return t.kern.parseV1(e,n-2,i,r);var a=o.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},c=0;c<a;c++){n+=2,i=o.readUshort(e,n),n+=2;var u=o.readUshort(e,n);n+=2;var d=u>>>8;if(0!=(d&=15))throw"unknown kern table format: "+d;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,i,r){var o=t._bin;o.readFixed(e,n),n+=4;var s=o.readUint(e,n);n+=4;for(var a={glyph1:[],rval:[]},l=0;l<s;l++){o.readUint(e,n),n+=4;var c=o.readUshort(e,n);n+=2,o.readUshort(e,n),n+=2;var u=c>>>8;if(0!=(u&=15))throw"unknown kern table format: "+u;n=t.kern.readFormat0(e,n,a)}return a},t.kern.readFormat0=function(e,n,i){var r=t._bin,o=-1,s=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var a=0;a<s;a++){var l=r.readUshort(e,n);n+=2;var c=r.readUshort(e,n);n+=2;var u=r.readShort(e,n);n+=2,l!=o&&(i.glyph1.push(l),i.rval.push({glyph2:[],vals:[]}));var d=i.rval[i.rval.length-1];d.glyph2.push(c),d.vals.push(u),o=l}return n},t.loca={},t.loca.parse=function(e,n,i,r){var o=t._bin,s=[],a=r.head.indexToLocFormat,l=r.maxp.numGlyphs+1;if(0==a)for(var c=0;c<l;c++)s.push(o.readUshort(e,n+(c<<1))<<1);if(1==a)for(c=0;c<l;c++)s.push(o.readUint(e,n+(c<<2)));return s},t.maxp={},t.maxp.parse=function(e,n,i){var r=t._bin,o={},s=r.readUint(e,n);return n+=4,o.numGlyphs=r.readUshort(e,n),n+=2,65536==s&&(o.maxPoints=r.readUshort(e,n),n+=2,o.maxContours=r.readUshort(e,n),n+=2,o.maxCompositePoints=r.readUshort(e,n),n+=2,o.maxCompositeContours=r.readUshort(e,n),n+=2,o.maxZones=r.readUshort(e,n),n+=2,o.maxTwilightPoints=r.readUshort(e,n),n+=2,o.maxStorage=r.readUshort(e,n),n+=2,o.maxFunctionDefs=r.readUshort(e,n),n+=2,o.maxInstructionDefs=r.readUshort(e,n),n+=2,o.maxStackElements=r.readUshort(e,n),n+=2,o.maxSizeOfInstructions=r.readUshort(e,n),n+=2,o.maxComponentElements=r.readUshort(e,n),n+=2,o.maxComponentDepth=r.readUshort(e,n),n+=2),o},t.name={},t.name.parse=function(e,n,i){var r=t._bin,o={};r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2,r.readUshort(e,n);for(var a,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],c=n+=2,u=0;u<s;u++){var d=r.readUshort(e,n);n+=2;var h=r.readUshort(e,n);n+=2;var p=r.readUshort(e,n);n+=2;var f=r.readUshort(e,n);n+=2;var m=r.readUshort(e,n);n+=2;var g=r.readUshort(e,n);n+=2;var v,y=l[f],E=c+12*s+g;if(0==d)v=r.readUnicode(e,E,m/2);else if(3==d&&0==h)v=r.readUnicode(e,E,m/2);else if(0==h)v=r.readASCII(e,E,m);else if(1==h)v=r.readUnicode(e,E,m/2);else if(3==h)v=r.readUnicode(e,E,m/2);else{if(1!=d)throw"unknown encoding "+h+", platformID: "+d;v=r.readASCII(e,E,m),console.debug("reading unknown MAC encoding "+h+" as ASCII")}var S="p"+d+","+p.toString(16);null==o[S]&&(o[S]={}),o[S][void 0!==y?y:f]=v,o[S]._lang=p}for(var b in o)if(null!=o[b].postScriptName&&1033==o[b]._lang)return o[b];for(var b in o)if(null!=o[b].postScriptName&&0==o[b]._lang)return o[b];for(var b in o)if(null!=o[b].postScriptName&&3084==o[b]._lang)return o[b];for(var b in o)if(null!=o[b].postScriptName)return o[b];for(var b in o){a=b;break}return console.debug("returning name table with languageID "+o[a]._lang),o[a]},t["OS/2"]={},t["OS/2"].parse=function(e,n,i){var r=t._bin.readUshort(e,n);n+=2;var o={};if(0==r)t["OS/2"].version0(e,n,o);else if(1==r)t["OS/2"].version1(e,n,o);else if(2==r||3==r||4==r)t["OS/2"].version2(e,n,o);else{if(5!=r)throw"unknown OS/2 table version: "+r;t["OS/2"].version5(e,n,o)}return o},t["OS/2"].version0=function(e,n,i){var r=t._bin;return i.xAvgCharWidth=r.readShort(e,n),n+=2,i.usWeightClass=r.readUshort(e,n),n+=2,i.usWidthClass=r.readUshort(e,n),n+=2,i.fsType=r.readUshort(e,n),n+=2,i.ySubscriptXSize=r.readShort(e,n),n+=2,i.ySubscriptYSize=r.readShort(e,n),n+=2,i.ySubscriptXOffset=r.readShort(e,n),n+=2,i.ySubscriptYOffset=r.readShort(e,n),n+=2,i.ySuperscriptXSize=r.readShort(e,n),n+=2,i.ySuperscriptYSize=r.readShort(e,n),n+=2,i.ySuperscriptXOffset=r.readShort(e,n),n+=2,i.ySuperscriptYOffset=r.readShort(e,n),n+=2,i.yStrikeoutSize=r.readShort(e,n),n+=2,i.yStrikeoutPosition=r.readShort(e,n),n+=2,i.sFamilyClass=r.readShort(e,n),n+=2,i.panose=r.readBytes(e,n,10),n+=10,i.ulUnicodeRange1=r.readUint(e,n),n+=4,i.ulUnicodeRange2=r.readUint(e,n),n+=4,i.ulUnicodeRange3=r.readUint(e,n),n+=4,i.ulUnicodeRange4=r.readUint(e,n),n+=4,i.achVendID=[r.readInt8(e,n),r.readInt8(e,n+1),r.readInt8(e,n+2),r.readInt8(e,n+3)],n+=4,i.fsSelection=r.readUshort(e,n),n+=2,i.usFirstCharIndex=r.readUshort(e,n),n+=2,i.usLastCharIndex=r.readUshort(e,n),n+=2,i.sTypoAscender=r.readShort(e,n),n+=2,i.sTypoDescender=r.readShort(e,n),n+=2,i.sTypoLineGap=r.readShort(e,n),n+=2,i.usWinAscent=r.readUshort(e,n),n+=2,i.usWinDescent=r.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,i){var r=t._bin;return n=t["OS/2"].version0(e,n,i),i.ulCodePageRange1=r.readUint(e,n),n+=4,i.ulCodePageRange2=r.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,i){var r=t._bin;return n=t["OS/2"].version1(e,n,i),i.sxHeight=r.readShort(e,n),n+=2,i.sCapHeight=r.readShort(e,n),n+=2,i.usDefault=r.readUshort(e,n),n+=2,i.usBreak=r.readUshort(e,n),n+=2,i.usMaxContext=r.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,i){var r=t._bin;return n=t["OS/2"].version2(e,n,i),i.usLowerOpticalPointSize=r.readUshort(e,n),n+=2,i.usUpperOpticalPointSize=r.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,i){var r=t._bin,o={};return o.version=r.readFixed(e,n),n+=4,o.italicAngle=r.readFixed(e,n),n+=4,o.underlinePosition=r.readShort(e,n),n+=2,o.underlineThickness=r.readShort(e,n),n+=2,o},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,i=-1;if(null!=n.p0e4?i=n.p0e4:null!=n.p3e1?i=n.p3e1:null!=n.p1e0?i=n.p1e0:null!=n.p0e3&&(i=n.p0e3),-1==i)throw"no familiar platform and encoding!";var r=n.tables[i];if(0==r.format)return t>=r.map.length?0:r.map[t];if(4==r.format){for(var o=-1,s=0;s<r.endCount.length;s++)if(t<=r.endCount[s]){o=s;break}return-1==o||r.startCount[o]>t?0:65535&(0!=r.idRangeOffset[o]?r.glyphIdArray[t-r.startCount[o]+(r.idRangeOffset[o]>>1)-(r.idRangeOffset.length-o)]:t+r.idDelta[o])}if(12==r.format){if(t>r.groups[r.groups.length-1][1])return 0;for(s=0;s<r.groups.length;s++){var a=r.groups[s];if(a[0]<=t&&t<=a[1])return a[2]+(t-a[0])}return 0}throw"unknown cmap table format "+r.format},t.U.glyphToPath=function(e,n){var i={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var r=e.SVG.entries[n];return null==r?i:("string"==typeof r&&(r=t.SVG.toPath(r),e.SVG.entries[n]=r),r)}if(e.CFF){var o={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},s=e.CFF,a=e.CFF.Private;if(s.ROS){for(var l=0;s.FDSelect[l+2]<=n;)l+=2;a=s.FDArray[s.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],o,s,a,i)}else e.glyf&&t.U._drawGlyf(n,e,i);return i},t.U._drawGlyf=function(e,n,i){var r=n.glyf[e];null==r&&(r=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=r&&(r.noc>-1?t.U._simpleGlyph(r,i):t.U._compoGlyph(r,n,i))},t.U._simpleGlyph=function(e,n){for(var i=0;i<e.noc;i++){for(var r=0==i?0:e.endPts[i-1]+1,o=e.endPts[i],s=r;s<=o;s++){var a=s==r?o:s-1,l=s==o?r:s+1,c=1&e.flags[s],u=1&e.flags[a],d=1&e.flags[l],h=e.xs[s],p=e.ys[s];if(s==r)if(c){if(!u){t.U.P.moveTo(n,h,p);continue}t.U.P.moveTo(n,e.xs[a],e.ys[a])}else u?t.U.P.moveTo(n,e.xs[a],e.ys[a]):t.U.P.moveTo(n,(e.xs[a]+h)/2,(e.ys[a]+p)/2);c?u&&t.U.P.lineTo(n,h,p):d?t.U.P.qcurveTo(n,h,p,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,h,p,(h+e.xs[l])/2,(p+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,i){for(var r=0;r<e.parts.length;r++){var o={cmds:[],crds:[]},s=e.parts[r];t.U._drawGlyf(s.glyphIndex,n,o);for(var a=s.m,l=0;l<o.crds.length;l+=2){var c=o.crds[l],u=o.crds[l+1];i.crds.push(c*a.a+u*a.b+a.tx),i.crds.push(c*a.c+u*a.d+a.ty)}for(l=0;l<o.cmds.length;l++)i.cmds.push(o.cmds[l])}},t.U._getGlyphClass=function(e,n){var i=t._lctf.getInterval(n,e);return-1==i?0:n[i+2]},t.U._applySubs=function(e,n,i,r){for(var o=e.length-n-1,s=0;s<i.tabs.length;s++)if(null!=i.tabs[s]){var a,l=i.tabs[s];if(!l.coverage||-1!=(a=t._lctf.coverageIndex(l.coverage,e[n])))if(1==i.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[a];else if(4==i.ltype)for(var c=l.vals[a],u=0;u<c.length;u++){var d=c[u],h=d.chain.length;if(!(h>o)){for(var p=!0,f=0,m=0;m<h;m++){for(;-1==e[n+f+(1+m)];)f++;d.chain[m]!=e[n+f+(1+m)]&&(p=!1)}if(p){for(e[n]=d.nglyph,m=0;m<h+f;m++)e[n+m+1]=-1;break}}}else if(5==i.ltype&&2==l.fmt)for(var g=t._lctf.getInterval(l.cDef,e[n]),v=l.cDef[g+2],y=l.scset[v],E=0;E<y.length;E++){var S=y[E],b=S.input;if(!(b.length>o)){for(p=!0,m=0;m<b.length;m++){var O=t._lctf.getInterval(l.cDef,e[n+1+m]);if(-1==g&&l.cDef[O+2]!=b[m]){p=!1;break}}if(p){var _=S.substLookupRecords;for(u=0;u<_.length;u+=2)_[u],_[u+1]}}}else if(6==i.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,n))continue;if(!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var T=l.lookupRec;for(E=0;E<T.length;E+=2){g=T[E];var A=r[T[E+1]];t.U._applySubs(e,n+g,A,r)}}}},t.U._glsCovered=function(e,n,i){for(var r=0;r<n.length;r++)if(-1==t._lctf.coverageIndex(n[r],e[i+r]))return!1;return!0},t.U.glyphsToPath=function(e,n,i){for(var r={cmds:[],crds:[]},o=0,s=0;s<n.length;s++){var a=n[s];if(-1!=a){for(var l=s<n.length-1&&-1!=n[s+1]?n[s+1]:0,c=t.U.glyphToPath(e,a),u=0;u<c.crds.length;u+=2)r.crds.push(c.crds[u]+o),r.crds.push(c.crds[u+1]);for(i&&r.cmds.push(i),u=0;u<c.cmds.length;u++)r.cmds.push(c.cmds[u]);i&&r.cmds.push("X"),o+=e.hmtx.aWidth[a],s<n.length-1&&(o+=t.U.getPairAdjustment(e,a,l))}}return r},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,i,r,o,s){e.cmds.push("C"),e.crds.push(t,n,i,r,o,s)},t.U.P.qcurveTo=function(e,t,n,i,r){e.cmds.push("Q"),e.crds.push(t,n,i,r)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,i,r,o){for(var s=n.stack,a=n.nStems,l=n.haveWidth,c=n.width,u=n.open,d=0,h=n.x,p=n.y,f=0,m=0,g=0,v=0,y=0,E=0,S=0,b=0,O=0,_=0,T={val:0,size:0};d<e.length;){t.CFF.getCharString(e,d,T);var A=T.val;if(d+=T.size,"o1"==A||"o18"==A)s.length%2!=0&&!l&&(c=s.shift()+r.nominalWidthX),a+=s.length>>1,s.length=0,l=!0;else if("o3"==A||"o23"==A)s.length%2!=0&&!l&&(c=s.shift()+r.nominalWidthX),a+=s.length>>1,s.length=0,l=!0;else if("o4"==A)s.length>1&&!l&&(c=s.shift()+r.nominalWidthX,l=!0),u&&t.U.P.closePath(o),p+=s.pop(),t.U.P.moveTo(o,h,p),u=!0;else if("o5"==A)for(;s.length>0;)h+=s.shift(),p+=s.shift(),t.U.P.lineTo(o,h,p);else if("o6"==A||"o7"==A)for(var w=s.length,N="o6"==A,I=0;I<w;I++){var R=s.shift();N?h+=R:p+=R,N=!N,t.U.P.lineTo(o,h,p)}else if("o8"==A||"o24"==A){w=s.length;for(var k=0;k+6<=w;)f=h+s.shift(),m=p+s.shift(),g=f+s.shift(),v=m+s.shift(),h=g+s.shift(),p=v+s.shift(),t.U.P.curveTo(o,f,m,g,v,h,p),k+=6;"o24"==A&&(h+=s.shift(),p+=s.shift(),t.U.P.lineTo(o,h,p))}else{if("o11"==A)break;if("o1234"==A||"o1235"==A||"o1236"==A||"o1237"==A)"o1234"==A&&(m=p,g=(f=h+s.shift())+s.shift(),_=v=m+s.shift(),E=v,b=p,h=(S=(y=(O=g+s.shift())+s.shift())+s.shift())+s.shift(),t.U.P.curveTo(o,f,m,g,v,O,_),t.U.P.curveTo(o,y,E,S,b,h,p)),"o1235"==A&&(f=h+s.shift(),m=p+s.shift(),g=f+s.shift(),v=m+s.shift(),O=g+s.shift(),_=v+s.shift(),y=O+s.shift(),E=_+s.shift(),S=y+s.shift(),b=E+s.shift(),h=S+s.shift(),p=b+s.shift(),s.shift(),t.U.P.curveTo(o,f,m,g,v,O,_),t.U.P.curveTo(o,y,E,S,b,h,p)),"o1236"==A&&(f=h+s.shift(),m=p+s.shift(),g=f+s.shift(),_=v=m+s.shift(),E=v,S=(y=(O=g+s.shift())+s.shift())+s.shift(),b=E+s.shift(),h=S+s.shift(),t.U.P.curveTo(o,f,m,g,v,O,_),t.U.P.curveTo(o,y,E,S,b,h,p)),"o1237"==A&&(f=h+s.shift(),m=p+s.shift(),g=f+s.shift(),v=m+s.shift(),O=g+s.shift(),_=v+s.shift(),y=O+s.shift(),E=_+s.shift(),S=y+s.shift(),b=E+s.shift(),Math.abs(S-h)>Math.abs(b-p)?h=S+s.shift():p=b+s.shift(),t.U.P.curveTo(o,f,m,g,v,O,_),t.U.P.curveTo(o,y,E,S,b,h,p));else if("o14"==A){if(s.length>0&&!l&&(c=s.shift()+i.nominalWidthX,l=!0),4==s.length){var L=s.shift(),M=s.shift(),D=s.shift(),P=s.shift(),C=t.CFF.glyphBySE(i,D),x=t.CFF.glyphBySE(i,P);t.U._drawCFF(i.CharStrings[C],n,i,r,o),n.x=L,n.y=M,t.U._drawCFF(i.CharStrings[x],n,i,r,o)}u&&(t.U.P.closePath(o),u=!1)}else if("o19"==A||"o20"==A)s.length%2!=0&&!l&&(c=s.shift()+r.nominalWidthX),a+=s.length>>1,s.length=0,l=!0,d+=a+7>>3;else if("o21"==A)s.length>2&&!l&&(c=s.shift()+r.nominalWidthX,l=!0),p+=s.pop(),h+=s.pop(),u&&t.U.P.closePath(o),t.U.P.moveTo(o,h,p),u=!0;else if("o22"==A)s.length>1&&!l&&(c=s.shift()+r.nominalWidthX,l=!0),h+=s.pop(),u&&t.U.P.closePath(o),t.U.P.moveTo(o,h,p),u=!0;else if("o25"==A){for(;s.length>6;)h+=s.shift(),p+=s.shift(),t.U.P.lineTo(o,h,p);f=h+s.shift(),m=p+s.shift(),g=f+s.shift(),v=m+s.shift(),h=g+s.shift(),p=v+s.shift(),t.U.P.curveTo(o,f,m,g,v,h,p)}else if("o26"==A)for(s.length%2&&(h+=s.shift());s.length>0;)f=h,m=p+s.shift(),h=g=f+s.shift(),p=(v=m+s.shift())+s.shift(),t.U.P.curveTo(o,f,m,g,v,h,p);else if("o27"==A)for(s.length%2&&(p+=s.shift());s.length>0;)m=p,g=(f=h+s.shift())+s.shift(),v=m+s.shift(),h=g+s.shift(),p=v,t.U.P.curveTo(o,f,m,g,v,h,p);else if("o10"==A||"o29"==A){var U="o10"==A?r:i;if(0==s.length)console.debug("error: empty stack");else{var j=s.pop(),F=U.Subrs[j+U.Bias];n.x=h,n.y=p,n.nStems=a,n.haveWidth=l,n.width=c,n.open=u,t.U._drawCFF(F,n,i,r,o),h=n.x,p=n.y,a=n.nStems,l=n.haveWidth,c=n.width,u=n.open}}else if("o30"==A||"o31"==A){var H=s.length,G=(k=0,"o31"==A);for(k+=H-(w=-3&H);k<w;)G?(m=p,g=(f=h+s.shift())+s.shift(),p=(v=m+s.shift())+s.shift(),w-k==5?(h=g+s.shift(),k++):h=g,G=!1):(f=h,m=p+s.shift(),g=f+s.shift(),v=m+s.shift(),h=g+s.shift(),w-k==5?(p=v+s.shift(),k++):p=v,G=!0),t.U.P.curveTo(o,f,m,g,v,h,p),k+=4}else{if("o"==(A+"").charAt(0))throw console.debug("Unknown operation: "+A,e),A;s.push(A)}}}n.x=h,n.y=p,n.nStems=a,n.haveWidth=l,n.width=c,n.open=u};var n=t,i={Typr:n};return e.Typr=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,i=Uint32Array,r=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(e,t){for(var r=new n(31),o=0;o<31;++o)r[o]=t+=1<<e[o-1];var s=new i(r[30]);for(o=1;o<30;++o)for(var a=r[o];a<r[o+1];++a)s[a]=a-r[o]<<5|o;return[r,s]},l=a(r,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var d=a(o,0)[0],h=new n(32768),p=0;p<32768;++p){var f=(43690&p)>>>1|(21845&p)<<1;f=(61680&(f=(52428&f)>>>2|(13107&f)<<2))>>>4|(3855&f)<<4,h[p]=((65280&f)>>>8|(255&f)<<8)>>>1}var m=function(e,t,i){for(var r=e.length,o=0,s=new n(t);o<r;++o)++s[e[o]-1];var a,l=new n(t);for(o=0;o<t;++o)l[o]=l[o-1]+s[o-1]<<1;if(i){a=new n(1<<t);var c=15-t;for(o=0;o<r;++o)if(e[o])for(var u=o<<4|e[o],d=t-e[o],p=l[e[o]-1]++<<d,f=p|(1<<d)-1;p<=f;++p)a[h[p]>>>c]=u}else for(a=new n(r),o=0;o<r;++o)e[o]&&(a[o]=h[l[e[o]-1]++]>>>15-e[o]);return a},g=new t(288);for(p=0;p<144;++p)g[p]=8;for(p=144;p<256;++p)g[p]=9;for(p=256;p<280;++p)g[p]=7;for(p=280;p<288;++p)g[p]=8;var v=new t(32);for(p=0;p<32;++p)v[p]=5;var y=m(g,9,1),E=m(v,5,1),S=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},b=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(7&t)&n},O=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],T=function(e,t,n){var i=new Error(t||_[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,T),!n)throw i;return i},A=function(e,a,l){var u=e.length;if(!u||l&&!l.l&&u<5)return a||new t(0);var h=!a||l,p=!l||l.i;l||(l={}),a||(a=new t(3*u));var f,g=function(e){var n=a.length;if(e>n){var i=new t(Math.max(2*n,e));i.set(a),a=i}},v=l.f||0,_=l.p||0,A=l.b||0,w=l.l,N=l.d,I=l.m,R=l.n,k=8*u;do{if(!w){l.f=v=b(e,_,1);var L=b(e,_+1,3);if(_+=3,!L){var M=e[(V=((f=_)/8|0)+(7&f&&1)+4)-4]|e[V-3]<<8,D=V+M;if(D>u){p&&T(0);break}h&&g(A+M),a.set(e.subarray(V,D),A),l.b=A+=M,l.p=_=8*D;continue}if(1==L)w=y,N=E,I=9,R=5;else if(2==L){var P=b(e,_,31)+257,C=b(e,_+10,15)+4,x=P+b(e,_+5,31)+1;_+=14;for(var U=new t(x),j=new t(19),F=0;F<C;++F)j[s[F]]=b(e,_+3*F,7);_+=3*C;var H=S(j),G=(1<<H)-1,B=m(j,H,1);for(F=0;F<x;){var V,W=B[b(e,_,G)];if(_+=15&W,(V=W>>>4)<16)U[F++]=V;else{var z=0,$=0;for(16==V?($=3+b(e,_,3),_+=2,z=U[F-1]):17==V?($=3+b(e,_,7),_+=3):18==V&&($=11+b(e,_,127),_+=7);$--;)U[F++]=z}}var K=U.subarray(0,P),Y=U.subarray(P);I=S(K),R=S(Y),w=m(K,I,1),N=m(Y,R,1)}else T(1);if(_>k){p&&T(0);break}}h&&g(A+131072);for(var q=(1<<I)-1,Q=(1<<R)-1,X=_;;X=_){var Z=(z=w[O(e,_)&q])>>>4;if((_+=15&z)>k){p&&T(0);break}if(z||T(2),Z<256)a[A++]=Z;else{if(256==Z){X=_,w=null;break}var J=Z-254;if(Z>264){var ee=r[F=Z-257];J=b(e,_,(1<<ee)-1)+c[F],_+=ee}var te=N[O(e,_)&Q],ne=te>>>4;if(te||T(3),_+=15&te,Y=d[ne],ne>3&&(ee=o[ne],Y+=O(e,_)&(1<<ee)-1,_+=ee),_>k){p&&T(0);break}h&&g(A+131072);for(var ie=A+J;A<ie;A+=4)a[A]=a[A-Y],a[A+1]=a[A+1-Y],a[A+2]=a[A+2-Y],a[A+3]=a[A+3-Y];A=ie}}l.l=w,l.p=X,l.b=A,w&&(v=1,l.m=I,l.d=N,l.n=R)}while(!v);return A==a.length?a:function(e,r,o){(null==r||r<0)&&(r=0),(null==o||o>e.length)&&(o=e.length);var s=new(e instanceof n?n:e instanceof i?i:t)(o-r);return s.set(e.subarray(r,o)),s}(a,0,A)},w=new t(0),N="undefined"!=typeof TextDecoder&&new TextDecoder;try{N.decode(w,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function i(){var e=t.getUint16(n);return n+=2,e}function r(){var e=t.getUint32(n);return n+=4,e}function o(e){v.setUint16(y,e),y+=2}function s(e){v.setUint32(y,e),y+=4}for(var a={signature:r(),flavor:r(),length:r(),numTables:i(),reserved:i(),totalSfntSize:r(),majorVersion:i(),minorVersion:i(),metaOffset:r(),metaLength:r(),metaOrigLength:r(),privOffset:r(),privLength:r()},l=0;Math.pow(2,l)<=a.numTables;)l++;l--;for(var c=16*Math.pow(2,l),u=16*a.numTables-c,d=12,h=[],p=0;p<a.numTables;p++)h.push({tag:r(),offset:r(),compLength:r(),origLength:r(),origChecksum:r()}),d+=16;var f,m=new Uint8Array(12+16*h.length+h.reduce((function(e,t){return e+t.origLength+4}),0)),g=m.buffer,v=new DataView(g),y=0;return s(a.flavor),o(a.numTables),o(c),o(l),o(u),h.forEach((function(e){s(e.tag),s(e.origChecksum),s(d),s(e.origLength),e.outOffset=d,(d+=e.origLength)%4!=0&&(d+=4-d%4)})),h.forEach((function(t){var n,i=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var r=new Uint8Array(t.origLength);n=new Uint8Array(i,2),A(n,r)}else r=new Uint8Array(i);m.set(r,t.outOffset);var o=0;(d=t.outOffset+t.origLength)%4!=0&&(o=4-d%4),m.set(new Uint8Array(o).buffer,t.outOffset+t.origLength),f=d+o})),g.slice(0,f)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){const n={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};let r;function o(e){if(!r){const e={R:2,L:1,D:4,C:16,U:32,T:8};r=new Map;for(let t in i){let n=0;i[t].split(",").forEach((i=>{let[o,s]=i.split("+");o=parseInt(o,36),s=s?parseInt(s,36):0,r.set(n+=o,e[t]);for(let i=s;i--;)r.set(++n,e[t])}))}}return r.get(e)||32}const s=[null,"isol","init","fina","medi"];function a(e){const t=new Uint8Array(e.length);let n=32,i=1,r=-1;for(let s=0;s<e.length;s++){const a=e.codePointAt(s);let l=0|o(a),c=1;8&l||(21&n?22&l?(c=3,1!==i&&3!==i||t[r]++):33&l&&(2!==i&&4!==i||t[r]--):34&n&&(2!==i&&4!==i||t[r]--),i=t[s]=c,n=l,r=s,a>65535&&s++)}return t}function l(t,n){const i=t.GDEF&&t.GDEF.glyphClassDef;return i?e.U._getGlyphClass(n,i):0}function c(...e){for(let t=0;t<e.length;t++)if("number"==typeof e[t])return e[t]}function u(t){const i=Object.create(null),r=t["OS/2"],o=t.hhea,u=t.head.unitsPerEm,d=c(r&&r.sTypoAscender,o&&o.ascender,u),h={unitsPerEm:u,ascender:d,descender:c(r&&r.sTypoDescender,o&&o.descender,0),capHeight:c(r&&r.sCapHeight,d),xHeight:c(r&&r.sxHeight,d),lineGap:c(r&&r.sTypoLineGap,o&&o.lineGap),supportsCodePoint:n=>e.U.codeToGlyph(t,n)>0,forEachGlyph(r,o,c,u){let d=0;const p=1/h.unitsPerEm*o,f=function(t,n){const i=[];for(let r=0;r<n.length;r++){const o=n.codePointAt(r);o>65535&&r++,i.push(e.U.codeToGlyph(t,o))}const r=t.GSUB;if(r){const{lookupList:t,featureList:o}=r;let l;const c=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,u=[];o.forEach((r=>{if(c.test(r.tag))for(let o=0;o<r.tab.length;o++){if(u[r.tab[o]])continue;u[r.tab[o]]=!0;const c=t[r.tab[o]],d=/^(isol|init|fina|medi)$/.test(r.tag);d&&!l&&(l=a(n));for(let n=0;n<i.length;n++)l&&d&&s[l[n]]!==r.tag||e.U._applySubs(i,n,c,t)}}))}return i}(t,r);let m=0;const g=function(t,n){const i=new Int16Array(3*n.length);let r=0;for(;r<n.length;r++){const c=n[r];if(-1===c)continue;i[3*r+2]=t.hmtx.aWidth[c];const u=t.GPOS;if(u){const d=u.lookupList;for(let u=0;u<d.length;u++){const h=d[u];for(let u=0;u<h.tabs.length;u++){const d=h.tabs[u];if(1===h.ltype){if(-1!==e._lctf.coverageIndex(d.coverage,c)&&d.pos){a(d.pos,r);break}}else if(2===h.ltype){let t=null,i=o();if(-1!==i){const o=e._lctf.coverageIndex(d.coverage,n[i]);if(-1!==o){if(1===d.fmt){const e=d.pairsets[o];for(let n=0;n<e.length;n++)e[n].gid2===c&&(t=e[n])}else if(2===d.fmt){const r=e.U._getGlyphClass(n[i],d.classDef1),o=e.U._getGlyphClass(c,d.classDef2);t=d.matrix[r][o]}if(t){t.val1&&a(t.val1,i),t.val2&&a(t.val2,r);break}}}}else if(4===h.ltype){const t=e._lctf.coverageIndex(d.markCoverage,c);if(-1!==t){const a=o(s),l=-1===a?-1:e._lctf.coverageIndex(d.baseCoverage,n[a]);if(-1!==l){const e=d.markArray[t],n=d.baseArray[l][e.markClass];i[3*r]=n.x-e.x+i[3*a]-i[3*a+2],i[3*r+1]=n.y-e.y+i[3*a+1];break}}}else if(6===h.ltype){const s=e._lctf.coverageIndex(d.mark1Coverage,c);if(-1!==s){const a=o();if(-1!==a){const o=n[a];if(3===l(t,o)){const t=e._lctf.coverageIndex(d.mark2Coverage,o);if(-1!==t){const e=d.mark1Array[s],n=d.mark2Array[t][e.markClass];i[3*r]=n.x-e.x+i[3*a]-i[3*a+2],i[3*r+1]=n.y-e.y+i[3*a+1];break}}}}}}}}else if(t.kern&&!t.cff){const e=o();if(-1!==e){const r=t.kern.glyph1.indexOf(n[e]);if(-1!==r){const n=t.kern.rval[r].glyph2.indexOf(c);-1!==n&&(i[3*e+2]+=t.kern.rval[r].vals[n])}}}}return i;function o(e){for(let t=r-1;t>=0;t--)if(-1!==n[t]&&(!e||e(n[t])))return t;return-1}function s(e){return 1===l(t,e)}function a(e,t){for(let n=0;n<3;n++)i[3*t+n]+=e[n]||0}}(t,f);return f.forEach(((s,a)=>{if(-1!==s){let r=i[s];if(!r){const{cmds:o,crds:a}=e.U.glyphToPath(t,s);let l,c,u,d,h="",p=0;for(let e=0,t=o.length;e<t;e++){const t=n[o[e]];h+=o[e];for(let e=1;e<=t;e++)h+=(e>1?",":"")+a[p++]}if(a.length){l=c=1/0,u=d=-1/0;for(let e=0,t=a.length;e<t;e+=2){let t=a[e],n=a[e+1];t<l&&(l=t),n<c&&(c=n),t>u&&(u=t),n>d&&(d=n)}}else l=u=c=d=0;r=i[s]={index:s,advanceWidth:t.hmtx.aWidth[s],xMin:l,yMin:c,xMax:u,yMax:d,path:h}}u.call(null,r,d+g[3*a]*p,g[3*a+1]*p,m),d+=g[3*a+2]*p,c&&(d+=c*o)}m+=r.codePointAt(m)>65535?2:1})),d}};return h}return function(n){const i=new Uint8Array(n,0,4),r=e._bin.readASCII(i,0,4);if("wOFF"===r)n=t(n);else if("wOF2"===r)throw new Error("woff2 fonts not supported");return u(e.parse(n)[0])}}],init:(e,t,n)=>n(e(),t())});const L=h({name:"FontResolver",dependencies:[function(e,t){const n=Object.create(null),i=Object.create(null);function r(t,r){let o=n[t];o?r(o):i[t]?i[t].push(r):(i[t]=[r],function(t,n){const i=e=>{console.error(`Failure loading font ${t}`,e)};try{const r=new XMLHttpRequest;r.open("get",t,!0),r.responseType="arraybuffer",r.onload=function(){if(r.status>=400)i(new Error(r.statusText));else if(r.status>0)try{const i=e(r.response);i.src=t,n(i)}catch(e){i(e)}},r.onerror=i,r.send()}catch(e){i(e)}}(t,(e=>{e.src=t,n[t]=e,i[t].forEach((t=>t(e))),delete i[t]})))}return function(e,i,{lang:o,fonts:s=[],style:a="normal",weight:l="normal",unicodeFontsURL:c}={}){const u=new Uint8Array(e.length),d=[];e.length||m();const h=new Map,p=[];if("italic"!==a&&(a="normal"),"number"!=typeof l&&(l="bold"===l?700:400),s&&!Array.isArray(s)&&(s=[s]),(s=s.slice().filter((e=>!e.lang||e.lang.test(o))).reverse()).length){const t=1,i=2;let o=0;!function a(l=0){for(let c=l,f=e.length;c<f;c++){const l=e.codePointAt(c);if(o===t&&d[u[c-1]].supportsCodePoint(l)||c>0&&/\s/.test(e[c]))u[c]=u[c-1],o===i&&(p[p.length-1][1]=c);else for(let e=u[c],f=s.length;e<=f;e++)if(e===f){(o===i?p[p.length-1]:p[p.length]=[c,c])[1]=c,o=i}else{u[c]=e;const{src:i,unicodeRange:p}=s[e];if(!p||g(l,p)){const e=n[i];if(!e)return void r(i,(()=>{a(c)}));if(e.supportsCodePoint(l)){let n=h.get(e);"number"!=typeof n&&(n=d.length,d.push(e),h.set(e,n)),u[c]=n,o=t;break}}}l>65535&&c+1<f&&(u[c+1]=u[c],c++,o===i&&(p[p.length-1][1]=c))}f()}()}else p.push([0,e.length-1]),f();function f(){if(p.length){const n=p.map((t=>e.substring(t[0],t[1]+1))).join("\n");t.getFontsForString(n,{lang:o||void 0,style:a,weight:l,dataUrl:c}).then((({fontUrls:e,chars:t})=>{const n=d.length;let i=0;p.forEach((e=>{for(let r=0,o=e[1]-e[0];r<=o;r++)u[e[0]+r]=t[i++]+n;i++}));let o=0;e.forEach(((t,i)=>{r(t,(t=>{d[i+n]=t,++o===e.length&&m()}))}))}))}else m()}function m(){i({chars:u,fonts:d})}function g(e,t){for(let n=0;n<t.length;n++){const[i,r=i]=t[n];if(i<=e&&e<=r)return!0}return!1}}},k,function(){return function(e){var t=function(){this.buckets=new Map};t.prototype.add=function(e){var t=e>>5;this.buckets.set(t,(this.buckets.get(t)||0)|1<<(31&e))},t.prototype.has=function(e){var t=this.buckets.get(e>>5);return void 0!==t&&!!(t&1<<(31&e))},t.prototype.serialize=function(){var e=[];return this.buckets.forEach((function(t,n){e.push((+n).toString(36)+":"+t.toString(36))})),e.join(",")},t.prototype.deserialize=function(e){var t=this;this.buckets.clear(),e.split(",").forEach((function(e){var n=e.split(":");t.buckets.set(parseInt(n[0],36),parseInt(n[1],36))}))};var n=Math.pow(2,8),i=n-1,r=~i;function o(e){var t=function(e){return e&r}(e).toString(16),i=function(e){return(e&r)+n-1}(e).toString(16);return"codepoint-index/plane"+(e>>16)+"/"+t+"-"+i+".json"}function s(e,t){var n=e&i,r=t.codePointAt(n/6|0);return!!((r=(r||48)-48)&1<<n%6)}function a(e,t){!function(e,t){var n;(n=e,n.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(e){return e.split("-").map((function(e){return parseInt(e.trim(),16)}))}))).forEach((function(e){var n=e[0],i=e[1];void 0===i&&(i=n),t(n,i)}))}(e,(function(e,n){for(var i=e;i<=n;i++)t(i)}))}var l={},c={},u=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function h(e){var n=u.get(e);return n||(n=new t,a(e.ranges,(function(e){return n.add(e)})),u.set(e,n)),n}var p,f=new Map;function m(e,t,n){return e[t]?t:e[n]?n:function(e){for(var t in e)return t}(e)}function g(e,t){var n=t;if(!e.includes(n)){n=1/0;for(var i=0;i<e.length;i++)Math.abs(e[i]-t)<Math.abs(n-t)&&(n=e[i])}return n}function v(e){return p||(p=new Set,a("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(e){p.add(e)}))),p.has(e)}return e.CodePointSet=t,e.clearCache=function(){l={},c={}},e.getFontsForString=function(e,t){void 0===t&&(t={});var n,i=t.lang;void 0===i&&(i=/\p{Script=Hangul}/u.test(n=e)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(n)?"ja":"en");var r=t.category;void 0===r&&(r="sans-serif");var a=t.style;void 0===a&&(a="normal");var u=t.weight;void 0===u&&(u=400);var p=(t.dataUrl||d).replace(/\/$/g,""),y=new Map,E=new Uint8Array(e.length),S={},b={},O=new Array(e.length),_=new Map,T=!1;function A(e){var t=f.get(e);return t||(t=fetch(p+"/"+e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json().then((function(e){if(!Array.isArray(e)||1!==e[0])throw new Error("Incorrect schema version; need 1, got "+e[0]);return e[1]}))})).catch((function(t){if(p!==d)return T||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+p+'", trying default CDN. '+t.message),T=!0),p=d,f.delete(e),A(e);throw t})),f.set(e,t)),t}for(var w=function(t){var n=e.codePointAt(t),i=o(n);O[t]=i,l[i]||_.has(i)||_.set(i,A(i).then((function(e){l[i]=e}))),n>65535&&(t++,N=t)},N=0;N<e.length;N++)w(N);return Promise.all(_.values()).then((function(){_.clear();for(var t=function(t){var r=e.codePointAt(t),o=null,a=l[O[t]],u=void 0;for(var d in a){var h=b[d];if(void 0===h&&(h=b[d]=new RegExp(d).test(i||"en")),h){for(var p in u=d,a[d])if(s(r,a[d][p])){o=p;break}break}}if(!o)e:for(var f in a)if(f!==u)for(var m in a[f])if(s(r,a[f][m])){o=m;break e}o||(console.debug("No font coverage for U+"+r.toString(16)),o="latin"),O[t]=o,c[o]||_.has(o)||_.set(o,A("font-meta/"+o+".json").then((function(e){c[o]=e}))),r>65535&&(t++,n=t)},n=0;n<e.length;n++)t(n);return Promise.all(_.values())})).then((function(){for(var t,n=null,i=0;i<e.length;i++){var o=e.codePointAt(i);if(n&&(v(o)||h(n).has(o)))E[i]=E[i-1];else{n=c[O[i]];var s=S[n.id];if(!s){var l=n.typeforms,d=m(l,r,"sans-serif"),f=m(l[d],a,"normal"),b=g(null===(t=l[d])||void 0===t?void 0:t[f],u);s=S[n.id]=p+"/font-files/"+n.id+"/"+d+"."+f+"."+b+".woff"}var _=y.get(s);null==_&&(_=y.size,y.set(s,_)),E[i]=_}o>65535&&(i++,E[i]=E[i-1])}return{fontUrls:Array.from(y.keys()),chars:E}}))},Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init:(e,t,n)=>e(t,n())});const M=()=>(self.performance||Date).now(),D=m();let P;const C=[];let x=0;function U(){const e=M();for(;C.length&&M()-e<5;)C.shift()();x=C.length?setTimeout(U,0):0}const j=(...e)=>new Promise(((t,n)=>{C.push((()=>{const i=M();try{D.webgl.generateIntoCanvas(...e),t({timing:M()-i})}catch(e){n(e)}})),x||(x=setTimeout(U,0))})),F=4,H=2e3,G={};let B=0;function V(e,t,n,i,r,o,s,a,l,d){const p="TroikaTextSDFGenerator_JS_"+B++%F;let f=G[p];return f||(f=G[p]={workerModule:h({name:p,workerId:p,dependencies:[m,M],init(e,t){const n=e().javascript.generate;return function(...e){const i=t();return{textureData:n(...e),timing:t()-i}}},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(e,t,n,i,r,o).then((({textureData:n,timing:i})=>{const r=M(),o=new Uint8Array(4*n.length);for(let e=0;e<n.length;e++)o[4*e+d]=n[e];return D.webglUtils.renderImageData(s,o,a,l,e,t,1<<3-d),i+=M()-r,0==--f.requests&&(f.idleTimer=setTimeout((()=>{!function(e){u[e]&&u[e].forEach((function(e){e()})),c[e]&&(c[e].terminate(),delete c[e])}(p)}),H)),{timing:i}}))}const W=D.webglUtils.resizeWebGLCanvasWithoutClearing,z={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},$=new i.Color;let K=!1;function Y(){return(self.performance||Date).now()}function q(e){K?console.warn("configureTextBuilder called after first font request; will be ignored."):ee(z,e)}const Q=Object.create(null);function X(e,t){K=!0,e=ee({},e);const n=Y(),{defaultFontURL:r}=z,o=[];if(r&&o.push({label:"default",src:ne(r)}),e.font&&o.push({label:"user",src:ne(e.font)}),e.font=o,e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||z.sdfGlyphSize,e.unicodeFontsURL=e.unicodeFontsURL||z.unicodeFontsURL,null!=e.colorRanges){let t={};for(let n in e.colorRanges)if(e.colorRanges.hasOwnProperty(n)){let i=e.colorRanges[n];"number"!=typeof i&&(i=$.set(i).getHex()),t[n]=i}e.colorRanges=t}Object.freeze(e);const{textureWidth:s,sdfExponent:a}=z,{sdfGlyphSize:l}=e,c=s/l*4;let u=Q[l];if(!u){const e=document.createElement("canvas");e.width=s,e.height=256*l/c,u=Q[l]={glyphCount:0,sdfGlyphSize:l,sdfCanvas:e,sdfTexture:new i.Texture(e,void 0,void 0,void 0,i.LinearFilter,i.LinearFilter),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,function(e){const t=e.sdfCanvas;t.addEventListener("webglcontextlost",(t=>{console.log("Context Lost",t),t.preventDefault(),e.contextLost=!0})),t.addEventListener("webglcontextrestored",(t=>{console.log("Context Restored",t),e.contextLost=!1;const n=[];e.glyphsByFont.forEach((t=>{t.forEach((t=>{n.push(Z(t,e,!0))}))})),Promise.all(n).then((()=>{ie(e),e.sdfTexture.needsUpdate=!0}))}))}(u)}const{sdfTexture:d,sdfCanvas:h}=u;(z.useWorker?oe:se)(e).then((i=>{const{glyphIds:r,glyphFontIndices:o,fontData:p,glyphPositions:f,fontSize:m,timings:g}=i,v=[],y=new Float32Array(4*r.length);let E=0,S=0;const b=Y(),O=p.map((e=>{let t=u.glyphsByFont.get(e.src);return t||u.glyphsByFont.set(e.src,t=new Map),t}));r.forEach(((e,t)=>{const n=o[t],{src:s,unitsPerEm:a}=p[n];let c=O[n].get(e);if(!c){const{path:t,pathBounds:r}=i.glyphData[s][e],o=Math.max(r[2]-r[0],r[3]-r[1])/l*(z.sdfMargin*l+.5),a=u.glyphCount++,d=[r[0]-o,r[1]-o,r[2]+o,r[3]+o];O[n].set(e,c={path:t,atlasIndex:a,sdfViewBox:d}),v.push(c)}const{sdfViewBox:d}=c,h=f[S++],g=f[S++],b=m/a;y[E++]=h+d[0]*b,y[E++]=g+d[1]*b,y[E++]=h+d[2]*b,y[E++]=g+d[3]*b,r[t]=c.atlasIndex})),g.quads=(g.quads||0)+(Y()-b);const _=Y();g.sdf={};const T=h.height,A=Math.ceil(u.glyphCount/c),w=Math.pow(2,Math.ceil(Math.log2(A*l)));w>T&&(console.info(`Increasing SDF texture size ${T}->${w}`),W(h,s,w),d.dispose()),Promise.all(v.map((t=>Z(t,u,e.gpuAccelerateSDF).then((({timing:e})=>{g.sdf[t.atlasIndex]=e}))))).then((()=>{v.length&&!u.contextLost&&(ie(u),d.needsUpdate=!0),g.sdfTotal=Y()-_,g.total=Y()-n,t(Object.freeze({parameters:e,sdfTexture:d,sdfGlyphSize:l,sdfExponent:a,glyphBounds:y,glyphAtlasIndices:r,glyphColors:i.glyphColors,caretPositions:i.caretPositions,chunkedBounds:i.chunkedBounds,ascender:i.ascender,descender:i.descender,lineHeight:i.lineHeight,capHeight:i.capHeight,xHeight:i.xHeight,topBaseline:i.topBaseline,blockBounds:i.blockBounds,visibleBounds:i.visibleBounds,timings:i.timings}))}))})),Promise.resolve().then((()=>{var e;u.contextLost||(e=h)._warm||(D.webgl.isSupported(e),e._warm=!0)}))}function Z({path:e,atlasIndex:t,sdfViewBox:n},{sdfGlyphSize:i,sdfCanvas:r,contextLost:o},s){if(o)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=z,c=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(t/4);return function(e,t,n,i,r,o,s,a,l,c,u=!0){return u?j(e,t,n,i,r,o,s,a,l,c).then(null,(u=>(P||(console.warn("WebGL SDF generation failed, falling back to JS",u),P=!0),V(e,t,n,i,r,o,s,a,l,c)))):V(e,t,n,i,r,o,s,a,l,c)}(i,i,e,n,c,l,r,u%(a/i)*i,Math.floor(u/(a/i))*i,t%4,s)}function J({font:e,characters:t,sdfGlyphSize:n},i){X({font:e,sdfGlyphSize:n,text:Array.isArray(t)?t.join("\n"):""+t},i)}function ee(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}let te;function ne(e){return te||(te="undefined"==typeof document?{}:document.createElement("a")),te.href=e,te.href}function ie(e){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:n}=e,{width:i,height:r}=t,o=e.sdfCanvas.getContext("webgl");let s=n.image.data;s&&s.length===i*r*4||(s=new Uint8Array(i*r*4),n.image={width:i,height:r,data:s},n.flipY=!1,n.isDataTexture=!0),o.readPixels(0,0,i,r,o.RGBA,o.UNSIGNED_BYTE,s)}}const re=h({name:"Typesetter",dependencies:[function(e,t){const n=1/0,i=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",o=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function s({text:s="",font:d,lang:h,sdfGlyphSize:p=64,fontSize:f=400,fontWeight:m=1,fontStyle:g="normal",letterSpacing:v=0,lineHeight:y="normal",maxWidth:E=n,direction:S,textAlign:b="left",textIndent:O=0,whiteSpace:_="normal",overflowWrap:T="normal",anchorX:A=0,anchorY:w=0,metricsOnly:N=!1,unicodeFontsURL:I,preResolvedFonts:R=null,includeCaretPositions:k=!1,chunkedBoundsSize:L=8192,colorRanges:M=null},D){const P=c(),C={fontLoad:0,typesetting:0};s.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),s=s.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),f=+f,v=+v,E=+E,y=y||"normal",O=+O,function({text:t,lang:n,fonts:i,style:r,weight:o,preResolvedFonts:s,unicodeFontsURL:a},l){const c=({chars:e,fonts:t})=>{let n,i;const r=[];for(let o=0;o<e.length;o++)e[o]!==i?(i=e[o],r.push(n={start:o,end:o,fontObj:t[e[o]]})):n.end=o;l(r)};s?c(s):e(t,c,{lang:n,fonts:i,style:r,weight:o,unicodeFontsURL:a})}({text:s,lang:h,style:g,weight:m,fonts:"string"==typeof d?[{src:d}]:d,unicodeFontsURL:I,preResolvedFonts:R},(e=>{C.fontLoad=c()-P;const d=isFinite(E);let h=null,p=null,m=null,g=null,I=null,R=null,x=null,U=null,j=0,F=0,H="nowrap"!==_;const G=new Map,B=c();let V=O,W=0,z=new u;const $=[z];e.forEach((e=>{const{fontObj:t}=e,{ascender:n,descender:a,unitsPerEm:l,lineGap:c,capHeight:h,xHeight:p}=t;let m=G.get(t);if(!m){const e=f/l,i="normal"===y?(n-a+c)*e:y*f,r=(i-(n-a)*e)/2,o=Math.min(i,(n-a)*e),s=(n+a)/2*e+o/2;m={index:G.size,src:t.src,fontObj:t,fontSizeMult:e,unitsPerEm:l,ascender:n*e,descender:a*e,capHeight:h*e,xHeight:p*e,lineHeight:i,baseline:-r-n*e,caretTop:s,caretBottom:s-o},G.set(t,m)}const{fontSizeMult:g}=m,S=s.slice(e.start,e.end+1);let b,_;t.forEachGlyph(S,f,v,((t,n,a,l)=>{n+=W,l+=e.start,b=n,_=t;const c=s.charAt(l),h=t.advanceWidth*g,p=z.count;let y;if("isEmpty"in t||(t.isWhitespace=!!c&&new RegExp(r).test(c),t.canBreakAfter=!!c&&o.test(c),t.isEmpty=t.xMin===t.xMax||t.yMin===t.yMax||i.test(c)),t.isWhitespace||t.isEmpty||F++,H&&d&&!t.isWhitespace&&n+h+V>E&&p){if(z.glyphAt(p-1).glyphObj.canBreakAfter)y=new u,V=-n;else for(let e=p;e--;){if(0===e&&"break-word"===T){y=new u,V=-n;break}if(z.glyphAt(e).glyphObj.canBreakAfter){y=z.splitAt(e+1);const t=y.glyphAt(0).x;V-=t;for(let e=y.count;e--;)y.glyphAt(e).x-=t;break}}y&&(z.isSoftWrapped=!0,z=y,$.push(z),j=E)}let S=z.glyphAt(z.count);S.glyphObj=t,S.x=n+V,S.y=a,S.width=h,S.charIndex=l,S.fontData=m,"\n"===c&&(z=new u,$.push(z),V=-(n+h+v*f)+O)})),W=b+_.advanceWidth*g+v*f}));let K=0;$.forEach((e=>{let t=!0;for(let n=e.count;n--;){const i=e.glyphAt(n);t&&!i.glyphObj.isWhitespace&&(e.width=i.x+i.width,e.width>j&&(j=e.width),t=!1);let{lineHeight:r,capHeight:o,xHeight:s,baseline:a}=i.fontData;r>e.lineHeight&&(e.lineHeight=r);const l=a-e.baseline;l<0&&(e.baseline+=l,e.cap+=l,e.ex+=l),e.cap=Math.max(e.cap,e.baseline+o),e.ex=Math.max(e.ex,e.baseline+s)}e.baseline-=K,e.cap-=K,e.ex-=K,K+=e.lineHeight}));let Y=0,q=0;if(A&&("number"==typeof A?Y=-A:"string"==typeof A&&(Y=-j*("left"===A?0:"center"===A?.5:"right"===A?1:a(A)))),w&&("number"==typeof w?q=-w:"string"==typeof w&&(q="top"===w?0:"top-baseline"===w?-$[0].baseline:"top-cap"===w?-$[0].cap:"top-ex"===w?-$[0].ex:"middle"===w?K/2:"bottom"===w?K:"bottom-baseline"===w?-$[$.length-1].baseline:a(w)*K)),!N){const e=t.getEmbeddingLevels(s,S);h=new Uint16Array(F),p=new Uint8Array(F),m=new Float32Array(2*F),g={},x=[n,n,-1/0,-1/0],U=[],k&&(R=new Float32Array(4*s.length)),M&&(I=new Uint8Array(3*F));let i,r,o=0,a=-1,c=-1;if($.forEach(((u,d)=>{let{count:f,width:v}=u;if(f>0){let d=0;for(let e=f;e--&&u.glyphAt(e).glyphObj.isWhitespace;)d++;let y=0,E=0;if("center"===b)y=(j-v)/2;else if("right"===b)y=j-v;else if("justify"===b&&u.isSoftWrapped){let e=0;for(let t=f-d;t--;)u.glyphAt(t).glyphObj.isWhitespace&&e++;E=(j-v)/e}if(E||y){let e=0;for(let t=0;t<f;t++){let n=u.glyphAt(t);const i=n.glyphObj;n.x+=y+e,0!==E&&i.isWhitespace&&t<f-d&&(e+=E,n.width+=E)}}const S=t.getReorderSegments(s,e,u.glyphAt(0).charIndex,u.glyphAt(u.count-1).charIndex);for(let e=0;e<S.length;e++){const[t,n]=S[e];let i=1/0,r=-1/0;for(let e=0;e<f;e++)if(u.glyphAt(e).charIndex>=t){let t=e,o=e;for(;o<f;o++){let e=u.glyphAt(o);if(e.charIndex>n)break;o<f-d&&(i=Math.min(i,e.x),r=Math.max(r,e.x+e.width))}for(let e=t;e<o;e++){const t=u.glyphAt(e);t.x=r-(t.x+t.width-i)}break}}let O;const _=e=>O=e;for(let d=0;d<f;d++){const f=u.glyphAt(d);O=f.glyphObj;const v=O.index,y=1&e.levels[f.charIndex];if(y){const e=t.getMirroredCharacter(s[f.charIndex]);e&&f.fontData.fontObj.forEachGlyph(e,0,0,_)}if(k){const{charIndex:e,fontData:t}=f,n=f.x+Y,i=f.x+f.width+Y;R[4*e]=y?i:n,R[4*e+1]=y?n:i,R[4*e+2]=u.baseline+t.caretBottom+q,R[4*e+3]=u.baseline+t.caretTop+q;const r=e-a;r>1&&l(R,a,r),a=e}if(M){const{charIndex:e}=f;for(;e>c;)c++,M.hasOwnProperty(c)&&(r=M[c])}if(!O.isWhitespace&&!O.isEmpty){const e=o++,{fontSizeMult:t,src:s,index:a}=f.fontData,l=g[s]||(g[s]={});l[v]||(l[v]={path:O.path,pathBounds:[O.xMin,O.yMin,O.xMax,O.yMax]});const c=f.x+Y,d=f.y+u.baseline+q;m[2*e]=c,m[2*e+1]=d;const y=c+O.xMin*t,E=d+O.yMin*t,S=c+O.xMax*t,b=d+O.yMax*t;y<x[0]&&(x[0]=y),E<x[1]&&(x[1]=E),S>x[2]&&(x[2]=S),b>x[3]&&(x[3]=b),e%L==0&&(i={start:e,end:e,rect:[n,n,-1/0,-1/0]},U.push(i)),i.end++;const _=i.rect;if(y<_[0]&&(_[0]=y),E<_[1]&&(_[1]=E),S>_[2]&&(_[2]=S),b>_[3]&&(_[3]=b),h[e]=v,p[e]=a,M){const t=3*e;I[t]=r>>16&255,I[t+1]=r>>8&255,I[t+2]=255&r}}}}})),R){const e=s.length-a;e>1&&l(R,a,e)}}const Q=[];G.forEach((({index:e,src:t,unitsPerEm:n,ascender:i,descender:r,lineHeight:o,capHeight:s,xHeight:a})=>{Q[e]={src:t,unitsPerEm:n,ascender:i,descender:r,lineHeight:o,capHeight:s,xHeight:a}})),C.typesetting=c()-B,D({glyphIds:h,glyphFontIndices:p,glyphPositions:m,glyphData:g,fontData:Q,caretPositions:R,glyphColors:I,chunkedBounds:U,fontSize:f,topBaseline:q+$[0].baseline,blockBounds:[Y,q-K,Y+j,q],visibleBounds:x,timings:C})}))}function a(e){let t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function l(e,t,n){const i=e[4*t],r=e[4*t+1],o=e[4*t+2],s=e[4*t+3],a=(r-i)/n;for(let r=0;r<n;r++){const n=4*(t+r);e[n]=i+a*r,e[n+1]=i+a*(r+1),e[n+2]=o,e[n+3]=s}}function c(){return(self.performance||Date).now()}function u(){this.data=[]}const d=["glyphObj","x","y","width","charIndex","fontData"];return u.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/d.length)},glyphAt(e){let t=u.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new u;return t.data=this.data.splice(e*d.length),t}},u.flyweight=d.reduce(((e,t,n,i)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*d.length+n]},set(e){this.data[this.index*d.length+n]=e}}),e)),{data:null,index:0}),{typeset:s,measure:function(e,t){s({...e,metricsOnly:!0},(e=>{const[n,i,r,o]=e.blockBounds;t({width:r-n,height:o-i})}))}}},L,g],init:(e,t,n)=>e(t,n())}),oe=h({name:"Typesetter",dependencies:[re],init:e=>function(t){return new Promise((n=>{e.typeset(t,n)}))},getTransferables(e){const t=[];for(let n in e)e[n]&&e[n].buffer&&t.push(e[n].buffer);return t}}),se=oe.onMainThread;const ae={};const le="aTroikaGlyphBounds",ce="aTroikaGlyphIndex";class ue extends i.InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new i.Sphere,this.boundingBox=new i.Box3}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,("number"!=typeof e||e<1)&&(e=1);let t=function(e){let t=ae[e];return t||(t=ae[e]=new i.PlaneGeometry(1,1,e,e).translate(.5,.5,0)),t}(e);["position","normal","uv"].forEach((e=>{this.attributes[e]=t.attributes[e].clone()})),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,n,i,r){this.updateAttributeData(le,e,4),this.updateAttributeData(ce,t,1),this.updateAttributeData("aTroikaGlyphColor",r,3),this._blockBounds=n,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:i,floor:r,min:o,max:s,sin:a,cos:l}=Math,c=i/2,u=2*i,d=Math.abs(t),h=e[0]/d,p=e[2]/d,f=r((h+c)/u)!==r((p+c)/u)?-d:o(a(h)*d,a(p)*d),m=r((h-c)/u)!==r((p-c)/u)?d:s(a(h)*d,a(p)*d),g=r((h+i)/u)!==r((p+i)/u)?2*d:s(d-l(h)*d,d-l(p)*d);n.min.set(f,e[1],t<0?-g:0),n.max.set(m,e[3],t<0?0:g)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(ce).count,n=this._chunkedBounds;if(n)for(let i=n.length;i--;){t=n[i].end;let r=n[i].rect;if(r[1]<e.w&&r[3]>e.y&&r[0]<e.z&&r[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,n){const r=this.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(this.setAttribute(e,new i.InstancedBufferAttribute(t,n)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}function de(e){const t=A(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new i.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new i.Vector4(0,0,0,0)},uTroikaClipRect:{value:new i.Vector4(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new i.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new i.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new i.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  \n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  \n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n",fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter({vertexShader:e,fragmentShader:t}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(t)&&(t=t.replace(n,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),n.test(e)||(e=e.replace(v,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}});return t.transparent=!0,t.forceSinglePass=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}const he=new i.MeshBasicMaterial({color:16777215,side:i.DoubleSide,transparent:!0}),pe=8421504,fe=new i.Matrix4,me=new i.Vector3,ge=new i.Vector3,ve=[],ye=new i.Vector3,Ee="+x+y";function Se(e){return Array.isArray(e)?e[0]:e}let be=()=>{const e=new i.Mesh(new i.PlaneGeometry(1,1),he);return be=()=>e,e},Oe=()=>{const e=new i.Mesh(new i.PlaneGeometry(1,1,32,1),he);return Oe=()=>e,e};const _e={type:"syncstart"},Te={type:"synccomplete"},Ae=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],we=Ae.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class Ne extends i.Mesh{constructor(){super(new ue,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=pe,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Ee,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(_e),X({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},(t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync((()=>{n.forEach((e=>e&&e()))}))),this.dispatchEvent(Te),e&&e()}))))}onBeforeRender(e,t,n,i,r,o){this.sync(),r.isTroikaTextMaterial&&this._prepareForRender(r)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return de(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=he.clone());if(e&&e.isDerivedFrom(t)||(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),this.hasOutline()){let t=e._outlineMtl;return t||(t=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),t.isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,e.addEventListener("dispose",(function n(){e.removeEventListener("dispose",n),t.dispose()}))),[t,e]}return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Se(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return Se(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const t=e.isTextOutlineMaterial,n=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:e,blockBounds:i}=r;n.uTroikaSDFTexture.value=e,n.uTroikaSDFTextureSize.value.set(e.image.width,e.image.height),n.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,n.uTroikaSDFExponent.value=r.sdfExponent,n.uTroikaTotalBounds.value.fromArray(i),n.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let o,s,a,l=0,c=0,u=0,d=0,h=0;if(t){let{outlineWidth:e,outlineOffsetX:t,outlineOffsetY:n,outlineBlur:i,outlineOpacity:r}=this;l=this._parsePercent(e)||0,c=Math.max(0,this._parsePercent(i)||0),o=r,d=this._parsePercent(t)||0,h=this._parsePercent(n)||0}else u=Math.max(0,this._parsePercent(this.strokeWidth)||0),u&&(a=this.strokeColor,n.uTroikaStrokeColor.value.set(null==a?pe:a),s=this.strokeOpacity,null==s&&(s=1)),o=this.fillOpacity;n.uTroikaEdgeOffset.value=l,n.uTroikaPositionOffset.value.set(d,h),n.uTroikaBlurRadius.value=c,n.uTroikaStrokeWidth.value=u,n.uTroikaStrokeOpacity.value=s,n.uTroikaFillOpacity.value=null==o?1:o,n.uTroikaCurveRadius.value=this.curveRadius||0;let p=this.clipRect;if(p&&Array.isArray(p)&&4===p.length)n.uTroikaClipRect.value.fromArray(p);else{const e=100*(this.fontSize||.1);n.uTroikaClipRect.value.set(i[0]-e,i[1]-e,i[2]+e,i[3]+e)}this.geometry.applyClipRect(n.uTroikaClipRect.value)}n.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const o=t?this.outlineColor||0:this.color;if(null==o)delete e.color;else{const t=e.hasOwnProperty("color")?e.color:e.color=new i.Color;o===t._input&&"object"!=typeof o||t.set(t._input=o)}let s=this.orientation||Ee;if(s!==e._orientation){let t=n.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let i=s!==Ee&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(i){let[,e,n,r,o]=i;me.set(0,0,0)[n]="-"===e?1:-1,ge.set(0,0,0)[o]="-"===r?-1:1,fe.lookAt(ye,me.cross(ge),ge),t.setFromMatrix4(fe)}else t.identity();e._orientation=s}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new i.Vector2){t.copy(e);const n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new i.Vector2){return me.copy(e),this.localPositionToTextCoords(this.worldToLocal(me),t)}raycast(e,t){const{textRenderInfo:n,curveRadius:i}=this;if(n){const r=n.blockBounds,o=i?Oe():be(),s=o.geometry,{position:a,uv:l}=s.attributes;for(let e=0;e<l.count;e++){let t=r[0]+l.getX(e)*(r[2]-r[0]);const n=r[1]+l.getY(e)*(r[3]-r[1]);let o=0;i&&(o=i-Math.cos(t/i)*i,t=Math.sin(t/i)*i),a.setXYZ(e,t,n,o)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,ve.length=0,o.raycast(e,ve);for(let e=0;e<ve.length;e++)ve[e].object=this,t.push(ve[e])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,we.forEach((t=>{this[t]=e[t]})),this}clone(){return(new this.constructor).copy(this)}}Ae.forEach((e=>{const t="_private_"+e;Object.defineProperty(Ne.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));new i.Box3,new i.Color;new WeakMap;new WeakMap},16142:(e,t,n)=>{"use strict";n.d(t,{zU:()=>l,V1:()=>c,Q9:()=>p});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)};!function(e){function t(){var t=this||self;t.globalThis=t,delete e.prototype._T_}"object"!=typeof globalThis&&(this?t():(e.defineProperty(e.prototype,"_T_",{configurable:!0,get:t}),_T_))}(Object);const r=globalThis;var o="Invariant Violation",s=Object.setPrototypeOf,a=void 0===s?function(e,t){return e.__proto__=t,e}:s,l=function(e){function t(n){void 0===n&&(n=o);var i=e.call(this,"number"==typeof n?o+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return i.framesToPop=1,i.name=o,a(i,t.prototype),i}return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function c(e,t){if(!e)throw new l(t)}var u=["log","warn","error","silent"],d=u.indexOf("log");function h(e){return function(){if(u.indexOf(e)>=d)return console[e].apply(console,arguments)}}function p(e){var t=u[d];return d=Math.max(0,u.indexOf(e)),t}!function(e){e.log=h("log"),e.warn=h("warn"),e.error=h("error")}(c||(c={}));var f=r.process||{env:{}};if(!r.process)try{Object.defineProperty(r,"process",{value:f})}catch(e){}},77689:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LazyLoader:()=>Yt,loadInterface:()=>qt});var i=n(244),r=n(90082),o=n(71687),s=n(94165),a=n(50505),l=n(32024),c=n(18821),u=n(68062),d=n(19968),h=n(80519),p=n(36476),f=n(56208),m=n(22585),g=n(13893),v=n(89928),y=n(51313),E=n(23272),S=n(96437),b=n(50636),O=n(26655),_=n(80419),T=n(94),A=n(5984),w=n(9997),N=n(79457),I=n(65425),R=n(25727),k=n(33699),L=n(11416),M=n(51274),D=n(55141);class P extends D.u{constructor(e){super(),this.payload={key:e}}}P.id="SETTING_GET";class C extends D.u{constructor(e,t){super(),this.payload={key:e,value:t}}}C.id="SETTING_UPDATE";var x=n(3956),U=n(50018),j=n(34184),F=n(47004),H=n(17084),G=n(73566),B=n(22937),V=n(38069),W=n(81662),z=n(2993),$=n(46793),K=n(98309),Y=n(1197);class q extends D.u{}q.id="DEACTIVATE_IDLE_MODE";class Q extends D.u{constructor(e){super(),this.payload={timeout:e}}}Q.id="SET_IDLE_MODE_TIMEOUT";var X=n(78115),Z=n(9360),J=n(27947),ee=n(20599),te=n(37105),ne=n(58229),ie=n(39209),re=n(85182),oe=n(43066);const se=function(e,t){return n=>async function(n){var i,r;const o={modelId:n},s=await e.query(oe.GetViews,o,{}),a=null===(r=null===(i=null==s?void 0:s.data)||void 0===i?void 0:i.model)||void 0===r?void 0:r.views;if(!a||!Array.isArray(a))return[];const l=[];for(const e of a){const n=t.deserialize(e);n&&l.push(n)}return l}(n)};var ae=n(57186),le=n(47737),ce=n(29479),ue=n(41535),de=n(28454),he=n(55057),pe=n(5243),fe=n(50485),me=n(77099),ge=n(68387),ve=n(25316),ye=n(62372),Ee=n(4288),Se=n(21875),be=n(99583),Oe=n(84522),_e=n(74717),Te=n(16653),Ae=n(84358),we=n(41369),Ne=n(29543),Ie=n(39634),Re=n(96425),ke=n(3795),Le=n(30926),Me=n(99104),De=n(93821),Pe=n(68909),Ce=n(22278),xe=n(32948),Ue=n(31093),je=n(61430),Fe=n(56846),He=n(63362),Ge=n(56388),Be=n(81483),Ve=n(27140);const We=function(e,t){return n=>async function(n){var i,r;const o={modelId:n,includeDisabled:!0,includeLayers:!0},s=await e.query(Ve.GetMattertags,o,{}),a=null===(r=null===(i=null==s?void 0:s.data)||void 0===i?void 0:i.model)||void 0===r?void 0:r.mattertags;if(!a||!Array.isArray(a))return[];const l=[];for(const e of a){const n=t.deserialize(e);if(n){const e=new Pe.Vector3,t=new Pe.Vector3;e.set(n.anchorPosition.x,n.anchorPosition.y,n.anchorPosition.z),t.set(n.stemVector.x,n.stemVector.y,n.stemVector.z),t.normalize(),l.push(n)}}return l}(n)};var ze=n(28511),$e=n(65945);const Ke=3*7.4,Ye=Ke/2,qe=Ke,Qe=new Pe.Color(15706876),Xe=new Pe.Color(11882440),Ze=new Pe.Color(3694079),Je=new Pe.Color(12179199),et=new Pe.Color(41328),tt=new Pe.Color(8515276),nt=new Pe.Color(16724312),it=new Pe.Color(16758976),rt={edgeColor:new Pe.Color("#2E3E50"),angleColor:new Pe.Color("#3E5067"),surfaceGradient:{start:new Pe.Color("#101524"),middle:new Pe.Color("#132B42"),end:new Pe.Color("#031324")},textColor:new Pe.Color("#D9D9D9"),buttonColor:new Pe.Color("#ffffff"),buttonTextColor:new Pe.Color("#474764")};var ot,st=n(46771),at=n(68986),lt=n(3066),ct=n(37458),ut=n(78079);!function(e){e.X_TRANSLATE="x_translate",e.Y_TRANSLATE="y_translate",e.Z_TRANSLATE="z_translate",e.Y_ROTATE="y_rotate",e.XZ_PLANAR_TRANSLATE="xz_planar_translate"}(ot||(ot={}));var dt=n(54387),ht=n(86324);const pt=n.p+"models/arrowhead.glb";var ft=n(17888);class mt extends Pe.Object3D{constructor(e,t,n,i,r,o,s,a,l){super(),this.componentType=e,this.lineColor=t,this.controlColor=n,this.state=i,this.faceUser=o,this.cameraData=s,this.raycastPointer=a,this.flipped=!1,this.startDragAxisPos=new Pe.Vector3,this.flipScale=new Pe.Vector3(1,1,1),this.lastFlipDot=1/0,this.hovered=!1,this.tick=(()=>{const e=new Pe.Vector3,t=new Pe.Quaternion,n=new Pe.Quaternion;return i=>{if(this.faceUser){const i=this.cameraData.pose.rotation,r=e.copy(this.axisDir).applyQuaternion(this.getWorldQuaternion(t)).applyQuaternion(n.copy(i).invert()),o=W.B1.FORWARD.dot(r);this.lastFlipDot===1/0&&(this.lastFlipDot=o),o>0&&Math.abs(o-this.lastFlipDot)>.1&&(this.lastFlipDot=.1,this.axisDir.multiplyScalar(-1),this.flipped=!this.flipped,this.screenspaceLine.updateEndpoints([{points:[W.B1.ZERO,this.axisDir]}])),this.flipScale.set(this.axisDir.x||1,this.axisDir.y||1,this.axisDir.z||1)}}})(),this.closestPointOnAxis=(()=>{const e=new Pe.Vector3,t=new Pe.Vector3,n=new Pe.Vector3,i=new Pe.Vector3;return r=>{const o=this.raycastPointer.pointerRay;return t.copy(o.origin).add(o.direction),e.copy(this.axisDir).multiplyScalar(1+Ke).multiplyScalar(this.state.scale).applyQuaternion(this.state.controlOrientation).add(this.state.controlOrigin),(0,dt.ff)(this.state.controlOrigin,e,o.origin,t,n,i,r)?n:null}})(),this.axisDir=r.clone();const c={dashed:!1,dashSize:0,gapSize:0,lineWidth:3,dashUnits:ht.EX.PIXELS,depthTest:!1,color:t,depthWrite:!1,depthFunc:Pe.AlwaysDepth,globalOpacity:1},d={points:[W.B1.ZERO,this.axisDir]};this.screenspaceLine=new ht.y4([d],c),this.screenspaceLine.renderOrder=ct.X.transformGizmo,this.add(this.screenspaceLine),this.arrowMaterial=new Pe.MeshBasicMaterial(Object.assign({color:n,transparent:!0,depthTest:!1},dt.q)),this.arrowMesh=new Pe.Mesh(l.geometry.clone(),this.arrowMaterial);const h=(new Pe.Quaternion).setFromUnitVectors(W.B1.UP,this.axisDir);this.arrowMesh.geometry.applyQuaternion(h),this.arrowMesh.position.copy(this.axisDir),this.add(this.arrowMesh);const p=new Pe.Vector4;this.arrowMesh.onBeforeRender=(e,t,n,r,o,a)=>{e.getCurrentViewport(p);const l=(0,u.Nv)(s.pose.projection,s.pose.position,this.state.controlOrigin,p.w,i.scale),c=this.hovered?1.3:1,d=Ke/l*c;this.arrowMesh.scale.set(d,d,d).multiply(this.flipScale),this.arrowMesh.position.copy(this.axisDir).multiplyScalar(1+.5*d),this.arrowMesh.updateMatrix()},this.arrowMesh.renderOrder=ct.X.transformGizmo}setOpacity(e){this.screenspaceLine.globalOpacity(e),this.arrowMaterial.opacity=e}setActive(e){}pointerHover(e){const t=!!this.pointerOn(e);return this.setHovered(t),t}setHovered(e){this.screenspaceLine.lineWidth(e?5.1:3),this.hovered=e}pointerButton(e,t){this.startDragAxisPos.copy(t).sub(this.state.controlOrigin)}pointerOn(e){const t=this.closestPointOnAxis(!0);if(!t)return null;const n=this.raycastPointer.ndcPosition.clone(),i=this.cameraData.pose,r=(0,d.jn)(t,i.position,i.rotation,i.projection.asThreeMatrix4()),o=new Pe.Vector2(r.x,r.y),s=new Pe.Vector2(this.cameraData.width,this.cameraData.height).multiplyScalar(.5);return o.multiply(s).add(s),n.multiply(s).add(s),n.distanceTo(o)<qe?t:null}transform(e,t){const n=this.closestPointOnAxis(!1);if(!n)return;const i=new Pe.Vector3;i.copy(this.axisDir).applyQuaternion(this.state.controlOrientation);const r=new Pe.Vector3;r.copy(n).sub(t).sub(this.startDragAxisPos).projectOnVector(i),this.state.controlOrigin.copy(t).add(r);for(const e of this.state.toTransform){const t=this.state.toTransformDragStartInfo.get(e);if(!t)throw new Error("Missing Start Drag Info!");e.position.copy(t.position).add(r)}}overrideColors(e,t){this.screenspaceLine.color(e),this.arrowMaterial.color.copy(t)}restoreColors(){this.screenspaceLine.color(this.lineColor),this.arrowMaterial.color.copy(this.controlColor)}}mt.axisFlipRot=[[0,Math.PI/2],[-Math.PI/2,Math.PI]];var gt=n(53172),vt=n(52514);const yt={rotationAxisDisc:{uniforms:{worldScale:{value:new Pe.Vector3},worldPosition:{value:new Pe.Vector3},radius:{value:1},innerRadius:{value:.5},centerRadius:{value:.5},opacity:{value:1},minA:{value:0},maxA:{value:0},minB:{value:0},maxB:{value:0},angleColor:{value:new Pe.Color(0)},firstStopPercent:{value:0},medStopPercent:{value:.5},lastStopPercent:{value:1},firstStop:{value:new Pe.Color(0)},medStop:{value:new Pe.Color(0)},lastStop:{value:new Pe.Color(0)}},vertexShader:n(96626),fragmentShader:n(44664)}};class Et extends Pe.Mesh{constructor(e,t,n,i,r,o,s){const a=new Pe.ShaderMaterial(Object.assign({fragmentShader:yt.rotationAxisDisc.fragmentShader,vertexShader:yt.rotationAxisDisc.vertexShader,uniforms:Pe.UniformsUtils.clone(yt.rotationAxisDisc.uniforms),depthTest:!1,transparent:!0},dt.q));a.uniforms.radius.value=i,a.uniforms.innerRadius.value=i-r,a.uniforms.centerRadius.value=o,a.uniforms.firstStop.value=s.surfaceGradient.start,a.uniforms.medStop.value=s.surfaceGradient.middle,a.uniforms.lastStop.value=s.surfaceGradient.middle,a.uniforms.firstStopPercent.value=0,a.uniforms.medStopPercent.value=.5,a.uniforms.lastStopPercent.value=1,a.uniforms.angleColor.value=s.angleColor,super(new Pe.PlaneGeometry(2*i,2*i).rotateX(-Math.PI/2),a),this.state=n,this.radius=i,this.thickness=r,this.centerRadius=o,this.lastDisplayAngle=0,this.positive=!0,this.onBeforeRender=(()=>{const e=new Pe.Vector3;return(t,n,i,r,o,s)=>{i.getWorldPosition(e),this.circleLabel.quaternion.copy(i.quaternion),this.quaternion.copy(this.state.controlOrientation).invert(),this.updateMatrixWorld()}})(),this.renderOrder=ct.X.lines-1;const l=new vt.Il({assetBasePath:e,lang:t,background:!1,disableDepth:!0,scale:.5,color:s.textColor});this.circleLabel=l.createLabel(),this.circleLabel.setRenderOrder(ct.X.transformGizmo+1),this.add(this.circleLabel)}setOpacity(e){this.material.uniforms.opacity.value=e,this.circleLabel.opacity=e}setTheme(e){this.material.uniforms.angleColor.value=e.angleColor,this.material.uniforms.firstStop.value=e.surfaceGradient.start,this.material.uniforms.medStop.value=e.surfaceGradient.middle,this.material.uniforms.lastStop.value=e.surfaceGradient.middle,this.circleLabel.setColor(e.textColor)}setAngle(e,t,n){Math.sign(this.lastDisplayAngle)!==Math.sign(e)&&Math.abs(e)<Math.PI/10&&(this.positive=Math.sign(e)>0),this.lastDisplayAngle=e;const i=this.positive&&e>0||!this.positive&&e<=0?Math.abs(e):Math.PI+(Math.PI-Math.abs(e));this.circleLabel.text=(0,gt.H)(i).toFixed(0);const r=this.positive?n:t,o=this.positive?t:n;r<o?(this.material.uniforms.minB.value=0,this.material.uniforms.maxB.value=0,this.material.uniforms.minA.value=r,this.material.uniforms.maxA.value=o):(this.material.uniforms.minA.value=r,this.material.uniforms.maxA.value=Math.PI,this.material.uniforms.minB.value=-Math.PI,this.material.uniforms.maxB.value=o)}}const St=1.61803,bt=.05;class Ot extends Pe.Object3D{constructor(e,t,n,i,r,o,s,a,l){super(),this.outerRadius=i,this.innerRadius=r,this.increment=o,this.majorIncrement=s,this.tickLength=a,this._worldPos=new Pe.Vector3,this._worldScale=new Pe.Vector3,this._worldRotation=new Pe.Quaternion;const c={dashed:!1,dashSize:1,gapSize:0,lineWidth:.5,color:l.edgeColor,dashUnits:ht.EX.PIXELS,globalOpacity:1,depthTest:!1,depthWrite:!0,depthFunc:0};this.ticks=new ht.y4(this.generateTicks(i-bt,s,o,a),c);const u=[],d=i-(a*St+.1);u.push(...this.generateCircle(i)),u.push(...this.generateCircle(d)),u.push(...this.generateCircle(r)),this.outerCircleOutline=new ht.y4(u,c),this.circleMesh=new Et(e,t,n,i,i-d,r,l),this.add(this.circleMesh,this.ticks,this.outerCircleOutline)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorld.decompose(this._worldPos,this._worldRotation,this._worldScale),this.ticks.matrixWorld.identity().setPosition(this._worldPos).scale(this._worldScale),this.ticks.matrixWorld.multiply(this.ticks.matrix)}generateCircle(e){const t=[];let n=null;for(let i=0;i<=360;i+=5){const r=(0,gt.pu)(i),o=new Pe.Vector3(Math.cos(r),0,Math.sin(r)).multiplyScalar(e);n&&t.push({points:[n,o]}),n=o}return t}generateTicks(e,t,n,i){const r=[];for(let o=0;o<360/n;o++){const s=o*n,a=(0,gt.pu)(s);let l=i;s%t==0&&(l*=St);const c=e,u=e-l,d=new Pe.Vector3(Math.cos(a),0,Math.sin(a)),h=d.clone();d.multiplyScalar(c),h.multiplyScalar(u),r.push({points:[h,d]})}return r}setOpacity(e){this.ticks.globalOpacity(e),this.outerCircleOutline.globalOpacity(e),this.circleMesh.setOpacity(e),this.circleMesh.visible=e>.5}setAngle(e,t,n){this.circleMesh.setAngle(e,t,n),this.ticks.quaternion.identity(),this.ticks.rotateY(-n)}setTheme(e){this.ticks.color(e.edgeColor),this.circleMesh.setTheme(e)}}var _t=n(86866);const Tt=10*Math.PI,At=.65,wt=3*At,Nt=Math.PI/4,It=Nt/Math.PI*180;class Rt extends Pe.Object3D{constructor(e,t,n,i,r,o,s,a,l,c){super(),this.componentType=e,this.color=t,this.controlColor=n,this.state=i,this.axes=r,this.cameraData=o,this.raycaster=s,this.arcOpacity=1,this.roughProtractorOpacity=1,this.fineProtractorOpacity=1,this.opacity=1,this.hovered=!1,this.plane=new Pe.Plane,this.startDragAngle=Tt,this.startDragQuaternion=new Pe.Quaternion;const u={dashed:!1,dashSize:1,gapSize:0,lineWidth:3,color:this.color,dashUnits:ht.EX.PIXELS,globalOpacity:1,depthTest:!1,depthWrite:!0,depthFunc:0},d=this.createArc(At,0,90);this.arcMesh=new ht.y4(d,u),this.add(this.arcMesh),[this.orbMesh,this.orbMaterial]=this.createOrb(this.controlColor,Math.PI/4),this.arcMesh.add(this.orbMesh);this.roughProtractor=new Ot(a,l,this.state,wt,At,It,It,.2,c),this.fineProtractor=new Ot(a,l,this.state,2.373606,At,2.5,It,.2,c),this.add(this.fineProtractor,this.roughProtractor),this.plane.normal.set(0,1,0),this.updateOpacity()}setOpacity(e){this.opacity=e,this.updateOpacity()}setActive(e){this.arcOpacity=e?0:1}tick(e){const t=e=>e?1:0,n=mt.axisFlipRot[t(this.axes[0].flipped)][t(this.axes[1].flipped)];this.arcMesh.quaternion.setFromAxisAngle(W.B1.UP,n),this.arcMesh.updateMatrix()}pointerButton(e,t){const{angle:n}=this.getCursorAngleAndClosestPoint(!1);this.startDragAngle=n,this.startDragQuaternion.copy(this.state.controlOrientation),this.roughProtractor.setAngle(kt(n-this.startDragAngle),n,this.startDragAngle),this.fineProtractor.setAngle(kt(n-this.startDragAngle),n,this.startDragAngle)}pointerHover(e){const t=!!this.pointerOn(e);return this.arcMesh.lineWidth(t?5.1:3),this.hovered=t,t}pointerOn(e){const{angle:t,closestPointOnArc:n}=this.getCursorAngleAndClosestPoint(!0);if(t===Tt||t<0||t>.5*Math.PI)return null;n.multiplyScalar(At).applyMatrix4(this.arcMesh.matrixWorld);const i=this.raycaster.pointer.ndcPosition.clone(),r=this.cameraData.pose,o=(0,d.jn)(n,r.position,r.rotation,r.projection.asThreeMatrix4()),s=new Pe.Vector2(o.x,o.y),a=new Pe.Vector2(this.cameraData.width,this.cameraData.height).multiplyScalar(.5);return s.multiply(a).add(a),i.multiply(a).add(a),i.distanceTo(s)<qe?n:null}isPointerInsideCircle(){const e=W.B1.ZERO;this.plane.setFromNormalAndCoplanarPoint(this.plane.normal,e);const t=this.raycaster.pointer.pointerRay.clone(),n=this.arcMesh.matrixWorld.clone().invert();t.applyMatrix4(n);const i=new Pe.Vector3;if(t.intersectPlane(this.plane,i)){return i.clone().sub(e).length()<wt}return!1}transform(e,t){const{angle:n}=this.getCursorAngleAndClosestPoint(!1),i=this.isPointerInsideCircle();let r=this.startDragAngle,o=n;i||e.nativeEvent.shiftKey?(r=(0,_t.U0)(r,Nt),o=(0,_t.U0)(o,Nt),this.roughProtractorOpacity=1,this.fineProtractorOpacity=.3):(this.fineProtractorOpacity=1,this.roughProtractorOpacity=.3);const s=r-o,a=new Pe.Quaternion;a.setFromAxisAngle(W.B1.UP,s),this.state.controlOrientation.copy(this.startDragQuaternion),this.state.controlOrientation.premultiply(a);const l=kt(s),c=this.startDragAngle-s;this.roughProtractor.setAngle(l,c,this.startDragAngle),this.fineProtractor.setAngle(l,c,this.startDragAngle);for(const[e,n]of this.state.toTransformDragStartInfo.entries())e.position.copy(n.position).sub(t),e.position.applyQuaternion(a),e.position.add(t),e.quaternion.multiplyQuaternions(a,n.quaternion)}setProtractorColors(e){this.roughProtractor.setTheme(e),this.fineProtractor.setTheme(e)}getCursorAngleAndClosestPoint(e){const t=e?W.B1.ZERO:this.state.controlOrigin;this.plane.setFromNormalAndCoplanarPoint(this.plane.normal,t);const n=this.raycaster.pointer.pointerRay.clone();if(e){const e=this.arcMesh.matrixWorld.clone().invert();n.applyMatrix4(e)}const i=new Pe.Vector3;if(n.intersectPlane(this.plane,i)){const e=i.clone().sub(t).normalize();return{angle:Math.atan2(e.z,e.x),closestPointOnArc:e}}return{angle:Tt,closestPointOnArc:W.B1.ZERO}}updateOpacity(){this.arcMesh.globalOpacity(this.opacity*this.arcOpacity),this.orbMaterial.opacity=this.opacity*this.arcOpacity;const e=this.opacity*(1-this.arcOpacity);this.fineProtractor.setOpacity(e*this.fineProtractorOpacity),this.roughProtractor.setOpacity(e*this.roughProtractorOpacity)}createOrb(e,t){const n=new Pe.SphereGeometry(1),i=new Pe.MeshBasicMaterial(Object.assign({color:e,transparent:!0,depthTest:!1},dt.q)),r=new Pe.Mesh(n,i);r.position.set(Math.cos(t),0,Math.sin(t)).multiplyScalar(At),r.renderOrder=ct.X.transformGizmo;const o=new Pe.Vector4;return r.onBeforeRender=(e,t,n,i,s,a)=>{e.getCurrentViewport(o);const l=(0,u.Nv)(this.cameraData.pose.projection,this.cameraData.pose.position,this.state.controlOrigin,o.w,this.state.scale),c=this.hovered?1.3:1,d=Ye/l*c;r.scale.set(d,d,d)},[r,i]}createArc(e,t,n){const i=[];let r=null;for(let o=t;o<=n;o+=5){const t=(0,gt.pu)(o),n=new Pe.Vector3(Math.cos(t),0,Math.sin(t)).multiplyScalar(e);r&&i.push({points:[r,n]}),r=n}return i}}function kt(e){let t=e;return e>=Math.PI?t=-Math.PI+(e-Math.PI):e<-Math.PI&&(t=Math.PI+(e+Math.PI)),t}var Lt=n(31002),Mt=n(81544),Dt=n(61728),Pt=n(23184);class Ct{static hasAncestor(e){return Pt.f.is((t=>{let n=!1;return t.traverseAncestors((t=>{n=n||t===e})),n}))}}const xt=n.p+"models/button_background.glb",Ut=.1;class jt extends Pe.Object3D{constructor(e,t,n,i,r,o){super(),this.input=e,this.cameraData=t,this.theme=n,this.actions=[],this.opacity=1,this.backgroundObjBounds=new Pe.Box3,this.sizeButtonsToFit=()=>{const e=this.backgroundObjBounds.getSize(new Pe.Vector3).x;if(0===e)return;this.actions.forEach(((t,n)=>{const i=Math.max(1,(t.width+.1)/e);t.setBackgroundWidthScale(i);const r=i*e/2;t.position.x=n%2==0?r+.1:-r-.1}))},this.renderOrder=ct.X.transformGizmo-1,this.labelMaker=new vt.Il({assetBasePath:i,lang:r,color:new Pe.Color(71/255,70/255,100/255),outline:!1,background:!1,disableDepth:!0,scale:Ut}),this.iconMaker=new vt.Il({assetBasePath:i,fontPath:"fonts/mp-font.woff",lang:r,color:new Pe.Color(71/255,70/255,100/255),outline:!1,background:!1,disableDepth:!0,backgroundBorderWidth:0,scale:Ut});const s=new ft.GLTFLoader,a=new Dt.DRACOLoader;a.setDecoderPath(o),s.setDRACOLoader(a),s.load(xt,(e=>{this.backgroundObj=e.scene,this.buttonAnimations=e.animations,this.backgroundObjBounds.expandByObject(this.backgroundObj)}))}setActions(e){for(const e of this.actions)this.remove(e),e.dispose();this.actions.length=0;for(const t of e){const e=new Ft(t,this.input,this.labelMaker,this.iconMaker,this.backgroundObj,this.buttonAnimations);e.setTheme(this.theme),e.addEventListener("labeledSized",this.sizeButtonsToFit),this.add(e),this.actions.push(e)}if(0===this.actions.length)return;const t=this.actions[0].getBoundingBox(new Pe.Box3),n=t.max.y-t.min.y;let i=.5*n+.03;for(let e=0;e<this.actions.length;e++){const r=this.actions[e];r.position.y=i,r.position.x=e%2==0?Math.abs(t.min.x)+.1:-Math.abs(t.max.x)-.1,r.getBoundingBox(t),e%2==1&&(i+=n+.03)}this.setOpacity(this.opacity)}setTheme(e){this.theme=e;for(const t of this.actions)t.setTheme(e)}update(e){this.up.set(0,1,0),this.up.applyQuaternion(this.cameraData.pose.rotation),this.lookAt(this.cameraData.pose.position),this.updateMatrix(),this.updateMatrixWorld(!0),this.actions.forEach((t=>t.update(e)))}setOpacity(e){this.opacity=e;for(const e of this.actions)e.setOpacity(this.opacity)}}class Ft extends Pe.Object3D{constructor(e,t,n,i,r,o){super(),this.action=e,this.input=t,this.boundingBox=new Pe.Box3,this.labelSized=!1,this.iconSized=!1,this.iconX=0,this.labelX=0,this._width=0,this.dispose=()=>{},this.renderOrder=ct.X.transformGizmo,this.backgroundMesh=r.clone(),(0,dt.rx)(this.backgroundMesh),this.backgroundMesh.renderOrder=ct.X.transformGizmo,this.add(this.backgroundMesh);const s=this.backgroundMesh.children[0];if(!(0,dt.uW)(s)||Array.isArray(s.material)||!(0,dt.P3)(s.material))throw new Error("Invalid button mesh");this.backgroundMat=s.material,t.registerMesh(this.backgroundMesh,!1),this.boundingBox.expandByObject(this.backgroundMesh),this.collisionMesh=s;const a=n.createLabel();if(a.mesh.addEventListener("synccomplete",(()=>{this.labelSized=!0,this._width=this.label.unscaledWidth*Ut,this.positionIconAndLabel(),this.dispatchEvent({type:"labeledSized"})})),a.text=e.name,a.setRenderOrder(ct.X.transformGizmo+1),this.add(a),this.label=a,e.icon){const t=i.createLabel();t.mesh.addEventListener("synccomplete",(()=>{this.iconSized=!0,this.positionIconAndLabel()})),t.setRenderOrder(ct.X.transformGizmo+1),t.text=String.fromCodePoint(+ze.J[e.icon]),this.add(t),this.icon=t}const l=new Pe.AnimationObjectGroup(this.backgroundMesh),c=new Pe.AnimationMixer(l);this.animationMixer=c;const u=c.clipAction(o[0]);u.clampWhenFinished=!0,u.repetitions=1;const d=Ct.hasAncestor(this.backgroundMesh),h=[t.registerMeshHandler(Lt.rX,d,(()=>{this.action.callback()})),t.registerMeshHandler(Lt.wR,d,(()=>{})),t.registerMeshHandler(Mt.L,d,(()=>{u.reset(),u.timeScale=1,u.time=0,u.play()})),t.registerMeshHandler(Mt.q,d,(()=>{u.reset(),u.timeScale=-1,u.time=u.getClip().duration,u.play()}))];this.dispose=()=>{this.input.unregisterMesh(this.backgroundMesh),h.forEach((e=>e.cancel()))}}update(e){var t;this.animationMixer.update(e),this.label.scale.copy(this.collisionMesh.scale).multiplyScalar(Ut),null===(t=this.icon)||void 0===t||t.scale.copy(this.collisionMesh.scale).multiplyScalar(Ut),this.label.position.x=this.labelX*this.collisionMesh.scale.x,this.icon&&(this.icon.position.x=this.iconX*this.collisionMesh.scale.x)}getBoundingBox(e){return e.copy(this.boundingBox),e.min.multiply(this.scale),e.max.multiply(this.scale),e}setOpacity(e){this.backgroundMat&&(this.label.opacity=e,this.icon&&(this.icon.opacity=e),this.backgroundMat.transparent=e<1,this.backgroundMat.opacity=e,this.backgroundMat.needsUpdate=!0)}setTheme(e){var t;this.backgroundMat.color.copy(e.buttonColor),this.label.setColor(e.buttonTextColor),null===(t=this.icon)||void 0===t||t.setColor(e.buttonTextColor)}setBackgroundWidthScale(e){this.backgroundMesh.scale.x=e,this.backgroundMesh.updateMatrixWorld(!0);const t=this.boundingBox.getSize(new Pe.Vector3),n=this.boundingBox.getCenter(new Pe.Vector3);t.x*=e,this.boundingBox.setFromCenterAndSize(n,t)}get width(){return this._width}positionIconAndLabel(){if(!this.labelSized||!this.iconSized)return;const e=this.icon.unscaledWidth*Ut,t=this.label.unscaledWidth*Ut,n=e+t,i=n/2,r=t/2;this.iconX=-i+e,this.labelX=1.5*e-i+r,this._width=n}}var Ht=n(9289);class Gt extends Pe.Mesh{constructor(e,t,n,i,r,o){const s=(new Ht.SVGLoader).parse(Vt).paths[0],a=Ht.SVGLoader.createShapes(s),l=new Pe.ShapeGeometry(a),c=Gt.PlaneSize/Bt;l.scale(c,c,c),l.rotateX(.5*-Math.PI),l.translate(-Gt.PlaneSize/2,0,Gt.PlaneSize/2),super(l,new Pe.MeshBasicMaterial({color:t,depthTest:!1,transparent:!0,side:Pe.DoubleSide})),this.componentType=e,this.lineColor=t,this.controlColor=n,this.state=i,this.raycaster=r,this.axes=o,this.plane=new Pe.Plane,this.startDragPos=new Pe.Vector3,this.tick=(()=>{const e=new Pe.Quaternion;return t=>{const n=e=>e?1:0,i=mt.axisFlipRot[n(this.axes[0].flipped)][n(this.axes[1].flipped)];e.setFromAxisAngle(this.plane.normal,i),this.position.set(Gt.PlaneSize,0,Gt.PlaneSize).applyQuaternion(e),this.updateMatrix(),this.updateMatrixWorld()}})(),this.renderOrder=ct.X.transformGizmo,this.plane.normal.set(0,1,0),this.position.set(Gt.PlaneSize,0,Gt.PlaneSize)}setOpacity(e){this.material.opacity=e;for(const t of this.axes)t.setOpacity(e)}setActive(e){}pointerHover(e){const t=!!this.pointerOn(e),n=t?1.3:1;if(this.scale.set(n,n,n),t){this.material.color.copy(this.controlColor);for(const e of this.axes)e.setHovered(t),e.overrideColors(this.lineColor,this.controlColor)}else{this.material.color.copy(this.lineColor);for(const e of this.axes)e.restoreColors()}return t}pointerButton(e,t){this.startDragPos.copy(t)}pointerOn(e){return this.closestPoint(!0)}transform(e,t){const n=this.closestPoint(!1);if(!n)return;const i=new Pe.Vector3;i.subVectors(n,this.startDragPos),this.state.controlOrigin.copy(t).add(i);for(const e of this.state.toTransform){const t=this.state.toTransformDragStartInfo.get(e);if(!t)throw new Error("Missing Start Drag Info!");e.position.copy(t.position).add(i)}}closestPoint(e){const t=this.raycaster.pointer.pointerRay,n=this.matrixWorld.clone().invert();t.applyMatrix4(n);const i=new Pe.Vector3;if(t.intersectPlane(this.plane,i)){const t=.5*Gt.PlaneSize;return e&&(Math.abs(i.x)>t||Math.abs(i.z)>t)?null:(i.applyMatrix4(this.matrixWorld),i.y=0,i)}return null}}Gt.PlaneSize=.2;const Bt=125,Vt='<svg\n   width="125"\n   height="125"\n   fill="none"\n   version="1.1"\n   id="svg1" xmlns="http://www.w3.org/2000/svg">\n\n  <path\n     d="m 8,0 h 109 c 4.432,0 8,3.568 8,8 v 109 c 0,4.432 -3.568,8 -8,8 H 8 c -4.432,0 -8,-3.568 -8,-8 V 8 C 0,3.568 3.568,0 8,0 Z" />\n</svg>';var Wt=n(92237);class zt{constructor(){}onAccessGranted(e){}onAccessRevoked(e){}}class $t extends Pe.Mesh{constructor(e,t,n,i,r,o,s=rt,a){var l;super(),this.raycaster=t,this.cameraModule=a,this.state={toTransform:[],toTransformDragStartInfo:new Map,transforming:!1,hovering:!1,controlOrigin:new Pe.Vector3,controlOrientation:new Pe.Quaternion,scale:1},this.startDragListeners=new Set,this.dragListeners=new Set,this.endDragListeners=new Set,this.axes=[],this.currentAxis=null,this.startDragControlOrigin=new Pe.Vector3,this.locked=!1,this.inactiveComponentOpacity=new Wt.z(1),this.cameraSub=null,this._viewport=new Pe.Vector4,this._cameraWorldPos=new Pe.Vector3,this.pointerButton=e=>{if(this.locked)return;const t=this.state.transforming;if(e.down){if(!this.state.transforming){this.startDragControlOrigin.copy(this.state.controlOrigin);for(const t of this.axes){const n=t.pointerOn(e);if(n){this.state.transforming=!0,t.pointerButton(e,n),this.currentAxis=t,t.setActive(!0),this.setInactiveOpacity(0);break}}}}else this.currentAxis&&this.currentAxis.setActive(!1),this.state.transforming=!1,this.setInactiveOpacity(1);if(t!==this.state.transforming)if(this.state.transforming){if(!this.currentAxis)throw new Error("Current axis should be set if transforming is true!");const e=this.currentAxis.componentType;this.startDragListeners.forEach((t=>t(e)));for(const e of this.state.toTransform)this.state.toTransformDragStartInfo.set(e,{position:e.position.clone(),quaternion:e.quaternion.clone()})}else this.endDragListeners.forEach((e=>e()))},this.pointerMove=e=>{var t;if(!this.locked){if(this.state.hovering=!1,this.state.transforming)null===(t=this.currentAxis)||void 0===t||t.transform(e,this.startDragControlOrigin);else for(const t of this.axes)if(t.pointerHover(e)){this.state.hovering=!0;break}this.state.transforming&&this.dragListeners.forEach((e=>e()))}},this.state.controlOrigin=this.position,this.state.controlOrientation=this.quaternion,this.actionButtons=new jt(e,n,s,i,r,o),this.add(this.actionButtons),this.bindings=new at.P(e.registerUnfilteredHandler(ut.$3,this.pointerMove),e.registerUnfilteredHandler(ut.CD,this.pointerButton)),this.detachFromObjects(),this.renderOrder=ct.X.transformGizmo-2,l=e=>{const o=new mt(ot.X_TRANSLATE,Ze,Je,this.state,W.B1.RIGHT,!0,n,t.pointer,e),a=new mt(ot.Y_TRANSLATE,et,tt,this.state,W.B1.UP,!1,n,t.pointer,e),l=new mt(ot.Z_TRANSLATE,nt,it,this.state,W.B1.BACK,!0,n,t.pointer,e);this.rotationAxis=new Rt(ot.Y_ROTATE,et,tt,this.state,[o,l],n,t,i,r,s),this.axes.push(o,a,l,this.rotationAxis,new Gt(ot.XZ_PLANAR_TRANSLATE,Xe,Qe,this.state,t,[o,l])),this.add(...this.axes)},(new ft.GLTFLoader).load(pt,(e=>{var t;let n,i=1;if(e.scene){if(e.scene.traverse((e=>{e.isMesh&&!n&&(n=e)})),!n)throw new Error("Failed to load arrowhead mesh geometry -- this is a build issue.");n.removeFromParent(),n.geometry.computeBoundingSphere();const r=null===(t=n.geometry.boundingBox)||void 0===t?void 0:t.getSize(new Pe.Vector3);r&&(i=r.y);const o=1/i;n.geometry.scale(o,o,o),n.updateMatrix(),l(n)}})),this.onStartDrag((()=>{var e;null===(e=this.cameraSub)||void 0===e||e.cancel(),this.cameraSub=this.cameraModule.cameraPoseProxy.newSession(new zt)})),this.onEndDrag((()=>{var e;null===(e=this.cameraSub)||void 0===e||e.cancel(),this.cameraSub=null})),this.frustumCulled=!1}attachToObjects(e){this.detachFromObjects(),0!==e.length&&(this.visible=!0,this.state.toTransform.push(...e.slice()),this.placeGizmo(),this.bindings.renew())}detachFromObjects(){this.state.toTransform.length=0,this.state.toTransformDragStartInfo.clear(),this.visible=!1}onStartDrag(e){return this.startDragListeners.add(e),(0,lt.Sh)((()=>this.startDragListeners.add(e)),(()=>this.startDragListeners.delete(e)))}onDrag(e){return this.dragListeners.add(e),(0,lt.Sh)((()=>this.dragListeners.add(e)),(()=>this.dragListeners.delete(e)))}onEndDrag(e){return this.endDragListeners.add(e),(0,lt.Sh)((()=>this.endDragListeners.add(e)),(()=>this.endDragListeners.delete(e)))}setActions(e){this.actionButtons.setActions(e)}setLocked(e){this.locked=e}placeGizmo(e=!1){const t=new Pe.Box3,n=this.state.toTransform,i=n.filter((e=>e.visible));for(const e of i)t.expandByObject(e);if(t.getCenter(this.state.controlOrigin),this.state.controlOrientation.identity(),1===n.length&&!e){const e=e=>{if(e instanceof Pe.Object3D){if(e===n[0])return!0;let t=!1;return e.traverseAncestors((e=>t||(t=e===n[0]))),t}return!1},t=this.raycaster.pointer.cast().filter((t=>e(t.object)));if(t.length){const e=t[0];if(this.state.controlOrigin.copy(e.point),e.object instanceof Pe.Object3D&&e.face&&Math.abs(e.face.normal.y)<.1){const t=(new Pe.Vector3).copy(e.face.normal),n=(new Pe.Matrix3).setFromMatrix4(e.object.matrixWorld);t.applyNormalMatrix(n),t.y=0,t.normalize(),this.state.controlOrientation.setFromUnitVectors(W.B1.FORWARD,t)}}}}setTheme(e){this.rotationAxis.setProtractorColors(e),this.actionButtons.setTheme(e)}init(){}render(e){}beforeRender(e){var t,n;this.inactiveComponentOpacity.tick(e);for(const e of this.axes)e!==this.currentAxis&&e.setOpacity(this.inactiveComponentOpacity.value);this.actionButtons.setOpacity(this.inactiveComponentOpacity.value),null===(t=this.currentAxis)||void 0===t||t.setOpacity(1);for(const t of this.axes)null===(n=t.tick)||void 0===n||n.call(t,e);const i=this.state.toTransform.findIndex((e=>e.visible));this.visible=-1!==i,this.actionButtons.update(e)}onBeforeRender(e,t,n,i,r,o){super.onBeforeRender(e,t,n,i,r,o),e.getCurrentViewport(this._viewport);const s=192/(0,u.Nv)(new st.u(n.projectionMatrix),n.getWorldPosition(this._cameraWorldPos),this.state.controlOrigin,this._viewport.height,1);this.scale.setScalar(s),this.state.scale=s,this.updateMatrixWorld(!0)}dispose(){var e;null===(e=this.cameraSub)||void 0===e||e.cancel(),this.bindings.cancel()}activate(e,t){}deactivate(e){}setInactiveOpacity(e){this.inactiveComponentOpacity.modifyAnimation(this.inactiveComponentOpacity.value,e,150)}}var Kt=n(48791);class Yt{constructor(){this.module=null,this.loaderReady=new Ue.i,this.loader=null}setLoader(e){this.loader||(this.loader=e,this.loaderReady.resolve())}async getModule(){if(this.module)return this.module;if(await this.loaderReady,this.loader&&(this.module=await this.loader()),this.module)return this.module;throw new Error("There was an error setting up the factory")}}async function qt(e,t,n,i,l,c,u,d,D){const oe=new a.o;let se;try{if(Array.isArray(n.interfaces)){const e=n.interfaces.map((e=>{const t=new URL(e);return u&&t.searchParams.append("applicationKey",u),oe.load(t.href)}));se=await Promise.all(e)}else{if(!n.interface)throw Error("No sdk interface found in config");{const e=new URL(n.interface);u&&e.searchParams.append("applicationKey",u),se=[await oe.load(e.href)]}}}catch(e){throw Error("Unable to fetch the sdk interface. The sdk will be disabled. "+e)}const ae={THREE:Pe,oEmbed:l,jsonSchemaValidator:D},Te=(0,Ge.H)({baseUrl:d})(),Ue={MpSdkAuthentication:h.u,RenderLayers:p.H,OptionsKey:f.Q$,Application:J.lg,AppPhase:J.Jj,AppPhaseChangeMessage:m.uv,CameraTransitionType:g.fl,StartMoveToFloorMessage:v.G,EndMoveToFloorMessage:y.P,MoveToFloorIndexCommand:E.q8,ShowAllFloorsCommand:E.$9,MattertagMediaType:je.yg,RemoveMattertagCommand:S.l,TagDescriptionChunkType:b.q,TagLinkType:O.J,AddMattertagCommand:S.aw,EditMattertagCommand:S.rn,MattertagLinkOpenedMessage:_.Qn,ModelDataLoadedMessage:T.A,ModelColliderTarget:A.r,NavigateToSweepCommand:w.aj,ModelViewChangeCompleteMessage:X.tj,MeasuringPhase:ue.hb,SettingGetCommand:P,SettingUpdateCommand:C,PuckCollider:x.U,PinClickedMessage:N.oX,PinHoverChangeMessage:N.RG,PinHeadMesh:I.R,InstancedPinHeads:M.k,PinType:R.yY,OpenTagCommand:Me.Ki,CloseTagCommand:Me.KH,ChangePinOpacityScaleCommand:k.Ct,MovePinCommand:k.Mx,UpdatePinCommand:k.gx,RemovePinCommand:k.z5,FocusOnPinInsideCommand:w.E4,SweepAlignmentType:U.c$,SweepPlacementType:U.EO,BeginMoveToSweepMessage:j.A,EndMoveToSweepMessage:F.A,SweepNeighborModifyCommand:He.WS,ToggleToolCommand:H.yU,Tools:G.S0,TourStartedMessage:B.zM,TourStoppedMessage:B.pT,TourEndedMessage:B.YH,TourSteppedMessage:B.n1,Color:V.V,Vectors:W.B1,Viewmode:z.N3,CommandViewmode:$.w5,ChangeViewmodeCommand:$.S2,BeginSwitchViewmodeMessage:K.A,EndSwitchViewmodeMessage:Y.A,GetScreenPositionCommand:Oe.R,ZoomInCommand:_e.EG,ZoomResetCommand:_e.i9,ZoomSetCommand:_e.hd,SourceType:Ae.Y,sensorVolumes:{sphere:we.I,box:Ne.M,cylinder:Ie.z},TourState:Re.Ci,MediaType:ke.zu,SaveNewMattertagCommand:S.Ee,DeactivateIdleModeCommand:q,SetIdleModeTimeoutCommand:Q,EndToggleDefurnishViewMessage:X.Yp,EnableInputCommand:Z.TY,DisableInputCommand:Z.q$},Be=Qt(t,Te),Ve=function(e,t,n){const i=(async()=>(await e.getModuleBySymbol(o.qL)).getApi())(),a=e.getModuleBySymbol(o.qy);return{api:i,applicationData:e.market.waitForData(J.zH),cameraData:e.market.waitForData(ee.M),cameraStartModule:e.getModuleBySymbol(o.di),canvasData:e.market.waitForData(te.p),cursorController:e.getModuleBySymbol(o._v),deepLinks:e.getModuleBySymbol(s.r),locale:e.getModuleBySymbol(o.gS),externalR3FModule:e.getModuleBySymbol(o.kG),floorData:e.market.waitForData(ne.q),floorViewData:e.market.waitForData(ie.X),labelData:e.market.waitForData(re.B),layersModule:e.getModuleBySymbol(o.az),layersData:e.market.waitForData(le.P),mattertagData:e.market.waitForData(ce.j),measurementModeData:e.market.waitForData(de.s),modelData:e.market.waitForData(he.q),pinViewData:e.market.waitForData(L.U),annotationsViewData:e.market.waitForData(Le.o),tagsViewData:e.market.waitForData(De.r),plugin:e.getModuleBySymbol(o.N4),raycasterData:e.market.waitForData(pe.$),roomData:e.market.waitForData(fe.q),roomBoundData:e.market.waitForData(me.A),roomBoundViewData:e.market.waitForData(ge.B),settingsData:e.market.waitForData(ve.o),sweepData:e.market.waitForData(ye.A),sweepViewData:e.market.waitForData(Ee.O),tourData:e.market.waitForData(Se.R),viewmodeData:e.market.waitForData(be.X),appPhaseModule:e.getModuleBySymbol(r.WJ),annotationsModule:e.getModuleBySymbol(o.Et),attachmentsModule:a,commonControlsModule:e.getModuleBySymbol(o.X7),floorCasterModule:e.getModuleBySymbol(o.Xx),pinsModule:e.getModuleBySymbol(o.kd),meshQuery:e.getModuleBySymbol(o.PM),modelMeshModule:e.getModuleBySymbol(o.GR),meshData:e.market.waitForData(Ce.U),navigationModule:e.getModuleBySymbol(o.Kv),renderToTextureModule:e.getModuleBySymbol(o.kM),sceneModule:t.scene.getModule(),sensorModule:e.getModuleBySymbol(o.J$),settingsModule:e.getModuleBySymbol(r.ZF),tourControlsModule:e.getModuleBySymbol(o.Xf),webglRendererModule:e.getModuleBySymbol(o.M7),zoomControlModule:e.getModuleBySymbol(o.et),sweepTextureLoader:e.getModuleBySymbol(o.wY),pluginData:e.market.waitForData(xe.C),pluginUiData:e.market.waitForData(Kt.kR),pluginConfigData:e.market.waitForData(Fe.Y7),modelApiClient:Promise.resolve(n),analytics:e.getModuleBySymbol(o.aF)}}(t,i,Te);for(const i of se){const r=new $e.mc(t.diContainer);await i.setup(e,ae,Ue,Be,Ve,t.getModuleBySymbol(o.qL),{sandboxPath:n.sandbox,logLevel:c},r)}}function Qt(e,t){return{loadImage:l.y,waitForUpdate:()=>e.after(i.R.End),waitForBegin:()=>e.after(i.R.Begin),subscribe:(t,n)=>e.subscribe(t,n),unsubscribe:(t,n)=>e.unsubscribe(t,n),addBinding:e.commandBinder.addBinding.bind(e.commandBinder),issueCommand:e.commandBinder.issueCommand.bind(e.commandBinder),requestTarget:()=>e.commandBinder.issueCommand(new c.q6),getRenderLayer:t=>e.getRenderLayer(t),jpegAsBase64:Te.G8,encodeRenderTarget:Te.uz,getXmp:Te._h,getOrientedAngleTo:u.Vg,screenPositionToNDC:d.wc,ndcToWorldPosition:d.OG,worldToScreenPosition:d.bz,getTagsQuery:We(t,(0,Be.V)()),isMpFontId:e=>e in ze.J,getModelViewsQuery:se(t,(0,ae.o)()),makeTransformGizmo:async t=>{const n=await async function(e,t=rt){const[n,i,s,a,l,c]=await Promise.all([e.getModuleBySymbol(o.mL),e.getModuleBySymbol(o.sA),e.market.waitForData(ee.M),e.getModuleBySymbol(o.gS),e.getModuleBySymbol(r.ZF),e.getModuleBySymbol(o.jh)]),u=l.getProperty("assetBasePath"),d=l.getProperty("dracoDecoderPath");return new $t(n,i,s,u,a.languageCode,d,t,c)}(e,t),i=e.getModuleBySymbolSync(r.S1);return e.addComponent(i,n),{transformGizmo:n,disposable:{dispose:function(){e.removeComponent(i,n),n.dispose()}}}}}}},88090:(e,t,n)=>{"use strict";n.d(t,{K4:()=>u,L8:()=>o,T6:()=>d,XT:()=>r,_r:()=>h,bW:()=>i,bw:()=>s,q0:()=>c,uH:()=>l,ur:()=>a});const i="IErrorGui",r="ILoadingGui",o="IModelMeshQualityModule",s="IQuickMenus",a="IShowcaseHotkeys",l="IShowcaseGui",c="IShowcasePasswordModule",u="IShowcaseSettings",d="IShowcaseStart",h="IShowcaseWebGLContextLoss"},9674:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ec});var i,r,o=n(96540),s=n(5338),a=n(75578),l=n(74381),c=n(74848),u=n(22585),d=n(27947),h=n(17084),p=n(8387),f=n(35950),m=n(32485),g=n.n(m),v=n(77570),y=n(56147),E=n(48539),S=n(86867),b=n(99583),O=n(39209),_=n(46793),T=n(15580),A=n(10843);!function(e){e.Inside="panorama",e.InsideMesh="mesh",e.Dollhouse="dollhouse",e.Floorplan="floorplan",e.None="none"}(i||(i={})),function(e){e.Inside="click_inside_mode_button",e.InsideMesh="click_mesh_mode_button",e.Dollhouse="click_dollhouse_mode_button",e.Floorplan="click_floorplan_mode_button"}(r||(r={}));var w=n(39869),N=n(95541);const I=(0,o.createContext)({outOfScope:!1});var R=n(48411),k=n(78956),L=n(73566),M=n(46608),D=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function P(e){var{active:t,nudgeDisabled:n=!1,className:i,theme:r="overlay",variant:s=p.Ak.TERTIARY,size:a}=e,l=D(e,["active","nudgeDisabled","className","theme","variant","size"]);const{outOfScope:u}=(0,o.useContext)(I),d=(0,R.T)(),h=(0,k.O)()===L.L$.BOTTOM_PANEL&&!!d;return(0,c.jsx)("div",Object.assign({className:i},{children:(0,c.jsx)(M.Y,Object.assign({},l,{nudgeDisabled:u||h||n,variant:s,theme:r,active:t,featured:!0,nudgeClassName:"collapsible-nudge-button-tooltip"}))}))}var C=n(64491);function x(e,t){const n=(0,o.useMemo)((()=>!(0,C.C8)()),[]),i=(0,w.Y)(),r=i.t(e);return n&&void 0!==t?`${r} ${i.t(t)}`:r}var U=n(87419),j=n(5013);var F=n(38731),H=n(5262),G=n(56547),B=n(50747);function V(e,t=null){return(0,B.F)().getOverrideParam(e,t)}var W=n(62876),z=n(47613);function $({editMode:e=!1,includeDefurnish:t=!1,includeDisabled:n=!1}={}){const i=(0,z._)(),r=(0,H.i)(W._H,!1),s=!!V(U.bx,!1),[a,l]=(0,o.useState)([]);return(0,o.useEffect)((()=>{if(!i)return()=>{};function o(){e&&(null==i?void 0:i.mdsContext.isPrivateSession)?l([i.getInitialView()]):l((null==i?void 0:i.getOrderedModelViews({includeDefurnish:t||s,includeInsights:r,includeDisabled:n||e}))||[])}const a=i.onModelViewsChanged(o),c=i.onPropertyChanged("currentViewId",o);return o(),()=>{null==a||a.cancel(),null==c||c.cancel()}}),[e,t,n,s,r,i]),a}function K(){const e=$({includeDefurnish:!0,editMode:(0,F.B)()}).filter((e=>(0,G.AF)(e)))||[];return e.sort(((e,t)=>t.created.getTime()-e.created.getTime())),e[0]}var Y,q=n(56208);function Q(e){const t=!!K(),n=(0,F.B)(),i=(0,H.i)(q.Q$.DefurnishView,!1),r=(0,H.i)(U.cB,!1),s=!!function(e){const t=(0,j.M)(),[n,i]=(0,o.useState)((null==t?void 0:t.getPolicy(e))||null);return(0,o.useEffect)((()=>{if(!t)return()=>{};function n(){i((null==t?void 0:t.getPolicy(e))||null)}const r=t.onChanged(n);return n(),()=>null==r?void 0:r.cancel()}),[t,e]),n}(U.NT);return r&&(s||"viewer"===e)&&(i&&t||n)}function X(e=Y.Default){const t=Q("viewer");if(e===Y.Default)return{show:5e3,dismiss:1e4};const n=[Y.Defurnish,Y.Measurements,Y.FloorplanMode,Y.DollhouseMode],i=new Map;let r=5e3;return n.forEach((e=>{(e=>e!==Y.Defurnish||t)(e)&&(i.set(e,{show:r,dismiss:1e4}),r+=2e4)})),i.has(e)?i.get(e):{show:Number.MAX_SAFE_INTEGER,dismiss:1}}!function(e){e[e.Default=0]="Default",e[e.DollhouseMode=1]="DollhouseMode",e[e.FloorplanMode=2]="FloorplanMode",e[e.Measurements=3]="Measurements",e[e.Defurnish=4]="Defurnish"}(Y||(Y={}));var Z=n(68375);function J(e){const{disabled:t,active:n,buttonId:i,onClick:r,analyticsName:s,tooltipPhraseKey:a,nudge:l,hotkeyPhraseKey:u}=e,d=(0,w.Y)(),h=(0,N.H)(),f=(0,F.B)(),m=(0,Z.s)(),g=x(a,u),v=h&&f,y={placement:v?"bottom":"top",offset:v?[0,10]:void 0},E=v&&n?void 0:p.Ak.TERTIARY,S=v&&n?"light":"overlay",b=i,O=v?p.Mp.LARGE:void 0,_=(0,o.useCallback)((()=>{r(i,s)}),[r,i,s]),{show:T,dismiss:A}=X(null==l?void 0:l.nudgeType);if(l){const{featureKey:e,titleKey:r,messageKey:o,localStorageKey:s,dismissAnalytic:a}=l;return(0,c.jsx)(P,{className:`mode-button mode-${i}`,icon:b,variant:E,theme:S,size:O,active:n,disabled:t,onClick:_,tooltip:g,nudgeFeatureKey:e,nudgeTitle:d.t(r),nudgeMessage:d.t(o),nudgeLocalStorage:s,onNudgeDismissed:a?()=>{m.trackGuiEvent(a)}:void 0,showTimeout:T,dismissTimeout:A})}return(0,c.jsx)("div",Object.assign({className:`mode-button mode-${i}`},{children:(0,c.jsx)(p.$n,{onClick:_,icon:b,variant:E,theme:S,size:O,active:n,disabled:t,tooltip:g,tooltipOptions:y,ariaLabel:g})}))}var ee=n(87965),te=n(85281),ne=n(98236),ie=n(20599);const re=(0,ne.v)(ie.M);function oe(){const e=re(),[t,n]=(0,o.useState)(e?e.pose.pitchFactor():1);return(0,o.useEffect)((()=>{if(!e)return()=>{};const t=e.onChanged((()=>{n(e.pose.pitchFactor())}));return n(e.pose.pitchFactor()),()=>{t.cancel()}}),[e]),t}var se=n(88581);function ae(){const e=(0,se.o)(),[t,n]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(!e)return()=>{};const t=e.currentModeObservable.onChanged(n);return n(e.currentMode),()=>t.cancel()}),[e]),t}var le=n(2993),ce=n(27394);const ue=(0,ne.v)(ce.m),de=(0,ne.v)(b.X);function he(e){const{disabled:t,buttonId:n,onClick:s}=e,a=(0,N.H)(),l=(0,F.B)(),u=oe(),d=de(),h=ae(),f=function(){const e=ue(),[t,n]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(!e)return()=>{};const t=e.onChanged((()=>{n(e.targetState)}));return n(e.targetState),()=>{t.cancel()}}),[e]),t}(),m=a&&l,g={placement:m?"bottom":"top",offset:m?[0,10]:void 0},v=h===le.N3.Dollhouse||h===le.N3.Floorplan,E=m&&v,S=m&&E?void 0:p.Ak.TERTIARY;let b=le.N3.Dollhouse;b=null!=f?"top"===f?le.N3.Dollhouse:le.N3.Floorplan:v&&u>.5?le.N3.Floorplan:le.N3.Dollhouse,(null==d?void 0:d.isFloorplanDisabled())&&(b=le.N3.Dollhouse),(null==d?void 0:d.isDollhouseDisabled())&&(b=le.N3.Floorplan);const O=b===le.N3.Floorplan?i.Floorplan:i.Dollhouse,_=b===le.N3.Floorplan?r.Floorplan:r.Dollhouse;let T=y.A.VIEW_DOLLHOUSE,A=y.A.HOTKEY_VIEW_DOLLHOUSE;b===le.N3.Floorplan&&(T=y.A.VIEW_FLOORPLAN,A=y.A.HOTKEY_VIEW_FLOORPLAN);const w=x(T,A),I=m?p.Mp.LARGE:void 0,R=(0,o.useCallback)((()=>{s(O,_)}),[s,O,_]);return d&&(d.isDollhouseDisabled()&&d.isFloorplanDisabled()||d.isDollhouseDisabled()&&v||d.isFloorplanDisabled()&&v)?null:(0,c.jsx)("div",Object.assign({className:`mode-button mode-${n}`},{children:(0,c.jsx)(p.$n,{onClick:R,icon:O,variant:S,theme:"overlay",size:I,active:E,disabled:t,tooltip:w,tooltipOptions:g,ariaLabel:w})}))}function pe(e,t,n){const i=!t&&!e.tryGetProperty(T._z,!1),r=!t&&!e.tryGetProperty(T.n9,!1);return n!==le.N3.Panorama||(!!r||i)}function fe(e,t){return!t&&!e}function me(e,t,n){const r=e===t;switch(e){case i.Dollhouse:case i.Floorplan:return n||!r;case i.Inside:return n?t!==i.InsideMesh:!r;case i.InsideMesh:return n?r:t===i.Inside}return!1}const ge=new A.Ay("mode-buttons"),ve={featureKey:te.n,titleKey:y.A.GENERIC.NEW_MESSAGE,messageKey:y.A.FLOOR_PLAN_NUDGE_MESSAGE,localStorageKey:ee.Y.FloorplanRoomsUserNudgeSeen,dismissAnalytic:"floorplan_rooms_nudge",nudgeType:Y.FloorplanMode};class ye extends o.Component{constructor(e){super(e),this.onClick=async(e,t)=>{const{transitioning:n}=this.props;if(n)return;const r=function(e){switch(e){case i.Dollhouse:return _.w5.DOLLHOUSE;case i.Floorplan:return _.w5.FLOORPLAN;case i.Inside:return _.w5.INSIDE;case i.InsideMesh:return _.w5.MESH;default:throw new Error(`cannot get viewmode for mode buttonId ${e}`)}}(e),{analytics:o,commandBinder:s}=this.context;o.trackGuiEvent(t);try{await s.issueCommand(new _.S2(r))}catch(e){ge.warn(e)}}}render(){const{activeButtonId:e,activeStateDisplay:t,className:n,floorplanPrevented:o,insidePrevented:s,meshPrevented:a,transitioning:l,viewmodeChangeEnabled:u}=this.props,d=!u||l,h=!a&&me(i.InsideMesh,e,!!t),p=!s&&me(i.Inside,e,!!t),f=!o&&me(i.Floorplan,e,!!t);return(0,c.jsxs)("div",Object.assign({className:g()("mode-buttons",n)},{children:[h&&(0,c.jsx)(J,{tooltipPhraseKey:y.A.VIEW_INSIDE_MESH,analyticsName:r.InsideMesh,buttonId:i.InsideMesh,active:e===i.InsideMesh,onClick:this.onClick,disabled:d}),p&&(0,c.jsx)(J,{tooltipPhraseKey:y.A.VIEW_INSIDE,hotkeyPhraseKey:y.A.HOTKEY_VIEW_INSIDE,analyticsName:r.Inside,buttonId:i.Inside,active:e===i.Inside,onClick:this.onClick,disabled:d}),(0,c.jsx)(he,{buttonId:i.Dollhouse,onClick:this.onClick,disabled:d}),f&&(0,c.jsx)(J,{tooltipPhraseKey:y.A.VIEW_FLOORPLAN,hotkeyPhraseKey:y.A.HOTKEY_VIEW_FLOORPLAN,analyticsName:r.Floorplan,buttonId:i.Floorplan,active:e===i.Floorplan,onClick:this.onClick,disabled:d,nudge:ve})]}))}}ye.contextType=v.B;class Ee extends o.Component{constructor(e){super(e),this.bindings=[],this.isUnmounting=!1,this.updateFloorplanState=()=>{const{editMode:e,settings:t}=this.context,n=this.viewmodeData.currentMode;this.setState({floorplanPrevented:pe(t,e,n)})},this.onCurrentFloorChanged=()=>{const{editMode:e}=this.context,t=this.floorsViewData.currentFloor,n=this.floorsViewData.hasEnabledAlignedSweeps(t&&t.id);this.setState({insidePrevented:fe(n,e)})},this.onViewmodeChangeLockUpdate=()=>{const{market:e}=this.context,t=e.tryGetData(b.X);if(!t)return;const n=t.viewmodeChangeEnabled;this.setState({viewmodeChangeEnabled:n})},this.state={floorplanPrevented:!1,insidePrevented:!1,viewmodeChangeEnabled:!0}}componentDidMount(){const{market:e,settings:t}=this.context;Promise.all([e.waitForData(b.X),e.waitForData(O.X)]).then((([e,n])=>{this.isUnmounting||(this.viewmodeData=e,this.floorsViewData=n,this.bindings.push(e.viewmodeChangeEnabledObservable.onChanged(this.onViewmodeChangeLockUpdate),e.makeModeChangeSubscription(this.updateFloorplanState),n.makeFloorChangeSubscription(this.onCurrentFloorChanged),t.onPropertyChanged(T._z,this.updateFloorplanState)),this.onCurrentFloorChanged(),this.updateFloorplanState(),this.onViewmodeChangeLockUpdate())}))}componentWillUnmount(){this.isUnmounting=!0;for(const e of this.bindings)e.cancel();this.bindings=[]}render(){const{editMode:e}=this.context,{className:t,unaligned:n,viewmode:r,activeStateDisplay:o}=this.props,{viewmodeChangeEnabled:s,floorplanPrevented:a,insidePrevented:l}=this.state,u=r===_.w5.TRANSITIONING;u||(this.activeButtonId=function(e,t){if(e)return i.None;switch(t){case _.w5.DOLLHOUSE:return i.Dollhouse;case _.w5.FLOORPLAN:return i.Floorplan;case _.w5.INSIDE:return i.Inside;case _.w5.MESH:return i.InsideMesh}return i.None}(n,r));const d=function(e){return!e}(e);return(0,c.jsx)(ye,{className:g()("viewmode-controls",t),activeStateDisplay:o,activeButtonId:this.activeButtonId,transitioning:u,floorplanPrevented:a,insidePrevented:l,meshPrevented:d,viewmodeChangeEnabled:s})}}Ee.contextType=v.B;var Se=n(55285),be=n(71397),Oe=n(96425),_e=n(17904),Te=n(53289),Ae=n(1333),we=n(87805),Ne=n(21875);const Ie=(0,we.u)(Ne.R,"tourCurrentSnapshot",-1);var Re=n(22044),ke=n(95330);const Le=(0,ne.v)(Ne.R),Me=(0,ke.p)(Ne.l);function De(){const e=Le();return(0,Re.A)(e?e.transitionObservable:Me)}function Pe(){const e=De(),t=(0,o.useRef)(e);return e.type===Ae.gX.FloorChange?t.current:(t.current=e,e)}var Ce=n(12554);const xe=(0,Ce.Z)([]);function Ue(){const e=Le();return function(e){const[t,n]=(0,o.useState)(e.values());return(0,o.useEffect)((()=>{const t=()=>{n(e.values())},i=e.onChanged(t);return t(),()=>i.cancel()}),[e]),t}(e?e.enabledTourStops:xe)}function je(){return Ue().length}var Fe;!function(e){e.FastForwarding="fast-forwarding",e.Idle="idle",e.Completed="completed",e.Paused="paused",e.Playing="playing",e.Rewinding="rewinding",e.Skipping="skipping"}(Fe||(Fe={}));const He=[Fe.FastForwarding,Fe.Playing,Fe.Rewinding];function Ge(){var e;const t=(0,o.useRef)(null),n=je(),i=Ie(),r=Pe(),s=r.toIndex,a=-1!==s&&s!==i;let l=Fe.Idle;a?l=0===s&&i===n-1?Fe.FastForwarding:Math.abs(s-i)>1?Fe.Skipping:s<i?Fe.Rewinding:Fe.FastForwarding:Ae.h9.includes(r.type)?l=r.active?Fe.Playing:Fe.Paused:r.type===Ae.gX.Move&&r.active&&(l=Fe.Rewinding);let c=!1;if((null===(e=t.current)||void 0===e?void 0:e.index)!==i&&(t.current=null),(l===Fe.Rewinding||l===Fe.FastForwarding)&&t.current){const{animation:e,transition:n}=t.current;if(n!==r){const{started:t,stopped:i,duration:r}=n;(i-t)/r>=.99&&(c=!0,e===Fe.Rewinding&&(l=Fe.Idle),e!==Fe.Playing&&e!==Fe.FastForwarding||(l=Fe.Completed))}}return He.includes(l)?t.current={transition:r,animation:l,index:i}:c||(t.current=null),l}var Be=n(22937),Ve=n(34184);function We(){const[e,t]=(0,o.useState)(!1),n=(0,o.useCallback)((()=>{t(!0)}),[]),i=(0,o.useCallback)((()=>{t(!1)}),[]);return(0,Te.J)(Be.n1,n),(0,Te.J)(Ve.A,i),e}var ze=n(87743);var $e=n(71687);const{HLR:Ke}=y.A.WORKSHOP;function Ye(e){const t=!(0,H.i)(ee.Y.TourTextNudgeDismissed,!1),n=We(),i=function(){const[e,t]=(0,o.useState)(!1),n=(0,o.useRef)();(0,Te.J)(ze.lz,(()=>{t(!0),i(),n.current=setTimeout((()=>{t(!1),n.current=void 0}),3e3)}));const i=()=>{n.current&&(clearTimeout(n.current),n.current=void 0)};return e}(),{highlights:r,currentStep:s,activeStep:a,tourPlaying:l}=e,u=(0,w.Y)(),d=(0,B.F)(),h=(0,F.B)(),m=(0,_e.S)($e.Xf),v=(0,o.useCallback)(((e,t=!0)=>{d.setLocalStorageProperty(ee.Y.TourTextNudgeDismissed,!0),t&&e.stopPropagation()}),[d]),y=(0,o.useCallback)((async e=>{await(null==m?void 0:m.stopTour()),v(e,!1)}),[m,v]),E=r[s],S=(null==E?void 0:E.title)||(null==E?void 0:E.description),b=h&&!S&&t,O=(null==E?void 0:E.title)||(b?u.t(Ke.HIGHLIGHT_TITLE_PLACEHOLDER):""),_=(null==E?void 0:E.description)||(b?u.t(Ke.HIGHLIGHT_DESCRIPTION_PLACEHOLDER):""),T=n&&!(a!==s)&&l||i,A=g()("tour-story",{active:T,prompt:b});return(0,c.jsxs)(f.w,Object.assign({open:n&&l||i,className:A,onClick:T?y:void 0,"aria-live":"polite","aria-atomic":"true"},{children:[b&&(0,c.jsx)(p.$n,{className:"tour-story-dismiss",theme:"dark",variant:p.Ak.TERTIARY,icon:"close",onClick:v}),(0,c.jsx)("div",Object.assign({className:"tour-story-title"},{children:O})),(0,c.jsx)("div",Object.assign({className:"tour-story-description"},{children:_}))]}))}const{TOURS:qe}=y.A.SHOWCASE,Qe=[Fe.FastForwarding,Fe.Rewinding,Fe.Skipping];function Xe(e){const{activeStep:t,currentStep:n,handlePlayPause:i,highlights:r,tourPlaying:s,toolPanelLayout:a}=e,[l,u]=(0,o.useState)(!1),[d,h]=(0,o.useState)(!1),f=Ge(),m=(0,w.Y)(),v=(0,Z.s)(),E=(0,_e.S)($e.Xf),S=(0,o.useCallback)((()=>{u(!0)}),[]),b=(0,o.useCallback)((()=>{t===n&&u(!1)}),[t,n]);(0,Te.J)(Be.n1,S),(0,Te.J)(Ve.A,b);const O=0===r.length,_=a===L.L$.NARROW||a===L.L$.BOTTOM_PANEL,T=s?m.t(y.A.PAUSE):m.t(y.A.PLAY),A=m.t(y.A.PREVIOUS),N=m.t(y.A.NEXT),I=O||!s?"play-unicode":"pause",R=O||Qe.includes(f),k=r[t];let M=(null==k?void 0:k.snapshot.name)||"";l||(M=s||d?"":m.t(qe.TOUR_BUTTON_LABEL));const D=(0,o.useCallback)((()=>{h(!0),i()}),[i]),P=(0,o.useCallback)((async e=>{!O&&E&&(e.stopPropagation(),h(!0),v.trackGuiEvent("skip_foward_highlights"),await E.tourGoNext({resumeIfPlaying:!0}))}),[v,O,E]),C=(0,o.useCallback)((async e=>{!O&&E&&(e.stopPropagation(),h(!0),v.trackGuiEvent("skip_backward_highlights"),await E.tourGoPrevious({resumeIfPlaying:!0}))}),[v,O,E]);return(0,c.jsxs)("div",Object.assign({className:"tour-story-controls"},{children:[(0,c.jsx)(Ye,{tourPlaying:s,currentStep:n,activeStep:t,highlights:r}),(0,c.jsx)(p.$n,{icon:"dpad-left",className:"story-tour-previous-cta",variant:p.Ak.TERTIARY,size:p.Mp.SMALL,disabled:R,ariaLabel:A,tooltip:A,onClick:C}),(0,c.jsx)(p.$n,{className:"tour-story-play-pause",icon:I,variant:p.Ak.TERTIARY,size:p.Mp.SMALL,disabled:R,ariaLabel:T,tooltip:T,onClick:O?void 0:D}),(0,c.jsx)(p.$n,{icon:"dpad-right",className:"story-tour-next-cta",variant:p.Ak.TERTIARY,size:p.Mp.SMALL,disabled:R,ariaLabel:N,tooltip:N,onClick:P}),M&&s&&!_&&(0,c.jsx)("span",Object.assign({className:g()("tour-control-label",{active:s})},{children:M}))]}))}var Ze=n(44481);const Je=(0,we.u)(Ze.F,"reelOpen",!1);var et=n(94799);function tt(e){const{reelEnabled:t,activeTool:n,disabled:i,tourMode:r}=e,s=(0,w.Y)(),a=(0,Z.s)(),l=Je(),u=(0,et.j)($e.XQ),d=(0,o.useCallback)((()=>{const e=l?"hide_":"show_";a.trackToolGuiEvent("hlr",e+"highlight_reel"),u.toggleReel(!l)}),[l,a,u]),h=r===Oe.cR.STORIES;if(!t||h&&n!==L.S0.HLR)return null;const f=l?s.t(y.A.CLOSE_HIGHLIGHTS):s.t(y.A.OPEN_HIGHLIGHTS),m=l?"dpad-down":"dpad-up",v=g()("highlight-button",{"hlr-expanded":l});return(0,c.jsx)(p.$n,{disabled:i,className:v,onClick:d,tooltip:f,ariaLabel:f,"aria-expanded":l?"true":"false",icon:m,theme:"overlay",variant:p.Ak.TERTIARY})}var nt=n(61260),it=n(19702);function rt(){const e=(0,H.i)(q.Q$.HighlightReel,!0),t=V(it.D,it.np);return e&&t!==it.g}(0,nt.c)("reelEnabled",rt);function ot(){const e=(0,H.i)(q.Q$.TourButtons,!0),t=V(it.no,it.XJ),n=V(it.Cs,it.ky);return e&&t!==it.wo&&n!==it.NN}(0,nt.c)("tourEnabled",ot);function st(e){const{activeTool:t,handlePlayPause:n,highlights:i,hideReel:r,tourPlaying:o}=e,s=(0,w.Y)(),a=(0,F.B)(),l=rt()&&!r||a,u=ot()||a;if(!l&&!u)return null;const d=0===i.length,h=a||!d,f=o?s.t(y.A.PAUSE):s.t(y.A.PLAY),m=o?"pause-outline":"play";return(0,c.jsxs)("div",Object.assign({className:"highlight-tour-controls"},{children:[l&&(0,c.jsx)(tt,{disabled:!h,activeTool:t,reelEnabled:l,tourMode:Oe.cR.LEGACY}),u&&(0,c.jsx)(p.$n,{disabled:d,active:o,onClick:n,variant:p.Ak.TERTIARY,theme:"overlay",className:"tour-controls",ariaLabel:f,icon:m,tooltip:f})]}))}const at=new A.Ay("preview-tour"),{HLR:lt}=y.A.WORKSHOP;function ct(){const e=(0,_e.S)($e.Xf),t=(0,w.Y)(),n=(0,N.H)(),i=0===je(),r=(0,o.useCallback)((async()=>{if(!i)try{null==e||e.startTour()}catch(e){at.debug(e)}}),[e,i]),s=t.t(lt.PREVIEW_SETTINGS_CTA),a=n?void 0:s,l=n?s:void 0;return(0,c.jsx)(p.$n,{icon:"play-unicode",label:a,tooltip:l,disabled:i,size:p.Mp.LARGE,theme:"dark",className:"preview-tour-button",variant:p.Ak.FAB,onClick:r})}const ut=new A.Ay("tour-controls");function dt(e){const{activeStep:t,activeTool:n,currentStep:i,hideReel:r,toolPanelLayout:s,tourMode:a,tourPlaying:l,highlights:u,hasTours:d}=e,h=(0,F.B)(),p=(0,Z.s)(),f=(0,_e.S)($e.Xf),{outOfScope:m}=(0,o.useContext)(I),g=async()=>{if(0===u.length)return;const e=l?"pause_highlights":"play_highlights";p.trackGuiEvent(e);try{l?null==f||f.stopTour():null==f||f.startTour()}catch(e){ut.debug(e)}},v=n===L.S0.HLR,y=n===L.S0.SEARCH,E=n===L.S0.LAYERS,S=a===Oe.cR.NONE,b=!!n&&!(v||y||E),O=()=>{if(h){const e=s===L.L$.BOTTOM_PANEL||s===L.L$.NARROW;if(n===L.S0.MESH_TRIM)return!1;if(e&&b)return!1}else{if(0===u.length&&!d||S||b)return!1}return!0};return(0,Se.ML)("keydown",(e=>{const t=e.target;m||!O()||"CANVAS"!==t.tagName&&"BODY"!==t.tagName||(l||e.keyCode===be.D.SPACE)&&(e.stopPropagation(),g())})),v&&!l?(0,c.jsx)(ct,{}):O()?a===Oe.cR.STORIES?(0,c.jsx)(Xe,{activeStep:t,currentStep:i,highlights:u,toolPanelLayout:s,tourPlaying:l,handlePlayPause:g}):(0,c.jsx)(st,{activeTool:n,handlePlayPause:g,highlights:u,hideReel:r,tourPlaying:l}):null}var ht=n(23272);const pt=new A.Ay("floor-controls-switch-floor");var ft=n(90087);function mt({name:e,id:t,active:n,theme:i="dark"}){const r=(0,ft.L)(),s=(0,_e.S)($e.Xf),a=(0,Z.s)(),l=(0,o.useCallback)((async()=>{a.trackGuiEvent("floor_clicked"),async function(e,t,n,i){try{await(null==i?void 0:i.stopTour());const r=null===e?"click_toggle_all_floors_button":"click_floor_select_button";t.trackGuiEvent(r);const o=new ht.i1(e);await n.issueCommand(o)}catch(e){pt.debug(e)}}(t||null,a,r,s)}),[a,r,t,s]);return(0,c.jsx)(p.$n,{className:"floor-button",label:e,variant:p.Ak.TERTIARY,size:p.Mp.SMALL,theme:i,onClick:l,active:n})}var gt=n(76866);const vt=(0,we.u)(O.X,"showAllFloorsOption",!0);function yt(e){const{currentFloor:t,floors:n}=e,i=(0,w.Y)(),r=(0,Z.s)(),s=ae(),a=vt(),l=s!==le.N3.Panorama&&a,u=(0,o.useRef)(null);(0,Te.J)(ze.e0,(()=>{var e;null===(e=u.current)||void 0===e||e.closeMenu()}));const d=(0,o.useCallback)((()=>{r.trackGuiEvent("floor_controls")}),[r]),h=t&&t.index+1,f=i.t(y.A.HELP_MORE_FLOORS_A),m=g()("floor-controls",{"two-digit":void 0!==h&&h>=10}),v=h?"floor-controls":"floor-controls-all",E=n.map((e=>{const{id:n,name:i}=e,r=(null==t?void 0:t.id)===n;return(0,c.jsx)(mt,{id:n,name:i,active:r},n)}));return l&&E.push((0,c.jsx)(mt,{name:i.t(y.A.FLOOR_ALL),active:!t},"all")),E.reverse(),(0,c.jsx)(gt.y,Object.assign({buttonClassName:m,buttonDataAttribute:h,onClick:d,variant:p.Ak.TERTIARY,ariaLabel:f,tooltip:f,icon:v,theme:"overlay",menuClassName:"floor-controls-menu",menuTheme:"dark",menuPlacement:"top",ref:u},{children:E}))}var Et=n(68986),St=n(99438);function bt(e){return e?e.getNavigableFloorIds().map(e.getViewData):[]}function Ot(){const e=(0,St._)(),[t,n]=(0,o.useState)(e?e.currentFloorId:null);return(0,o.useEffect)((()=>{if(!e)return()=>{};const t=()=>{const t=e.currentFloorId;n(t)},i=e.makeFloorChangeSubscription(t);return t(),()=>i.cancel()}),[e]),t}(0,nt.c)("currentFloorId",Ot);function _t(e){const t=(0,St._)(),[n,i]=(0,o.useState)(t&&null!==e?t.getViewData(e):null);return(0,o.useEffect)((()=>{if(!t)return()=>{};if(e){const n=t.getViewData(e);i(n)}else i(null);return()=>{}}),[t,e]),n}function Tt(){return _t(Ot())}function At(e){const t=function(){const e=(0,St._)(),[t,n]=(0,o.useState)(bt(e));return(0,o.useEffect)((()=>{if(!e)return()=>{};const t=()=>n(bt(e)),i=new Et.P(e.floors.onNameChange(t),e.onNavigableFloorIdsChanged(t));return t(),()=>i.cancel()}),[e]),t}(),n=ae(),i=Tt(),r=vt(),s=(0,w.Y)(),a=t.map((e=>{const{id:t,name:n}=e,r=(null==i?void 0:i.id)===t;return(0,c.jsx)(mt,{id:t,name:n,active:r,theme:"light"},t)})).reverse();n!==le.N3.Panorama&&r&&a.unshift((0,c.jsx)(mt,{name:s.t(y.A.FLOOR_ALL),active:!i,theme:"light"},"all"));const l=g()("floor-menu-selector",e.className),u=(null==i?void 0:i.name)||s.t(y.A.FLOOR_ALL);return(0,c.jsx)(gt.y,Object.assign({buttonClassName:l,variant:p.Ak.TERTIARY,label:u,ariaLabel:u,tooltip:u,theme:"overlay",menuClassName:"floor-controls-menu",menuPlacement:"top",caret:!0},{children:a}))}class wt extends o.Component{constructor(e){super(e),this.bindings=[],this.isUnmounting=!1,this.onCurrentFloorChanged=()=>{var e,t;const n=(null===(e=this.floorsViewData)||void 0===e?void 0:e.currentFloor)||void 0,i=n&&(null===(t=this.floorsViewData)||void 0===t?void 0:t.getViewData(n.id));this.setState({currentFloor:i})},this.onFloorsChanged=()=>{var e,t;const n=(null===(e=this.floorsViewData)||void 0===e?void 0:e.getNavigableFloorIds()).map(null===(t=this.floorsViewData)||void 0===t?void 0:t.getViewData);this.setState({floors:n})},this.state={currentFloorIndicator:!0,floors:[]}}componentDidMount(){const{market:e}=this.context;e&&e.waitForData(O.X).then((e=>{this.isUnmounting||(this.floorsViewData=e,this.bindings.push(this.floorsViewData.makeFloorChangeSubscription(this.onCurrentFloorChanged),this.floorsViewData.floors.onNameChange(this.onFloorsChanged),this.floorsViewData.onNavigableFloorIdsChanged(this.onFloorsChanged)),this.onCurrentFloorChanged(),this.onFloorsChanged())}))}componentWillUnmount(){this.isUnmounting=!0,this.bindings.forEach((e=>{e.cancel()}))}render(){const{className:e,viewmode:t,iconStyle:n}=this.props,{currentFloor:i,floors:r}=this.state;return r.length>1&&t!==_.w5.OUTSIDE?(0,c.jsxs)("div",Object.assign({className:g()("floor-selector",e)},{children:[n&&(0,c.jsx)(yt,{floors:r,currentFloor:i}),!n&&(0,c.jsx)("span",{className:"divider"}),!n&&(0,c.jsx)(At,{})]})):null}}wt.contextType=v.B;var Nt,It,Rt=n(15623);function kt(e){var t,n;const{id:i,onToggle:r,labelledBy:o,className:s,onOffLabel:a=!1,enabled:l=!0,toggled:u,testId:d,labels:h}=e,p=(0,Rt.Ym)(),f=null!==(t=null==h?void 0:h.on)&&void 0!==t?t:p.t(y.A.GENERIC.SETTING_ON),m=null!==(n=null==h?void 0:h.off)&&void 0!==n?n:p.t(y.A.GENERIC.SETTING_OFF),v=u?f:m;return(0,c.jsxs)("div",Object.assign({className:g()("reusable-toggle",s,{"toggle-on":u,"has-labels":a,enabled:l}),id:i,onClick:e=>{e.stopPropagation(),l&&r&&r(e,!u)},role:"checkbox","aria-checked":u,"aria-labelledby":o,"data-testid":d},{children:[a&&(0,c.jsx)("span",Object.assign({className:"toggle-label"},{children:v})),(0,c.jsx)("div",Object.assign({className:"track"},{children:(0,c.jsx)("div",{className:"thumb"})}))]}))}function Lt({name:e,id:t,active:n,onChange:i}){const r=(0,Z.s)(),s=(0,o.useCallback)((()=>{const e=(t||"all").toLowerCase();r.trackGuiEvent(`visibility_toggled_${e}`),i(t,!n)}),[n,t,r,i]),a=(0,o.useCallback)((async e=>{s(),e.stopPropagation(),e.preventDefault()}),[s]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(p.$n,Object.assign({className:"visibility-p-button",label:e,variant:p.Ak.TERTIARY,size:p.Mp.SMALL,onClick:a,active:!1},{children:(0,c.jsx)("span",Object.assign({className:"toggle-wrapper visibility-p-toggle",onClick:e=>{s(),e.stopPropagation(),e.preventDefault()}},{children:(0,c.jsx)(kt,{toggled:n,onToggle:s,enabled:!0,onOffLabel:!1,testId:"VisibilityPToggle"})}))}))})}function Mt(e){const[t,n]=(0,o.useState)(e.visibilityData);(0,o.useEffect)((()=>{n(e.visibilityData)}),[e.visibilityData]);const i=(0,w.Y)(),r=(0,Z.s)(),s=Object.entries(t).length>1,a=(0,o.useCallback)((()=>{r.trackGuiEvent("toggle_plugin_visibility_controls")}),[r]),l=i.t(y.A.HELP_MORE_EXTRAS_A),u=g()(),d=()=>Object.values(t).every((e=>!!e.visible)),h=(i,r)=>{const o=d();n((e=>Object.fromEntries(Object.entries(e).map((([e,t])=>[e,Object.assign(Object.assign({},t),{visible:!o})]))))),e.onToggle(Object.keys(t),!o)},f=(i,r)=>{n((e=>Object.assign(Object.assign({},e),{[i]:!e[i]}))),e.onToggle([i],!t[i].visible)},m=Object.entries(t||{}).map((([e,{visible:t}])=>(0,c.jsx)(Lt,{id:e,name:i.T(It._COMMON_.TITLE,e),active:t,onChange:f},e)));return s&&m.push((0,c.jsx)(Lt,{id:null,name:i.t(y.A.PLUGIN_CHANGE_ALL),active:d(),isHeader:!0,onChange:h},"0-all")),m.push((0,c.jsxs)("div",Object.assign({className:"menu-header",onClick:e=>{e.stopPropagation(),e.preventDefault()}},{children:[(0,c.jsx)("span",Object.assign({className:"title"},{children:i.t(y.A.PLUGIN_VISIBILITY)})),(0,c.jsx)("span",Object.assign({className:"show-hide"},{children:i.t(y.A.PLUGIN_V_TOGGLE_LABEL)}))]}),"1-header")),m.reverse(),(0,c.jsx)(gt.y,Object.assign({buttonClassName:u,onClick:a,variant:p.Ak.TERTIARY,ariaLabel:l,tooltip:l,icon:"visibility",theme:"overlay",menuClassName:"visibility-p-controls-menu",menuTheme:"dark",menuPlacement:"top"},{children:m}))}!function(e){e.ON="on",e.OFF="off"}(Nt||(Nt={})),It||(It={}),function(e){let t;!function(e){e.TITLE="TITLE"}(t=e._COMMON_||(e._COMMON_={})),e.COMPASS=Object.assign({},t),e.ROOMPLAN_MINIMAP=Object.assign({},t),e.MINIMAP=Object.assign({},t),e.SALESPERSON_INFO=Object.assign({},t),e.QUICK_LINK=Object.assign({},t)}(It||(It={}));var Dt=n(48791);const Pt=({className:e})=>{const[t,n]=(0,o.useState)({}),[i,r]=(0,o.useState)(!1),s=(0,ne.E)(Dt.kR);return(0,o.useEffect)((()=>{let e;return(async()=>{if(s){const t=()=>{n(s.visibilityData.deepCopy()),r(s.visibilityData.entries().length>0)};e=s.visibilityData.onChanged(t),t()}})(),()=>{null==e||e.cancel()}}),[s]),i?(0,c.jsx)("div",Object.assign({className:g()("feature-p-selector",e)},{children:(0,c.jsx)(Mt,{visibilityData:t,onToggle:null==s?void 0:s.setVisibility.bind(s)})})):null};var Ct=n(80303),xt=n(22213),Ut=n(81088);function jt(){const e=(0,w.Y)(),t=(0,ft.L)(),n=(0,o.useCallback)((()=>{t.issueCommand(new Ut.X(xt.a.VR_SELECT,!0))}),[t]),i=e.t(y.A.VIEW_IN_VR);return(0,c.jsx)(p.$n,{className:"view-in-vr",onClick:n,ariaLabel:i,ariaHasPopup:"dialog",tooltip:i,tooltipOptions:{placement:"top"},icon:"vr",theme:"overlay",variant:p.Ak.TERTIARY})}class Ft extends o.Component{constructor(e){super(e),this.handleButtonClick=()=>{const{analytics:e}=this.context;C.aS()?(e.trackGuiEvent("click_exit_fullscreen",{interactionSource:"gui"}),C.Eh()):(e.trackGuiEvent("click_enter_fullscreen",{interactionSource:"gui"}),C.lh(document.body))},this.onFullScreenChange=e=>{const{mainDiv:t}=this.context,n=C.aS();n?t.classList.add("full-screen"):t.classList.remove("full-screen"),this.setState({fullscreen:n})},this.state={fullscreen:C.aS()},document.addEventListener("fullscreenchange",this.onFullScreenChange),document.addEventListener("webkitfullscreenchange",this.onFullScreenChange),document.addEventListener("MSFullscreenChange",this.onFullScreenChange),document.addEventListener("mozfullscreenchange",this.onFullScreenChange)}componentWillUnmount(){document.removeEventListener("fullscreenchange",this.onFullScreenChange),document.removeEventListener("webkitfullscreenchange",this.onFullScreenChange),document.removeEventListener("MSFullscreenChange",this.onFullScreenChange),document.removeEventListener("mozfullscreenchange",this.onFullScreenChange)}render(){const{fullscreen:e}=this.state,t=e?this.context.locale.t(y.A.EXIT_FULLSCREEN):this.context.locale.t(y.A.VIEW_FULLSCREEN),n=e?"fullscreen-exit":"fullscreen";return(0,c.jsx)("div",Object.assign({className:"fullscreen-mode"},{children:(0,c.jsx)(p.$n,{onClick:this.handleButtonClick,ariaLabel:t,tooltip:t,tooltipOptions:{placement:"top"},icon:n,theme:"overlay",variant:p.Ak.TERTIARY})}))}}Ft.contextType=v.B;var Ht=n(35447),Gt=n(20246);var Bt;!function(e){e[e.flash=0]="flash",e[e.expanded=1]="expanded",e[e.collapsed=2]="collapsed"}(Bt||(Bt={}));var Vt=n(72909),Wt=n(68930),zt=n(27612),$t=n(87137),Kt=n(77897),Yt=n(58480);function qt(e){var t,n;return(null===(t=e.market.tryGetData(Yt.G))||void 0===t?void 0:t.size)||(null===(n=e.mainDiv)||void 0===n?void 0:n.getBoundingClientRect())||{width:window.innerWidth,height:window.innerHeight}}class Qt extends o.Component{constructor(e,t){super(e,t),this.scrollbarRef=(0,o.createRef)(),this.elementRef=(0,o.createRef)(),this.isUnmounting=!1,this.onScrollableChanged=e=>{this.setState({scrollable:e})},this.onScrollPositionChange=e=>{this.setState({scrollPosition:e})},this.getScrollableContainer=()=>{const e=this.scrollbarRef.current;return(null==e?void 0:e.getScrollableContainer())||void 0},this.handleHighlightClickable=()=>{this.props.highlightClickable(!0)},this.state={scrollLeft:0,hideScrollbar:(0,zt.c)(qt(t)),scrollPosition:Kt.BB.None,scrollable:!1}}componentDidMount(){this.context.market.waitForData(Yt.G).then((e=>{this.isUnmounting||(this.resizeSubscription=e.onPropertyChanged("size",(e=>{this.setState({hideScrollbar:(0,zt.c)(e)})})))})),this.onScrollableChanged(!0),this.onScrollPositionChange(Kt.BB.Beginning)}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.resizeSubscription)||void 0===e||e.cancel()}componentDidUpdate(e){const{activeElement:t}=this.props;if(null!==t&&e.activeElement!==t){const e=this.scrollbarRef.current;e&&e.scrollToElement(t)}}setSorting(e){const t=this.elementRef.current;if(t)if(e){if(t.classList.add("sorting"),this.props.mobile){const e=this.scrollbarRef.current;e&&e.pauseScrollHandling()}}else t.classList.remove("sorting")}render(){const{thumbScrollingOnly:e,children:t,totalSteps:n}=this.props,{hideScrollbar:i,scrollPosition:r,scrollable:o}=this.state,s=g()({scrollable:o,[r]:!0});return(0,c.jsx)("div",Object.assign({id:"reel",className:s,ref:this.elementRef},{children:(0,c.jsx)($t.A,Object.assign({direction:Kt.OP.horizontal,ref:this.scrollbarRef,hideScrollbar:i,thumbScrollingOnly:e,waitToUpdate:0===n,handleClick:this.handleHighlightClickable,onScrollableChanged:this.onScrollableChanged,onScrollPositionChange:this.onScrollPositionChange},{children:t}))}))}}Qt.contextType=v.B;var Xt=n(13893),Zt=n(87912),Jt=n(53180),en=n(8827),tn=n(93877);const nn=new Map([[tn.jK.INSIGHTS,"sparkle"]]);function rn({sourceViewId:e}){const t=(0,_e.S)($e.az),n=(0,o.useMemo)((()=>e&&t&&t.layersData.hasView(e)?t.layersData.getView(e).viewType:null),[e,t]);if(!n)return null;const i=nn.get(n);return i?(0,c.jsx)(Jt.I,{name:i,size:en.l.SMALL,className:"highlight-icon"}):null}const{HLR:on}=y.A.WORKSHOP;class sn extends o.Component{constructor(){super(...arguments),this.editHighlight=e=>{e.stopPropagation(),this.props.onClickHighlight(this.props.index,!0)},this.removeHighlight=e=>{e.stopPropagation(),this.props.onRemoveHighlight&&this.props.onRemoveHighlight(this.props.highlight.snapshot.sid)},this.onClickHighlight=e=>{e.preventDefault(),this.props.onClickHighlight(this.props.index,!1)},this.setContainerRef=e=>{const{index:t,getRef:n}=this.props;this.element=e,n&&n(t,this.element)}}renderTransitionSettings(){const{locale:e}=this.context,{transitionType:t,panDirection:n,transitionCondition:i,index:r}=this.props,o=n!==Ae.ND.Auto;let s="pan-auto",a=e.t(on.PAN_DIRECTION_SETTING_AUTO);n===Ae.ND.Left?(s="icon icon-rotate-left",a=e.t(on.PAN_DIRECTION_SETTING_LEFT)):n===Ae.ND.Right&&(s="icon icon-rotate-right",a=e.t(on.PAN_DIRECTION_SETTING_RIGHT));let l="";return t===Xt.fl.FadeToBlack?l=e.t(on.TRANSITION_SETTING_SLIDESHOW):t===Xt.fl.Interpolate&&(l=e.t(on.TRANSITION_SETTING_WALKTHROUGH)),(0,c.jsxs)("div",Object.assign({className:"transition-settings"},{children:[(0,c.jsxs)("span",Object.assign({className:"transition-type"},{children:[r+1," - ",l,i&&(0,c.jsx)("span",{children:"*"})]})),(0,c.jsx)("span",Object.assign({className:"pan-direction-type"},{children:a})),o&&(0,c.jsx)("span",{className:`pan-icon ${s}`})]}))}renderImageBar(){var e;const{locale:t}=this.context,{highlight:n,editable:i}=this.props,r=n.snapshot.is360,o=n.snapshot.metadata.cameraMode,s="string"==typeof n.sourceViewId,a=null!==(e=this.getMarker(o,r,s))&&void 0!==e?e:"",l=t.t(on.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE),u=t.t(on.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE);return(0,c.jsxs)("div",Object.assign({className:"image-bar"},{children:[(0,c.jsx)("span",{className:g()("highlight-marker",{[a]:!i})}),i&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(p.$n,{className:"highlight-remove",onClick:this.removeHighlight,tooltip:l,ariaLabel:l,icon:"delete",theme:"overlay",variant:p.Ak.FAB}),(0,c.jsx)(rn,{sourceViewId:n.snapshot.sourceViewId}),(0,c.jsx)(p.$n,{className:"highlight-edit",onClick:this.editHighlight,tooltip:u,ariaLabel:u,icon:"toggle-pencil",theme:"overlay",variant:p.Ak.FAB})]})]}))}getMarker(e,t,n){return n?"icon-furniture-slash":e===le.N3.Dollhouse||e===le.N3.Floorplan?null:t?"icon-360":"icon-panorama"}render(){const{highlight:e,active:t,editable:n}=this.props,i=e.snapshot.name,r=!!i||n;return(0,c.jsxs)("div",Object.assign({className:g()("highlight-box",{active:t,editable:n}),onClick:this.onClickHighlight,ref:this.setContainerRef},{children:[(0,c.jsx)(Zt.q,{aspectRatio:e.snapshot.aspectRatio,resource:e.snapshot.thumbnailUrl,className:"highlight-image"}),this.renderImageBar(),n&&this.renderTransitionSettings(),(0,c.jsx)("div",Object.assign({className:g()("image-name",{shadowed:r})},{children:(0,c.jsx)("span",Object.assign({className:"static-text",role:"listitem","aria-label":i||"highlight"},{children:i}))}))]}))}}sn.contextType=v.B;class an extends o.Component{constructor(e){super(e),this.highlights=[],this.highlightList=e=>{const{currentStep:t,onHighlightClicked:n}=this.props;return(0,c.jsx)("div",Object.assign({className:"hlr-container"},{children:(0,c.jsx)("div",Object.assign({className:"highlights",role:"list"},{children:e.items.map(((e,i)=>(0,c.jsx)(sn,{highlight:e,index:i,active:i===t,editable:!1,onClickHighlight:n,getRef:this.addHighlightRef},`${e.id}_${i}`)))}))}))},this.addHighlightRef=(e,t)=>{this.highlights[e]=t,e===this.props.currentStep&&this.props.setActiveElement&&this.props.setActiveElement(t)}}componentDidUpdate(e){e.currentStep!==this.props.currentStep&&this.props.setActiveElement(this.highlights[this.props.currentStep])}render(){const{highlights:e}=this.props;return e&&e.length?(0,c.jsx)(this.highlightList,{items:e}):null}}var ln=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},cn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const un=new A.Ay("highlight-reel");let dn=class extends o.Component{constructor(e){super(e),this.bindings=[],this.mobile=(0,C.Fr)(),this.setActiveElement=e=>{this.setState({activeElement:e})},this.setHighlightClickable=(e=>this.highlightClickable=e).bind(this),this.onHighlightClicked=async e=>{const{analytics:t}=this.context;if(this.highlightClickable)try{const n=await this.context.engine.getModuleBySymbol($e.Xf);this.props.tourPlaying&&await n.stopTour(),this.props.transition.active||(t.trackToolGuiEvent("hlr","click_highlight"),await n.tourGoTo(e).catch((e=>{if(!(e instanceof Wt.K))throw e;un.warn(e.message)})),this.setHighlightClickable(!1))}catch(e){un.debug(e)}},this.state={activeElement:null}}componentWillUnmount(){this.bindings.forEach((e=>{e.cancel()}))}render(){const{activeStep:e,highlights:t,totalSteps:n}=this.props;return(0,c.jsx)("div",Object.assign({id:"reel-container"},{children:(0,c.jsx)(Qt,Object.assign({totalSteps:n,activeElement:this.state.activeElement,mobile:this.mobile,highlightClickable:this.setHighlightClickable,thumbScrollingOnly:!1},{children:(0,c.jsx)(an,{highlights:t,currentStep:e,onHighlightClicked:this.onHighlightClicked,setActiveElement:this.setActiveElement})}))}))}};dn.contextType=v.B,dn=ln([Vt.A,cn("design:paramtypes",[Object])],dn);const{HLR:hn}=y.A.SHOWCASE;class pn extends o.Component{render(){const{locale:e}=this.context,t=e.t(hn.EMPTY_REEL_LEARN_MORE),n=e.t(hn.EMPTY_REEL_TITLE),i=e.t(hn.EMPTY_REEL_MESSAGE);return(0,c.jsx)("div",Object.assign({className:"empty-reel"},{children:(0,c.jsxs)("div",Object.assign({className:"no-highlights-message"},{children:[(0,c.jsx)("p",{children:n}),(0,c.jsxs)("p",{children:[i,(0,c.jsx)("a",Object.assign({className:"link",target:"_blank",href:"https://support.matterport.com/hc/en-us/articles/360019401733"},{children:t}))]})]}))}))}}function fn(){const e=De(),t=Ge(),n=t===Fe.Paused,i=t===Fe.Idle,r=(0,o.useRef)(null),s=(0,o.useRef)(0);if(i)return s.current=0,s.current;if(!n)return s.current;if(e===r.current)return s.current;if(!Ae.h9.includes(e.type))return s.current;const{started:a,stopped:l,duration:c}=e,u=(l-a)/c,d=s.current+u*(1-s.current);return r.current=e,s.current=d,d}function mn({index:e}){const t=je(),n=fn(),i=Ge(),r=Ie(),s=Pe(),a=function(){var e,t;const n=De(),i=(0,o.useRef)(null);return Ae.h9.includes(n.type)?n.toIndex===(null===(t=i.current)||void 0===t?void 0:t.toIndex)?i.current.duration:(i.current=n,n.duration):(null===(e=i.current)||void 0===e?void 0:e.duration)||0}(),l=s.duration,u=s.toIndex,d=u===e,h=r===e,p=["story-tour-progress-bar"];if(i===Fe.Skipping)e>=u?p.push("story-tour-progress-bar--incomplete"):p.push("story-tour-progress-bar--complete");else if(h)switch(i){case Fe.Completed:p.push("story-tour-progress-bar--complete");break;case Fe.Playing:p.push("story-tour-progress-bar--playing");break;case Fe.Paused:p.push("story-tour-progress-bar--paused");break;case Fe.Rewinding:p.push("story-tour-progress-bar--rewinding");break;case Fe.FastForwarding:p.push("story-tour-progress-bar--fast-forwarding");break;case Fe.Idle:p.push("story-tour-progress-bar--incomplete")}else r===t-1&&0===u?p.push("story-tour-progress-bar--complete"):d&&i===Fe.Rewinding?p.push("story-tour-progress-bar--full-rewinding"):e<r?p.push("story-tour-progress-bar--complete"):e>r&&p.push("story-tour-progress-bar--incomplete");const f={};if(h&&(i===Fe.Playing||i===Fe.Paused?f.animationDuration=`${a}ms`:i===Fe.FastForwarding&&(f.animationDuration=`${l}ms`)),i===Fe.Rewinding){const e=n/(n+1);h&&d?f.animationDuration=`${l}ms`:h?f.animationDuration=e*l+"ms":d&&(f.animationDuration=(1-e)*l+"ms",f.animationDelay=e*l+"ms")}return(0,c.jsx)("div",{className:g()(...p),style:f})}function gn(){const e=fn();return(0,o.useEffect)((()=>{document.documentElement.style.setProperty("--currentTourScenePosition",100*e+"%")}),[e]),null}function vn(e){const{snapshot:t,numberOfHighlights:n,currentIndex:i,xOffset:r}=e,{name:o}=t,s=i===n-1,a={};0===i?(a.left="15px",a.transform="none"):s?(a.right="10px",a.transform="none"):a.left=`${r}px`;const l=g()("highlight-box","active"),u=g()("image-name",{shadowed:!!o});return(0,c.jsxs)("div",Object.assign({style:a,className:l},{children:[(0,c.jsx)(Zt.q,{aspectRatio:t.aspectRatio,resource:t.thumbnailUrl,className:"highlight-image"}),(0,c.jsx)("div",Object.assign({className:u},{children:(0,c.jsx)("span",Object.assign({className:"static-text"},{children:o}))}))]}))}pn.contextType=v.B;class yn extends o.Component{constructor(e){super(e),this.scrollbarRef=(0,o.createRef)(),this.reelRef=(0,o.createRef)(),this.onClickSceneBar=async e=>{e.preventDefault();const t=e.target.getAttribute("data-index");if(t){const e=parseInt(t,10),{tourPlaying:n,transition:i}=this.props,{analytics:r,engine:o}=this.context;try{const t=await o.getModuleBySymbol($e.Xf);n&&await t.stopTour({willResume:!0}),i.active||(r.track("showcase_gui",{gui_action:"click_scene_bar"}),await t.tourGoTo(e),n&&await t.startTour({index:e}))}catch(e){}}},this.onEnterSceneBar=e=>{const t=e.target.getAttribute("data-index");if(t){const n=parseInt(t,10);this.setState({focusedIndex:n,xOffset:e.clientX})}},this.onLeaveSceneBar=e=>{const t=e.target.getAttribute("data-index");if(t){parseInt(t,10)===this.state.focusedIndex&&this.setState({focusedIndex:-1})}},this.onScrollableChanged=e=>{this.setState({scrollable:e})},this.onScrollPositionChange=e=>{this.setState({scrollPosition:e})},this.state={focusedIndex:-1,xOffset:0,scrollLeft:0,scrollPosition:Kt.BB.None,scrollable:!1}}componentDidUpdate(){var e;const{activeStep:t,tourPlaying:n}=this.props,i=this.scrollbarRef.current;if(i&&!i.isDragging&&n){const n=null===(e=this.reelRef.current)||void 0===e?void 0:e.querySelector(`#highlightbar_${t}`);n&&i.scrollToElement(n)}}renderSceneBar(e,t){const{focusedIndex:n}=this.state,i=g()("highlight-bar",{"highlight-bar-hover":t<=n});return(0,c.jsx)("div",Object.assign({id:`highlightbar_${t}`,className:"highlight-compacted","data-index":t,onClick:this.onClickSceneBar,onMouseEnter:this.onEnterSceneBar,onMouseLeave:this.onLeaveSceneBar,onMouseMove:this.onEnterSceneBar},{children:(0,c.jsx)("div",Object.assign({className:i},{children:(0,c.jsx)(mn,{index:t})}))}),`${e.id}_bar_${t}`)}renderHighlightBox(){const{focusedIndex:e,xOffset:t}=this.state;if(-1===e)return null;const{highlights:n}=this.props,i=n[e];return(0,c.jsx)(vn,{snapshot:i.snapshot,numberOfHighlights:n.length,currentIndex:e,xOffset:t})}render(){const{highlights:e,tourPlaying:t}=this.props;return(0,c.jsxs)("div",Object.assign({className:g()("tour-story-reel",{"tour-playing":t}),ref:this.reelRef},{children:[(0,c.jsx)(gn,{}),(0,c.jsx)($t.A,Object.assign({direction:Kt.OP.horizontal,ref:this.scrollbarRef,hideScrollbar:!0,thumbScrollingOnly:!1,waitToUpdate:0===e.length,handleClick:this.onClickSceneBar,onScrollableChanged:this.onScrollableChanged,onScrollPositionChange:this.onScrollPositionChange},{children:(0,c.jsx)("div",Object.assign({className:"highlights"},{children:e.map(((e,t)=>this.renderSceneBar(e,t)))}))})),this.renderHighlightBox()]}))}}yn.contextType=v.B;class En extends o.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{var e;this.context.analytics.trackToolGuiEvent("hlr","tour_progress");const{reelOpen:t}=this.props;t||null===(e=this.context.engine.tryGetModuleBySymbolSync($e.XQ))||void 0===e||e.toggleReel(!0)}}getTourSteps(){const{totalSteps:e,activeStep:t}=this.props,n=[];for(let i=0;i<e;i++)n.push((0,c.jsx)("div",{className:g()({active:i===t})},i.toString()));return n}render(){const{reelOpen:e,tourPlaying:t,activeStep:n,totalSteps:i}=this.props,r=n+1+"/"+i,o=-1!==n&&!e&&r,s=-1!==n&&e&&t;return i>0?(0,c.jsxs)("div",Object.assign({id:"tour-progress",className:g()({"faded-in":t,"full-width":e}),onClick:this.handleClick,"data-balloon":o,"data-balloon-pos":"right","data-balloon-size":"xs"},{children:[s&&(0,c.jsx)("div",Object.assign({className:"progress-number"},{children:r})),-1!==n&&(0,c.jsx)("div",Object.assign({className:"progress-bar"},{children:this.getTourSteps()}))]})):null}}function Sn(e){const{activeStep:t,highlights:n,openTool:i,tourMode:r,tourPlaying:o,transition:s}=e,a=Je(),l=i===L.S0.HLR;if(r===Oe.cR.STORIES)return l&&!o?null:(0,c.jsx)(yn,{highlights:n,tourPlaying:o,activeStep:t,transition:s});{const e=a&&(!l||o),i=(null==n?void 0:n.length)||0,r=0===i;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(f.w,Object.assign({className:g()("highlight-reel",{"reel-empty":r,closed:!e}),open:e},{children:r?(0,c.jsx)(pn,{}):(0,c.jsx)(dn,{highlights:n,tourPlaying:o,activeStep:t,totalSteps:i,transition:s})})),o&&(0,c.jsx)(En,{activeStep:t,tourPlaying:o,totalSteps:i,reelOpen:a})]})}}En.contextType=v.B;const bn=new A.Ay("pause-button");class On extends o.Component{constructor(e){super(e),this.justEnded=!1,this.stopTour=async e=>{this.context.analytics.trackGuiEvent("tour_stopped");try{this.context.engine.getModuleBySymbol($e.Xf).then((e=>e.stopTour()))}catch(e){bn.debug(e)}},this.state={justPaused:!1}}componentDidUpdate(){this.state.justPaused&&this.setState({justPaused:!1}),this.justEnded=!1}UNSAFE_componentWillReceiveProps(e){!this.props.tourPlaying||e.tourPlaying||this.justEnded||this.setState({justPaused:!0}),this.props.tourEnded&&(this.justEnded=!0)}render(){const{tourPlaying:e}=this.props,{justPaused:t}=this.state;return(0,c.jsx)("div",Object.assign({id:"pause-button",onClick:this.stopTour,onTouchMove:this.stopTour,onTouchStart:this.stopTour,"data-cy":"pause-button"},{children:!e&&(0,c.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODQiIGhlaWdodD0iODQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNDIgMEMxOC43OSAwIDAgMTguNzkgMCA0MnMxOC43OSA0MiA0MiA0MiA0Mi0xOC43OSA0Mi00MlM2NS4yMSAwIDQyIDB6IiBmaWxsLW9wYWNpdHk9Ii4yNSIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTUxLjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6TTM0LjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==",className:g()({justPaused:t}),alt:"","aria-hidden":"true"})}))}}On.contextType=v.B;var _n=n(79070);function Tn(){const e=(0,Z.s)(),t=(0,ft.L)(),n=(0,w.Y)(),i=(0,R.T)()===L.S0.NOTES,r=n.t(y.A.NOTES_MODE);return(0,c.jsx)(P,{className:"notes-mode-button",icon:"comment-outline",active:i,onClick:()=>{const n=!i;n&&e.trackGuiEvent("notes_mode_click_open"),t.issueCommand(new h.yU(L.S0.NOTES,n))},tooltip:r,nudgeDisabled:!0},"notes-mode-button")}var An=n(38039);function wn(){const e=(0,Z.s)(),t=(0,ft.L)(),n=(0,w.Y)(),i=(0,R.T)()===L.S0.MEASUREMENTS,r=n.t(y.A.TOOLS.MEASUREMENTS),o=n.t(y.A.MEASUREMENT_NUDGE_TITLE),s=n.t(y.A.MEASUREMENT_NUDGE_MESSAGE),a=ee.Y.MeasurementUserNudgeSeen,l=An.Z,{show:u,dismiss:d}=X(Y.Measurements);return(0,c.jsx)(P,{className:"measure-mode-button",icon:"tape-measure",active:i,onClick:()=>{const n=!i;n&&e.trackToolGuiEvent("measurements","measure_mode"),t.issueCommand(new h.yU(L.S0.MEASUREMENTS,n))},tooltip:r,nudgeFeatureKey:l,nudgeTitle:o,nudgeMessage:s,nudgeLocalStorage:a,onNudgeDismissed:()=>{e.trackGuiEvent("measurement_nudge_dismissed")},showTimeout:u,dismissTimeout:d},"measure-mode-button")}var Nn=n(43591),In=n(36220),Rn=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},kn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ln=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};var Mn;!function(e){e.UP="up",e.DOWN="down"}(Mn||(Mn={}));let Dn=class extends o.Component{constructor(e){super(e),this.elementRef=(0,o.createRef)(),this.onOutsideClick=e=>{this.toggleDropdown(!1)},this.onToggleClick=e=>{e.stopPropagation(),this.toggleDropdown()},this.onTransitionEnd=e=>{e&&e.target!==e.currentTarget||(window.clearTimeout(this.transitionTimeout),this.setState({transitioning:!1}))},this.toggleDropdown=e=>{const{open:t}=this.state,n=void 0!==e?e:!t;n?window.addEventListener("click",this.onOutsideClick):window.removeEventListener("click",this.onOutsideClick),this.transitionTimeout=window.setTimeout(this.onTransitionEnd,1e3),this.setState({open:n,transitioning:!0})},this.state={open:!1,transitioning:!1}}componentWillUnmount(){window.removeEventListener("click",this.onOutsideClick)}render(){const{open:e,transitioning:t}=this.state,n=this.props,{children:i,className:r,direction:o}=n,s=Ln(n,["children","className","direction"]),a={up:o===Mn.UP,open:e,transitioning:t};return(0,c.jsxs)("div",Object.assign({ref:this.elementRef,className:g()("dropdown",a,r)},s,{children:[(0,c.jsx)("div",Object.assign({className:"dropdown-mask"},{children:(0,c.jsx)("div",Object.assign({className:"dropdown-menu",onTransitionEnd:this.onTransitionEnd},{children:i}))})),(0,c.jsx)("div",Object.assign({className:"dropdown-toggle"},{children:(0,c.jsx)(In.K0,{iconClass:"icon-toolbar-more-horiz",onClick:this.onToggleClick,className:"dropdown-toggle"})}))]}))}};Dn.defaultProps={direction:Mn.DOWN},Dn=Rn([Vt.A,kn("design:paramtypes",[Object])],Dn);var Pn=n(79243),Cn=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},xn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Un=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const jn="offsetWidth",Fn="collapsed";let Hn=class extends o.Component{constructor(e){super(e),this.contentRef=(0,o.createRef)(),this.collapsedRef=(0,o.createRef)(),this.toggleRef=(0,o.createRef)(),this.onResize=()=>{this.update()},this.update=(0,Pn.n)((()=>{var e;const t=null===(e=this.toggleRef.current)||void 0===e?void 0:e.elementRef.current,n=this.contentRef.current,i=this.collapsedRef.current;if(!n||!i||!t)return;const r=n.children,o=i.children;if(!r||r.length!==o.length)return;const s=n[jn],a=t[jn]||0;let l=0,c=0;for(let e=0;e<r.length;e++){let t=r[e][jn]||0;c||e!==r.length-1||(t-=a),l+=t,l<=s?(r[e].classList.remove(Fn),o[e].classList.add(Fn)):(c++,r[e].classList.add(Fn),o[e].classList.remove(Fn))}c!==this.state.collapsedCount&&this.setState({collapsedCount:c})}),50),this.state={collapsedCount:0},this.observer=new Nn.A(this.onResize)}componentDidMount(){this.connectObserver(),this.update()}componentDidUpdate(){this.update()}componentWillUnmount(){this.disconnectObserver(),this.reset()}connectObserver(){const e=this.contentRef.current;e&&this.observer.observe(e)}disconnectObserver(){this.observer&&this.observer.disconnect()}reset(){const e=this.contentRef.current;if(!e)return;const t=e.querySelectorAll(`.${Fn}`);Array.from(t).forEach((e=>e.classList.remove(Fn)))}getExpandedChildren(){const{children:e}=this.props,{collapsedCount:t}=this.state,n=o.Children.count(e)-t,i=[];return o.Children.forEach(e,((e,t)=>{t<n&&i.push((0,c.jsx)(o.Fragment,{children:e},t))})),i}getCollapsedChildren(){const{children:e}=this.props,{collapsedCount:t}=this.state,n=o.Children.count(e)-t,i=[];return o.Children.forEach(e,((e,t)=>{t>=n&&i.push((0,c.jsx)(o.Fragment,{children:e},t))})),i}render(){const e=this.props,{children:t,className:n}=e,i=Un(e,["children","className"]),{collapsedCount:r}=this.state,o=`collapsible-list ${n}`,s={hidden:0===r};if(!t||!Array.isArray(t))return t;const a=this.getExpandedChildren(),l=this.getCollapsedChildren();return(0,c.jsxs)("div",Object.assign({className:g()(o)},i,{children:[(0,c.jsxs)("div",Object.assign({ref:this.contentRef,className:"collapsible-list-items"},{children:[(0,c.jsx)(I.Provider,Object.assign({value:{outOfScope:!1}},{children:a})),(0,c.jsx)(I.Provider,Object.assign({value:{outOfScope:!0}},{children:l}))]})),(0,c.jsx)(Dn,Object.assign({ref:this.toggleRef,direction:Mn.UP,className:g()(s)},{children:(0,c.jsxs)("div",Object.assign({ref:this.collapsedRef,className:"collapsible-list-menu"},{children:[(0,c.jsx)(I.Provider,Object.assign({value:{outOfScope:!0}},{children:a})),(0,c.jsx)(I.Provider,Object.assign({value:{outOfScope:!1}},{children:l}))]}))}))]}))}};Hn.defaultProps={},Hn=Cn([Vt.A,xn("design:paramtypes",[Object])],Hn);var Gn=n(57447),Bn=n(68419);const Vn=(0,we.u)(Ze.F,"currentTourMode",Oe.cR.NONE);var Wn=n(21162),zn=n(26432),$n=n(25773);var Kn=n(35404),Yn=n(55057);const qn=(0,ne.v)(Yn.q);var Qn=n(47737);const Xn=(0,we.u)(Qn.P,"currentViewId",""),Zn=()=>{const e=qn(),t=Xn(),n=function(){const e=(0,z._)(),[t,n]=(0,o.useState)(null==e?void 0:e.getBaseModelId());return(0,o.useEffect)((()=>{if(!e)return()=>{};function t(){n(null==e?void 0:e.getBaseModelId())}const i=e.onModelViewsChanged(t);return t(),()=>null==i?void 0:i.cancel()}),[e]),t}(),i=(0,H.i)(Kn.k5,"");if(i&&(null==e?void 0:e.model.hasDiscoverUrl())){const e=new URL(`${i}${n}`,"https://matterport.com");return t&&t!==n&&e.searchParams.set("view",t),e.toString()}return null};var Jn=n(60221);const ei="https://matterport.com",ti=()=>{const e=(0,w.Y)(),t=!(0,H.i)(Kn.qu,!1),n=Zn(),i=(0,we.Z)($n.d,"applicationKeys",new Ce.X).values(),r=e.t(y.A.ALT_MATTERPORT_LOGO),s=(0,c.jsx)("img",{className:"footer-logo",alt:r,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQxNSIgaGVpZ2h0PSIyOTgiIHZpZXdCb3g9IjAgMCAxNDE1IDI5OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUzOC4yODEgMjA5LjQ4N0w1MjYuNTcxIDExNi40NTNMNDc5LjM1MSAyMzcuMzk3SDQ3Mi4xNzNMNDIxLjkzMSAxMTUuNjYxTDQxMC41OTggMjA5LjQ4N0M0MTAuNDEgMjExLjA3IDQxMC4yMjEgMjE0LjAzOSA0MTAuMjIxIDIxNC44MzFDNDEwLjIyMSAyMjUuNTIgNDE1LjUwOSAyMjguMDkzIDQzMC42MiAyMjguODg1VjIzNy4zOTdIMzgwVjIyOC44ODVDMzkyLjA4OCAyMjguMjkxIDM5Ni42MjEgMjI1LjkxNiAzOTcuOTQ0IDIxNS42MjNMNDExLjM1NCAxMDcuNTQ1QzQxMS4zNTQgOTUuODY2NCA0MDcuNTc2IDkyLjEwNTQgMzkzLjQxIDkxLjUxMTZWODNINDMyLjY5N0M0MzMuMDc1IDg3Ljk0ODYgNDM0LjIwOCA5MC43MTk4IDQzNi4wOTcgOTUuMjcyNkw0ODAuNjczIDIwNC41MzhMNTIyLjc5MyA5NS4yNzI2QzUyNC40OTMgOTAuNzE5OCA1MjUuODE1IDg3Ljk0ODYgNTI2LjE5MyA4M0g1NjQuNTM1VjkxLjUxMTZDNTUwLjM2OSA5Mi4xMDU0IDU0Ni41OTIgOTUuODY2NCA1NDYuNTkyIDEwNy41NDVMNTYwLjAwMiAyMTUuNjIzQzU2MS4zMjQgMjI1LjkxNiA1NjUuODU4IDIyOC4yOTEgNTc3Ljk0NiAyMjguODg1VjIzNy4zOTdINTE4LjI2VjIyOC44ODVDNTMzLjM3IDIyOC4wOTMgNTM4LjY1OSAyMjUuNTIgNTM4LjY1OSAyMTQuODMxQzUzOC42NTkgMjE0LjAzOSA1MzguNDcgMjExLjA3IDUzOC4yODEgMjA5LjQ4N1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik02MjYuMDgzIDIyNS4xMjRDNjM3LjIyNyAyMjUuMTI0IDY0My40NiAyMTkuOTc4IDY1Mi4zMzcgMjEyLjg1MlYxODMuNTU2TDYxOS4yODMgMTk0LjQ0M0M2MTIuNjczIDE5Ni42MiA2MDguODk1IDIwMC41NzkgNjA4Ljg5NSAyMDguMTAxQzYwOC44OTUgMjE5LjM4NCA2MTUuNjk1IDIyNS4xMjQgNjI2LjA4MyAyMjUuMTI0Wk02NzEuMjI1IDE2OC41MTJWMjExLjQ2NkM2NzEuMjI1IDIyMC4xNzYgNjc0LjQzNiAyMjQuOTI2IDY4MC4xMDMgMjI0LjkyNkM2ODEuODAzIDIyNC45MjYgNjg1LjU4IDIyNC41MyA2ODguNDEzIDIyMy43MzlMNjkwLjMwMiAyMjkuODc1QzY4My42OTEgMjM2LjYwNSA2NzcuNjQ3IDIzOS4zNzYgNjcwLjY1OSAyMzkuMzc2QzY2MC44MzcgMjM5LjM3NiA2NTUuOTI2IDIzMi4yNSA2NTIuOTA0IDIyMS4zNjNDNjQ1LjkxNSAyMjkuNDc5IDYzNS4xNDkgMjM5LjM3NiA2MTcuNTg0IDIzOS4zNzZDNTk4Ljg4NCAyMzkuMzc2IDU4OC44NzQgMjI3LjY5NyA1ODguODc0IDIxMi4yNThDNTg4Ljg3NCAxOTMuODQ5IDYwMS4zNCAxODkuNDk0IDYxNS44ODQgMTg1LjEzOUw2NTIuMzM3IDE3My44NTdWMTY5LjdDNjUyLjMzNyAxNTMuNDY4IDY0NS4xNiAxNDAuOCA2MjguOTE2IDE0MC44QzYxOC4zMzkgMTQwLjggNjEzLjIzOSAxNDUuMzUzIDYxMy4yMzkgMTU1LjQ0OEM2MTMuMjM5IDE1Ny40MjcgNjEzLjYxNyAxNjAuOTkgNjE0LjE4NCAxNjQuOTQ5TDU5OC41MDcgMTY2LjkyOEM1OTUuODYyIDE2NC4xNTcgNTk0LjM1MSAxNjAuOTkgNTk0LjM1MSAxNTYuMjM5QzU5NC4zNTEgMTQwLjAwOCA2MTEuMzUxIDEzMC41MDcgNjMyLjUwNSAxMzAuNTA3QzY1NS43MzcgMTMwLjUwNyA2NzEuMjI1IDE0MC42MDIgNjcxLjIyNSAxNjguNTEyWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTcyMy41MjQgMTA5LjkyVjEzMi40ODZINzUyLjk4OVYxNDMuMzczSDcyMy41MjRWMjA0LjM0QzcyMy41MjQgMjE4LjU5MiA3MjkuMzggMjI0LjkyNiA3NDAuOTAxIDIyNC45MjZDNzQ2LjAwMSAyMjQuOTI2IDc1MC45MTIgMjIzLjkzNiA3NTYuMDEyIDIyMS4zNjNMNzU4LjI3OCAyMjYuOTA2Qzc1My41NTYgMjMyLjQ0OCA3NDUuMDU3IDIzOS4zNzYgNzMyLjAyNCAyMzkuMzc2QzcxNy42NjkgMjM5LjM3NiA3MDQuNjM2IDIzMS42NTYgNzA0LjYzNiAyMTEuMjY4VjE0My4zNzNINjkwLjA5M1YxMzYuNDQ1QzcwMC4xMDMgMTMwLjExMSA3MDguMjI1IDEyMi41ODkgNzE3Ljg1OCAxMDkuOTJINzIzLjUyNFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik03OTYuNzkzIDEwOS45MlYxMzIuNDg2SDgyNi4yNThWMTQzLjM3M0g3OTYuNzkzVjIwNC4zNEM3OTYuNzkzIDIxOC41OTIgODAyLjY0OCAyMjQuOTI2IDgxNC4xNyAyMjQuOTI2QzgxOS4yNyAyMjQuOTI2IDgyNC4xOCAyMjMuOTM2IDgyOS4yOCAyMjEuMzYzTDgzMS41NDcgMjI2LjkwNkM4MjYuODI1IDIzMi40NDggODE4LjMyNSAyMzkuMzc2IDgwNS4yOTIgMjM5LjM3NkM3OTAuOTM4IDIzOS4zNzYgNzc3LjkwNSAyMzEuNjU2IDc3Ny45MDUgMjExLjI2OFYxNDMuMzczSDc2My4zNjFWMTM2LjQ0NUM3NzMuMzcyIDEzMC4xMTEgNzgxLjQ5NCAxMjIuNTg5IDc5MS4xMjcgMTA5LjkySDc5Ni43OTNaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNODg2LjY2OCAxMzAuNTA3QzkxNC4yNDUgMTMwLjUwNyA5MjguNiAxNDguNzE4IDkyOC42IDE3Mi40NzFWMTc4LjAxM0g4NTQuNTU5Qzg1NC41NTkgMjA1LjMzIDg2NS44OTIgMjIyLjE1NSA4OTAuODI0IDIyMi4xNTVDOTA2LjUwMSAyMjIuMTU1IDkxNy4wNzggMjE0LjYzMyA5MjMuMzExIDIwNi41MTdMOTI4Ljc4OSAyMDkuMDkxQzkyNC42MzMgMjIzLjU0MSA5MTEuNjAxIDIzOS4zNzYgODg0Ljk2OSAyMzkuMzc2Qzg1NC41NTkgMjM5LjM3NiA4MzYuNjE1IDIxNi42MTMgODM2LjYxNSAxODguMzA2QzgzNi42MTUgMTUzLjY2NiA4NTcuNzcgMTMwLjUwNyA4ODYuNjY4IDEzMC41MDdaTTg4MS45NDcgMTQyLjc3OUM4NjcuMDI1IDE0Mi43NzkgODU3LjIwMyAxNTMuMjcgODU1LjEyNiAxNjguMTE2SDkwNy44MjNDOTA3LjgyMyAxNTQuMjYgODk4Ljk0NiAxNDIuNzc5IDg4MS45NDcgMTQyLjc3OVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik05NzMuMjcxIDEzMC41MDdMOTcyLjMyNiAxNjAuNzkyQzk4MS4yMDQgMTQ0LjM2MyA5ODkuNzAzIDEzMC41MDcgMTAwMy40OSAxMzAuNTA3QzEwMDguMDIgMTMwLjUwNyAxMDEwLjg2IDEzMS42OTQgMTAxMi43NSAxMzMuMjc4VjE1MS42ODdIMTAwNUM5OTIuOTE0IDE1MS42ODcgOTg0Ljk4MSAxNTQuNjU2IDk3Mi4zMjYgMTcwLjA5NlYyMTcuNjAyQzk3Mi4zMjYgMjI3LjQ5OSA5NzcuMjM3IDIyOC4wOTMgOTkxLjIxNCAyMjkuNjc3VjIzNy4zOTdIOTM4LjMyOFYyMjkuNjc3Qzk0Ny4wMTcgMjI4LjQ4OSA5NTMuNDM4IDIyNy40OTkgOTUzLjQzOCAyMTguMzk0VjE1Mi4wODNMOTM5LjI3MiAxNDUuMTU1VjE0MC40MDRMOTY2LjY2IDEzMC41MDdIOTczLjI3MVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMDgyLjI2IDIzOS4zNzZDMTA3MC45MyAyMzkuMzc2IDEwNjIuMjQgMjM2LjIwOSAxMDU2LjIgMjMxLjQ1OFYyNjUuOTAxQzEwNTYuMiAyNzUuMDA2IDEwNjIuNjIgMjc1Ljk5NiAxMDcxLjMxIDI3Ny4xODRWMjg0LjkwM0gxMDIyLjJWMjc3LjE4NEMxMDMwLjg5IDI3NS45OTYgMTAzNy4zMSAyNzUuMDA2IDEwMzcuMzEgMjY1LjkwMVYxNTIuMDgzTDEwMjMuMTQgMTQ1LjE1NVYxNDAuNDA0TDEwNTAuNTMgMTMwLjUwN0gxMDU3LjE0TDEwNTYuMiAxNDguOTE2QzEwNjQuMzIgMTM4LjAyOSAxMDc3LjU0IDEzMC41MDcgMTA5Mi4yNyAxMzAuNTA3QzExMjEuMzYgMTMwLjUwNyAxMTM2LjY2IDE1Mi42NzYgMTEzNi42NiAxNzkuOTkzQzExMzYuNjYgMjE2LjYxMyAxMTEyLjExIDIzOS4zNzYgMTA4Mi4yNiAyMzkuMzc2Wk0xMDg0LjM0IDIyOC4wOTNDMTEwNC4xNyAyMjguMDkzIDExMTcuMjEgMjEzLjg0MSAxMTE3LjIxIDE4OC4zMDZDMTExNy4yMSAxNjcuNzIgMTEwOS40NiAxNDUuNTUgMTA4NS4xIDE0NS41NUMxMDczLjU3IDE0NS41NSAxMDYyLjYyIDE1MS40ODkgMTA1Ni4yIDE1OC42MTVWMjAzLjE1MkMxMDU2LjIgMjIxLjk1NyAxMDY5Ljk5IDIyOC4wOTMgMTA4NC4zNCAyMjguMDkzWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEyMDIuODcgMjI3LjEwNEMxMjIxLjc2IDIyNy4xMDQgMTIzMS4yIDIxMS4yNjggMTIzMS4yIDE4OS42OTJDMTIzMS4yIDE2NC4xNTcgMTIxNy45OCAxNDIuNzc5IDExOTUuMzIgMTQyLjc3OUMxMTc2LjQzIDE0Mi43NzkgMTE2Ni45OCAxNTguNjE1IDExNjYuOTggMTgwLjE5MUMxMTY2Ljk4IDIwNS43MjYgMTE4MC4yMSAyMjcuMTA0IDEyMDIuODcgMjI3LjEwNFpNMTE5Ny4yMSAyMzkuMzc2QzExNjcuMzYgMjM5LjM3NiAxMTQ2Ljk2IDIxNy40MDQgMTE0Ni45NiAxODYuOTIxQzExNDYuOTYgMTUyLjI4MSAxMTcxLjkgMTMwLjUwNyAxMjAwLjk4IDEzMC41MDdDMTIzMC44MyAxMzAuNTA3IDEyNTEuMjIgMTUyLjQ3OSAxMjUxLjIyIDE4Mi45NjJDMTI1MS4yMiAyMTcuNjAyIDEyMjYuMjkgMjM5LjM3NiAxMTk3LjIxIDIzOS4zNzZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTI5Ni44NiAxMzAuNTA3TDEyOTUuOTEgMTYwLjc5MkMxMzA0Ljc5IDE0NC4zNjMgMTMxMy4yOSAxMzAuNTA3IDEzMjcuMDggMTMwLjUwN0MxMzMxLjYxIDEzMC41MDcgMTMzNC40NCAxMzEuNjk0IDEzMzYuMzMgMTMzLjI3OFYxNTEuNjg3SDEzMjguNTlDMTMxNi41IDE1MS42ODcgMTMwOC41NyAxNTQuNjU2IDEyOTUuOTEgMTcwLjA5NlYyMTcuNjAyQzEyOTUuOTEgMjI3LjQ5OSAxMzAwLjgyIDIyOC4wOTMgMTMxNC44IDIyOS42NzdWMjM3LjM5N0gxMjYxLjkxVjIyOS42NzdDMTI3MC42IDIyOC40ODkgMTI3Ny4wMiAyMjcuNDk5IDEyNzcuMDIgMjE4LjM5NFYxNTIuMDgzTDEyNjIuODYgMTQ1LjE1NVYxNDAuNDA0TDEyOTAuMjUgMTMwLjUwN0gxMjk2Ljg2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEzODAuMjUgMTA5LjkyVjEzMi40ODZIMTQwOS43MVYxNDMuMzczSDEzODAuMjVWMjA0LjM0QzEzODAuMjUgMjE4LjU5MiAxMzg2LjEgMjI0LjkyNiAxMzk3LjYyIDIyNC45MjZDMTQwMi43MiAyMjQuOTI2IDE0MDcuNjMgMjIzLjkzNiAxNDEyLjczIDIyMS4zNjNMMTQxNSAyMjYuOTA2QzE0MTAuMjggMjMyLjQ0OCAxNDAxLjc4IDIzOS4zNzYgMTM4OC43NSAyMzkuMzc2QzEzNzQuMzkgMjM5LjM3NiAxMzYxLjM2IDIzMS42NTYgMTM2MS4zNiAyMTEuMjY4VjE0My4zNzNIMTM0Ni44MVYxMzYuNDQ1QzEzNTYuODMgMTMwLjExMSAxMzY0Ljk1IDEyMi41ODkgMTM3NC41OCAxMDkuOTJIMTM4MC4yNVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTI1LjYzMSAxLjY5MTQ0QzEyNy4yOTcgMC40OTMzNjYgMTMwLjAwNSAwLjQzNTg4MyAxMzEuNjk2IDEuNTY4NDFWMS41Njg0MUwxODMuMjg3IDM2LjI4MTNDMTg0Ljk5OCAzNy40NjgyIDE4NS40MiAzOS44MTA5IDE4NC4yMzkgNDEuNTI1NFY0MS41MjU0TDE0Ny44MTEgOTEuNjYwOUMxNDYuNjE3IDkzLjMxMTggMTQ0LjA1MiA5NC4xOTMyIDE0Mi4wNTcgOTMuNjU3N1Y5My42NTc3TDQyLjM5MjYgNjYuMDYzN0M0MC40MjMxIDY1LjQ4NjggNDAuMTQ3OCA2My45OTYzIDQxLjgwNTYgNjIuNzU2OVY2Mi43NTY5TDEyNS42MzEgMS42OTE0NFoiIGZpbGw9IiNGRjMxNTgiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ni4wNjUxIDkyLjMyNTdMOTIuMzQxNCAxNDIuNTk4QzkzLjUzMTYgMTQ0LjI0MSA5My41ODQyIDE0Ni45OCA5Mi40NDM2IDE0OC42OEwzNS40ODkzIDIzNS4yOEMzNC4zMjQ0IDIzNy4wMDUgMzIuODQyNyAyMzYuNzk5IDMyLjE4MTggMjM0Ljg1MkwwLjIyMzA3NyAxMzUuOTY5Qy0wLjQxNzU3NSAxMzQuMDA4IDAuMzcwODQyIDEzMS4zOTQgMS45NTg4MSAxMzAuMTQ2TDUwLjgxNzQgOTEuNjE2N0M1Mi40NjYxIDkwLjM2MTMgNTQuODA5MSA5MC42OTQgNTYuMDY1MSA5Mi4zMjU3WiIgZmlsbD0iI0ZGMzE1OCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIwNC45NDMgMjAuMzk1MUwyMDkuNTkzIDEyNC4wNDJDMjA5LjY1OSAxMjYuMTAxIDIxMS4zMTIgMTI4LjI1OSAyMTMuMjM3IDEyOC45MDlMMjcyLjA0MiAxNDguMTczQzI3NC4wMjUgMTQ4Ljc2MiAyNzYuMTA0IDE0Ny42MjQgMjc2LjcxMiAxNDUuNjY5TDI5My42NjggODUuNjgwMUMyOTQuMjEgODMuNzIzNyAyOTMuMzIzIDgxLjEyOTkgMjkxLjY2NSA3OS45MzE5TDIwNy44OTUgMTguODA2OEMyMDYuMjA4IDE3LjYwNzcgMjA0Ljg4MyAxOC4zMTk3IDIwNC45NDMgMjAuMzk1MVYyMC4zOTUxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yOTguNDExIDE2MS4zNzFMMjAxLjU5OCAxOTcuODQ0QzE5OS42OSAxOTguNTUzIDE5OC4xMzUgMjAwLjc5NyAxOTguMTM1IDIwMi44MzZMMTk4LjA1NyAyNjQuODg5QzE5OC4xMDIgMjY2Ljk1OSAxOTkuOCAyNjguNjE5IDIwMS44NzMgMjY4LjU2MkwyNjMuOTQ5IDI2Ni4yMDZDMjY1Ljk4NCAyNjYuMTI4IDI2OC4xNDcgMjY0LjQ4MSAyNjguNzc4IDI2Mi41MzhMMzAwLjgzMiAxNjMuNzE0QzMwMS40NCAxNjEuNzIgMzAwLjMzOSAxNjAuNjY3IDI5OC40MTEgMTYxLjM3MVYxNjEuMzcxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOTMuNjggMjk0LjIyMkwxMjkuMjE2IDIxMy4xMDFDMTI3Ljk1NiAyMTEuNSAxMjUuMzMzIDIxMC42ODggMTIzLjQwNCAyMTEuMzE4TDY0LjU2MjUgMjMwLjQwMUM2Mi42MDExIDIzMS4wOTIgNjEuNTcxOCAyMzMuMjIyIDYyLjI1NyAyMzUuMjAyTDgzLjY0ODUgMjkzLjcyQzg0LjM3MTIgMjk1LjYyMyA4Ni42MDM4IDI5Ny4xODMgODguNjQzMiAyOTcuMTgzTDE5Mi4yMjIgMjk3LjI0NUMxOTQuMjgzIDI5Ny4yMTIgMTk0Ljk1MiAyOTUuODcgMTkzLjY4IDI5NC4yMjJWMjk0LjIyMloiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="}),a=(0,o.useMemo)((()=>i.some((({sdkType:e})=>e===Jn.p.Type.BUNDLE||e===Jn.p.Type.EMBED))?ei:n||ei),[i,n]);return t?(0,c.jsx)("a",Object.assign({className:"link logo-link",href:a,target:"_blank","data-testid":"footer-logo-link"},{children:s})):s};var ni=n(4717);const ii="gui";function ri(e){const t=(0,w.Y)(),n=(0,Z.s)(),i=(0,ft.L)(),r=(0,ni.G)(),o=!!r&&(0,G.AF)(r),{isWorkshop:s=!1,modelRatingEnabled:a,disabled:l}=e;return s&&!a?null:(0,c.jsxs)(Wn.e,Object.assign({className:"showcase-footer","data-testid":"showcase-footer"},{children:[!l&&o&&!s&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(p.$n,{variant:p.Ak.TERTIARY,size:"small",theme:"overlay",onClick:()=>{const t=e.openModal===xt.a.DEFURNISH_AI;i.issueCommand(new Ut.X(xt.a.DEFURNISH_AI,!t)),n.trackGuiEvent("click_defurnish_ai_warning",{interactionSource:ii})},className:"defurnish-ai-warning",ariaRole:"link",ariaHasPopup:"dialog",disabled:l,label:t.t(y.A.DEFURN_AI_WARNING)}),(0,c.jsx)("span",{children:" | "})]}),!l&&a&&(0,c.jsx)(p.$n,{variant:p.Ak.TERTIARY,size:"small",theme:"overlay",onClick:()=>{i.issueCommand(new zn.c),n.trackGuiEvent("click_feedback_button",{interactionSource:ii})},className:"model-feedback-link",ariaRole:"link",ariaHasPopup:"dialog",disabled:l,label:t.t(y.A.FEEDBACK)}),!l&&!s&&a&&(0,c.jsx)("span",{children:" | "}),!l&&!s&&(0,c.jsx)(p.$n,{variant:p.Ak.TERTIARY,size:"small",theme:"overlay",onClick:()=>{const t=e.openModal===xt.a.HELP;i.issueCommand(new Ut.X(xt.a.HELP,!t)),n.trackGuiEvent("click_help_button",{interactionSource:ii})},ariaRole:"link",disabled:l,ariaHasPopup:"dialog",label:t.t(y.A.HELP)}),!l&&!s&&(0,c.jsx)("span",{children:" | "}),!l&&!s&&(0,c.jsx)(p.$n,{variant:p.Ak.TERTIARY,size:"small",theme:"overlay",onClick:()=>{const t=e.openModal===xt.a.TERMS;i.issueCommand(new Ut.X(xt.a.TERMS,!t)),n.trackGuiEvent("click_terms_button",{interactionSource:ii})},ariaRole:"link",disabled:l,ariaHasPopup:"dialog",label:t.t(y.A.TERMS)}),!l&&!s&&(0,c.jsx)(ti,{})]}))}function oi(){const e=(0,R.T)(),t=(0,Bn.t)(),n=(0,H.i)(Gn.n,!1),i=Je(),r=Vn(),o=i&&!e&&r===Oe.cR.LEGACY,s=!e,a=!t||t===xt.a.TERMS;return(0,c.jsx)("div",Object.assign({className:g()("footer-ui",{"footer-ui-shaded":o,disabled:!a})},{children:s&&(0,c.jsx)(ri,{openModal:t,disabled:!a,modelRatingEnabled:n})}))}var si=n(77489);const ai=(0,we.u)(si.G,"isDialogVisible",!1);var li,ci=n(13584),ui=n(50178),di=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},hi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e[e.OUTLINED=0]="OUTLINED",e[e.ADJUSTABLE=1]="ADJUSTABLE"}(li||(li={}));const pi=function*(){let e=0;for(;;)yield e++}();let fi=class extends o.Component{constructor(e){super(e),this.elementRef=(0,o.createRef)(),this.onInput=e=>{if(this.props.onInput){const t=e.target;this.props.onInput(t.value)}},this.onKeyPress=e=>{e.stopPropagation();const t=e.which||e.keyCode,n=[be.D.RETURN];if("keydown"===e.type&&!n.includes(t))return!1;const i=e.target;if(this.props.maxLength&&i.value.length>this.props.maxLength&&e.preventDefault(),t===be.D.RETURN)e.shiftKey||(e.preventDefault(),this.blur(),this.props.onDone(i.value));return!1},this.stopPropagation=e=>e.stopPropagation(),this.onChange=e=>{this.updateHeight()},this.onFocus=e=>{this.context.messageBus.broadcast(new ui.Yl(this.input,!0)),this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0})},this.onBlur=e=>{this.context.messageBus.broadcast(new ui.Yl(this.input,!1)),this.props.onBlur&&this.props.onBlur(e),this.setState({isFocused:!1})},this.setRef=e=>this.input=e,this.instanceId=`textarea-${pi.next().value}`,this.state={currentText:e.text,isFocused:!1}}componentDidMount(){this.props.focusOnMount&&this.input&&this.input.focus(),this.props.scrollIntoViewOnMount&&this.input&&this.input.scrollIntoView(),this.updateHeight()}componentWillUnmount(){this.input&&this.input.blur()}UNSAFE_componentWillReceiveProps(e){e.text!==this.props.text&&this.setState({currentText:e.text})}componentDidUpdate(e,t){t.currentText!==this.state.currentText&&this.updateHeight()}getText(){return this.input?this.input.value:""}focus(){this.input.focus()}blur(){this.input.blur()}updateHeight(){if(this.props.inputStyle===li.ADJUSTABLE){const e=this.elementRef.current;if(!this.input||!e)return;e.style.height="",this.input.style.overflowY="";const t=this.input.scrollHeight;e.style.height=`${t}px`,t>e.scrollHeight&&(this.input.style.overflowY="auto")}}render(){const{placeholder:e,tabIndex:t,maxLength:n,inputStyle:i=li.OUTLINED,label:r,name:o,readOnly:s,rows:a}=this.props,{currentText:l,isFocused:u}=this.state,d=o||this.instanceId,h=""===l,p=r&&(i!==li.ADJUSTABLE||u||!h),f=i===li.ADJUSTABLE?1:a;return(0,c.jsxs)("div",Object.assign({className:g()("textarea-container",`textarea-style-${li[i].toLowerCase()}`,{focused:u,readonly:s,placeholder:h}),ref:this.elementRef},{children:[p&&(0,c.jsx)("label",Object.assign({className:"label",htmlFor:d},{children:r})),(0,c.jsx)("textarea",{className:"textarea",value:l,ref:this.setRef,name:d,placeholder:e,maxLength:n,onInput:this.onInput,onChange:this.onChange,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyPress,onKeyUp:this.stopPropagation,onBlur:this.onBlur,onFocus:this.onFocus,rows:f,tabIndex:t,readOnly:s})]}))}};fi.contextType=v.B,fi=di([Vt.A,hi("design:paramtypes",[Object])],fi);const mi=fi;var gi=n(59618),vi=n(98715);const{MODEL_RATING:yi}=y.A.WORKSHOP,Ei={HAPPINESS:"happiness",QUALITY:"quality",NAVIGATION:"navigation",FEEDBACK:"feedback"},Si=Ei.HAPPINESS,bi={[Ei.HAPPINESS]:yi.HAPPINESS_TITLE,[Ei.QUALITY]:yi.QUALITY_ISSUES_TITLE,[Ei.NAVIGATION]:yi.NAVIGATION_ISSUES_TITLE,[Ei.FEEDBACK]:yi.FEEDBACK_TITLE},Oi={[Ei.HAPPINESS]:yi.HAPPINESS_BODY},_i={[Ei.QUALITY]:[{text:yi.QUALITY_ISSUES_LIGHTING,value:"lighting"},{text:yi.QUALITY_ISSUES_3D_MESH,value:"3d_mesh"},{text:yi.QUALITY_ISSUES_COLORING,value:"coloring"},{text:yi.QUALITY_ISSUES_IMAGE_QUALITY,value:"image_quality"}],[Ei.NAVIGATION]:[{text:yi.NAVIGATION_ISSUES_BLOCKED_DOORWAYS,value:"blocked_doorways"},{text:yi.NAVIGATION_ISSUES_OBSTRUCTIONS,value:"obstructions"},{text:yi.NAVIGATION_ISSUES_MISALIGNED_SCANS,value:"misaligned_scans"},{text:yi.NAVIGATION_ISSUES_FLOOR_SEPARATION,value:"floor_separation"},{text:yi.NAVIGATION_ISSUES_DISAPPEARING_FLOORS,value:"disappearing_floors"}]};var Ti;!function(e){e[e.Disappointed=0]="Disappointed",e[e.Unsatisfied=1]="Unsatisfied",e[e.Neutral=2]="Neutral",e[e.Satisfied=3]="Satisfied",e[e.Happy=4]="Happy"}(Ti||(Ti={}));var Ai=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let wi=class extends o.Component{render(){switch(this.props.icon){case Ti.Disappointed:return(0,c.jsxs)("svg",Object.assign({width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 28C21.9557 28 28 21.9557 28 14.5C28 7.04503 21.9557 1 14.5 1C7.04506 1 1 7.04506 1 14.5C1 21.9557 7.04503 28 14.5 28ZM14.5 29C22.508 29 29 22.508 29 14.5C29 6.49278 22.508 0 14.5 0C6.49278 0 0 6.49278 0 14.5C0 22.508 6.49278 29 14.5 29Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M9.26389 16.1111C10.3761 16.1111 11.2778 14.8488 11.2778 13.2917C11.2778 11.7345 10.3761 10.4722 9.26389 10.4722C8.15165 10.4722 7.25 11.7345 7.25 13.2917C7.25 14.8488 8.15165 16.1111 9.26389 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.7361 16.1111C20.8484 16.1111 21.75 14.8488 21.75 13.2917C21.75 11.7345 20.8484 10.4722 19.7361 10.4722C18.6239 10.4722 17.7222 11.7345 17.7222 13.2917C17.7222 14.8488 18.6239 16.1111 19.7361 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M4.83253 9.66666C4.66497 9.66666 4.495 9.6143 4.35 9.50555C3.99394 9.23891 3.92225 8.73383 4.18889 8.37777C6.81661 4.87361 10.324 4.83333 10.4722 4.83333C10.9169 4.83333 11.2778 5.19422 11.2778 5.63888C11.2778 6.08274 10.9193 6.44283 10.4754 6.44444C10.3506 6.44605 7.60122 6.51372 5.47778 9.34444C5.31989 9.5555 5.07742 9.66666 4.83253 9.66666ZM24.1675 9.66666C23.9218 9.66666 23.6809 9.5555 23.5222 9.34444C21.3956 6.50808 18.6397 6.44605 18.5229 6.44444C18.0799 6.43961 17.7222 6.07711 17.7246 5.63486C17.7271 5.19099 18.0847 4.83333 18.5278 4.83333C18.676 4.83333 22.1826 4.87361 24.8111 8.37777C25.0786 8.73383 25.0061 9.23891 24.65 9.50555C24.505 9.6143 24.3358 9.66666 24.1675 9.66666V9.66666ZM18.9185 22.4581C18.9096 22.4226 17.9961 18.9306 14.5 18.9306C11.0039 18.9306 10.0904 22.4226 10.0815 22.4581C10.0388 22.6297 10.117 22.8053 10.2684 22.8963C10.4199 22.9865 10.6172 22.9656 10.7485 22.848C10.7558 22.8415 11.5646 22.1528 14.5 22.1528C17.3919 22.1528 18.2192 22.8214 18.2507 22.848C18.3272 22.9205 18.4271 22.9583 18.5278 22.9583C18.5954 22.9583 18.6639 22.9414 18.7259 22.9068C18.8838 22.8166 18.9628 22.6337 18.9185 22.4581V22.4581Z",fill:"#222222"})]}));case Ti.Unsatisfied:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.125 28C22.5808 28 28.625 21.9558 28.625 14.5C28.625 7.04416 22.5808 1 15.125 1C7.66916 1 1.625 7.04416 1.625 14.5C1.625 21.9558 7.66916 28 15.125 28ZM29.625 14.5C29.625 22.5081 23.1331 29 15.125 29C7.11687 29 0.625 22.5081 0.625 14.5C0.625 6.49187 7.11687 0 15.125 0C23.1331 0 29.625 6.49187 29.625 14.5Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M21.1546 22.0553C21.1183 21.9111 20.2137 18.5278 15.125 18.5278C10.0355 18.5278 9.13167 21.9111 9.09542 22.0553C9.05111 22.2301 9.13006 22.4114 9.28633 22.5016C9.44342 22.591 9.63997 22.5644 9.76967 22.4395C9.78497 22.4242 11.3437 20.9444 15.125 20.9444C18.9063 20.9444 20.4658 22.4242 20.4803 22.4387C20.5577 22.5153 20.6608 22.5555 20.7639 22.5555C20.8316 22.5555 20.9 22.5386 20.9621 22.504C21.1199 22.4138 21.1989 22.2309 21.1546 22.0553Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M10.2917 13.6944C11.4039 13.6944 12.3055 12.4321 12.3055 10.875C12.3055 9.31787 11.4039 8.05556 10.2917 8.05556C9.17942 8.05556 8.27777 9.31787 8.27777 10.875C8.27777 12.4321 9.17942 13.6944 10.2917 13.6944Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.9583 13.6944C21.0706 13.6944 21.9722 12.4321 21.9722 10.875C21.9722 9.31787 21.0706 8.05556 19.9583 8.05556C18.8461 8.05556 17.9444 9.31787 17.9444 10.875C17.9444 12.4321 18.8461 13.6944 19.9583 13.6944Z",fill:"#222222"})]}));case Ti.Neutral:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.75 28C22.2057 28 28.25 21.9557 28.25 14.5C28.25 7.04503 22.2057 1 14.75 1C7.29506 1 1.25 7.04506 1.25 14.5C1.25 21.9557 7.29503 28 14.75 28ZM14.75 29C22.758 29 29.25 22.508 29.25 14.5C29.25 6.49278 22.758 0 14.75 0C6.74278 0 0.25 6.49278 0.25 14.5C0.25 22.508 6.74278 29 14.75 29Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M9.51389 16.1111C10.6261 16.1111 11.5278 14.8488 11.5278 13.2917C11.5278 11.7345 10.6261 10.4722 9.51389 10.4722C8.40165 10.4722 7.5 11.7345 7.5 13.2917C7.5 14.8488 8.40165 16.1111 9.51389 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.9861 16.1111C21.0984 16.1111 22 14.8488 22 13.2917C22 11.7345 21.0984 10.4722 19.9861 10.4722C18.8739 10.4722 17.9722 11.7345 17.9722 13.2917C17.9722 14.8488 18.8739 16.1111 19.9861 16.1111Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M20.3889 20.9444H9.11111C8.66645 20.9444 8.30556 20.5844 8.30556 20.1389C8.30556 19.6934 8.66645 19.3333 9.11111 19.3333H20.3889C20.8344 19.3333 21.1944 19.6934 21.1944 20.1389C21.1944 20.5844 20.8344 20.9444 20.3889 20.9444Z",fill:"#222222"})]}));case Ti.Satisfied:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.375 28C22.8308 28 28.875 21.9558 28.875 14.5C28.875 7.04416 22.8308 1 15.375 1C7.91916 1 1.875 7.04416 1.875 14.5C1.875 21.9558 7.91916 28 15.375 28ZM29.875 14.5C29.875 22.5081 23.3831 29 15.375 29C7.36687 29 0.875 22.5081 0.875 14.5C0.875 6.49187 7.36687 0 15.375 0C23.3831 0 29.875 6.49187 29.875 14.5Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M9.34541 19.028C9.38166 19.1722 10.2863 22.5555 15.375 22.5555C20.4645 22.5555 21.3683 19.1722 21.4046 19.028C21.4489 18.8532 21.3699 18.672 21.2137 18.5817C21.0566 18.4923 20.86 18.5189 20.7303 18.6438C20.715 18.6591 19.1563 20.1389 15.375 20.1389C11.5937 20.1389 10.0342 18.6591 10.0197 18.6446C9.94233 18.568 9.83922 18.5278 9.73611 18.5278C9.66844 18.5278 9.59997 18.5447 9.53794 18.5793C9.38005 18.6695 9.30111 18.8524 9.34541 19.028V19.028Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M10.5417 13.6944C11.6539 13.6944 12.5556 12.4321 12.5556 10.875C12.5556 9.31787 11.6539 8.05556 10.5417 8.05556C9.42943 8.05556 8.52778 9.31787 8.52778 10.875C8.52778 12.4321 9.42943 13.6944 10.5417 13.6944Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M20.2083 13.6944C21.3206 13.6944 22.2222 12.4321 22.2222 10.875C22.2222 9.31787 21.3206 8.05556 20.2083 8.05556C19.0961 8.05556 18.1944 9.31787 18.1944 10.875C18.1944 12.4321 19.0961 13.6944 20.2083 13.6944Z",fill:"#222222"})]}));case Ti.Happy:return(0,c.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 28C22.4558 28 28.5 21.9558 28.5 14.5C28.5 7.04416 22.4558 1 15 1C7.54416 1 1.5 7.04416 1.5 14.5C1.5 21.9558 7.54416 28 15 28ZM29.5 14.5C29.5 22.5081 23.0081 29 15 29C6.99187 29 0.5 22.5081 0.5 14.5C0.5 6.49187 6.99187 0 15 0C23.0081 0 29.5 6.49187 29.5 14.5Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M8.97042 19.028C9.00667 19.1722 9.9113 22.5555 15 22.5555C20.0895 22.5555 20.9933 19.1722 21.0296 19.028C21.0739 18.8532 20.9949 18.672 20.8387 18.5817C20.6816 18.4923 20.485 18.5189 20.3553 18.6438C20.34 18.6591 18.7813 20.1389 15 20.1389C11.2187 20.1389 9.65917 18.6591 9.64467 18.6446C9.56733 18.568 9.46422 18.5278 9.36111 18.5278C9.29344 18.5278 9.22497 18.5447 9.16294 18.5793C9.00505 18.6695 8.92611 18.8524 8.97042 19.028V19.028Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M15 17.6006C12.6107 17.6006 11.0246 17.3218 9.06388 16.9408C8.61519 16.8554 7.74438 16.9408 7.74438 18.2603C7.74438 20.8985 10.7757 24.1965 15 24.1965C19.2244 24.1965 22.2557 20.8985 22.2557 18.2603C22.2557 16.9408 21.3841 16.8546 20.9362 16.9408C18.9754 17.3218 17.3901 17.6006 15 17.6006Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M10.1667 13.6944C11.2789 13.6944 12.1806 12.4321 12.1806 10.875C12.1806 9.31787 11.2789 8.05556 10.1667 8.05556C9.05443 8.05556 8.15278 9.31787 8.15278 10.875C8.15278 12.4321 9.05443 13.6944 10.1667 13.6944Z",fill:"#222222"}),(0,c.jsx)("path",{d:"M19.8333 13.6944C20.9456 13.6944 21.8472 12.4321 21.8472 10.875C21.8472 9.31787 20.9456 8.05556 19.8333 8.05556C18.7211 8.05556 17.8194 9.31787 17.8194 10.875C17.8194 12.4321 18.7211 13.6944 19.8333 13.6944Z",fill:"#222222"})]}))}}};function Ni({emoji:e,label:t,active:n,onClick:i}){return(0,c.jsx)(p.$n,Object.assign({ariaLabel:t,active:n,variant:p.Ak.TERTIARY,size:"small",onClick:()=>i(e.value)},{children:(0,c.jsx)(wi,{icon:e.icon})}))}wi=Ai([Vt.A],wi);const Ii=[{value:1,altText:y.A.REUSABLES.EMOJI_ALT_DISAPPOINTED,icon:Ti.Disappointed},{value:2,altText:y.A.REUSABLES.EMOJI_ALT_UNSATISFIED,icon:Ti.Unsatisfied},{value:3,altText:y.A.REUSABLES.EMOJI_ALT_NEUTRAL,icon:Ti.Neutral},{value:4,altText:y.A.REUSABLES.EMOJI_ALT_SATISFIED,icon:Ti.Satisfied},{value:5,altText:y.A.REUSABLES.EMOJI_ALT_HAPPY,icon:Ti.Happy}];function Ri({happiness:e,setHappiness:t}){const n=(0,w.Y)();return(0,c.jsx)("div",Object.assign({className:"rating-picker"},{children:(0,c.jsx)(Wn.e,{children:Ii.map((i=>(0,c.jsx)(Ni,{emoji:i,onClick:t,label:n.t(i.altText),active:e===i.value},i.value)))})}))}const{MODEL_RATING:ki}=y.A.WORKSHOP,Li=Object.values(Ei);class Mi extends o.Component{constructor(e){super(e),this.submitCurrentRating=(e=!1)=>{const{currentQuestionId:t}=this.state;let n={};switch(t){case Ei.QUALITY:n={quality:this.state.quality};break;case Ei.NAVIGATION:n={navigation:this.state.navigation};break;case Ei.FEEDBACK:n={feedback:this.state.feedback},this.resetValues()}n&&this.context.commandBinder.issueCommand(new zn.i(n,e))},this.resetValues=()=>{this.setState({happiness:void 0,quality:void 0,navigation:void 0,feedback:void 0})},this.hasPerfectHappinessRating=()=>5===this.state.happiness,this.handleButtonClick=()=>{const{currentQuestionId:e}=this.state;let t;switch(this.submitCurrentRating(e===Ei.FEEDBACK),e){case Ei.QUALITY:t=Ei.NAVIGATION;break;case Ei.NAVIGATION:t=Ei.FEEDBACK}t&&this.setState({currentQuestionId:t})},this.handleHappinessClick=e=>{this.context.commandBinder.issueCommand(new zn.i({happiness:e})),5!==e?this.setState({happiness:e,currentQuestionId:Ei.QUALITY}):this.submitCurrentRating(!0)},this.handleCheckboxChange=(e,t,n)=>{const i=n.value,r={},o=(this.state[t]||[]).slice();o.includes(i)?o.splice(o.indexOf(i),1):o.push(i),r[t]=o,this.setState(r)},this.handleFeedbackChange=e=>{this.setState({feedback:e})},this.handleClose=()=>{this.context.commandBinder.issueCommand(new zn.c(!1))},this.renderProgress=()=>{const{locale:e}=this.context,{currentQuestionId:t}=this.state;if(!t)return null;if(t===Ei.HAPPINESS||this.hasPerfectHappinessRating())return;const n=Li.indexOf(t);return(0,c.jsx)("span",Object.assign({className:"model-rating-progress"},{children:e.t(ki.PROGRESS,{"current-question-number":n,"max-question-number":Li.length-1})}))},this.state={currentQuestionId:Si}}componentWillUnmount(){this.submitCurrentRating(),this.context.commandBinder.issueCommand(new zn.c(!1))}renderCurrentQuestion(){const{locale:e}=this.context,{currentQuestionId:t,happiness:n}=this.state;if(t===Ei.FEEDBACK)return(0,c.jsx)("div",Object.assign({className:"question-type text-entry"},{children:(0,c.jsx)(mi,{text:this.state.feedback||"",label:e.t(ki.FEEDBACK_LABEL),onInput:this.handleFeedbackChange,onDone:this.handleFeedbackChange,maxLength:200,rows:3,focusOnMount:!0,scrollIntoViewOnMount:!0})}));if(t===Ei.HAPPINESS)return(0,c.jsx)(Ri,{happiness:n,setHappiness:this.handleHappinessClick});if(t===Ei.QUALITY||t===Ei.NAVIGATION){const n=(t===Ei.QUALITY?this.state.quality:this.state.navigation)||[],i=_i[t];return(0,c.jsx)("div",Object.assign({className:"question-type multi-select"},{children:i.map((i=>(0,c.jsx)(ci.S,{enabled:!0,checkboxStyle:ci.x.FILTER,onChange:this.handleCheckboxChange,onChangeArgs:[t,i],checked:n.includes(i.value),label:e.t(i.text)},i.text)))}))}return null}render(){const{locale:e}=this.context,{currentQuestionId:t}=this.state,n=t===Si,i=bi[t],r=Oi[t],o=t===Ei.FEEDBACK?ki.SAVE:ki.NEXT;return(0,c.jsxs)(gi.l,Object.assign({className:g()("model-rating-dialog",{"in-progress":!n}),onClose:this.handleClose},{children:[(0,c.jsx)(vi.J,{onClose:this.handleClose}),(0,c.jsxs)("div",Object.assign({className:"model-rating-form"},{children:[(0,c.jsxs)("div",Object.assign({className:"model-rating-question"},{children:[(0,c.jsx)("h3",Object.assign({className:"question-title"},{children:e.t(i)})),r&&(0,c.jsx)("p",Object.assign({className:"question-body"},{children:e.t(r)})),this.renderCurrentQuestion()]})),(0,c.jsxs)("footer",Object.assign({className:"model-rating-footer"},{children:[(0,c.jsx)("div",{children:t!==Ei.HAPPINESS&&(0,c.jsx)(p.$n,{onClick:this.handleButtonClick,variant:p.Ak.TERTIARY,label:e.t(o)})}),this.renderProgress()]}))]}))]}))}}function Di(){const e=ai(),t=(0,R.T)();return!e||t?null:(0,c.jsx)(Mi,{})}Mi.contextType=v.B;function Pi(){const e=Vn(),t=De(),n=(0,o.useRef)(0),[i,r]=(0,o.useState)(!1),s=t.active,a=e===Oe.cR.STORIES;return(0,Se.w5)((()=>(r(!0),window.clearTimeout(n.current),s?()=>{}:(n.current=window.setTimeout((()=>{r(!1)}),3e3),()=>window.clearTimeout(n.current)))),[s]),a&&(s||i)}const Ci=(0,nt.c)("showStoryTour",Pi);var xi=n(87766);var Ui=n(78063),ji=n(78115);const{DEFURNISH:Fi}=y.A.WORKSHOP;function Hi({viewmode:e}){const t=(0,F.B)(),n=(0,Z.s)(),i=(0,w.Y)(),r=Q("viewer"),s=(0,N.H)(),a=K(),l=(0,ni.G)(),u=(0,et.j)($e.az),d=!!l&&(0,G.AF)(l),h=function(){const e=(0,se.o)(),[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{if(!e)return()=>{};const t=e.viewmodeChangeEnabledObservable.onChanged(n);return n(e.viewmodeChangeEnabled),()=>t.cancel()}),[e]),t}(),f=function(){const e=(0,Ui.B)(),[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const t=[];return e&&t.push(e.subscribe(ji.uU,(()=>n(!0))),e.subscribe(ji.Yp,(()=>n(!1)))),()=>t.forEach((e=>e.cancel()))}),[e]),t}(),{show:m,dismiss:g}=X(Y.Defurnish),v=(0,o.useCallback)((async()=>{n.trackGuiEvent("click_defurnish_mode_button"),u.toggleDefurnishView()}),[n,u]);if(!r||!a)return null;const y=s&&t,E=!(null==a?void 0:a.enabled)||!h||f||e===_.w5.TRANSITIONING,S=d,b=S?"furniture":"furniture-slash",O=y&&S?void 0:p.Ak.TERTIARY,T=y&&S?"light":"overlay",A=y?p.Mp.LARGE:void 0,I={placement:y?"bottom":"top",offset:y?[0,10]:void 0},R=S?i.t(Fi.DEFURN_MODE_BUTTON_ACTIVE):i.t(Fi.DEFURN_MODE_BUTTON),k=i.t(Fi.DEFURN_NUDGE_TITLE),L=i.t(Fi.DEFURN_NUDGE_TEXT);return(0,c.jsx)("div",Object.assign({className:"mode-button mode-buttons mode-defurnish viewmode-controls"},{children:(0,c.jsx)(P,{onClick:v,className:"mode-defurnish-glow",icon:b,variant:O,theme:T,size:A,active:S,disabled:E,tooltip:R,ariaLabel:R,nudgeDisabled:E,nudgeTitle:k,nudgeMessage:L,nudgeLocalStorage:ee.Y.DefurnishNudgeSeen,nudgeSessionKey:L,tooltipOptions:I,showTimeout:m,dismissTimeout:g})}))}class Gi extends o.Component{constructor(e,t){super(e,t),this.isUnmounting=!1,this.bindings=[],this.viewmodeToClass={[_.w5.INSIDE]:"inside",[_.w5.OUTSIDE]:"outside",[_.w5.DOLLHOUSE]:"dollhouse",[_.w5.FLOORPLAN]:"floorplan",[_.w5.TRANSITIONING]:"transitioning"},this.checkShowReel=()=>{const{tourState:e}=this.props,{settings:t}=this.context,n=t.tryGetProperty(q.Q$.HighlightReel,!0),{reelSeen:i}=this.state;if(e.totalSteps>0&&n&&!i){const e=this.getHlStartupValue();switch(e){case Bt.expanded:case Bt.flash:(0,E.cb)(100).then((()=>this.showReel(e)))}}},this.showReel=e=>{var t;this.isUnmounting||(null===(t=this.tourModule)||void 0===t||t.toggleReel(!0),this.setState({reelSeen:!0}),e===Bt.flash&&(0,E.cb)(3e3).then(this.dismissReel))},this.dismissReel=()=>{var e;this.isUnmounting||null===(e=this.tourModule)||void 0===e||e.toggleReel(!1)},this.onViewingControlsToggle=({show:e})=>{this.setState({autohide:!e})},this.updateViewportSize=e=>{this.isUnmounting||this.setState({viewportHeight:e.height})},this.isReelEnabled=()=>{if(this.props.tourMode===Oe.cR.STORIES)return!0;return this.state.viewportHeight>=400&&(0,Ht.cJ)(this.context.settings)},this.isPluginSystemEnabled=()=>{const{settings:e}=this.context;return e.tryGetProperty(xi.XX,!1)},this.isFloorsEnabled=()=>{const{settings:e}=this.context,t=e.tryGetProperty(Ct.p,!0),n=e.tryGetProperty(q.Q$.FloorSelect,!0);return t&&n},this.toggleShareModal=()=>{const e=this.props.openModal===xt.a.SHARE;this.context.analytics.trackGuiEvent("click_share_button"),this.context.commandBinder.issueCommand(new Ut.X(xt.a.SHARE,!e))},this.renderHighlightReel=()=>{const{openTool:e,tourState:t,tourMode:n}=this.props;if(e&&e!==L.S0.SEARCH)return null;const{tourPlaying:i,highlights:r,activeStep:o,transition:s}=t;return(0,c.jsx)(Sn,{openTool:e,tourMode:n,transition:s,activeStep:o,highlights:r,tourPlaying:i})},this.renderRightControls=()=>{const e=[],{vrEnabled:t,shareEnabled:n}=this.props,i=(0,C.YR)();e.push((0,c.jsx)("span",{className:"divider"},"divider_1"));const r=this.context.locale.t(y.A.SOCIAL_SHARING),o={placement:"top"};return n&&e.push((0,c.jsx)(p.$n,{onClick:this.toggleShareModal,ariaLabel:r,ariaHasPopup:"dialog",tooltip:r,tooltipOptions:o,icon:"share",theme:"overlay",variant:p.Ak.TERTIARY},"toggle_share_modal")),t&&e.push((0,c.jsx)(jt,{},"vr_modal_controls")),i&&e.push((0,c.jsx)(Ft,{},"fullscreen_controls")),e},this.state={viewportHeight:qt(t).height,autohide:!1,reelSeen:!1},this.onResize=(0,_n.s)(this.updateViewportSize,250)}componentDidMount(){const{messageBus:e,market:t,engine:n}=this.context;n.getModuleBySymbol($e.XQ).then((e=>{this.isUnmounting||(this.tourModule=e,this.checkShowReel())})),t.waitForData(Yt.G).then((e=>{this.isUnmounting||this.bindings.push(e.onPropertyChanged("size",this.onResize))})),this.bindings.push(e.subscribe(Gt.Vk,this.onViewingControlsToggle))}componentWillUnmount(){this.isUnmounting=!0,this.bindings.map((e=>e.cancel()))}componentDidUpdate(e){!(e.tourState.totalSteps>0)&&this.props.tourState.totalSteps>0&&this.checkShowReel()}getHlStartupValue(){const{settings:e}=this.context;if(e.getOverrideParam("note","")||e.getOverrideParam("tag",""))return Bt.collapsed;const t=this.props.tourState.highlights.some((e=>e.snapshot.is360))?Bt.expanded:Bt.flash,n=e.getOverrideParam("hl",t);return(0,S.U)(Bt,n)?n:t}render(){const{measurementsModeEnabled:e,notesEnabled:t,openModal:n,openTool:i,showStoryTour:r,toolPanelLayout:o,tourMode:s,tourState:a,unaligned:l,viewmode:u}=this.props,{tourPlaying:d,tourEnded:h,totalSteps:p,activeStep:m,currentStep:v,highlights:y,hasTours:E}=a,{autohide:S,viewportHeight:b}=this.state,{settings:O}=this.context,_=this.viewmodeToClass[u]||"",T=0===p,A=s===Oe.cR.STORIES,w=b>=400,N=this.isReelEnabled()&&!T,I=i!==L.S0.MEASUREMENTS,R=this.isFloorsEnabled(),k=this.isPluginSystemEnabled(),M=t&&!l,D=e&&!l,P=O.tryGetProperty(Gn.n,!1),C=d||r,x=S||!!n&&(n!==xt.a.CTA||!A)&&!i,U={"modal-open":!!n,"tour-playing":d,"stories-tour-showing":r,autohide:x};return(0,c.jsxs)("div",Object.assign({id:"bottom-ui",className:g()("bottom-ui",U,_)},{children:[(0,c.jsx)(On,{tourPlaying:d,tourEnded:h}),(0,c.jsxs)(f.w,Object.assign({className:g()("bottom-controls",{"faded-out":x}),open:!x},{children:[(0,c.jsxs)(Hn,Object.assign({className:"controls"},{children:[(0,c.jsx)(dt,{toolPanelLayout:o,activeTool:i,activeStep:m,currentStep:v,highlights:y||[],tourPlaying:d,tourMode:s,hideReel:!w,hasTours:E},"tour_controls"),(0,c.jsx)(f.w,Object.assign({className:"mode-controls",open:!C},{children:(0,c.jsx)(Ee,{unaligned:l,viewmode:u,className:"showcase-viewmode-controls"},"mode_controls")})),R&&(0,c.jsx)(f.w,Object.assign({className:"mode-controls",open:!C},{children:(0,c.jsx)(wt,{viewmode:u,iconStyle:!0,className:"showcase-floor-controls"},"floor_controls")})),k&&(0,c.jsx)(f.w,Object.assign({className:"mode-controls",open:!C},{children:(0,c.jsx)(Pt,{viewmode:u,className:"showcase-plugin-controls"},"plugin_visibility_controls")})),M&&(0,c.jsx)(f.w,Object.assign({className:"mode-controls",open:!C},{children:(0,c.jsx)(Tn,{},"notes_mode_button")})),D&&(0,c.jsx)(f.w,Object.assign({className:"mode-controls",open:!C},{children:(0,c.jsx)(wn,{},"measurement_mode_button")})),(0,c.jsx)(f.w,Object.assign({className:"mode-controls",open:!C},{children:(0,c.jsx)(Hi,{viewmode:u},"defurnish_mode_button")})),I&&this.renderRightControls()]})),P&&(0,c.jsx)(Di,{})]})),N&&this.renderHighlightReel(),(0,c.jsx)(oi,{})]}))}}Gi.contextType=v.B;const Bi=Ci(Gi);var Vi=n(12103),Wi=n(78197),zi=n(64057);var $i=n(91406),Ki=n(79723);var Yi=n(3645);const qi=()=>{const e=(0,H.i)(Yi.An,Yi.Z1);return(0,o.useMemo)((()=>Object.assign({},Yi.Z1,e)),[e])},Qi=()=>{const e=(0,we.Z)($n.d,"applicationKeys",new Ce.X);return(0,H.i)(Yi.nt,!1)&&0===e.length};var Xi=n(4130),Zi=n(28577);function Ji(e,t,n){const i=n===Xi.co;function r(e,t){return e.enabled&&((0,G.xF)(e)||(0,G.V6)(e)||(0,G.XF)(e)||t&&(0,G.AF)(e))}const o=e&&r(e,!0),s=t.slice().filter((e=>r(e,!1)));return!(!o||i||s.length<2)}function er(e,t,n){return!Ji(e,t,n)&&!!e&&((0,G.xF)(e)||(0,G.V6)(e))}function tr(){const e=(0,H.i)(Zi.rX,!1),t=(0,ni.G)(),n=$(),i=V(Xi.GB),[r,s]=(0,o.useState)(e&&Ji(t,n,i));return(0,o.useEffect)((()=>(s(e&&Ji(t,n,i)),()=>{})),[e,t,n,i]),r}function nr(){const e=(0,H.i)(Zi.rX,!1),t=(0,ni.G)(),n=$(),i=V(Xi.GB),[r,s]=(0,o.useState)(e&&er(t,n,i));return(0,o.useEffect)((()=>(s(e&&er(t,n,i)),()=>{})),[e,t,n,i]),r}var ir=n(78379);function rr(){const e=(0,ir.S)(),t=(0,z._)(),[n,i]=(0,o.useState)(e&&(null==t?void 0:t.getCurrentUserLayers())||[]);return(0,o.useEffect)((()=>{if(!t)return()=>{};function n(){i(e&&(null==t?void 0:t.getCurrentUserLayers())||[])}const r=t.onCurrentLayersChanged(n);return n(),()=>r.cancel()}),[t,e]),n}var or=n(73943),sr=n(92237);const ar=new ke.L({from:null,to:null,progress:new sr.z(0),promise:Promise.resolve()});function lr(){const e=function(){const e=(0,St._)();return(0,Re.A)(e?e.transitionObservable:ar)}();return _t((null==e?void 0:e.to)||null)}function cr(e){const t=(0,ft.L)(),n=(0,or.a)(),i=function(){const e=Tt(),t=lr(),[n,i]=(0,o.useState)(e?e.name:"");return(0,o.useEffect)((()=>(e?i(e.name):t&&i(t.name),()=>{})),[e,t]),n}(),r=vt(),s=(0,o.useCallback)((()=>{t.issueCommand(new ht.i1(null,!1))}),[t]);if(n!==d.Jj.PLAYING)return null;const a=g()("floor-container",e.className);return(0,c.jsxs)("div",Object.assign({className:a},{children:[(0,c.jsx)("div",Object.assign({className:"floor-title h4"},{children:i||""})),r&&(0,c.jsx)(vi.J,{theme:"dark",onClose:s,tooltip:""})]}))}function ur({toolName:e,showing:t=!0,attached:n=!1}){const i=(0,Z.s)(),r=(0,ft.L)(),o=(0,w.Y)(),s=(0,$i.M)(e),a=(0,R.T)();if(!s)return null;const{id:l,namePhraseKey:u,icon:d,analytic:m}=s,v=a===s.id,y=o.t(u),E=d.replace("icon-",""),S=n?"dark":"overlay";return(0,c.jsx)(f.w,Object.assign({open:t,className:g()("top-tool-button",{"faded-out":!t})},{children:(0,c.jsx)(p.$n,{onClick:()=>{r.issueCommand(new h.yU(l,!v)),i.trackToolGuiEvent(m,`click_${m}_button`,{interactionSource:"gui"})},tooltip:y,tooltipOptions:{placement:"bottom"},icon:E,theme:S,variant:p.Ak.FAB,active:v})}))}var dr=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let hr=class extends o.Component{constructor(){super(...arguments),this.handleTitleClick=async e=>{e.stopPropagation();const{commandBinder:t,analytics:n}=this.context;await t.issueCommand(new h.yU(L.S0.SUMMARY,!0)),t.issueCommand(new h.li(!1)),n.trackGuiEvent("click_model_title",{interactionSource:"gui"})}}getFilteredValue(e,t,n,i){return!this.context.settings.tryGetProperty(t,n)||i&&!this.props.brandingEnabled?"":e}render(){const{locale:e}=this.context,{className:t,modelDetails:n}=this.props,{name:i,presentedBy:r}=n,o=this.getFilteredValue(i,q.Q$.DetailsModelName,!0,!1),s=this.getFilteredValue(r,q.Q$.PresentedBy,!1,!0),a=s?`${e.t(y.A.PRESENTED_BY)}${s}`:"",l=`${o} ${a}`;return(0,c.jsx)("div",Object.assign({id:"model-title",onClick:this.handleTitleClick},{children:(0,c.jsx)(p.$n,Object.assign({id:"gui-name",variant:p.Ak.TERTIARY,onClick:this.handleTitleClick,className:g()(t,{"co-branded":!!a}),label:o,ariaLabel:l,theme:"dark",icon:"location",appendChildren:!1},{children:!!a&&(0,c.jsx)("div",Object.assign({className:"co-brand"},{children:(0,c.jsx)("span",Object.assign({className:"title",id:"cobrandTitle"},{children:a}))}))}))}))}};hr.contextType=v.B,hr=dr([Vt.A],hr);const pr=hr;var fr=n(38939),mr=n(19072);const{LAYERS:gr}=y.A.WORKSHOP;function vr(e,t,n){let i;try{i=n?null==e?void 0:e.getView(n):null}catch(e){}let r=null==i?void 0:i.name;if(!r)switch(null==i?void 0:i.viewType){case tn.jK.INSIGHTS:r=t.t(gr.DEFAULT_INSIGHTS_VIEW_NAME);break;case tn.jK.TRUEPLAN:r=t.t(gr.DEFAULT_TRUEPLAN_VIEW_NAME);break;case tn.jK.DIGIPRO_SESSION:r=t.t(gr.DEFAULT_DIGIPRO_VIEW_NAME);break;case tn.jK.DEFURNISH:r=t.t(gr.DEFAULT_DEFURNISH_VIEW_NAME);break;default:r=t.t(gr.DEFAULT_VIEW_NAME)}return(0,E.W5)(r,Xi.cp)}function yr(e){const t=(0,z._)(),n=(0,w.Y)(),[i,r]=(0,o.useState)(vr(t,n,e));return(0,o.useEffect)((()=>{if(!t)return()=>{};function i(){r(vr(t,n,e))}const o=t.onModelViewsChanged(i);return i(),()=>o.cancel()}),[t,e,n]),i}var Er=n(18856);function Sr({id:e,name:t,visible:n}){const i=(0,Z.s)(),r=(0,et.j)($e.az);return(0,c.jsx)(Er.S,{className:"data-layer-menu-item",id:`layer-toggle-${e}`,label:t||"Untitled Layer",defaultChecked:n,onChange:t=>{const n=t.target;if(!n)return;const o=n.checked;r.layersData.toggleLayer(e,o),i.trackToolGuiEvent("layers","layers_toggle_layer")},onClick:e=>{e.stopPropagation()}})}const{SHOWCASE:br}=y.A;function Or(){const e=function(){const e=qn(),[t,n]=(0,o.useState)((null==e?void 0:e.model.details.name)||"");return(0,o.useEffect)((()=>{if(!e)return()=>{};const t=e.onChanged((e=>{n(e.model.details.name)}));return n(e.model.details.name),()=>t.cancel()}),[e]),t}(),t=(0,ni.G)(),n=yr(null==t?void 0:t.id),i=rr(),r=$({includeDefurnish:Q("viewer")}),s=tr(),a=nr(),l=(0,Z.s)(),u=(0,ft.L)(),d=(0,w.Y)(),[h,f]=(0,o.useState)(!1),m=(0,mr.x)().getRootNode()instanceof ShadowRoot,v=async()=>{l.trackToolGuiEvent("layers","layers_view_goto_start_location"),await u.issueCommand(new fr.W)},y=e=>{f(e)};if((0,o.useEffect)((()=>{if(!t||m)return;const{name:n}=t;let i;return i=(0,G.xF)(t)||(0,G.V6)(t)?`${e}: ${n}`:e,document.title=i,()=>{}}),[e,t,m]),!t)return null;const E=i.map((e=>{const{id:t,name:n,toggled:i}=e;return(0,c.jsx)(Sr,{id:t,name:n,visible:i},t)})),S=d.t(br.VIEWS.VIEW_SELECTOR_START_LOCATION_TOOLTIP),b=[];return r.forEach((e=>{const{id:n}=e,i=n===t.id,r=i&&E.length>0?E:void 0,o=r?"parent-menu-item":void 0;b.push((0,c.jsx)(_r,{view:e,active:i,className:o},n)),r&&b.push(...r)})),s&&r.length>1?(0,c.jsxs)("div",Object.assign({className:g()("views-layers-toggles","model-view-selector",{open:h})},{children:[(0,c.jsx)(p.$n,{className:"start-location-btn",icon:"start-location",variant:p.Ak.PRIMARY,size:p.Mp.SMALL,onClick:v,tooltip:S}),(0,c.jsx)(gt.y,Object.assign({ariaLabel:n,menuClassName:"views-layers-menu",variant:p.Ak.PRIMARY,size:p.Mp.SMALL,label:n,onMenuToggled:y,caret:!0},{children:b}))]})):E.length>0?(0,c.jsx)("div",Object.assign({className:g()("views-layers-toggles",{open:h})},{children:(0,c.jsx)(gt.y,Object.assign({ariaLabel:d.t(br.LAYERS.TOGGLE_LAYERS),menuClassName:g()("views-layers-menu","data-layers-only-menu"),variant:p.Ak.PRIMARY,size:p.Mp.SMALL,label:n,onMenuToggled:y,caret:!0},{children:E}))})):a?(0,c.jsx)("div",Object.assign({className:"model-view-display"},{children:n})):null}function _r({view:e,active:t,className:n}){const i=(0,Z.s)(),{id:r}=e,o=yr(r),s=(0,et.j)($e.az),a=(0,et.j)($e.di);return(0,c.jsx)(p.$n,{className:g()("view-name",n),label:o,size:p.Mp.SMALL,onClick:async()=>{i.trackToolGuiEvent("layers","layers_view_switch"),a.setMoveCameraOnViewChange(!1),await s.setActiveModelView(r),a.setMoveCameraOnViewChange(!0)},active:t,variant:p.Ak.TERTIARY},r)}var Tr=n(60818),Ar=n(6909);const wr=n.p+"images/matterport-logo-icon-black.svg",{SUBSCRIBER_PROMPT:Nr}=y.A.SHOWCASE,Ir=e=>{e.preventDefault()},Rr=()=>{const e=(0,Z.s)(),t=(0,w.Y)(),{popupDelay:n}=qi(),[i,r]=(0,o.useState)(0),[s,a]=(0,o.useState)(!1),[l,u]=(0,o.useState)(!0),[d,h]=(0,Se.Mj)(Yi.ZZ,!1);(0,Te.J)(Ar.h,(e=>{if(s)return;const t=e.durationDollhouse+e.durationFloorplan+e.durationInside,o=i+t;Tr.r.debug(`Check Visibility: ${o}/${n}ms, User has dismissed popup: ${d.toString()}`),o>=n&&!d&&a(!0),r(o)}));const f=(0,o.useCallback)((()=>{h(!0)}),[h]),m=(0,o.useCallback)((t=>{t.stopPropagation(),e.trackGuiEvent("subscriber_prompt_a_popup_dismissed"),f()}),[f,e]),g=(0,o.useCallback)((t=>{e.trackGuiEvent("subscriber_prompt_a_popup_cta_click"),window.open(Yi.oZ,"_blank"),f()}),[f,e]);return(0,o.useEffect)((()=>(s&&l&&(e.trackGuiEvent("subscriber_prompt_a_popup_viewed"),u(!1)),()=>{})),[e,s,l]),s?(0,c.jsxs)("div",Object.assign({className:"subscriber-prompt-popup",onClick:g},{children:[(0,c.jsx)("img",{className:"matterport-app-icon",alt:"Matterport App Icon",src:wr,width:"48",height:"48"}),(0,c.jsxs)("div",Object.assign({className:"subscriber-prompt-body"},{children:[(0,c.jsx)("div",Object.assign({className:"h5 subscriber-prompt-heading"},{children:t.t(Nr.POPUP_CTA_HEADING)})),(0,c.jsx)("a",Object.assign({className:"link",target:"_blank",onClick:Ir,href:Yi.oZ},{children:t.t(Nr.POPUP_CTA_LINK_TEXT)}))]})),(0,c.jsx)(p.$n,{icon:"close",onClick:m})]})):null};var kr=n(57470),Lr=n(50659),Mr=n(68387);const Dr=(0,ne.v)(Mr.B),Pr=(0,we.u)(d.zH,"application",d.lg.UNKNOWN);function Cr(){const e=(0,Lr.N)(),t=Pr()===d.lg.WORKSHOP,n=(0,H.i)(q.Q$.RoomBounds,!1)||t,i=Dr();return e.length>0&&n&&!!i}const xr=e=>{var t,n,i;return{roomDimensionsVisible:null===(t=null==e?void 0:e.roomDimensionsVisible)||void 0===t||t,roomNamesVisible:null===(n=null==e?void 0:e.roomNamesVisible)||void 0===n||n,roomWallsVisible:null===(i=null==e?void 0:e.roomWallsVisible)||void 0===i||i}},Ur=()=>{const e=Dr(),[t,n]=(0,o.useState)(xr(e));return(0,o.useEffect)((()=>{if(!e)return()=>{};const t=()=>n(xr(e)),i=e.onChanged(t);return t(),()=>{i.cancel()}}),[e]),t};function jr({children:e,className:t}){const n=(0,o.useCallback)((e=>{e.stopPropagation()}),[]);return(0,c.jsx)("div",Object.assign({className:g()("settings-container settings-box",t),onClick:n},{children:e}))}var Fr=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function Hr(e){var{onToggle:t,className:n,label:i}=e,r=Fr(e,["onToggle","className","label"]);return(0,c.jsxs)("div",Object.assign({className:g()("settings-toggle",n)},{children:[(0,c.jsx)("div",Object.assign({className:"settings-label"},{children:i})),(0,c.jsx)(kt,Object.assign({},r,{onToggle:()=>{t(!r.toggled)}}))]}))}const{ROOMS:Gr}=y.A.SHOWCASE,Br=new ke.L(!0);function Vr(e){const t=(0,w.Y)(),n=t.t(Gr.ROOM_BOUNDS_TOGGLES_TITLE),i=(0,Z.s)(),{allowImageryToggle:r}=e,s=Cr(),a=Dr(),l=(0,_e.S)($e.GR),u=function(){var e,t;const n=(0,_e.S)($e.GR);return(0,Re.A)(null!==(t=null===(e=null==n?void 0:n.getMeshGroupVisuals())||void 0===e?void 0:e.allFloorsVisibleInOrtho)&&void 0!==t?t:Br)}(),{roomNamesVisible:d,roomDimensionsVisible:h,roomWallsVisible:p}=Ur(),f=(0,R.T)(),m=ae(),g=(0,se.o)(),v=(0,o.useCallback)((()=>{var e;const t=!u,n=null===(e=null==l?void 0:l.getMeshGroupVisuals())||void 0===e?void 0:e.allFloorsVisibleInOrtho;n&&(n.value=t),t||p||null==a||a.toggleRoomWallsVisible(),i.trackToolGuiEvent("rooms","room_imagery_showcase_toggle_"+(u?"off":"on"))}),[i,l,u,a,p]);if(!s||!a||!l)return null;const y=f&&f===L.S0.MEASUREMENTS,E=t.t(Gr.ROOM_BOUNDS_WALL_TOGGLE_LABEL),S=t.t(Gr.ROOM_BOUNDS_ROOM_TOGGLE_LABEL),b=t.t(Gr.ROOM_BOUNDS_DIMENSION_TOGGLE_LABEL),O=t.t(Gr.ROOM_BOUNDS_MODEL_TOGGLE_LABEL),_=u,T=!(0,le.nI)(m),A=T&&!(null==g?void 0:g.isFloorplanDisabled()),N=T,I=r&&A;return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"floorplan-overlay-title"},{children:n})),(0,c.jsxs)(jr,Object.assign({className:"floorplan-overlay-tooltip"},{children:[A&&(0,c.jsx)(Hr,{onToggle:()=>{a.toggleRoomWallsVisible(),i.trackToolGuiEvent("rooms","room_walls_showcase_toggle_"+(p?"off":"on"))},toggled:p,label:E,enabled:_}),N&&(0,c.jsx)(Hr,{onToggle:()=>{a.toggleRoomNamesVisible(),i.trackToolGuiEvent("rooms","room_names_showcase_toggle_"+(d?"off":"on"))},toggled:d,label:S,enabled:!0}),y&&(0,c.jsx)(Hr,{onToggle:()=>{a.toggleRoomDimensionsVisible(),i.trackToolGuiEvent("rooms","room_dimensions_showcase_toggle_"+(h?"off":"on"))},toggled:h,label:b,enabled:!0}),I&&(0,c.jsx)(Hr,{onToggle:v,toggled:u,label:O,enabled:!0})]}))]})}const{ROOMS:Wr}=y.A.SHOWCASE;function zr(e){const t=(0,w.Y)(),{additionalPanel:n}=e,i=(0,or.a)()===d.Jj.PLAYING,r=function(){const e=(0,se.o)(),[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{if(!e)return()=>{};const t=()=>{n(0===e.insideModeTransitionProgress())},i=e.onChanged(t);return t(),()=>i.cancel()}),[e]),t}(),s=null!=Ot(),a=Cr()&&r&&i&&s;if(!n&&!a)return null;const l=n?20:20.01,u=t.t(Wr.SETTINGS);return(0,c.jsxs)(kr.Q,Object.assign({icon:"settings",tooltip:u,theme:"overlay",variant:p.Ak.FAB,tooltipPlacement:"bottom",analytic:"showcase_settings_click",className:"showcase-settings",preventOverflow:{padding:l}},{children:[(0,c.jsx)(Vr,{allowImageryToggle:!0}),n]}))}function $r(e){const{brandingEnabled:t,modelDetails:n,tourPlaying:i,toolElements:r,toolSettings:s}=e,a=(0,Wi.A)(),l=(0,R.T)(),u=(0,Bn.t)(),d=Pi(),h=function(){const e=(0,$i.M)(L.S0.SEARCH),t=(0,B.F)();return!!t&&(0,Ki.W)(t)&&!!e}(),p=function(){const e=(0,St._)(),[t,n]=(0,o.useState)(!!e&&e.showFloorSelection);return(0,o.useEffect)((()=>{if(!e)return()=>{};const t=e.onShowFloorSelectionChanged(n);return n(e.showFloorSelection),()=>t.cancel()}),[e]),t}(),m=function(){const e=tr(),t=nr(),[n,i]=(0,o.useState)(e||t);return(0,o.useEffect)((()=>(i(e||t),()=>{})),[e,t]),n}(),v=function(){const e=rr(),[t,n]=(0,o.useState)(e.length>0);return(0,o.useEffect)((()=>(n(e.length>0),()=>{})),[e.length]),t}(),y=m||v,E=function(){const e=(0,H.i)(Kn.wx,!0),t=(0,H.i)(q.Q$.DetailsModelName,!0);return e&&t}()&&n,S=!!E&&!p&&(!y||a.width>Vi.IU),b=(()=>{const e=Qi(),t=qi(),n=(0,Se.QH)(Yi.ZZ);return t.popupEnabled&&e&&!n})(),O=(0,zi.J)(),_=(0,k.O)();if(!O&&_===L.L$.BOTTOM_PANEL)return null;if(!(h||E||p||y||r))return null;const T=i||d,A=l||u||T,w=!S||T||l,N=!!n,I=!N||T;return(0,c.jsxs)(c.Fragment,{children:[b&&!l&&(0,c.jsx)(Rr,{}),(0,c.jsxs)("div",Object.assign({className:"top-ui"},{children:[h&&(0,c.jsx)(f.w,Object.assign({open:!A,className:g()("top-ui-button",{"faded-out":A})},{children:(0,c.jsx)(ur,{toolName:L.S0.SEARCH})})),(0,c.jsxs)("div",Object.assign({className:"child-container"},{children:[(0,c.jsx)(f.w,Object.assign({open:p&&!T,className:g()("floor-name-container",{collapsed:!p||A})},{children:(0,c.jsxs)("div",{children:[(0,c.jsx)(cr,{}),h&&(0,c.jsx)("div",{className:"search-button-spacer"})]})})),E&&(0,c.jsx)(f.w,Object.assign({open:S&&!T&&!l,className:g()("title-bar-container",{collapsed:w})},{children:(0,c.jsx)(pr,{modelDetails:n,brandingEnabled:!!t})})),y&&(0,c.jsx)(f.w,Object.assign({open:y&&!A,className:g()("model-view-container",{collapsed:!y||A})},{children:(0,c.jsx)(Or,{})}))]})),(0,c.jsxs)(f.w,Object.assign({open:N,className:g()("top-ui-tool-container",{collapsed:I})},{children:[(0,c.jsx)(zr,{additionalPanel:s}),r]}))]}))]})}var Kr=n(39918),Yr=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},qr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Qr=class extends o.Component{constructor(e){super(e)}render(){const{showing:e}=this.props;return(0,c.jsx)(f.w,Object.assign({open:e,className:g()("load-indicator",{"fade-in":e,"fade-out":!e})},{children:(0,c.jsx)("div",Object.assign({className:"center-container"},{children:(0,c.jsx)(Kr.A,{progress:33,barWidth:4,progressColor:"#ffffff"})}))}))}};Qr=Yr([Vt.A,qr("design:paramtypes",[Object])],Qr);const Xr=Qr;class Zr extends o.Component{constructor(e){super(e),this.bindings=[],this.onLoadSpinnerMessage=e=>{this.state.loadSpinnerOn!==e.isOpen&&this.setState({loadSpinnerOn:e.isOpen})},this.onLoadSpinnerSuppressMessage=e=>{this.state.loadSpinnerSuppress!==e.suppress&&this.setState({loadSpinnerSuppress:e.suppress})},this.state={loadSpinnerOn:!1,loadSpinnerSuppress:!1}}componentDidMount(){this.bindings.push(this.context.messageBus.subscribe(ui.XR,this.onLoadSpinnerMessage),this.context.messageBus.subscribe(ui.c7,this.onLoadSpinnerSuppressMessage),this.context.messageBus.subscribe(Be.zM,(()=>this.setState({loadSpinnerSuppress:!0}))),this.context.messageBus.subscribe(Be.pT,(()=>this.setState({loadSpinnerSuppress:!1}))))}componentWillUnmount(){this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}render(){const{loadSpinnerOn:e,loadSpinnerSuppress:t}=this.state,n=e&&!t;return(0,c.jsx)("div",Object.assign({className:"overlay-ui"},{children:(0,c.jsx)(Xr,{showing:n})}))}}function Jr(e){const t=We(),{activeStep:n,currentStep:i,highlights:r}=e,o=r[i],s=n!==i,a=((null==o?void 0:o.title)||(null==o?void 0:o.description))&&t&&!s;return(0,c.jsx)("div",Object.assign({className:"overlay-layer"},{children:(0,c.jsx)("div",{className:g()("tour-story-scrim",{active:a})})}))}Zr.contextType=v.B;const eo={mouse:{click_old:n(16391),click:n(11400),clickInside:n(53228),dragLeft:n(46997),dragRight:n(2710),ctrlClick:n(61273),dragRightHoriz:n(38826),dragRightVert:n(5293),play:n(54322),positionLeft_old:n(56048),positionLeft:n(45663),positionRight:n(85893),zoom_old:n(93582),zoom:n(713)},gesture:{drag_old:n(99713),drag:n(45894),dragTwoFinger:n(99484),dragTwoFingerVert:n(40783),pinch_old:n(13179),pinch:n(58780),dragTwoFingerRotate:n(62979),position:n(96558),positionTwoFinger:n(60497),tap_old:n(50968),tap:n(64727),tapInside:n(68117),play:n(23672)},keyboard:{all:n(64268),inside:n(34715),leftRight:n(31873),spaceBar:n(28301),upDown:n(88691),zoom:n(35235)},moreHelp:{view360:n(94246),mattertag:n(65224)}};var to=n(78649),no=n(59760);const io={rotate:{desktop:{icon:[eo.mouse.ctrlClick,eo.mouse.dragRight],phrase:y.A.SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.DESKTOP},touch:{icon:[eo.gesture.dragTwoFingerRotate],phrase:y.A.SHOWCASE.HELP.TOUCH_DOLLHOUSE_ROTATE}},inside:{desktop:{icon:[eo.mouse.clickInside],phrase:y.A.SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.DESKTOP},touch:{icon:[eo.gesture.tapInside],phrase:y.A.SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.TOUCH}}},ro=()=>{const e=(0,Ui.B)(),t=(0,w.Y)(),n=(0,C.C8)(),[i,r]=(0,Se.Mj)("peekaboo_dh_prompt_dismissed",0),[s,a]=(0,o.useState)(!1),[l,u]=(0,o.useState)(!1),[d,h]=(0,o.useState)(io.rotate),p=ae(),m=(0,no.O)(),v=t.t(y.A.SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.OR),E=p===le.N3.Dollhouse&&!m&&!s&&i<3;(0,o.useEffect)((()=>{let e;return E&&(h(io.rotate),e=setTimeout((()=>{u(!0)}),1e4)),()=>{e&&clearTimeout(e)}}),[E]),(0,o.useEffect)((()=>{const t=E&&d===io.rotate?e.subscribe(to.i,(()=>{h(io.inside)})):null;return()=>{null==t||t.cancel()}}),[E,e,d]);const S=(0,o.useCallback)((()=>{r(i+1),a(!0),u(!1)}),[i,r]);(0,o.useEffect)((()=>{!E&&l&&S()}),[E,l,S]);const{icon:b,phrase:O}=d[n?"touch":"desktop"],_=b.length>0&&b[0],T=b.length>1&&b[1],A=(0,c.jsx)("svg",Object.assign({width:"2",height:"16",viewBox:"0 0 2 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,c.jsx)("path",{d:"M1 0L1 16",stroke:"white"})}));return(0,c.jsxs)(f.w,Object.assign({open:l,className:g()("peekaboo-dh-prompt",!l&&"unloading")},{children:[_&&(0,c.jsx)("img",{src:b[0],alt:"",height:n?26:50}),T&&(0,c.jsxs)("div",Object.assign({className:"separator"},{children:[A,(0,c.jsx)("span",{children:v}),A]})),T&&(0,c.jsx)("img",{src:b[1],alt:"",height:n?26:50}),(0,c.jsx)("span",Object.assign({className:"text"},{children:t.t(O)})),(0,c.jsx)(vi.J,{theme:"dark",onClose:S,tooltip:""})]}))};var oo=n(90053),so=n(82769),ao=n(76191),lo=n(97191),co=n(94814);class uo extends o.Component{constructor(e){super(e),this.horizontal=(0,Kt.O$)(),this.vertical=(0,Kt.O$)(),this.prevSuppressDrag=!1,this.manuallyMoved=!1,this.isUnmounting=!1,this.scrollPosition={horizontal:Kt.BB.Beginning,vertical:Kt.BB.End},this.handleEvent=e=>{this.inputFilter.handleEvent(e)},this.getScrollableContainer=()=>this.innerWrapper,this.getScrolledOffset=e=>{const t=Kt.RX[e].scrollOffset;return this.innerWrapper[t]/this.state[e].childLength},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.state={horizontal:(0,Kt.XU)(),vertical:(0,Kt.XU)()},this.scrollTo=this.scrollTo.bind(this),this.handlePressStart=this.handlePressStart.bind(this),this.handlePressMove=this.handlePressMove.bind(this),this.handleDragEnd=this.handleDragEnd.bind(this),this.handleDragStart=this.handleDragStart.bind(this),this.handleWheelEvent=this.handleWheelEvent.bind(this),this.handleClick=this.handleClick.bind(this),this.toggleVisibility=this.toggleVisibility.bind(this),this.hasManuallyMoved=this.hasManuallyMoved.bind(this),this.prevSuppressDrag=!!e.suppressDrag,this.inputFilter=new lo.A({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd,handleClick:this.handleClick});const t=this.handleEvent;window.PointerEvent||(window.addEventListener("mousemove",t),window.addEventListener("mouseleave",t),window.addEventListener("mouseup",t)),window.addEventListener("pointermove",t),window.addEventListener("pointerup",t),window.addEventListener("touchmove",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t)}componentDidMount(){if(this.resizeObserver=new Nn.A((()=>this.handleResize())),this.resizeObserver.observe(this.outerWrapper),this.innerWrapper.addEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly)this.innerWrapper.addEventListener("click",this.handleClick);else{const e=this.handleEvent;this.innerWrapper.addEventListener("mousedown",e),this.innerWrapper.addEventListener("pointerdown",e),this.innerWrapper.addEventListener("touchstart",e)}this.firstChild=this.innerWrapper.firstElementChild,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(),this.props.hasOwnProperty("suppressDrag")&&this.inputFilter.setEnabled(!!this.props.suppressDrag)}componentWillUnmount(){var e;this.isUnmounting=!0;const t=this.handleEvent;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),window.PointerEvent||(window.removeEventListener("mousemove",t),window.removeEventListener("mouseleave",t),window.removeEventListener("mouseup",t)),window.removeEventListener("pointermove",t),window.removeEventListener("touchmove",t),window.removeEventListener("pointerup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),this.innerWrapper.removeEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly?this.innerWrapper.removeEventListener("click",this.handleClick):(this.innerWrapper.removeEventListener("mousedown",t),this.innerWrapper.removeEventListener("pointerdown",t),this.innerWrapper.removeEventListener("touchstart",t))}componentDidUpdate(){if(this.props.waitToUpdate||this.handleExternalChange(),this.prevSuppressDrag!==this.props.suppressDrag&&(this.inputFilter.setEnabled(!!this.props.suppressDrag),this.props.suppressDrag&&(this.manuallyMoved=!1),this.prevSuppressDrag=!!this.props.suppressDrag),!this.horizontal.animation&&!this.vertical.animation)return;const e={};for(const t in this.state){const n=t,i=this[n].animation;if(i)if(i.isAnimating){const t=(0,Kt.s4)(n);e[t]=i.getUpdatedValue()}else this[n].animation=null}Object.keys(e).length>0&&window.requestAnimationFrame((()=>{this.innerWrapper&&this.scrollTo(e)}))}scrollTo(e){if(!e.hasOwnProperty(Kt._0.x)&&!e.hasOwnProperty(Kt._0.y))return;const t={};for(const n of this.getVisibleAxes(e)){const i=(0,Kt.mn)(n),r=Kt.RX[i].scrollOffset,o=e[n];if(void 0!==o){if(isNaN(o))return;this.innerWrapper[r]=Math.max(Math.min(1,o)*this.state[i].childLength,0),t[i]=Object.assign(Object.assign({},this.state[i]),{scrollOffset:this.innerWrapper[r]})}}this.setState(t)}animatedScrollTo(e,t){if(e.hasOwnProperty(Kt._0.x)||e.hasOwnProperty(Kt._0.y))for(const n of this.getVisibleAxes(e)){const i=(0,Kt.mn)(n),r=Kt.RX[i].scrollOffset;this[i].animation=new ao.A({duration:t||Kt.RL,startValue:this.innerWrapper[r]/this.state[i].childLength,endValue:Math.max(0,Math.min(1,e[n]))})}}setScrollCenter(e){if(!(e&&e.compareDocumentPosition(this.innerWrapper)&Node.DOCUMENT_POSITION_CONTAINS))return;this.scrollCenter=e;const t={},n={};for(const i of this.getVisibleAxes(this.state)){const r=(0,Kt.s4)(i);t[r]=e[Kt.RX[i].positionOffset]+e[Kt.RX[i].offsetLength]/2;let o=e;const s=t[r];for(;o.parentElement&&o!==this.innerWrapper;)o=o.parentElement,s&&(t[r]=s+o[Kt.RX[i].positionOffset]);if(this.outerWrapper.parentElement){const e=this.outerWrapper.parentElement[Kt.RX[i].offsetLength];s&&(n[r]=(s-e/2)/this.state[i].childLength)}}Object.keys(n).length>0&&this.animatedScrollTo(n)}getVisibleAxes(e){const t=[];for(const n in e)(e[n]||"number"==typeof e[n])&&(n in Kt._0&&this.state[(0,Kt.mn)(n)].isVisible||n in Kt.OP&&this.state[n].isVisible)&&t.push(n);return t}handleDragStart(){delete this.scrollCenter,this.hasManuallyMoved()}handlePressStart(){this.horizontal.dragStartScroll=this.innerWrapper.scrollLeft,this.vertical.dragStartScroll=this.innerWrapper.scrollTop}handlePressMove(e){const t={};for(const n of this.getVisibleAxes(e)){const i=(0,Kt.mn)(n);t[n]=(e[n]+this[i].dragStartScroll)/this.state[i].childLength}this.scrollTo(t)}handleWheelEvent(e){this.props.singleScrollDirection===Kt.OP.horizontal&&0===e.deltaX&&0!==e.deltaY?(this.handlePressStart(),this.handlePressMove({x:e.deltaY,y:0})):(this.hasManuallyMoved(),this.handleExternalChange())}handleClick(e){this.props.handleClick&&this.props.handleClick(e)}toggleVisibility(e){return t=>{const n=Object.assign(Object.assign({},this.state[e]),{isVisible:t});if((0,so._)(this.state[e],n)){const t={};t[e]=n,this.setState(t),this.props.onScrollbarVisibilityChange&&this.props.onScrollbarVisibilityChange()}}}toggleScrollPosition(e){return t=>{this.scrollPosition[e]=t,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(t)}}handleDragEnd(e,t){for(const n of this.getVisibleAxes(e)){const i=(0,Kt.mn)(n),r=e[n]/t,o=Math.min(Kt.RL,Math.abs(Kt.RL*r)),s=this.innerWrapper[Kt.RX[i].scrollOffset],a=r*o/2;this[i].animation=new ao.A({duration:o,startValue:s/this.state[i].childLength,endValue:Math.max(0,Math.min((s+a)/this.state[i].childLength,1)),easingFunction:co.WD})}this.setState({})}handleResize(){this.isUnmounting||(this.scrollCenter&&this.setScrollCenter(this.scrollCenter),this.handleExternalChange())}handleExternalChange(){if(this.isUnmounting)return;const e={};for(const t in this.state){const n=t,i=Kt.RX[n].clientLength,r=Object.assign(Object.assign({},this.state[n]),{wrapperLength:Number(this.innerWrapper&&this.innerWrapper[i])||1,childLength:Number(this.firstChild&&this.firstChild[i])||1,scrollOffset:this.innerWrapper&&this.innerWrapper[Kt.RX[n].scrollOffset]});(0,so._)(this.state[n],r)&&(e[n]=r)}Object.keys(e).length>0&&this.debouncedSetState(e)}hasManuallyMoved(){this.manuallyMoved=!0,this.props.onScrolled&&this.props.onScrolled()}resetManuallyMoved(){this.manuallyMoved=!1}renderScrollbar(e,t){const{forceHidden:n}=this.props,{wrapperLength:i,childLength:r,scrollOffset:o}=t;return(0,c.jsx)(oo.Z,{direction:e,ref:e=>{this.horizontal.scrollbar=e},wrapperLength:i,childLength:r,scrollOffset:o,scrollTo:this.scrollTo,onVisibilityChange:this.toggleVisibility(e),onScrollPositionChange:this.toggleScrollPosition(e),forceHidden:n,onThumbDrag:this.hasManuallyMoved})}render(){const{scrollbarHeight:e,singleScrollDirection:t,name:n,children:i}=this.props,r={maxHeight:e||""},o=t||`${Kt.OP.vertical} ${Kt.OP.horizontal}`;return(0,c.jsxs)("div",Object.assign({className:g()("outerScrollbarWrapper",o,`scrollbar-${n}`),ref:e=>{e&&(this.outerWrapper=e)},style:r},{children:[(0,c.jsx)("div",Object.assign({className:"innerScrollbarWrapper",ref:e=>{e&&(this.innerWrapper=e)}},{children:(0,c.jsx)("div",Object.assign({className:"paddingScrollbarWrapper"},{children:i}))})),t!==Kt.OP.vertical&&this.renderScrollbar(Kt.OP.horizontal,this.state.horizontal),t!==Kt.OP.horizontal&&this.renderScrollbar(Kt.OP.vertical,this.state.vertical)]}))}}var ho=n(43306),po=n(72347);const fo={"en-US":"./terms/terms-en-US.html",es:"./terms/terms-es-MX.html",fr:"./terms/terms-fr-FR.html",de:"./terms/terms-de-DE.html",ru:"./terms/terms-ru-RU.html",ja:"./terms/terms-ja-JP.html","zh-CN":"./terms/terms-zh-CN.html","zh-TW":"./terms/terms-zh-TW.html",ko:"./terms/terms-ko-KR.html",nl:"./terms/terms-nl-NL.html",it:"./terms/terms-it-IT.html",pt:"./terms/terms-pt-BR.html"};class mo extends o.Component{constructor(e,t){super(e,t),this.isUnmounting=!1,this.onScrollPositionChange=()=>{this.scrollbars&&this.setState({scrollClass:this.scrollbars.scrollPosition.vertical})},this.onClose=()=>{this.context.commandBinder.issueCommand(new Ut.X(xt.a.TERMS,!1))},this.setScrollbars=e=>{e&&(this.scrollbars=e)},this.setTermsTextDiv=e=>{e&&(this.termsTextDiv=e)},this.state={termsText:"",hideScrollbar:(0,zt.c)(qt(t)),scrollClass:Kt.BB.None}}async componentDidMount(){const e=function(e){if((0,po.D)(e)&&e in fo)return fo[e]}(this.context.locale?this.context.locale.languageCode:ho.Nm);let t="";if(e)try{t=await this.context.queue.get(e)}catch(e){t=this.context.locale.t(y.A.TERMS_FAIL)}else t=this.context.locale.t(y.A.TERMS_FAIL);this.context.market.waitForData(Yt.G).then((e=>{this.isUnmounting||(this.resizeSubscription=e.onPropertyChanged("size",(e=>{this.setState({hideScrollbar:(0,zt.c)(e)})})))})),window.requestAnimationFrame((()=>{this.isUnmounting||this.setState({termsText:t})}))}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.resizeSubscription)||void 0===e||e.cancel()}componentDidUpdate(e,t){this.state.termsText!==t.termsText&&(this.termsTextDiv.innerHTML=this.state.termsText,[].slice.call(this.termsTextDiv.querySelectorAll("a")).forEach((e=>{e.setAttribute("target","_blank"),e.classList.add("link")})))}render(){const{hideScrollbar:e,scrollClass:t}=this.state;return(0,c.jsxs)(gi.l,Object.assign({className:g()("terms-modal","full-modal",t),theme:"dark",onClose:this.onClose},{children:[(0,c.jsx)(vi.J,{theme:"dark",onClose:this.onClose}),(0,c.jsx)("div",Object.assign({id:"terms-wrapper"},{children:(0,c.jsx)(uo,Object.assign({name:"terms",ref:this.setScrollbars,onScrollPositionChange:this.onScrollPositionChange,forceHidden:e},{children:(0,c.jsx)("div",{ref:this.setTermsTextDiv,id:"terms-text"})}))}))]}))}}mo.contextType=v.B;var go,vo=n(4896),yo=n(94165);!function(e){e.MAIL="mail",e.META="meta",e.PINTEREST="pinterest",e.LINKEDIN="linkedin",e.TWITTER="twitter",e.FACEBOOK="facebook",e.COPYLINK="copylink",e.NATIVE="native"}(go||(go={}));const{FACEBOOK:Eo,TWITTER:So,MAIL:bo,META:Oo,PINTEREST:_o,LINKEDIN:To,COPYLINK:Ao,NATIVE:wo}=go,No={[bo]:"em",[Oo]:"mt",[_o]:"pn",[To]:"ln",[So]:"tw",[Eo]:"fb",[Ao]:"cp",[wo]:"os"},Io={[Eo]:{width:626,height:436},[So]:{width:550,height:440},[_o]:{width:750,height:749},[To]:{width:550,height:453},[Ao]:{},[bo]:{},[Oo]:{},[wo]:{}},Ro=async(e,t=!0)=>{let n;const i=await e.engine.getModuleBySymbol(yo.r),r=["ref","gclid","fbclid","cloudEdit","back","note","comment","apiHost","applicationKey","host","sdkKey","tag"],o=e=>!r.includes(e);return n=t?i.creator.createDeepLink({paramFilter:o}):i.creator.createLink({paramFilter:o}),n.searchParams.forEach(((e,t)=>{(r.includes(t)||0===t.indexOf("utm_"))&&n.searchParams.delete(t)})),decodeURIComponent(n.href)},ko=e=>new URLSearchParams(e).toString(),Lo=(e,t,n)=>{const i=e.replace("?",`?ref=${No[Eo]}&`);return`http://www.facebook.com/sharer.php?${ko({display:"popup",u:i})}`},Mo=(e,t,n)=>{const i=e.replace("?",`?ref=${No[So]}&`),r={text:n.t(y.A.SHARED_MESSAGE_HASHTAG,{title:t,url:i,hashtag:"#Matterport"})};return`http://twitter.com/intent/tweet?${ko(r)}`},Do=(e,t,n)=>{const i=e.replace("?",`?ref=${No[bo]}&`),r={subject:n.t(y.A.SHARED_TITLE,{title:t}),body:n.t(y.A.SHARED_MESSAGE,{title:t,url:i})};return`mailto:?${ko(r)}`},Po=e=>{const t=e.replace("?",`?ref=${No[Oo]}&qs=1&`);return`https://www.oculus.com/open_url/?${ko({url:t})}`},Co=(e,t,n,i)=>{const r={url:e.replace("?",`?ref=${No[_o]}&`),media:n,description:i.t(y.A.SHARED_TITLE,{title:t})};return`http://pinterest.com/pin/create/link/?${ko(r)}`},xo=(e,t,n)=>{const i=e.replace("?",`?ref=${No[To]}&`);return`https://www.linkedin.com/shareArticle?${ko({mini:"true",url:i})}`},Uo=(e,t,n,i)=>({[Eo]:Lo(e),[So]:Mo(e,t,i),[bo]:Do(e,t,i),[_o]:Co(e,t,n,i),[To]:xo(e),[Oo]:Po(e),[Ao]:e,[wo]:e});var jo=n(21320),Fo=n(26059),Ho=n(86721);const Go=new A.Ay("vr-select");class Bo extends o.Component{constructor(){super(...arguments),this.isUnmounting=!1,this.startWebXR=()=>{const{analytics:e,commandBinder:t}=this.context;t.issueCommand(new Ho.X({type:"immersive-vr",features:["local-floor"]})).then((t=>{if(t){e.trackGuiEvent("vr_enter_app");const n=()=>{e.trackGuiEvent("vr_exit_app"),t.removeEventListener("end",n)};t.addEventListener("end",n)}else Go.error("requestPresent Failed"),e.trackGuiEvent("vr_present_error"),this.updatePlatformState()})).catch((t=>{Go.error("requestPresent Failed:",t),e.trackGuiEvent("vr_present_error")}))}}async componentDidMount(){var e;jo.A.apiExists()&&(null===(e=navigator.xr)||void 0===e||e.addEventListener("ondevicechange",this.updatePlatformState)),await this.updatePlatformState()}componentWillUnmount(){var e;this.isUnmounting=!0,jo.A.apiExists()&&(null===(e=navigator.xr)||void 0===e||e.removeEventListener("ondevicechange",this.updatePlatformState))}async updatePlatformState(){const{settings:e}=this.context,t=e.tryGetProperty(Fo.F7,Fo.qy),n=await(0,vo.M1)(t);this.isUnmounting||(this.setState({vrPlatform:n}),Go.debug(this.state))}}Bo.contextType=v.B;var Vo=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Wo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const zo=new A.Ay("vr-select");let $o=class extends Bo{constructor(e){super(e),this.renderHeadsetHeader=()=>{const{locale:e}=this.context,{vrPlatform:t}=this.state;switch(t){case vo.wc.unsupported:case vo.wc.webxr:return(0,c.jsxs)("div",Object.assign({className:"headset-header dark"},{children:[(0,c.jsxs)("span",Object.assign({className:"headset-titles"},{children:[(0,c.jsx)("p",{children:e.t(y.A.VR_RECOMMENDED)}),(0,c.jsx)("p",{children:e.t(y.A.VR_QUEST)})]})),(0,c.jsx)("img",{className:"headset-quest",src:n(51),height:200,width:342})]}));default:return null}},this.renderBodyText=()=>{const{locale:e}=this.context,{vrPlatform:t}=this.state;switch(t){case vo.wc.unsupported:case vo.wc.webxr:return(0,c.jsx)("div",{children:(0,c.jsx)("p",{children:e.t(y.A.VR_SUPPORTS)})});default:return null}},this.getFooterButtons=()=>{const{locale:e}=this.context,{vrPlatform:t,metaLink:n}=this.state,i=[];i.push((0,c.jsx)(p.$n,{variant:p.Ak.SECONDARY,className:g()("button-inline","cancel"),onClick:this.onLearnMoreClicked,label:e.t(y.A.VR_LEARN_MORE_CAPS),size:"small"},"learn-more"));return t===vo.wc.webxr?i.push((0,c.jsx)(p.$n,{variant:p.Ak.PRIMARY,onClick:this.onActionClicked,label:e.t(y.A.VR_ENTER),size:"small"},"enter-vr")):i.push((0,c.jsx)(p.$n,{variant:p.Ak.PRIMARY,disabled:!n,onClick:this.onMetaDeepLinkClicked,label:e.t(y.A.VR_META_LINK),size:"small"},"enter-vr")),(0,c.jsx)(Wn.e,Object.assign({spacing:"small"},{children:i}))},this.closeModal=()=>{this.context.commandBinder.issueCommand(new Ut.X(xt.a.VR_SELECT,!1))},this.onCloseClicked=()=>{this.context.analytics.trackGuiEvent("vr_modal_close"),this.closeModal()},this.onActionClicked=()=>{if(this.state.vrPlatform===vo.wc.webxr)this.startWebXR(),this.closeModal()},this.onMetaDeepLinkClicked=()=>{this.state.metaLink&&(window.open(this.state.metaLink,"_blank"),this.context.analytics.trackGuiEvent("vr_meta_link"))},this.onLearnMoreClicked=()=>{window.open("https://support.matterport.com/hc/en-us/articles/360050098973-Exploring-Matterport-Spaces-in-VR-","_blank"),this.context.analytics.trackGuiEvent("vr_learn_more")},this.state={vrPlatform:null,metaLink:null}}async componentDidMount(){await super.componentDidMount(),this.updateUrls(),this.context.analytics.trackGuiEvent("click_vr_button")}render(){const{isMobile:e}=this.props,{locale:t}=this.context,n=g()("vr-modal","full-modal",{mobile:e,desktop:!e});return(0,c.jsxs)(gi.l,Object.assign({className:n,onClose:this.onCloseClicked},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:t.t(y.A.VR_VIEW_SPACE)})),(0,c.jsx)(vi.J,{onClose:this.onCloseClicked})]})),this.renderHeadsetHeader(),(0,c.jsx)("div",Object.assign({className:"modal-body"},{children:this.renderBodyText()})),(0,c.jsx)("div",Object.assign({className:"modal-footer"},{children:this.getFooterButtons()}))]}))}async updateUrls(){const[e]=await Promise.all([Ro(this.context,!0)]),t=Uo(e,"","",this.context.locale);zo.debug("Social Share URLs, with current location",t),this.isUnmounting||this.setState({metaLink:t.meta})}};$o=Vo([Vt.A,Wo("design:paramtypes",[Object])],$o);const Ko=$o;var Yo=n(37105);const qo=(0,ne.v)(Yo.p);class Qo extends o.Component{render(){const{isMobile:e}=this.props,{locale:t}=this.context;return(0,c.jsx)("div",Object.assign({className:"cta"},{children:(0,c.jsx)("header",Object.assign({className:g()({mobile:e})},{children:t.t(e?y.A.MOBILE_SHORT_CTA:y.A.DESKTOP_SHORT_CTA)}))}))}}Qo.contextType=v.B;const{HELP:Xo}=y.A.SHOWCASE;class Zo extends o.Component{constructor(){super(...arguments),this.keys={header:y.A.DESKTOP_SHORT_CTA,tourHeader:y.A.CTA_TOUR_COMPLETE,tourSubhead:y.A.CTA_EXPLORE_SPACE,restartTour:y.A.CTA_RESTART_TOUR,share:y.A.CTA_SHARE,move:y.A.MOVE,inside:y.A.INSIDE,rotate:y.A.ROTATE,play:y.A.PLAY,zoom:y.A.ZOOM},this.clickInside={Icon:eo.mouse.clickInside,Label:this.keys.inside,FooterIcon:eo.keyboard.inside,Alt:Xo.ALT_MOUSE_CLICKINSIDE,FooterAlt:Xo.ALT_KEYBOARD_INSIDE},this.clickMove={Icon:eo.mouse.positionRight,Label:this.keys.move,FooterIcon:"",Alt:Xo.ALT_MOUSE_POSITIONRIGHT},this.moveUpDown={Icon:eo.mouse.click_old,Label:this.keys.move,FooterIcon:eo.keyboard.upDown,Alt:Xo.ALT_MOUSE_CLICK,FooterAlt:Xo.ALT_KEYBOARD_UPDOWN},this.play={Icon:eo.mouse.play,Label:this.keys.play,FooterIcon:null,Alt:Xo.ALT_MOUSE_PLAY},this.zoom={Icon:eo.mouse.zoom_old,Label:this.keys.zoom,FooterIcon:eo.keyboard.zoom,Alt:Xo.ALT_MOUSE_ZOOM,FooterAlt:Xo.ALT_KEYBOARD_ZOOM},this.dragMove={Icon:eo.mouse.positionLeft_old,Label:this.keys.move,FooterIcon:null,Alt:Xo.ALT_MOUSE_POSITIONLEFT},this.dragRotateLeft={Icon:eo.mouse.dragLeft,Label:this.keys.rotate,FooterIcon:eo.keyboard.leftRight,Alt:Xo.ALT_MOUSE_DRAGLEFT,FooterAlt:Xo.ALT_KEYBOARD_LEFTRIGHT},this.dragRotateRight={Icon:eo.mouse.dragRight,Label:this.keys.rotate,FooterIcon:eo.keyboard.leftRight,Alt:Xo.ALT_MOUSE_DRAGRIGHT,FooterAlt:Xo.ALT_KEYBOARD_LEFTRIGHT},this.left=this.clickInside,this.center=this.clickMove,this.right=this.play,this.close=async()=>{const{commandBinder:e}=this.context;await e.issueCommand(new Ut.X(xt.a.CTA,!1))},this.restartTour=async()=>{this.context.analytics.trackGuiEvent("restart_highlights_from_cta"),this.close();const e=await this.context.engine.getModuleBySymbol($e.Xf);await e.tourGoTo(0,{instant:!0}),e.startTour()},this.share=async()=>{const{commandBinder:e}=this.context;this.context.analytics.trackGuiEvent("click_share_button_from_cta"),this.close(),e.issueCommand(new Ut.X(xt.a.SHARE,!0))}}render(){const{viewmode:e,isHelpCta:t,shareEnabled:n}=this.props,{locale:i}=this.context;this.configureViewmodeSpecifics(e);const r=i.t(t?this.keys.header:this.keys.tourHeader),o=t?"":i.t(this.keys.tourSubhead),s=i.t(y.A.CTA_SHARE),a=i.t(y.A.CTA_RESTART_TOUR);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",Object.assign({className:"cta"},{children:[(0,c.jsxs)("header",{children:[r,(0,c.jsx)("div",Object.assign({className:"subhead"},{children:o}))]}),(0,c.jsx)("img",{src:this.left.Icon,alt:i.t(this.left.Alt)}),(0,c.jsx)("h2",{children:i.t(this.left.Label)}),this.left.FooterIcon?(0,c.jsx)("img",{className:"footer-icon",src:this.left.FooterIcon,alt:this.left.FooterAlt&&i.t(this.left.FooterAlt)}):(0,c.jsx)("span",{}),(0,c.jsx)("img",{src:this.center.Icon,alt:i.t(this.center.Alt)}),(0,c.jsx)("h2",{children:i.t(this.center.Label)}),this.center.FooterIcon?(0,c.jsx)("img",{className:"footer-icon",src:this.center.FooterIcon,alt:this.center.FooterAlt&&i.t(this.center.FooterAlt)}):(0,c.jsx)("span",{}),(0,c.jsx)("img",{src:this.right.Icon,alt:i.t(this.right.Alt)}),(0,c.jsx)("h2",{children:i.t(this.right.Label)}),this.right.FooterIcon?(0,c.jsx)("img",{className:"footer-icon",src:this.right.FooterIcon,alt:this.right.FooterAlt&&i.t(this.right.FooterAlt)}):(0,c.jsx)("span",{})]})),(0,c.jsx)(p.$n,{className:"close-button",theme:"dark",icon:"close",variant:p.Ak.TERTIARY,onClick:this.close}),!t&&(0,c.jsxs)("div",Object.assign({className:"footer"},{children:[(0,c.jsx)(p.$n,{onClick:this.restartTour,theme:"dark",label:a,icon:"restart",variant:p.Ak.TERTIARY}),n&&(0,c.jsx)(p.$n,{className:"share",theme:"dark",label:s,icon:"share2",variant:p.Ak.SECONDARY,onClick:this.share})]}))]})}configureViewmodeSpecifics(e){switch(e){case _.w5.INSIDE:this.left=this.dragRotateLeft,this.center=this.moveUpDown,this.right=this.props.isHelpCta?this.play:this.zoom;break;case _.w5.OUTSIDE:this.left=this.dragRotateLeft,this.center=this.clickMove,this.right=this.clickInside;break;case _.w5.FLOORPLAN:this.left=this.dragMove,this.center=this.dragRotateRight,this.right=this.clickInside}}}Zo.contextType=v.B;const{HELP:Jo}=y.A.SHOWCASE;class es extends o.Component{constructor(){super(...arguments),this.keys={shortCta:y.A.MOBILE_SHORT_CTA,tourHeader:y.A.CTA_TOUR_COMPLETE,tourSubhead:y.A.CTA_EXPLORE_SPACE,move:y.A.MOVE,inside:y.A.INSIDE,rotate:y.A.ROTATE,play:y.A.PLAY,zoom:y.A.ZOOM},this.clickInside={Icon:eo.gesture.tapInside,Label:this.keys.inside,Alt:Jo.ALT_GESTURE_TAPINSIDE},this.clickMove={Icon:eo.gesture.tap_old,Label:this.keys.move,Alt:Jo.ALT_GESTURE_TAP},this.dragRotate={Icon:eo.gesture.drag_old,Label:this.keys.rotate,Alt:Jo.ALT_GESTURE_DRAG},this.dragMove={Icon:eo.gesture.position,Label:this.keys.move,Alt:Jo.ALT_GESTURE_POSITION},this.play={Icon:eo.gesture.play,Label:this.keys.play,Alt:Jo.ALT_GESTURE_PLAY},this.zoom={Icon:eo.gesture.pinch_old,Label:this.keys.zoom,Alt:Jo.ALT_GESTURE_PINCH},this.left=this.dragRotate,this.center=this.clickInside,this.right=this.play}render(){const{viewmode:e,isHelpCta:t}=this.props,{locale:n}=this.context;this.configureViewmodeSpecifics(e);const i=n.t(t?this.keys.shortCta:this.keys.tourHeader),r=t?"":n.t(this.keys.tourSubhead);return(0,c.jsxs)("div",Object.assign({className:"cta mobile"},{children:[(0,c.jsxs)("header",Object.assign({className:"mobile"},{children:[i,(0,c.jsx)("div",Object.assign({className:"subhead"},{children:r}))]})),(0,c.jsx)("h2",Object.assign({className:"mobile"},{children:n.t(this.left.Label)})),(0,c.jsx)("img",{src:this.left.Icon,alt:n.t(this.left.Alt)}),(0,c.jsx)("h2",Object.assign({className:"mobile"},{children:n.t(this.center.Label)})),(0,c.jsx)("img",{src:this.center.Icon,alt:n.t(this.center.Alt)}),(0,c.jsx)("h2",Object.assign({className:"mobile"},{children:n.t(this.right.Label)})),(0,c.jsx)("img",{src:this.right.Icon,alt:n.t(this.right.Alt)})]}))}configureViewmodeSpecifics(e){switch(e){case _.w5.INSIDE:this.left=this.dragRotate,this.center=this.clickMove,this.right=this.props.isHelpCta?this.zoom:this.play;break;case _.w5.DOLLHOUSE:case _.w5.OUTSIDE:this.left=this.dragRotate,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play;break;case _.w5.FLOORPLAN:this.left=this.dragMove,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play}}}var ts;es.contextType=v.B,function(e){e[e.NONE=0]="NONE",e[e.LARGE=1]="LARGE",e[e.SMALL=2]="SMALL"}(ts||(ts={}));const ns="cta-seen";function is(e){const t=(0,B.F)(),n=(0,ft.L)(),{touchDevice:i,viewmode:r,shareEnabled:s}=e,a=je(),l=-1!==V("ts",-1),u=V("tourcta",1),d=(0,S.U)(ts,u)?u:ts.LARGE,h=!!d&&a>0,[p,m]=(0,o.useState)(h&&l),v=V("help",0),y=(0,S.U)(ts,v)?v:ts.NONE,E=(0,H.i)(ns,!1),b=E?ts.NONE:p?d:y,[O,_]=(0,o.useState)(b),T=(0,Bn.t)(),[A,w]=(0,o.useState)(T===xt.a.CTA),N=(0,o.useCallback)((()=>{n.issueCommand(new Ut.X(xt.a.CTA,!1)),w(!1)}),[n]),I=function(){const e=qo();return(null==e?void 0:e.canvas)||null}();if((0,o.useEffect)((()=>(I&&(I.addEventListener("mousedown",N),I.addEventListener("pointerdown",N),I.addEventListener("touchstart",N)),()=>{I&&(I.removeEventListener("mousedown",N),I.removeEventListener("pointerdown",N),I.removeEventListener("touchstart",N))})),[I,N]),(0,Te.J)(Be.YH,(()=>{!E&&h&&(m(!0),_(d),n.issueCommand(new Ut.X(xt.a.CTA,!0)))})),(0,o.useEffect)((()=>{const e=T===xt.a.CTA;w(e),e&&t.setProperty(ns,!0)}),[T,t]),O===ts.NONE)return null;const R=O===ts.SMALL,k=!R&&!i,L=!R&&i,M={mobile:i,small:R,helpCta:!p};return(0,c.jsx)(f.w,Object.assign({open:A,className:g()("modal-background","dark-modal-background",{open:A})},{children:(0,c.jsxs)("div",Object.assign({className:g()("modal","ctaContainer",M)},{children:[R&&(0,c.jsx)(Qo,{isMobile:i}),k&&(0,c.jsx)(Zo,{viewmode:r,isHelpCta:!p,shareEnabled:s}),L&&(0,c.jsx)(es,{viewmode:r,isHelpCta:!p,shareEnabled:s})]}))}))}var rs,os,ss,as,ls,cs;!function(e){e[e.navigation=0]="navigation",e[e.moreHelp=1]="moreHelp"}(rs||(rs={})),function(e){e.left="left",e.middle="middle",e.right="right"}(os||(os={})),function(e){e.topInfo="topInfo",e.bigImage="bigImage",e.bottomInfo="bottomInfo",e.keyboard="keyboard"}(ss||(ss={})),function(e){e.desktop="desktop",e.mobile="mobile"}(as||(as={})),function(e){e.hlr="hlr",e.dollhouse="dollhouse",e.floors="floors",e.mattertag="mattertag",e.floorplan="floorplan",e.tour="tour",e.inside="inside",e.vr="vr",e.view360="view360",e.fullscreen="fullscreen"}(ls||(ls={})),function(e){e.landscape="landscape",e.portrait="portrait"}(cs||(cs={}));var us=n(87976);const ds=y.A.SHOWCASE.HELP,hs={[as.desktop]:{title:ds.NAV_DOLLHOUSE_TITLE,items:[{iconSrc:eo.mouse.positionLeft,iconAlt:ds.ALT_MOUSE_POSITIONLEFT,header:ds.DESKTOP_DOLLHOUSE_PAN_HEADER,text:ds.DESKTOP_DOLLHOUSE_PAN},{iconSrc:eo.mouse.zoom,iconAlt:ds.ALT_MOUSE_ZOOM,header:ds.DESKTOP_DOLLHOUSE_ZOOM_HEADER,text:ds.DESKTOP_DOLLHOUSE_ZOOM},{iconSrc:eo.mouse.dragRightHoriz,iconAlt:ds.ALT_MOUSE_DRAGRIGHT_HORIZ,header:ds.DESKTOP_DOLLHOUSE_ROTATE_HEADER,text:ds.DESKTOP_DOLLHOUSE_ROTATE},{iconSrc:eo.mouse.dragRightVert,iconAlt:ds.ALT_MOUSE_DRAGRIGHT_VERT,header:ds.DESKTOP_DOLLHOUSE_2D3D_HEADER,text:ds.DESKTOP_DOLLHOUSE_2D3D,badge:y.A.GENERIC.NEW_MESSAGE}]},[as.mobile]:{title:ds.NAV_DOLLHOUSE_TITLE,items:[{iconSrc:eo.gesture.position,iconAlt:ds.ALT_GESTURE_POSITION,text:ds.TOUCH_DOLLHOUSE_PAN},{iconSrc:eo.gesture.dragTwoFingerVert,iconAlt:ds.ALT_GESTURE_DRAGTWOFINGER_VERT,text:ds.TOUCH_DOLLHOUSE_2D3D,badge:y.A.GENERIC.NEW_MESSAGE},{iconSrc:eo.gesture.dragTwoFingerRotate,iconAlt:ds.ALT_GESTURE_TOUCH_ROTATE,text:ds.TOUCH_DOLLHOUSE_ROTATE,badge:y.A.GENERIC.NEW_MESSAGE},{iconSrc:eo.gesture.pinch,iconAlt:ds.ALT_GESTURE_PINCH,text:ds.TOUCH_DOLLHOUSE_ZOOM}]}},ps={[as.desktop]:Object.assign(Object.assign({},hs[as.desktop]),{title:ds.NAV_FLOORPLAN_TITLE}),[as.mobile]:Object.assign(Object.assign({},hs[as.mobile]),{title:ds.NAV_FLOORPLAN_TITLE})},fs={[as.desktop]:{title:ds.NAV_INSIDE_TITLE,items:[{iconSrc:eo.mouse.positionLeft,iconAlt:ds.ALT_MOUSE_POSITIONLEFT,header:ds.DESKTOP_INSIDE_LOOK_HEADER,text:ds.DESKTOP_INSIDE_LOOK},{iconSrc:eo.mouse.zoom,iconAlt:ds.ALT_MOUSE_ZOOM,header:ds.DESKTOP_INSIDE_ZOOM_HEADER,text:ds.DESKTOP_INSIDE_ZOOM},{iconSrc:eo.mouse.click,iconAlt:ds.ALT_MOUSE_CLICK,header:ds.DESKTOP_INSIDE_MOVE_HEADER,text:ds.DESKTOP_INSIDE_MOVE}]},[as.mobile]:{title:ds.NAV_INSIDE_TITLE,items:[{iconSrc:eo.gesture.position,iconAlt:ds.ALT_GESTURE_POSITION,text:ds.TOUCH_INSIDE_LOOK},{iconSrc:eo.gesture.tap,iconAlt:ds.ALT_GESTURE_TAP,text:ds.TOUCH_INSIDE_MOVE},{iconSrc:eo.gesture.pinch,iconAlt:ds.ALT_GESTURE_PINCH,text:ds.TOUCH_INSIDE_ZOOM}]}},ms=(0,o.memo)((({viewmode:e,device:t})=>{const n=(0,w.Y)(),i=(e===_.w5.FLOORPLAN?ps:e===_.w5.DOLLHOUSE?hs:fs)[t];return(0,c.jsx)("div",Object.assign({className:g()("navigation",t)},{children:(0,c.jsx)(us.H,Object.assign({disabled:!1,hideThumb:!1},{children:(0,c.jsxs)("section",{children:[i.title&&(0,c.jsx)("h2",{children:n.t(i.title)}),(0,c.jsxs)("ul",{children:[i.items.map((({iconSrc:e,iconAlt:t,header:i,text:r,badge:o},s)=>(0,c.jsxs)("li",{children:[(0,c.jsx)("img",{src:e,alt:n.t(t)}),(i||o)&&(0,c.jsxs)("h3",{children:[i&&n.t(i)+" ",o&&(0,c.jsx)("span",Object.assign({className:"help_badge"},{children:n.t(o)}))]}),(0,c.jsx)("div",{children:n.t(r)})]},s))),i.items.length%2?(0,c.jsx)("li",{children:(0,c.jsx)("div",{style:{width:440}})}):null]})]})}))}))})),gs={[ls.hlr]:{[ss.topInfo]:"HELP_MORE_HLR_A",[ss.bigImage]:"icon-hlr",[ss.bottomInfo]:"HELP_DESKTOP_MORE_HLR_B"},[ls.dollhouse]:{[ss.topInfo]:"HELP_MORE_DOLLHOUSE_A",[ss.bigImage]:"icon-dollhouse",[ss.bottomInfo]:"HELP_MOBILE_MORE_DOLLHOUSE_B"},[ls.floors]:{[ss.topInfo]:"HELP_MORE_FLOORS_A",[ss.bigImage]:"icon-floor-controls",[ss.bottomInfo]:"HELP_DESKTOP_MORE_FLOORS_B"},[ls.mattertag]:{[ss.topInfo]:"HELP_MORE_MATTERTAG_A",[ss.bigImage]:eo.moreHelp.mattertag,[ss.bottomInfo]:"HELP_MOBILE_MORE_MATTERTAG_B"},[ls.tour]:{[ss.topInfo]:"HELP_MORE_TOUR_A",[ss.bigImage]:"icon-play",[ss.bottomInfo]:"HELP_DESKTOP_MORE_TOUR_B"},[ls.inside]:{[ss.topInfo]:"HELP_MORE_INSIDE_A",[ss.bigImage]:"icon-panorama",[ss.bottomInfo]:"HELP_MOBILE_MORE_INSIDE_B"},[ls.vr]:{[ss.topInfo]:"HELP_MORE_VR_A",[ss.bigImage]:"icon-vr",[ss.bottomInfo]:"HELP_MOBILE_MORE_VR_B"},[ls.view360]:{[ss.topInfo]:"HELP_MORE_360_A",[ss.bigImage]:eo.moreHelp.view360,[ss.bottomInfo]:"HELP_MOBILE_MORE_360_B"},[ls.floorplan]:{[ss.topInfo]:"HELP_MORE_FLOORPLAN_A",[ss.bigImage]:"icon-floorplan",[ss.bottomInfo]:"HELP_MOBILE_FLOORPLAN_B"}},vs=JSON.parse(JSON.stringify(gs));vs[ls.fullscreen]={[ss.topInfo]:"HELP_MORE_FULLSCREEN_A",[ss.bigImage]:"icon-fullscreen",[ss.bottomInfo]:"HELP_DESKTOP_MORE_FULLSCREEN_B"},vs[ls.dollhouse][ss.bottomInfo]="HELP_DESKTOP_MORE_DOLLHOUSE_B",vs[ls.mattertag][ss.bottomInfo]="HELP_DESKTOP_MORE_MATTERTAG_B",vs[ls.inside][ss.bottomInfo]="HELP_DESKTOP_MORE_INSIDE_B",vs[ls.vr][ss.bottomInfo]="HELP_DESKTOP_MORE_VR_B",vs[ls.view360][ss.bottomInfo]="HELP_DESKTOP_MORE_360_B",vs[ls.floorplan][ss.bottomInfo]="HELP_DESKTOP_FLOORPLAN_B";const ys={[as.desktop]:vs,[as.mobile]:gs};var Es=n(44879);const Ss=[ss.topInfo,ss.bigImage,ss.bottomInfo];class bs extends o.Component{constructor(e){super(e),this.scrollbarsRef=(0,o.createRef)()}componentDidMount(){const e=this.scrollbarsRef.current;e&&e.scrollTo({x:0,y:0})}buildInstructions(){const e=[],t=this.props.device===as.desktop?5:this.props.orientation===Es.U.LANDSCAPE?3:2,n=Object.keys(ys[this.props.device]);for(let i=0;i<n.length;i+=t){for(const r of Ss){const o=[];for(let e=0;e<t;e++){if(i+e>=n.length)continue;const t=ys[this.props.device][n[i+e]][r],s=g()(r,n[i+e],{noAsset:!t}),a=`${i}_${r}_${e}`;switch(r){case ss.topInfo:o.push((0,c.jsx)("div",Object.assign({className:s},{children:this.context.locale.t(t)}),`${a}_top_info`));break;case ss.bigImage:o.push((0,c.jsx)("div",Object.assign({className:s},{children:t.indexOf(".png")>-1?(0,c.jsx)("img",{src:t}):(0,c.jsx)("span",Object.assign({className:t},{children:"floors"===n[i+e]?(0,c.jsx)("span",{children:"2"}):null}))}),`${a}_big_img`));break;case ss.bottomInfo:o.push((0,c.jsx)("div",Object.assign({className:s},{children:this.context.locale.t(t)}),`${a}_bottom_info`))}}e.push((0,c.jsx)("div",Object.assign({className:g()("innerRow",r)},{children:o}),`${i}_${r}_top_info`))}e.push((0,c.jsx)("div",{className:"rowPadding"},`${i}_row_padding`))}return e.pop(),e}render(){return(0,c.jsx)("div",Object.assign({className:g()("more-help-wrapper",this.props.device)},{children:(0,c.jsx)(uo,Object.assign({name:"more-help-wrapper",ref:this.scrollbarsRef,forceHidden:!1},{children:(0,c.jsx)("div",Object.assign({className:g()("more-help")},{children:this.buildInstructions()}))}))}))}}bs.contextType=v.B;var Os=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},_s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ts=class extends o.Component{constructor(e,t){var n,i;super(e,t),this.isUnmounting=!1,this.handleTabClick=e=>()=>{this.setState({tab:e})},this.closeHelp=()=>{this.context.commandBinder.issueCommand(new Ut.X(xt.a.HELP,!1))},this.device=this.props.isMobile?as.mobile:as.desktop,this.state={tab:rs.navigation,orientation:null!==(i=null===(n=t.market.tryGetData(Yt.G))||void 0===n?void 0:n.orientation)&&void 0!==i?i:Es.U.LANDSCAPE}}componentDidMount(){this.context.market.waitForData(Yt.G).then((e=>{this.isUnmounting||(this.orientationSubscription=e.onPropertyChanged("orientation",(e=>{this.setState({orientation:e})})))}))}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.orientationSubscription)||void 0===e||e.cancel()}render(){const{tab:e,orientation:t}=this.state;return(0,c.jsxs)(gi.l,Object.assign({className:g()("full-modal","help-modal",this.device),theme:"dark",onClose:this.closeHelp},{children:[(0,c.jsx)(vi.J,{theme:"dark",onClose:this.closeHelp}),(0,c.jsxs)("div",Object.assign({className:g()("tabs",e)},{children:[(0,c.jsx)("div",Object.assign({className:g()("navigation-tab",{active:e===rs.navigation}),onClick:this.handleTabClick(rs.navigation)},{children:(0,c.jsx)("span",{children:this.context.locale.t(y.A.HELP_NAVIGATION_TAB)})})),(0,c.jsx)("div",Object.assign({className:g()("more-help-tab",{active:e===rs.moreHelp}),onClick:this.handleTabClick(rs.moreHelp)},{children:(0,c.jsx)("span",{children:this.context.locale.t(y.A.HELP_MORE_HELP_TAB)})}))]})),e===rs.navigation&&(0,c.jsx)(ms,{device:this.device,viewmode:this.props.viewmode}),e===rs.moreHelp&&(0,c.jsx)(bs,{device:this.device,orientation:t})]}))}};Ts.contextType=v.B,Ts=Os([Vt.A,_s("design:paramtypes",[Object,Object])],Ts);const As=Ts;var ws=n(62372),Ns=n(81609);const Is=new A.Ay("share-modal");class Rs extends o.Component{constructor(e){super(e),this.isUnmounting=!1,this.copyURL=()=>{const{deeplink:e}=this.state,t=this.urlInputRef;if(t){const n=new URL(t.value);n.hash="",(0,Ns.l)(n.toString()),this.setState({copied:!0}),this.context.analytics.track("showcase_share_action",{channel:go.COPYLINK,pano_id:this.sweepData.currentSweep,deeplink:e}),window.setTimeout((()=>{this.setState({copied:!1})}),2500)}},this.toggleDeeplinks=()=>{const{deeplink:e}=this.state;this.setState({deeplink:!e})},this.close=()=>{this.context.commandBinder.issueCommand(new Ut.X(xt.a.SHARE,!1))},this.openShareWindow=e=>{const{urls:t,deeplink:n,deeplinkUrls:i}=this.state,{width:r,height:o}=Io[e],s=n?i[e]:t[e];let a;if(r&&o){a="top="+(window.screenY+(window.innerHeight-o)/2)+",left="+(window.screenX+(window.innerWidth-r)/2)+",width="+r+",height="+o}this.context.analytics.track("showcase_share_action",{channel:e,pano_id:this.sweepData.currentSweep,deeplink:n}),window.open(s,"",a)},this.openWebShareApi=e=>{if(!navigator.share)return;const{excerpt:t,title:n,urls:i,deeplinkUrls:r}=this.state,o={url:e?r[go.COPYLINK]:i[go.COPYLINK],text:t,title:n};Is.debug("Launching Web Share API",o),navigator.share(o),this.context.analytics.track("showcase_share_action",{channel:go.NATIVE,pano_id:this.sweepData.currentSweep,deeplink:e})},this.onWebShareClick=()=>{this.openWebShareApi(!1)},this.onWebShareDeeplinkClick=()=>{this.openWebShareApi(!0)},this.setUrlInputRef=e=>{this.urlInputRef=e},this.state={urls:{},deeplinkUrls:{},title:"",excerpt:"",image:"",copied:!1,deeplink:!1,webShareEnabled:(0,C.Yk)()},this.openFacebook=this.openShareWindow.bind(this,go.FACEBOOK),this.openTwitter=this.openShareWindow.bind(this,go.TWITTER),this.openPinterest=this.openShareWindow.bind(this,go.PINTEREST),this.openLinkedIn=this.openShareWindow.bind(this,go.LINKEDIN),this.openEmail=this.openShareWindow.bind(this,go.MAIL)}async componentDidMount(){const{market:e}=this.context,[t,n]=await Promise.all([e.waitForData(Yn.q),e.waitForData(ws.A)]);this.sweepData=n;const i=`${window.location.origin}/api/v1/player/models/${t.model.sid}/thumb`,r=t.model.details.name;this.isUnmounting||this.setState({title:r,image:i},this.updateUrls)}componentWillUnmount(){this.isUnmounting=!0}async updateUrls(){const{title:e,image:t}=this.state,[n,i]=await Promise.all([Ro(this.context,!1),Ro(this.context,!0)]),r=Uo(n,e,t,this.context.locale),o=Uo(i,e,t,this.context.locale);Is.debug("Social Share URLs:",r),Is.debug("Social Share URLs, with current location",o),this.isUnmounting||this.setState({urls:r,deeplinkUrls:o})}renderWebShareDialog(){return(0,c.jsxs)("div",Object.assign({className:"share-controls"},{children:[(0,c.jsx)(p.$n,{className:"share-modal-button",variant:p.Ak.PRIMARY,size:p.Mp.LARGE,onClick:this.onWebShareDeeplinkClick,label:this.context.locale.t(y.A.SHARE_CURRENT_LOCATION)}),(0,c.jsx)(p.$n,{className:"share-modal-button",variant:p.Ak.SECONDARY,size:p.Mp.LARGE,onClick:this.onWebShareClick,label:this.context.locale.t(y.A.SHARE_DEFAULT_LOCATION)})]}))}renderShareDialog(){const{copied:e,deeplink:t,urls:n,deeplinkUrls:i}=this.state,{locale:r}=this.context,o=t?i[go.COPYLINK]:n[go.COPYLINK],s=this.sweepData&&this.sweepData.isSweepDisabled(),a=s?r.t(y.A.SHARE_ERROR_SWEEP_DISABLED):void 0;return(0,c.jsxs)("div",Object.assign({className:"share-controls"},{children:[(0,c.jsxs)("div",Object.assign({className:"social-icons"},{children:[(0,c.jsx)(p.$n,{onClick:this.openFacebook,icon:"facebook",variant:p.Ak.FAB,size:"large",theme:"dark",ariaLabel:r.t(y.A.SHARE_FACEBOOK)}),(0,c.jsx)(p.$n,{onClick:this.openTwitter,icon:"twitter",variant:p.Ak.FAB,size:"large",theme:"dark",ariaLabel:r.t(y.A.SHARE_TWITTER)}),(0,c.jsx)(p.$n,{onClick:this.openLinkedIn,icon:"linkedin",variant:p.Ak.FAB,size:"large",theme:"dark",ariaLabel:r.t(y.A.SHARE_LINKEDIN)}),(0,c.jsx)(p.$n,{onClick:this.openPinterest,icon:"pinterest",variant:p.Ak.FAB,size:"large",theme:"dark",ariaLabel:r.t(y.A.SHARE_PINTEREST)}),(0,c.jsx)(p.$n,{onClick:this.openEmail,icon:"email",variant:p.Ak.FAB,size:"large",theme:"dark",ariaLabel:r.t(y.A.SHARE_MAIL)})]})),(0,c.jsxs)("div",Object.assign({className:"input-group"},{children:[(0,c.jsx)("input",{className:"input",type:"text",value:o||"",ref:this.setUrlInputRef,readOnly:!0}),(0,c.jsx)(p.$n,{className:"input-addon",variant:p.Ak.SECONDARY,onClick:this.copyURL,label:this.context.locale.t(y.A.COPY),tooltip:e?this.context.locale.t(y.A.SHARE_COPIED):this.context.locale.t(y.A.COPY_URL)})]})),(0,c.jsx)(Er.S,{defaultChecked:t,disabled:s,label:this.context.locale.t(y.A.SHARE_LINK_TO_LOCATION),onChange:this.toggleDeeplinks}),s&&(0,c.jsx)("p",Object.assign({className:"error-message"},{children:a}))]}))}render(){const{webShareEnabled:e}=this.state,t=g()("share-modal","modal-dialog",{"share-dialog":!e,"web-share-dialog":e}),n=e?this.renderWebShareDialog():this.renderShareDialog();return(0,c.jsxs)(gi.l,Object.assign({className:t,onClose:this.close},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:this.context.locale.t(y.A.SHARE_MODAL_TITLE)})),(0,c.jsx)(vi.J,{onClose:this.close})]})),(0,c.jsx)("div",Object.assign({className:"modal-body"},{children:n}))]}))}}Rs.contextType=v.B;class ks extends o.Component{constructor(e,t){super(e),this.closeModal=()=>{this.context.commandBinder.issueCommand(new Ut.X(xt.a.MEASUREMENT_HELP,!1))},this.locale={headerString:t.locale.t(y.A.MEASUREMENT_MODE),subHeaderString:t.locale.t(y.A.MEASUREMENT_HELP_MODAL_SUB_HEADER),body1String:t.locale.t(y.A.MEASUREMENT_HELP_MODAL_BODY_1),body2String:t.locale.t(y.A.MEASUREMENT_HELP_MODAL_BODY_2)}}render(){const{headerString:e,subHeaderString:t,body1String:n,body2String:i}=this.locale,{mobile:r}=this.props;return(0,c.jsxs)(gi.l,Object.assign({className:g()("full-modal","measurement-mode-help-modal",{mobile:r}),onClose:this.closeModal},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:e})),(0,c.jsx)(vi.J,{onClose:this.closeModal})]})),(0,c.jsx)("div",Object.assign({className:"modal-subheader"},{children:t})),(0,c.jsxs)("div",Object.assign({className:"modal-body"},{children:[(0,c.jsx)("p",Object.assign({className:"modal-paragraph"},{children:n})),(0,c.jsx)("p",Object.assign({className:"modal-paragraph"},{children:i}))]}))]}))}}var Ls;ks.contextType=v.B,function(e){e.HandsRaised="hands-raised",e.RotatePhone="rotate-phone"}(Ls||(Ls={}));const Ms=new Map;Ms.set(Ls.HandsRaised,{alt:"Hands Raised",json:n(32244),fallback:n(10086)}),Ms.set(Ls.RotatePhone,{alt:"Rotate your device to portrait orientation",json:n(2377),fallback:n(28659)});var Ds=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ps=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Cs=class extends o.Component{constructor(e){super(e),this.lottieTargetRef=(0,o.createRef)(),this.isUnmounting=!1,this.loadLottie=async()=>this.lottieLib?this.lottieLib:await n.e(456).then(n.t.bind(n,49891,23)),this.updateAnimation=async()=>{const{animation:e,loop:t=!1}=this.props;let n;this.setState({fallbackActive:!1});try{n=await this.loadLottie()}catch(e){if(this.isUnmounting)return;return void this.setState({fallbackActive:!0})}const i=Ms.get(e);if(n&&i&&this.lottieTargetRef.current){const e=n.loadAnimation({loop:t,container:this.lottieTargetRef.current,renderer:"svg",autoplay:!1,animationData:i.json});e.addEventListener("data_failed",(()=>{this.isUnmounting||this.setState({fallbackActive:!0})})),setTimeout((()=>{this.isUnmounting||e.play()}),50)}},this.renderFallback=()=>{const{animation:e}=this.props,t=Ms.get(e);return t?(0,c.jsx)("img",{className:"lottie-fallback",src:t.fallback,alt:t.alt}):null},this.state={fallbackActive:!1}}componentDidMount(){this.updateAnimation()}componentDidUpdate(e){e.animation===this.props.animation&&e.loop===this.props.loop||this.updateAnimation()}componentWillUnmount(){this.isUnmounting=!0}render(){return(0,c.jsxs)("div",Object.assign({className:"lottie"},{children:[(0,c.jsx)("div",{className:"lottie-animation",ref:this.lottieTargetRef}),this.state.fallbackActive&&this.renderFallback()]}))}};Cs=Ds([Vt.A,Ps("design:paramtypes",[Object])],Cs);const xs=Cs;var Us=n(37715),js=y.A.WORKSHOP.MODEL_RATING;function Fs({onSupportClicked:e,showSupportCTA:t=!0}){const n=(0,w.Y)();return(0,c.jsxs)("div",Object.assign({className:"rating-thank-you"},{children:[(0,c.jsx)("h4",{children:n.t(js.THANK_YOU_HEADING)}),(0,c.jsx)(xs,{animation:Ls.HandsRaised}),(0,c.jsx)("p",Object.assign({className:"p4"},{children:n.t(js.THANK_YOU_BODY)})),t&&(0,c.jsxs)("small",Object.assign({className:"model-rating-cta"},{children:[n.t(js.THANK_YOU_CTA),"",(0,c.jsx)(Us.N,Object.assign({href:"//matterport.com/resources/support",onClick:e},{children:n.t(js.THANK_YOU_CTA_LINK_TEXT)}))]}))]}))}class Hs extends o.Component{constructor(){super(...arguments),this.onClose=()=>{this.context.commandBinder.issueCommand(new Ut.X(xt.a.RATING_THANK_YOU,!1))}}render(){return(0,c.jsxs)(gi.l,Object.assign({className:"model-rating-thank-you open",onClose:this.onClose},{children:[(0,c.jsx)(vi.J,{onClose:this.onClose}),(0,c.jsx)(Fs,{onSupportClicked:this.onClose})]}))}}Hs.contextType=v.B;var Gs=n(31093),Bs=n(64421);function Vs({commandBinder:e}){const[t,n]=(0,o.useState)(!1),[i,r]=(0,o.useState)(),[s,a]=(0,o.useState)(),l=(0,w.Y)(),u=(0,o.useCallback)((async t=>{null==i||i.resolve(t),n(!1),e.issueCommand(new Ut.r)}),[e,i]),d=(0,o.useCallback)((()=>{u(Bs.$t.CLOSE)}),[u]),h=(0,o.useCallback)((()=>{u(Bs.$t.CONFIRM)}),[u]),m=(0,o.useCallback)((async o=>{switch(o.action){case Bs.YE.DISPLAY:if(t){if(!(null==s?void 0:s.cancellable))return Promise.reject("Cannot close non-cancellable modal");await u(Bs.$t.CLOSE)}n(!0),e.issueCommand(new Ut.X(xt.a.CONFIRM,!0)),a(o.properties);const l=new Gs.i;return r(l),l.nativePromise();case Bs.YE.UPDATE:return a(o.properties),null==i?void 0:i.nativePromise();case Bs.YE.CLOSE:return t?(u(Bs.$t.CLOSE),null==i?void 0:i.nativePromise()):Promise.reject("Cannot cancel a closed modal")}}),[u,e,s,t,i]);(0,o.useEffect)((()=>(e.addBinding(Bs.nX,m),()=>{e.removeBinding(Bs.nX,m)})),[e,m]);const v=(0,o.useCallback)((e=>e.stopPropagation()),[]);if(!s)return null;const{title:y,titleLocalizationOptions:E,message:S,messageLocalizationOptions:b,confirmPhraseKey:O,cancelPhraseKey:_,closeButton:T,modalClass:A,confirmDisabled:N,cancelVariant:I}=s;let R=y;if("string"==typeof y&&0!==y.length){const e=void 0===E?{}:E,t=l.t(y,e);R=(0,c.jsx)("span",{children:t})}let k=S;if("string"==typeof S){const e=void 0===b?{}:b,t=l.t(S,e);k=(0,c.jsx)("p",Object.assign({className:"modal-message"},{children:t}))}return(0,c.jsx)(f.w,Object.assign({open:t,className:g()("modal-background","confirm-modal-background",{open:t}),onClick:v,onPointerDown:v,onPointerUp:v},{children:(0,c.jsxs)(gi.l,Object.assign({testId:"confirm-modal",className:g()("confirm-modal",A),onClose:d},{children:[(0,c.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,c.jsx)("div",Object.assign({className:"modal-title"},{children:R})),T&&(0,c.jsx)(p.$n,{icon:"close",onClick:d})]})),(0,c.jsx)("div",Object.assign({className:"modal-body"},{children:k})),(0,c.jsxs)(Wn.e,Object.assign({spacing:"small"},{children:[_&&(0,c.jsx)(p.$n,Object.assign({size:"large",onClick:d,variant:I||p.Ak.SECONDARY},{children:l.t(_)})),O&&(0,c.jsx)(p.$n,Object.assign({disabled:N,variant:p.Ak.PRIMARY,size:"large",onClick:h},{children:l.t(O)}))]}))]}))}))}var Ws=n(19968);function zs(){const e=(0,w.Y)(),t=(0,ft.L)(),n=(0,o.useCallback)((()=>{t.issueCommand(new Ut.X(xt.a.DEFURNISH_AI,!1))}),[t]);return(0,c.jsxs)(gi.l,Object.assign({className:g()("defurnish-ai-modal","full-modal"),theme:"dark",onClose:n},{children:[(0,c.jsx)(vi.J,{theme:"dark",onClose:n}),(0,c.jsxs)("div",Object.assign({className:"modal-body"},{children:[(0,c.jsx)("h6",Object.assign({className:"defurnish-ai-modal-title"},{children:e.t(y.A.SHOWCASE.DEFURNISH_AI_MODAL.TITLE)})),(0,c.jsx)("p",Object.assign({className:"defurnish-ai-modal-content"},{children:e.t(y.A.SHOWCASE.DEFURNISH_AI_MODAL.TEXT1)})),(0,c.jsx)("p",Object.assign({className:"defurnish-ai-modal-content"},{children:e.t(y.A.SHOWCASE.DEFURNISH_AI_MODAL.TEXT2)}))]}))]}))}function $s(e){const{viewmode:t,shareEnabled:n}=e,i=(0,ft.L)(),r=(0,Bn.t)(),s=oe(),a=(0,o.useMemo)((()=>(0,C.C8)()),[]),l=t===_.w5.DOLLHOUSE&&(0,Ws.aY)(s)?_.w5.FLOORPLAN:t,u=r===xt.a.SHARE,d=r===xt.a.TERMS,h=r===xt.a.HELP,p=r===xt.a.MEASUREMENT_HELP,m=r===xt.a.VR_SELECT,v=r===xt.a.RATING_THANK_YOU,y=r===xt.a.DEFURNISH_AI,E=d||h||y,S=u||E||p||v||m;return(0,c.jsxs)("div",Object.assign({id:"showcase-modals"},{children:[(0,c.jsx)(Vs,{commandBinder:i}),(0,c.jsx)(is,{touchDevice:a,viewmode:l,shareEnabled:n}),(0,c.jsxs)(f.w,Object.assign({className:g()("modal-background",{"dark-modal-background":E,open:S}),open:S,selectChild:!0,childKey:r||void 0,onClick:()=>{i.issueCommand(new Ut.r)}},{children:[(0,c.jsx)(Rs,{},xt.a.SHARE),(0,c.jsx)(ks,{mobile:a},xt.a.MEASUREMENT_HELP),(0,c.jsx)(Ko,{isMobile:a},xt.a.VR_SELECT),d&&(0,c.jsx)(mo,{},xt.a.TERMS),h&&(0,c.jsx)(As,{isMobile:a,viewmode:l,allModes:_.w5},xt.a.HELP),v&&(0,c.jsx)(Hs,{},xt.a.RATING_THANK_YOU),y&&(0,c.jsx)(zs,{},xt.a.DEFURNISH_AI)]}))]}))}var Ks=n(75778),Ys=n(1197),qs=n(85204),Qs=n(76853);const Xs=function(e,t){const n=e.classList;switch(t){case L.L$.NORMAL:case L.L$.SIDE_PANEL:n.replace("narrow-layout","standard-layout")||n.add("standard-layout");break;case L.L$.NARROW:case L.L$.BOTTOM_PANEL:n.replace("standard-layout","narrow-layout")||n.add("narrow-layout")}};var Zs=n(95439),Js=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ea=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ta=class extends o.Component{constructor(e){super(e),this.getInitialState=()=>({messagePhraseKey:"",active:!1,ctaPhraseKey:"",timeout:0,multiline:!1,dismissesOnAction:!1,actionHandler:()=>{}}),this.triggerAction=e=>{e.stopPropagation(),this.state.actionHandler&&this.state.actionHandler(),this.state.dismissesOnAction&&this.hide()},this.hide=async()=>{window.clearTimeout(this.timeout),this.setState({active:!1})},this.show=async e=>{const t=Object.assign(this.getInitialState(),e,{active:!0});this.setState(t),window.clearTimeout(this.timeout),t.timeout>0&&(this.timeout=window.setTimeout((()=>{this.setState({active:!1})}),t.timeout))},this.state=this.getInitialState()}componentDidMount(){this.context.commandBinder.addBinding(Zs.Q,this.show),this.context.commandBinder.addBinding(Zs.v,this.hide)}componentWillUnmount(){window.clearTimeout(this.timeout),this.context.commandBinder.removeBinding(Zs.Q,this.show),this.context.commandBinder.removeBinding(Zs.v,this.hide)}render(){const{locale:e}=this.context,t=this.props.className||"",{active:n,multiline:i,messagePhraseKey:r,ctaPhraseKey:o,dismissesOnAction:s}=this.state,a={active:n,multiline:i},l=r?e.t(r):null,u=o?e.t(o):null;return(0,c.jsx)("div",Object.assign({className:"toastr-wrapper",onClick:s?this.hide:void 0},{children:(0,c.jsxs)("div",Object.assign({className:g()("toastr-contents",`${t}`,a)},{children:[(0,c.jsx)("div",Object.assign({className:"toastr-text"},{children:l})),u&&(0,c.jsx)("a",Object.assign({className:"link",onClick:this.triggerAction},{children:u}))]}))}))}};ta.contextType=v.B,ta=Js([Vt.F,ea("design:paramtypes",[Object])],ta);const{PANELS:na}=y.A;function ia({children:e,className:t,sidePanelCollapsible:n}){const i=(0,Z.s)(),r=(0,ft.L)(),s=(0,zi.J)(),a=(0,no.O)(),l=(0,w.Y)(),u=(0,N.H)(),d=a&&a.panel;let p=null;d&&e&&Array.isArray(e)&&(p=e.find((e=>e&&e.key===(null==a?void 0:a.id)))||!1);const m=(0,o.useCallback)((()=>{p&&!u&&(i.track("showcase_gui",{gui_action:"toggle_side_panel"}),r.issueCommand(new h.li(!s)))}),[p,u,i,r,s]);(0,o.useEffect)((()=>{p&&!u&&s&&!n&&r.issueCommand(new h.li(!1))}),[p,u,s,n,r]);const v=s?l.t(na.EXPAND_PANEL):l.t(na.COLLAPSE_PANEL),y=s?"icon-dpad-left":"icon-dpad-right",E=!!(a&&p&&a.panel),S=p&&!!(null==a?void 0:a.panelLeft)&&!u,b=p&&!S&&!u,O={"panel-open":E&&!s,"panel-collapsed":E&&s,"panel-bottom":u,"panel-side":!u,"panel-left":S,"panel-right":b};return(0,c.jsxs)(c.Fragment,{children:[E&&b&&n&&(0,c.jsx)("div",Object.assign({className:"panel-track"},{children:(0,c.jsx)("div",Object.assign({className:"panel-track-thumb right","data-balloon":v,"data-balloon-pos":"left",onClick:m},{children:(0,c.jsx)("span",{className:`icon ${y}`})}))})),(0,c.jsx)(f.w,Object.assign({className:g()("panels",O,t),open:E,selectChild:!0,childKey:null==a?void 0:a.id},{children:e}))]})}const ra=e=>{var t;return!!(null===(t=e.ui)||void 0===t?void 0:t.renderPanel)&&!e.panelLeft},oa=e=>{var t;return!!(null===(t=e.ui)||void 0===t?void 0:t.renderPanel)&&!!e.panelLeft};function sa({children:e,className:t}){const n=(0,Qs.v)(),i=(0,F.B)(),r=(0,mr.x)(),s=(0,no.O)(),a=(0,Bn.t)(),l=(0,zi.J)(),u=(0,k.O)(),d=u===L.L$.BOTTOM_PANEL;return(0,o.useEffect)((()=>{Xs(r,u)}),[r,u]),(0,o.useEffect)((()=>{l?r.classList.add("tool-collapsed"):r.classList.remove("tool-collapsed"),ca(r,s,d)}),[r,l,s,d]),(0,o.useEffect)((()=>{r.classList.remove("bottom-panel","left-panel","right-panel"),s&&s.panel&&r.classList.add(d?"bottom-panel":s.panelLeft?"left-panel":"right-panel"),ca(r,s,d)}),[r,s,d]),(0,o.useEffect)((()=>{a?r.classList.add("modal-open"):r.classList.remove("modal-open")}),[r,a]),(0,c.jsxs)("div",Object.assign({className:g()("app-ui",t)},{children:[(0,c.jsx)(ia,Object.assign({sidePanelCollapsible:!1},{children:n.toolsMap.values.filter(oa).map((e=>(0,c.jsx)(aa,{tool:e},e.id)))})),(0,c.jsx)("div",Object.assign({className:"scene-overlay"},{children:e})),(0,c.jsx)(ia,Object.assign({sidePanelCollapsible:i},{children:n.toolsMap.values.filter(ra).map((e=>(0,c.jsx)(aa,{tool:e},e.id)))})),(0,c.jsx)(ta,{}),(0,c.jsx)(la,{tool:s})]}))}function aa({tool:e}){var t;const n=null===(t=e.ui)||void 0===t?void 0:t.renderPanel;return n?(0,c.jsx)("div",Object.assign({className:"tool-panel"},{children:(0,c.jsx)(n,{})})):null}const la=({tool:e})=>{const t=(0,Qs.v)();if(!e)return null;const n=t.getToolUi(e.id);return(0,c.jsx)(c.Fragment,{children:n.map(((t,n)=>{const i=t.component;return(0,c.jsx)(i,{},`${e.id}_ui_${n}`)}))})};function ca(e,t,n){n&&!0===(null==t?void 0:t.searchModeType)?e.classList.add("with-search-bar"):e.classList.remove("with-search-bar")}var ua=n(15105),da=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ha=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let pa=class extends Bo{constructor(e){super(e),this.state={vrPlatform:null}}render(){return this.state.vrPlatform===vo.wc.webxr?this.renderOverlayCta():null}renderOverlayCta(){const{locale:e}=this.context;return(0,c.jsx)("div",Object.assign({id:"vr-overlay-layer",className:"overlay grid-overlay"},{children:(0,c.jsx)(ua.E,Object.assign({small:!0},{children:(0,c.jsx)(p.$n,{size:p.Mp.SMALL,variant:p.Ak.FAB,theme:"dark",label:e.t(y.A.VR_ENTER),onClick:this.startWebXR})}))}))}};pa.contextType=v.B,pa=da([Vt.A,ha("design:paramtypes",[Object])],pa);const{TOURS:fa}=y.A.SHOWCASE;function ma(e){const t=(0,w.Y)(),n=(0,Ui.B)(),i=(0,B.F)(),r=(0,_e.S)($e.Xf),{highlights:s,tourPlaying:a}=e,l=(0,N.H)(),u=t.t(fa.TOUR_CONTROLS_TITLE),d=t.t(fa.TOUR_CONTROLS_CTA),h=0===s.length,[p,f]=(0,o.useState)(!1),m=(0,o.useCallback)((async e=>{!h&&r&&(e.stopPropagation(),await r.tourGoNext({resumeIfPlaying:!0}))}),[h,r]),v=(0,o.useCallback)((async e=>{!h&&r&&(e.stopPropagation(),await r.tourGoPrevious({resumeIfPlaying:!0}))}),[h,r]);return(0,o.useEffect)((()=>{const e=[];let t=0;const i=()=>{f(!1)};return e.push(n.subscribe(Be.zM,(()=>{})),n.subscribe(Be.pT,i)),()=>{e.forEach((e=>e.cancel())),clearInterval(t)}}),[n,i,l]),(0,c.jsxs)("div",Object.assign({className:g()("tour-story-controls-mobile",{prompt:p,tourPlaying:a})},{children:[(0,c.jsx)("div",Object.assign({className:"tour-story-help-title"},{children:u})),(0,c.jsx)("div",Object.assign({className:"tour-story-help-cta"},{children:d})),(0,c.jsx)("div",Object.assign({className:"tour-story-prev",onClick:v},{children:(0,c.jsx)("div",{className:"icon icon-dpad-left"})})),(0,c.jsx)("div",Object.assign({className:"tour-story-next",onClick:m},{children:(0,c.jsx)("div",{className:"icon icon-dpad-right"})}))]}))}var ga=n(7584);const va=new A.Ay("showcase-ui"),ya=(0,Ks.EN)();class Ea extends o.Component{constructor(e,t){super(e,t),this.bindings=[],this.propertiesToRefreshUi=[q.Q$.Measurements,q.Q$.DetailsModelName,Ct.p,q.Q$.FloorSelect,qs.nc,q.Q$.RoomBounds],this.isUnmounting=!1,this.getModeChange=e=>({viewmode:(0,_.gB)(e.toMode)}),this.updateToolPanelLayout=()=>{const{toolsData:e}=this.context,t=e.toolPanelLayout;this.setState({toolPanelLayout:t})},this.showHelpOnPlaying=e=>{e.phase===d.Jj.PLAYING&&(this.context.commandBinder.issueCommand(new Ut.X(xt.a.CTA,!0)),this.context.messageBus.unsubscribe(u.uv,this.showHelpOnPlaying))},this.updateTools=()=>{const{toolsData:e}=this.context,{toolsLoaded:t}=this.state,n=e.toolsMap;this.setState({toolsCount:n.length}),n.length>0&&!t&&(this.setState({toolsLoaded:!0}),window.setTimeout((()=>{this.context.commandBinder.issueCommand(new h.M_)}),750))},this.updatePerSettings=()=>{const{settings:e,policyData:t}=this.context;this.setState({measurementsModeEnabled:e.tryGetProperty(q.Q$.Measurements,!0)||(0,ga.m2)(t,e,!1),notesEnabled:e.tryGetProperty(qs.nc,!1)})},this.updateTourState=()=>{this.tourData&&this.setState({tourState:this.tourData.getCurrentTourState()})},this.updateTourMode=()=>{this.toursViewData&&this.setState({tourMode:this.toursViewData.currentTourMode})},this.isVrButtonEnabled=()=>(0,vo.ni)(this.context.settings),this.updateActiveTool=()=>{const{tourState:e}=this.state,{toolsData:t}=this.context,n=t.activeToolName;n&&e.tourPlaying&&this.stopTour(),this.setState({activeToolName:n})},this.openModalChanged=()=>{const{toolsData:e}=this.context,t=e.openModal;this.setState({openModal:t}),t&&this.stopTour()},this.state={viewmode:_.ty,activeToolName:null,openModal:null,toolsLoaded:!1,toolsCount:0,toolPanelLayout:t.toolsData.toolPanelLayout,tourState:{},tourMode:Oe.cR.NONE,modelDetails:null,measurementsModeEnabled:!1,notesEnabled:!1,vrEnabled:!1,brandingEnabled:!1,shareEnabled:!1,unaligned:!0,showExternalUrl:!1}}async componentDidMount(){const{settings:e,messageBus:t,market:n,toolsData:i,mainDiv:r}=this.context;r.classList.remove("with-toolbar");for(const t of this.propertiesToRefreshUi)e.onPropertyChanged(t,this.updatePerSettings);try{this.cancelBindings(),this.bindings=[i.onPropertyChanged("activeToolName",this.updateActiveTool),i.onPropertyChanged("openModal",this.openModalChanged),i.onPropertyChanged("toolPanelLayout",this.updateToolPanelLayout),i.toolsMap.onChanged(this.updateTools)],this.handleStartUpHelp();const[e,r,o,s,a]=await Promise.all([n.waitForData(Yn.q),n.waitForData(b.X),n.waitForData(ws.A),n.waitForData(Ne.R),n.waitForData(Ze.F)]);if(this.isUnmounting)return;this.bindings.push(t.subscribe(Ys.A,(e=>this.setState(Object.assign(Object.assign({},this.getModeChange(e)),this.getUnalignedSweepState())))),t.subscribe(Be.pT,this.updateTourState),t.subscribe(Be.zM,this.updateTourState),t.subscribe(Be.n1,this.updateTourState),t.subscribe(Be.YH,this.updateTourState),t.subscribe(Be.zb,this.updateTourState),s.getReel().onChanged(this.updateTourState),a.onPropertyChanged("currentTourMode",this.updateTourMode),o.makeSweepChangeSubscription((()=>this.setState(this.getUnalignedSweepState()))));const l=(0,_.gB)(r.currentMode||le.N3.Panorama);this.tourData=s,this.toursViewData=a,this.sweepData=o,this.viewmodeData=r,this.setState(Object.assign({viewmode:l,modelDetails:e.model.details,brandingEnabled:this.isBrandingEnabled()&&!this.isMlsEnabled(),shareEnabled:this.isShareEnabled()&&!this.isMlsEnabled(),showExternalUrl:this.isBrandingEnabled()&&!this.isMlsEnabled(),vrEnabled:this.isVrButtonEnabled()},this.getUnalignedSweepState())),this.props.onAppReadyChanged(!0,!1)}catch(e){va.debug(e)}this.updateTourState(),this.updateTourMode(),this.updateActiveTool(),this.updateToolPanelLayout(),this.updateTools(),this.updatePerSettings()}async componentWillUnmount(){this.isUnmounting=!0;for(const e of this.propertiesToRefreshUi)this.context.settings.removeOnPropertyChanged(e,this.updatePerSettings);this.cancelBindings(),this.props.onAppReadyChanged(!1,!1)}handleStartUpHelp(){const{settings:e,messageBus:t,commandBinder:n}=this.context,i=e.getOverrideParam("help",0);if(1===i||2===i){const i=1===e.getOverrideParam("ts",0),r=!0===e.tryGetProperty("quickstart",!1);i||(r?n.issueCommand(new Ut.X(xt.a.CTA,!0)):t.subscribe(u.uv,this.showHelpOnPlaying))}}getUnalignedSweepState(){if(!this.sweepData||!this.viewmodeData)return{unaligned:this.state.unaligned};return{unaligned:this.viewmodeData.isInside()&&this.sweepData.isSweepUnaligned(this.sweepData.currentSweep)}}cancelBindings(){for(const e of this.bindings)e.cancel()}isShareEnabled(){const{settings:e}=this.context,t=e.tryGetProperty(Kn.wD,!1)&&e.tryGetProperty("is_public",!1),n=(0,C.sv)()&&"0"===ya.share;return t&&!n}isMlsEnabled(){return this.context.settings.tryGetProperty(Kn.qu,!1)}isBrandingEnabled(){const{settings:e}=this.context;return e.tryGetProperty(Kn.Lj,!0)}stopTour(){this.context.engine.getModuleBySymbol($e.Xf).then((e=>e.stopTour()))}renderActiveToolOverlay(){var e;const{toolsData:t}=this.context,n=t.toolsMap,{activeToolName:i}=this.state,r=i&&(null===(e=n.get(i))||void 0===e?void 0:e.ui),o=null==r?void 0:r.renderOverlay;return(0,c.jsxs)("div",Object.assign({className:"tool-overlay"},{children:[o&&(0,c.jsx)(o,{}),!i&&(0,c.jsx)(pa,{})]}))}renderPersistentToolOverlay(){const{toolsData:e}=this.context,t=e.toolsMap.values.map((e=>{const t=e.ui.renderPersistentOverlay;return t&&(0,c.jsx)(t,{},e.id)})).filter((e=>!!e));return(0,c.jsx)("div",Object.assign({className:"overlay-ui"},{children:t}))}renderToolTopUI(){var e;const{toolsData:t}=this.context,n=t.toolsMap,{activeToolName:i}=this.state,r=i&&(null===(e=n.get(i))||void 0===e?void 0:e.ui),o=null==r?void 0:r.renderTopUIElements;return o&&(0,c.jsx)(o,{})}renderToolSettingsPanel(){var e;const{toolsData:t}=this.context,n=t.toolsMap,{activeToolName:i}=this.state,r=i&&(null===(e=n.get(i))||void 0===e?void 0:e.ui),o=null==r?void 0:r.renderShowcaseSettingsPanel;return o&&(0,c.jsx)(o,{})}render(){const{viewmode:e,unaligned:t,tourState:n,modelDetails:i,measurementsModeEnabled:r,notesEnabled:o,shareEnabled:s,brandingEnabled:a,vrEnabled:l,openModal:u,toolsLoaded:d,toolPanelLayout:h,activeToolName:p,tourMode:f}=this.state,{tourPlaying:m,activeStep:g,currentStep:v,highlights:y}=n,E=f===Oe.cR.STORIES,S=this.renderToolTopUI(),b=this.renderToolSettingsPanel();return(0,c.jsxs)("div",Object.assign({id:"gui",className:"showcase-ui"},{children:[(0,c.jsx)($s,{viewmode:e,shareEnabled:s}),(0,c.jsx)(sa,{children:(0,c.jsxs)(c.Fragment,{children:[!!i&&(0,c.jsx)($r,{modelDetails:i,tourPlaying:m,brandingEnabled:a,toolElements:S,toolSettings:b}),E&&(0,c.jsx)(Jr,{currentStep:v,activeStep:g,highlights:y}),E&&(0,c.jsx)(ma,{highlights:y,tourPlaying:m}),(0,c.jsx)(Zr,{}),(0,c.jsx)(ro,{}),d&&this.renderActiveToolOverlay(),d&&this.renderPersistentToolOverlay(),(0,c.jsx)(Bi,{openModal:u,openTool:p,unaligned:t,viewmode:e,tourState:n,tourMode:f,measurementsModeEnabled:r,notesEnabled:o,shareEnabled:s,vrEnabled:l,toolPanelLayout:h})]})})]}))}}Ea.contextType=v.B;class Sa{constructor(e,t=!1){this.containerData=e,t||this.containerData.onPropertyChanged("size",this.update.bind(this))}get vh(){return this.containerData.size.height}update(){const e=.01*this.vh;this.containerData.element.style.setProperty("--vh",`${e}px`)}dispose(){this.containerData.removeOnPropertyChanged("size",this.update.bind(this))}}var ba=n(25316),Oa=n(23864),_a=n(78849),Ta=n(81459),Aa=n(53641),wa=n(23500),Na=n(28475),Ia=n(75522),Ra=n(57811),ka=n(28454),La=n(3071),Ma=n(87951);class Da{constructor(e,t){this.engine=e,this.disabledAssets={[Ra.f]:!1,[wa.s]:!1,[Na.RP]:!1,[Ia.qE]:!1,[Aa.nH]:!1},this.settingsToggler=new Ta.U(t,this.disabledAssets),this.initPromise=this.init()}async init(){const{market:e}=this.engine;[this.measurementModeData,this.searchData]=await Promise.all([e.waitForData(ka.s),e.waitForData(_a.L)])}async activate(){this.settingsToggler.toggle(!0),await this.engine.commandBinder.issueCommandWhenBound(new La.S(!0,!0))}async deactivate(){this.settingsToggler.toggle(!1),this.engine.commandBinder.issueCommand(new Ma.y(-1)),await this.engine.commandBinder.issueCommand(new La.S(!1))}async dispose(){await this.initPromise}}var Pa=n(26482);const Ca=n.p+"images/matterport-logo-black.svg",{SUBSCRIBER_PROMPT:xa}=y.A.SHOWCASE,Ua=e=>{e.preventDefault()},ja=()=>{const e=(0,Z.s)(),t=(0,w.Y)(),[n,i]=(0,o.useState)(!0),r=(0,o.useCallback)((t=>{e.trackGuiEvent("subscriber_prompt_b_banner_click"),window.open(Yi.oZ,"_blank")}),[e]);return(0,o.useEffect)((()=>(n&&(e.trackGuiEvent("subscriber_prompt_b_banner_viewed"),i(!1)),()=>{})),[e,n]),(0,c.jsxs)("div",Object.assign({className:"subscriber-prompt-banner",onClick:r},{children:[(0,c.jsx)("img",{className:"matterport-logo",alt:"Matterport",src:Ca}),(0,c.jsx)("a",Object.assign({className:"link",target:"_blank",onClick:Ua,href:Yi.oZ},{children:t.t(xa.BANNER_CTA_LINK_TEXT)}))]}))},Fa=(0,nt.c)("isSubscriberBannerVisible",(()=>{const e=Qi();return qi().bannerEnabled&&e}));var Ha=n(55666),Ga=n(95143),Ba=n(39905);const{SUMMARY:Va}=y.A.SHOWCASE,Wa=Vi._8/1.6,za=new Ba.r({});class $a extends o.Component{constructor(e){super(e),this.getImageURL=e=>{const t=new URL(e);return t.searchParams.set("width",String(Vi._8)),t.searchParams.delete("height"),t.searchParams.delete("fit"),t.searchParams.set("crop","16:10"),t.searchParams.set("dpr",String(window.devicePixelRatio)),t.href},this.onExternalLinkClicked=e=>{this.context.analytics.track("showcase_share_origin_link_clicked")},this.state={thumbnail:void 0}}componentDidMount(){const{market:e}=this.context.engine;e.waitForData(Pa.G).then((e=>{e.thumb&&e.thumb.get().then((e=>{try{this.setState({thumbnail:this.getImageURL(e)})}catch(e){this.setState({thumbnail:void 0})}}))}))}getFilteredValue(e,t,n,i){return!this.context.settings.tryGetProperty(t,n)||i&&!this.props.brandingEnabled?"":e}render(){const{modelDetails:e,showExternalUrl:t,isSubscriberBannerVisible:n}=this.props,{thumbnail:i}=this.state,{locale:r}=this.context,{name:o,presentedBy:s,summary:a,description:l,formattedAddress:u,contact:d,externalUrl:h}=e,p=t?h:"",f=this.getFilteredValue(o,q.Q$.DetailsModelName,!0,!1),m=this.getFilteredValue(u,q.Q$.DetailsAddress,!1,!1),g=this.getFilteredValue(a,q.Q$.DetailsSummary,!1,!1),v=this.getFilteredValue(l,q.Q$.DetailsSummary,!1,!1),E=this.getFilteredValue(s,q.Q$.PresentedBy,!1,!0),S=this.getFilteredValue(d.name,q.Q$.DetailsName,!1,!0),b=this.getFilteredValue(d.email,q.Q$.DetailsEmail,!1,!0),O=this.getFilteredValue(d.phone,q.Q$.DetailsPhone,!1,!0),_=this.getFilteredValue(d.formattedPhone,q.Q$.DetailsPhone,!1,!0),T=_||O;return(0,c.jsx)("div",Object.assign({className:"summary-content"},{children:(0,c.jsxs)($t.A,Object.assign({thumbScrollingOnly:!0,direction:Kt.OP.vertical},{children:[i?(0,c.jsx)("img",{className:"summary-image",width:Vi._8,height:Wa,src:i,alt:`Photo of "${f}"`}):null,n&&(0,c.jsx)(ja,{}),(0,c.jsxs)("div",Object.assign({className:"summary-text-content"},{children:[f&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:r.t(Va.LABEL_LOCATION)})),(0,c.jsx)("div",Object.assign({className:"location"},{children:f}))]}),m&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:r.t(Va.LABEL_ADDRESS)})),(0,c.jsx)("div",Object.assign({className:"section-body"},{children:m}))]}),E&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:this.context.locale.t(y.A.PRESENTED_BY)})),(0,c.jsx)("div",Object.assign({className:"section-body"},{children:E}))]}),(S||O||b)&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:r.t(Va.LABEL_CONTACT)})),(0,c.jsxs)("div",Object.assign({className:"section-body"},{children:[S&&(0,c.jsx)("div",{children:S}),b&&(0,c.jsx)("div",{children:(0,c.jsx)("a",Object.assign({className:"link",href:"mailto:"+b},{children:b}))}),T&&(0,c.jsx)("div",{children:T})]}))]}),p&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:r.t(Va.LABEL_LEARN_MORE)})),(0,c.jsxs)("div",Object.assign({className:"external-link-wrapper"},{children:[(0,c.jsx)("i",Object.assign({className:"icon-ext-link"},{children:" "})),(0,c.jsx)("a",Object.assign({className:"section-body link",onClick:this.onExternalLinkClicked,href:p,target:"_blank",rel:"noopener"},{children:p}))]}))]}),g&&!v&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:r.t(Va.LABEL_INFORMATION)})),(0,c.jsx)("div",Object.assign({className:"section-body"},{children:g}))]}),v&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"section-header"},{children:r.t(Va.LABEL_DESCRIPTION)})),(0,c.jsx)(Ha.L,{text:v,textParser:za,markers:Ga.S8,linksActive:!1,className:"section-body"})]})]}))]}))}))}}$a.contextType=v.B;const Ka=Fa($a);var Ya=n(17963);const{SUMMARY:qa}=y.A.SHOWCASE;function Qa(){const e=(0,w.Y)(),t=function(){const e=qn(),[t,n]=(0,o.useState)((null==e?void 0:e.model.details)||null);return(0,o.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.model.details)}const i=e.onChanged(t);return t(),()=>i.cancel()}),[e]),t}(),n=(0,H.i)(Kn.Lj,!0),i=(0,H.i)(Kn.qu,!1),r=n&&!i,s=n&&!i;return t?(0,c.jsx)(Ya.h,Object.assign({toolId:L.S0.SUMMARY,title:e.t(qa.HEADING)},{children:(0,c.jsx)(Ka,{modelDetails:t,brandingEnabled:r,showExternalUrl:s})})):null}class Xa{constructor(){this.renderPanel=()=>(0,c.jsx)(Qa,{})}}var Za=n(87635),Ja=n(50098),el=n(41535);function tl(){const e=(0,H.i)(q.Q$.Measurements,!0);return Pr()!==d.lg.SHOWCASE||e}var nl=n(52030);const il=(0,we.u)(ka.s,"phase",el.hb.CLOSED);var rl=n(89395),ol=n(95846);function sl(){const e=(0,rl.E)();return(0,ol.B)(e||"")}var al=n(95221);const ll=(0,we.u)(ka.s,"pressProgress",-1);var cl=n(23339),ul=n(26348);var dl=n(33837);const hl={addEnabled:{[el.hb.CREATING]:!0,[el.hb.CONFIRMING_POINT]:!0},deleteVisible:{[el.hb.IDLE]:!0,[el.hb.CREATING]:!0,[el.hb.CREATING_NEXT_POINT]:!0}},pl=(el.hb.CREATING,el.hb.CONFIRMING_POINT,{[el.hb.IDLE]:!0,[el.hb.CREATING]:!0,[el.hb.CREATING_NEXT_POINT]:!0});function fl({title:e,content:t,classNames:n,onContainerRef:i}){const r=g()("mp-nova-card",n);return(0,c.jsxs)("div",Object.assign({className:r,ref:i},{children:[(0,c.jsx)("div",Object.assign({className:"mp-nova-card-title"},{children:e})),(0,c.jsx)("div",Object.assign({className:"mp-nova-card-content"},{children:t}))]}))}var ml=n(32617),gl=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function vl(e){var{narrowLayout:t}=e,n=gl(e,["narrowLayout"]);return t?(0,c.jsx)(bl,Object.assign({},n)):(0,c.jsx)(Sl,Object.assign({},n))}const{MEASUREMENTS:yl}=y.A.WORKSHOP,El={size:"medium",placement:"bottom-start",className:"gross-area-tooltip"};function Sl({target:e}){const t=(0,w.Y)().t(yl.GROSS_AREA_TOOLTIP_MESSAGE);return(0,c.jsx)(ml.m,Object.assign({title:t,offset:[-14,34],target:e,trigger:"hover"},El))}function bl({target:e}){const t=(0,w.Y)(),[n,i]=(0,o.useState)(!1),r=t.t(yl.GROSS_AREA_TOOLTIP_MESSAGE);return(0,o.useEffect)((()=>{if(!e)return;const t=new AbortController;return e.addEventListener("click",(()=>i((e=>!e))),{signal:t.signal}),()=>t.abort()}),[e]),n?(0,c.jsx)(ml.m,Object.assign({sticky:!0,title:r,offset:[-6,24],target:e,trigger:"static"},El)):null}function Ol({grossArea:e,noTooltip:t=!1}){const n=(0,N.H)(),i=(0,o.useRef)(null);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",Object.assign({ref:i,className:g()("gross-area-info",{clickable:!t})},{children:e})),t?null:(0,c.jsx)(vl,{target:i.current,narrowLayout:n})]})}var _l=n(51469);const{UNITS_DISPLAY:Tl}=y.A;var Al=n(8694);const wl=(0,ne.v)(Al.y);var Nl=n(30169);const{TRIM:Il}=y.A.WORKSHOP;function Rl(){const e=(0,w.Y)(),t=Tt(),n=(0,_l.N)(),i=ae(),r=function(){const e=wl(),[t,n]=(0,o.useState)((null==e?void 0:e.currentRoom)||null);return(0,o.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.currentRoom)}const i=e.makeCurrentRoomChangeSubscription(t);return t(),()=>i.cancel()}),[e]),t}(),s={formatAreaValue:!0,floorId:t?t.id:null};(0,le.vy)(i)&&r&&(s.roomId=r.id);const a=function({floorId:e,roomId:t,formatAreaValue:n=!1}){var i;const r=(0,w.Y)(),o=(0,Za.J)(),s=(0,_l.N)(),a={[cl.t.METRIC]:e=>`${e} ${r.t(Tl.SQUARE_METERS)}`,[cl.t.IMPERIAL]:e=>`${e} ${r.t(Tl.SQUARE_FEET)}`}[o],l=null!==(i=t?null==s?void 0:s.getRoomArea(t,o):null==s?void 0:s.getGrossFloorArea(e,o))&&void 0!==i?i:0;return n?a(l):l.toString()}(s);let l=e.t(Il.ALL_FLOORS);return(0,le.vy)(i)&&r?l=(0,Nl.Ay)(r.id,e,n):t&&(l=t.name),(0,c.jsx)("div",Object.assign({className:"measurements-gross-area"},{children:(0,c.jsx)(fl,{title:l,content:(0,c.jsx)(Ol,{grossArea:a,noTooltip:(0,le.vy)(i)&&!!r})})}))}var kl=n(98159),Ll=n(8774),Ml=n(5320),Dl=n(58338),Pl=n(44199);const Cl="Measurement-Help",xl="measurement-mode-help";function Ul({touchDevice:e,unaligned:t,phase:n,confirming:i,selectedGroup:r}){const s=(0,F.B)(),a=(0,ft.L)(),l=(0,o.useRef)(null),u=(0,w.Y)();function d(){l.current&&l.current.dismissNudge()}const h=n===el.hb.CREATING&&(!r||0===r.count),f=n===el.hb.CREATING_NEXT_POINT&&!!r&&2===r.count,m=!i&&(h||f),g=n===el.hb.EDITING,v=m||i,E=t||g;let S=Dl.R.ADD,b=u.t(y.A.MEASUREMENT_ADD_LABEL);i?(S=Dl.R.CONFIRM,b=u.t(y.A.MEASUREMENT_SAVE_LABEL)):m&&(S=Dl.R.CANCEL,b=u.t(y.A.MEASUREMENT_CANCEL_LABEL));const O=r&&S!==Dl.R.CANCEL&&(e?!!hl.deleteVisible[n]:!!pl[n]),_=u.t(y.A.MEASUREMENT_START_ADDING),T=s,A=O?(0,c.jsx)(p.$n,{className:"action-button-outer",icon:"delete",variant:p.Ak.FAB,theme:"overlay",onClick:e=>{d(),e.stopPropagation(),a.issueCommand(new kl.SH)}}):void 0;return(0,c.jsx)(ua.E,Object.assign({outerRight:A},{children:(0,c.jsx)(Pl.A,{ref:l,disabled:E,addIcon:S,ariaLabel:b,ariaDescribedBy:Cl,allowLayerChange:v,onChangeLayer:()=>{d()},nudgeDisabled:T,nudgeMessage:_,nudgeSessionKey:"measurement-mode-add-tooltip",onClick:e=>{d(),e.stopPropagation(),n===el.hb.IDLE?a.issueCommand(new Ll.X):a.issueCommand(new Ml.R)}})}))}const jl=n(8241);function Fl(e){const{touchDevice:t,phase:n,groupCount:i}=e,r=(0,B.F)(),s=(0,w.Y)(),a=(0,H.i)(xl,!1),[l,u]=(0,o.useState)(!1);if((0,o.useEffect)((()=>()=>{l&&r.setProperty(xl,!0)}),[l,r]),a)return null;const d=s.t(y.A.MEASUREMENT_HELP_CLICK_ANYWHERE),h=s.t(y.A.MEASUREMENT_HELP_ESCAPE),p=s.t(y.A.MEASUREMENT_HELP_PRESS_START),f=s.t(y.A.MEASUREMENT_HELP_DRAG_EDIT),m=s.t(y.A.MEASUREMENT_HELP_PRESS_END);let v,E,S;if(t)switch(n){case el.hb.CREATING:v=(0,c.jsx)("div",{className:"icon icon-press-hold"}),E=p;break;case el.hb.CREATING_NEXT_POINT:v=(0,c.jsx)("div",{className:"icon icon-drag-edit"}),E=m,l||u(!0);break;case el.hb.EDITING:case el.hb.POINT_PLACED:v=(0,c.jsx)("div",{className:"icon icon-finger-drag"}),E=f;break;default:return null}else switch(n){case el.hb.CREATING:v=(0,c.jsx)("div",{className:"icon icon-draw-lines"}),E=d;break;case el.hb.CREATING_NEXT_POINT:i>=3&&(v=(0,c.jsx)("div",Object.assign({className:"escape-key"},{children:(0,c.jsx)("img",{src:jl})})),E=h,S="escape-message",l||u(!0));break;default:return null}return(0,c.jsxs)("div",Object.assign({className:"overlay-message"},{children:[v,E&&(0,c.jsx)("span",Object.assign({id:Cl,className:g()("message",S)},{children:E}))]}))}var Hl=n(8517);function Gl(){var e;const t=(0,ft.L)(),n=(0,Za.J)(),i=(0,H.i)(ee.Y.MeasurementContinuousLines,!1),r=tl(),s=function(){const e=Pr(),t=Cr(),{roomDimensionsVisible:n}=Ur(),i=(0,H.i)(nl.AU,!1);return e===d.lg.SHOWCASE&&i&&n&&t}(),a=il(),l=sl(),u=(0,o.useMemo)((()=>(0,C.C8)()),[]),h=function(){var e;const t=(0,al.g)(),[n,i]=(0,o.useState)(null!==(e=null==t?void 0:t.pointPosition)&&void 0!==e?e:null);return(0,o.useEffect)((()=>{if(!t)return()=>{};function e(){t&&i(t.pointPosition)}const n=t.onPointPositionChanged(e);return e(),()=>n.cancel()}),[t]),n}(),p=ll(),f=function(){const e=sl(),t=(0,H.i)(ee.Y.MeasurementContinuousLines,!1),n=(null==e?void 0:e.count)||0;return t?n>2:2===n}(),m=(0,Ja.f)(),g=!!l&&(f&&(i?a===el.hb.CREATING_NEXT_POINT:a===el.hb.CREATING));(0,o.useEffect)((()=>(a===el.hb.CLOSED&&t.issueCommand(new Ut.X(xt.a.MEASUREMENT_HELP,!1)),()=>{})),[t,a]);const v=hl.addEnabled[a],y=(null==l?void 0:l.info.text)?` ${l.info.text}`:"",E=l?`${((e,t)=>{if(t===cl.t.METRIC)return`${e.toFixed(2)}m`;const{feet:n,inches:i}=(0,ul.A4)(e);return n>0?`${n}' ${i}"`:`${i}"`})(l.length,n)} ${y}`:void 0;return(0,c.jsxs)("div",Object.assign({className:"overlay grid-overlay measurements-overlay"},{children:[l&&(0,c.jsx)(Hl.L,{children:E}),(0,c.jsx)(Fl,{phase:a,touchDevice:u,groupCount:null!==(e=null==l?void 0:l.count)&&void 0!==e?e:0}),v&&(0,c.jsx)(dl.z,{progress:p,screenPosition:h}),s?(0,c.jsx)(Rl,{}):null,r&&(0,c.jsx)(Ul,{unaligned:m,phase:a,touchDevice:u,selectedGroup:l,confirming:g})]}))}function Bl(){const e=(0,Z.s)(),t=(0,ft.L)(),n=(0,w.Y)(),i=(0,Bn.t)(),r=il(),s=i===xt.a.MEASUREMENT_HELP,a=(0,o.useCallback)((()=>{t.issueCommand(new Ut.X(xt.a.MEASUREMENT_HELP,!1))}),[t]);(0,o.useEffect)((()=>(r===el.hb.CLOSED&&a(),()=>{})),[a,r]);const l=n.t(y.A.HELP),u=n.t(y.A.CLOSE),d=(0,c.jsx)(p.$n,{className:"measurement-top-ui-button",variant:p.Ak.FAB,theme:"overlay",icon:"help",active:s,onClick:n=>{n.stopPropagation(),s||e.trackToolGuiEvent("measurements","measure_mode_help_clicked"),t.issueCommand(new Ut.X(xt.a.MEASUREMENT_HELP,!s))},ariaLabel:l,tooltip:!s&&l||void 0,tooltipOptions:{placement:"bottom"}},"measurement-help"),f=(0,c.jsx)(p.$n,{className:"measurement-top-ui-button",icon:"close",variant:p.Ak.FAB,theme:"overlay",tooltip:u,tooltipOptions:{placement:"bottom"},onClick:async e=>{e&&e.stopPropagation(),a(),await t.issueCommand(new h.yU(L.S0.MEASUREMENTS,!1))}},"measurement-close");return(0,c.jsxs)("div",Object.assign({className:"measurement-top-ui-button-container"},{children:[d,f]}))}var Vl=n(28479);const Wl=({id:e,name:t,value:n,checked:i,enabled:r,onChange:o,children:s})=>{const a=!r;return(0,c.jsxs)("div",Object.assign({className:g()("radio-element","radio-button",{disabled:a})},{children:[(0,c.jsx)("input",{type:"radio",id:e,name:t,value:n,checked:i,onChange:e=>{o(e)}}),(0,c.jsx)("label",Object.assign({className:"radio-button-label",htmlFor:e},{children:s}))]}))};function zl(){const e=(0,B.F)(),t=(0,Z.s)(),n=(0,w.Y)(),i=(0,Za.J)(),r=(0,Vl.L)(),o=n=>{n.stopPropagation();const o=i===cl.t.IMPERIAL?cl.t.METRIC:cl.t.IMPERIAL;t.trackGuiEvent(`units_click_${o}`,{tool:r}),e.setLocalStorageProperty(ee.Y.UnitType,o)},s=n.t(y.A.MEASUREMENT_UNITS),a=n.t(y.A.MEASUREMENT_IMPERIAL),l=n.t(y.A.MEASUREMENT_METRIC),u=i===cl.t.METRIC;return(0,c.jsxs)("div",Object.assign({className:"settings-toggle units-setting"},{children:[(0,c.jsx)("div",Object.assign({className:"settings-label"},{children:s})),(0,c.jsxs)("div",Object.assign({className:"radio-group radio-buttons"},{children:[(0,c.jsx)(Wl,Object.assign({name:"unit",value:cl.t.IMPERIAL,id:"unit-imperial",enabled:!0,checked:!u,onChange:o},{children:a})),(0,c.jsx)(Wl,Object.assign({name:"unit",value:cl.t.METRIC,id:"unit-metric",enabled:!0,checked:u,onChange:o},{children:l}))]}))]}))}function $l(){const e=(0,B.F)(),t=(0,w.Y)(),n=(0,H.i)(ee.Y.MeasurementSnapping,!1),i=(0,H.i)(ee.Y.MeasurementContinuousLines,!1),r=tl(),s=(0,o.useCallback)((()=>{e.setLocalStorageProperty(ee.Y.MeasurementSnapping,!n)}),[e,n]),a=(0,o.useCallback)((()=>{e.setLocalStorageProperty(ee.Y.MeasurementContinuousLines,!i)}),[e,i]),l=t.t(y.A.MEASUREMENT_CONTINUOUS_LINES),u=t.t(y.A.MEASUREMENT_SNAPPING),d=t.t(y.A.TOOLS.MEASUREMENTS_SETTINGS);return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",Object.assign({className:"floorplan-overlay-title"},{children:d})),(0,c.jsxs)(jr,Object.assign({className:"floorplan-overlay-tooltip"},{children:[r&&(0,c.jsx)(Hr,{label:u,onToggle:s,enabled:!0,toggled:n})," ",r&&(0,c.jsx)(Hr,{label:l,onToggle:a,enabled:!0,toggled:i}),(0,c.jsx)(zl,{})]}))]})}class Kl{constructor(){this.renderOverlay=()=>(0,c.jsx)(Gl,{}),this.renderTopUIElements=()=>(0,c.jsx)(Bl,{}),this.renderShowcaseSettingsPanel=()=>(0,c.jsx)($l,{})}}var Yl=n(45548),ql=n(92637),Ql=n(8647),Xl=n(87306),Zl=n(99104);const{TOOLS:Jl}=y.A;class ec extends a.n{constructor(){super(),this.name="showcase-gui-module",this.onSaveError=e=>{const{error:t}=e;this.engine.commandBinder.issueCommand(new ql.P(y.A.ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE,{throttle:30,timeout:10,type:Ql.v.ERROR,error:t}))},this.onForbiddenError=e=>{const{error:t}=e;this.engine.commandBinder.issueCommand(new ql.P(y.A.ERRORS.UNAUTHORIZED_ERROR_MESSAGE,{throttle:0,timeout:0,type:Ql.v.ERROR,error:t}))},this.loadUi=this.loadUi.bind(this)}async init(e,t){this.engine=t,[this.settingsData,this.containerData]=await Promise.all([t.market.waitForData(ba.o),t.market.waitForData(Yt.G)]),this.bindings.push(t.subscribe(Yl.xi,this.onSaveError),t.subscribe(Yl.xt,this.onForbiddenError))}async loadUi(e,t,n){e.editMode=!1;const i={locale:e.locale};this.viewportHeight=new Sa(this.containerData),this.viewportHeight.update(),this.reactRoot=(0,s.createRoot)(t),this.reactRoot.render((0,o.createElement)(v.B.Provider,{value:e},[(0,o.createElement)(Rt.U6.Provider,{key:"showcase-ui-locale",value:i},[(0,o.createElement)(Ea,{key:"showcase-ui",onAppReadyChanged:n})])])),this.initializeTools()}async unloadUi(){return this.viewportHeight&&this.viewportHeight.dispose(),!!this.reactRoot&&(this.reactRoot.unmount(),!0)}initializeTools(){const e=[new Oa.N({id:L.S0.MEASUREMENTS,searchModeType:l.jM.MEASUREMENTPATH,namePhraseKey:Jl.MEASUREMENTS,panel:!1,icon:"icon-tape-measure",analytic:"measurements",dimmed:!1,enabled:this.settingsData.tryGetProperty(q.Q$.Measurements,!0),ui:new Kl,manager:new Da(this.engine,this.settingsData)}),new Oa.N({id:L.S0.SUMMARY,namePhraseKey:Jl.SUMMARY,panel:!0,panelLeft:!0,analytic:"summary",dimmed:!1,enabled:!0,hidesAppBar:!0,ui:new Xa})];this.engine.commandBinder.issueCommand(new h.Kw(e)),this.engine.commandBinder.issueCommandWhenBound(new Zl.eo),this.engine.commandBinder.issueCommandWhenBound(new Xl.RJ)}}},57035:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>F});var i=n(55141);class r extends i.u{}r.id="SHOWCASE_START";class o extends i.u{}o.id="SHOWCASE_STOP";class s extends i.u{}s.id="SHOWCASE_READY";var a=n(75578),l=n(71687),c=n(22585),u=n(25316),d=n(27947),h=n(25773),p=n(58480),f=n(85935),m=n(62372),g=n(55057),v=n(74328),y=n(78711),E=n(56147),S=n(64491),b=n(75778),O=n(48539),_=n(31093),T=n(50561),A=n(89103);class w extends A.QB{constructor(e){super(),this.expanded=e}}var N=n(44345);class I{constructor(e,t){this.lastProgress=0,this.currentProgress=0,this.webpackChunks=[],this.meshAlloc={alloc:2e6,loaded:0},this.showingProgress=!1,this.onWebpackChunkProgress=e=>{this.webpackChunks[e.chunkID]?this.webpackChunks[e.chunkID].loaded=e.loaded:this.webpackChunks[e.chunkID]={loaded:e.loaded,total:e.total},this.calcProgress()},this.progressElm=t.querySelector("#bar"),window.addEventListener("WebpackChunkProgress",this.onWebpackChunkProgress),this.engine=e,this.meshProgressBinding=this.onMeshLoadProgress.bind(this),this.engine.subscribe(N.EX,this.meshProgressBinding)}dispose(){window.removeEventListener("WebpackChunkProgress",this.onWebpackChunkProgress)}showProgress(){this.showingProgress=!0,this.setProgress(this.currentProgress)}setDone(){this.currentProgress=100,this.setProgress(this.currentProgress),this.engine.unsubscribe(N.EX,this.meshProgressBinding)}setProgress(e){if(!this.progressElm||isNaN(e))return;this.lastProgress=Math.max(this.lastProgress,e),e=this.lastProgress;const t=Number.parseFloat(this.progressElm.getAttribute("r")||"0"),n=Math.PI*(2*t),i=(100-(e=Math.max(Math.min(e,100),0)))/100*n;this.progressElm.style.strokeDasharray=n.toString(10),this.progressElm.style.strokeDashoffset=i.toString(10)}calcProgress(){let e=0,t=0;this.webpackChunks.forEach((n=>{e+=n.loaded,t+=n.total})),e+=this.meshAlloc.loaded,t+=this.meshAlloc.alloc,this.currentProgress=95*Math.min(e/t,1),this.showingProgress&&this.setProgress(this.currentProgress)}onMeshLoadProgress(e){this.meshAlloc.loaded=e.loaded/e.total*this.meshAlloc.alloc,this.calcProgress()}}class R extends i.u{constructor(e,t){super(),this.payload={startup:e,editMode:t}}}R.id="START_APPLICATION";class k extends i.u{constructor(e){super(),this.payload={expand:e}}}k.id="EXPAND_APP";var L=n(27612);function M(e){const{width:t,height:n}=window.screen;return S.al()&&(0,L.c)({width:t,height:n})&&e.height<.6*n}function D(){return S.qL()&&!S.vQ("xr-spatial-tracking")}class P{constructor(e,t,n,i){this.config=e,this.settingsData=t,this.containerData=n,this.sdkData=i,this.bindings=[]}async autoPlayIfWhenAllowed(e){const{editMode:t,openingTool:n,disabled:i,allowAutoPlay:r}=this.config;let o=!1;if(function(e,t,n){return!S.al()||!!(e||n||t)}(this.settingsData.getOverrideParam("play",!1),n,t)&&(o=r||this.sdkConnected,!o)){const t=function(e){return e||S.al()&&D()}(i);t||(o=!M(this.containerData.size),o||(this.bindings.push(this.containerData.onPropertyChanged("size",(t=>{M(t)||(e(),this.bindings.forEach((e=>e.cancel())))}))),this.bindings.push(this.sdkData.onChanged((()=>{this.sdkConnected&&(e(),this.bindings.forEach((e=>e.cancel())))})))))}return o&&e(),o}get sdkConnected(){return this.sdkData.applicationKeys.length>0}dispose(){this.bindings.forEach((e=>e.cancel()))}}var C=n(35404),x=n(83772);function U(e,t){let n=function(e){return document.querySelector(`link[rel=${e}]`)}(e);n||(n=document.createElement("link"),document.head.appendChild(n)),n.setAttribute("rel",e),n.setAttribute("href",t)}var j=n(10843);class F extends a.n{constructor(){super(...arguments),this.name="loading-ui",this.playPromise=new _.i,this.onClick=()=>{this.resolvePlayPromise(!0,!1)},this.autoPlay=()=>{this.autoPlaying=!0,this.updatePlayAnalytics(),this.resolvePlayPromise(!0,this.config.editMode)},this.resolvePlayPromise=async(e,t)=>{var n,i;null===(n=this.autoPlayer)||void 0===n||n.dispose();const r=this.config.allowPlayInIframe||!S.Fr()&&!D(),o=t&&(0,S.al)()&&(r||1===this.settings.getOverrideParam("expand",0));if(!this.autoPlaying){if(!r&&1===this.settings.getOverrideParam("nt",0)){const e=(0,x.RP)(window.location.href);return void window.open(e,"_blank")}if((0,S.al)()&&!o&&!r){const e=(0,b.DE)();t&&e.set("edit","1"),e.set("back","1"),e.delete("cloudEdit");const n=e.toString(),i=`${window.location.origin}${window.location.pathname}?${n}`;try{return void(window.top&&(window.top.location.href=i))}catch(e){j.Ay.for(this).debug("Couldn't set top window location; was Showcase sandboxed?",e)}}}o&&this.toggleIframeExpansion(!0),t&&this.settings.setProperty("quickstart",!0),e&&(this.config.disabled||(null===(i=this.uiRoot)||void 0===i||i.removeEventListener("click",this.onClick),this.playIcon.remove(),this.progressUI.showProgress()),this.playPromise.resolve())},this.toggleIframeExpansion=e=>{const t=e?new r:new o;this.engine.commandBinder.issueCommand(t),this.engine.broadcast(new w(e))},this.onAppPhaseChangeMessage=async e=>{var t;e.phase!==d.Jj.STARTING&&e.phase!==d.Jj.PLAYING&&e.phase!==d.Jj.ERROR||(this.progressUI.setDone(),this.config.quickstart?this.showQuickstartUI():null===(t=this.uiRoot)||void 0===t||t.classList.add("faded-out"),this.engine.unsubscribe(c.uv,this.onAppPhaseChangeMessage))}}async init(e,t){this.engine=t,this.config=e;const{market:n,commandBinder:i}=this.engine;[this.locale,this.settings,this.containerData,this.sdkData]=await Promise.all([t.getModuleBySymbol(l.gS),n.waitForData(u.o),n.waitForData(p.G),n.waitForData(h.d)]);const r=await t.market.waitForData(g.q);this.model=r.model.details,this.updateHtmlMetadata(r,this.settings),this.autoPlaying=1===this.settings.getOverrideParam("play",0),this.bindings.push(i.addBinding(R,(async e=>{this.resolvePlayPromise(e.startup,e.editMode)})),i.addBinding(k,(async e=>{this.toggleIframeExpansion(e.expand)})),this.containerData.onPropertyChanged("size",(e=>{this.updatePlayAnalytics()}))),e.disabled||(this.bindings.push(this.settings.onPropertyChanged(C.ov,(()=>this.renderTitle())),this.settings.onPropertyChanged(C.Lj,(()=>this.renderBranding())),this.settings.onPropertyChanged(C.qu,(()=>this.renderBranding())),t.subscribe(c.uv,this.onAppPhaseChangeMessage)),this.progressUI=new I(t,this.containerData.element),this.loadUi(),this.getLoadingElements(),this.renderSplashScreen())}dispose(e){var t,n;super.dispose(e),null===(t=this.progressUI)||void 0===t||t.dispose(),null===(n=this.autoPlayer)||void 0===n||n.dispose()}get waitForPlaying(){return this.playPromise.nativePromise()}loadUi(){if(this.uiRoot=this.containerData.element.querySelector("#loading-gui"),!this.uiRoot)throw Error("Loading GUI root not found");this.uiRoot.classList.remove("hidden"),this.config.quickstart&&(this.uiRoot.style.pointerEvents="none")}getPresentationOptions(){const{hideTitle:e,hideBranding:t,quickstart:n}=this.config,i=!n&&(void 0!==e?!e:this.settings.tryGetProperty(C.ov,!0)),r=this.settings.tryGetProperty(C.qu,!1),o=this.settings.tryGetProperty(C.Lj,!0);return{title:i,presentedBy:void 0!==t?!t:o&&!r}}getLoadingElements(){const e=this.containerData.element;this.presentedBy=e.querySelector("#loading-presented-by"),this.poweredBy=e.querySelector("#loading-powered-by"),this.mpLogo=e.querySelector("#loading-mp-logo"),this.mpLogo.src=T,this.mpLogo.alt=this.locale.t(E.A.ALT_MATTERPORT_LOGO),this.circleLoader=e.querySelector("#circleLoader"),this.nameHeader=e.querySelector("#loading-header"),this.background=e.querySelector("#loading-background"),this.tint=e.querySelector("#tint"),this.playIcon=e.querySelector("#showcase-play"),this.playIcon.setAttribute("aria-label",this.locale.t(E.A.PLAY)),this.playIcon.setAttribute("alt",this.locale.t(E.A.PLAY))}addCobrand(){var e;if(null===(e=this.model)||void 0===e?void 0:e.presentedBy){const e=this.presentedBy.querySelector(".loading-label");e&&(e.textContent=this.locale.t(E.A.PRESENTED_BY_CAPS));const t=this.presentedBy.querySelector(".subheader");t&&(t.textContent=this.model.presentedBy),this.presentedBy.classList.remove("hidden")}}hidePlayButtonUI(){var e;this.background.style.backgroundImage="none",this.presentedBy.style.transition="none",this.presentedBy.classList.remove("faded-in"),this.poweredBy.style.transition="none",this.poweredBy.classList.remove("faded-in"),this.nameHeader.classList.add("hidden"),this.tint.classList.add("hidden"),this.circleLoader.classList.add("hidden"),null===(e=this.uiRoot)||void 0===e||e.classList.add("quickstart")}async showQuickstartUI(){var e;this.background.classList.add("faded-out"),await(0,O.cb)(500),this.presentedBy.style.transition="",this.presentedBy.classList.add("faded-in"),this.poweredBy.style.transition="",this.poweredBy.classList.add("faded-in"),await(0,O.cb)(2500),this.presentedBy.classList.remove("faded-in"),this.poweredBy.classList.remove("faded-in"),null===(e=this.uiRoot)||void 0===e||e.classList.add("faded-out")}showLoadingUI(e){const t=document.createAttribute("data-status");t.value=this.locale.t(E.A.LOADING);const n=this.containerData.element.querySelector("#loader-cont");n&&(n.attributes.setNamedItem(t),n.classList.add(this.locale.languageCode),n.classList.add("loading")),e.classList.add("faded-out"),this.presentedBy.classList.add("faded-in")}renderTitle(){const{title:e}=this.getPresentationOptions();this.nameHeader.classList.toggle("hidden",!e)}renderBranding(){const{presentedBy:e}=this.getPresentationOptions();e?this.addCobrand():this.presentedBy.classList.add("hidden")}async renderSplashScreen(){var e;const{editMode:t,allowPlayInIframe:n,allowAutoPlay:i,disabled:r,openingTool:o,quickstart:s,hidePoweredBy:a}=this.config;this.renderTitle(),this.renderBranding(),a&&this.poweredBy.classList.add("hidden"),this.nameHeader.textContent=this.model.name,this.poweredBy.classList.add("faded-in"),this.tint.classList.add("faded-in");const l=this.containerData.element.querySelector("#play-prompt");this.playPromise.then((()=>{s?this.hidePlayButtonUI():this.showLoadingUI(l)})),this.autoPlayer=new P({editMode:t,allowPlayInIframe:n,allowAutoPlay:i,disabled:r,openingTool:o},this.settings,this.containerData,this.sdkData),this.autoPlaying=await this.autoPlayer.autoPlayIfWhenAllowed(this.autoPlay),this.autoPlaying||(l.classList.remove("hidden"),l.innerText=this.locale.t(E.A.EXPLORE_3D_SPACE),this.playIcon.classList.remove("hidden"),null===(e=this.uiRoot)||void 0===e||e.addEventListener("click",this.onClick)),this.renderBackground(),n||window.scrollTo(0,0)}async renderBackground(){const e=v.s.deserialize();if(this.autoPlaying&&e){const t=await this.engine.market.waitForData(m.A),n=(0,y.d)(e,t);if(n&&(0,y.X)(n,t))return}const t=window.devicePixelRatio||1,n=Math.max(window.innerWidth,400);this.background.style.backgroundImage=`url(${this.config.baseUrl}/api/v1/player/models/${this.config.viewId}/thumb?width=${n}&dpr=${t}&disable=upscale)`}updatePlayAnalytics(){this.engine.getModuleBySymbol(l.aF).then((e=>{e.setOptions(Object.assign({},(0,f.Q9)(this.autoPlaying)))}))}updateHtmlMetadata(e,t){if("function"==typeof ShadowRoot&&this.containerData.rootNode instanceof ShadowRoot)return;const n=t.tryGetProperty(C.k5,null);if(e.model.hasDiscoverUrl()&&n){const{baseModelId:t,sid:i}=e.model,r=new URL(`${n}${t}`,"https://matterport.com");i&&i!==t&&r.searchParams.set("view",i),U("canonical",r.toString())}}}},6909:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var i=n(89103);class r extends i.QB{constructor(e,t,n,i,r,o,s,a,l){super(),this.durationDollhouse=e,this.durationFloorplan=t,this.durationInside=n,this.durationOverlay=i,this.mainMode=r,this.totalBytesDownloaded=o,this.tilesDownloaded=s,this.durationTour=a,this.tourMode=l}}},65256:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,l:()=>r});var i=n(89103);class r extends i.QB{}class o extends i.QB{constructor(e){super(),this.errorType=e}}},38939:(e,t,n)=>{"use strict";n.d(t,{W:()=>o,c:()=>r});var i=n(55141);class r extends i.u{constructor(e){super(),this.payload={pose:e}}}r.id="START_LOCATION_FLY_IN_COMMAND";class o extends i.u{}o.id="START_LOCATION_GOTO_COMMAND"},46771:(e,t,n)=>{"use strict";n.d(t,{u:()=>o,k:()=>o});var i=n(68909);class r{constructor(e){this.elements=[],e?(e=>void 0!==e.elements)(e)?this.elements=e.elements.slice():i.Matrix4.prototype.set.apply(this,e):i.Matrix4.prototype.set.apply(this,r.identity)}equals(e){return i.Matrix4.prototype.equals.call(this,e)}clone(){return new r(this)}}r.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];class o extends r{constructor(e){e instanceof Array||e?super(e):super(),this.threeMatrix=new i.Matrix4}set(e,t,n,r,o,s,a,l,c,u,d,h,p,f,m,g){return i.Matrix4.prototype.set.call(this,e,t,n,r,o,s,a,l,c,u,d,h,p,f,m,g),this}makeScale(e,t,n){return i.Matrix4.prototype.makeScale.call(this,e,t,n),this}copy(e){for(let t=0;t<this.elements.length;t++)this.elements[t]=e.elements[t];return this}clone(){return(new o).copy(this)}transpose(){return i.Matrix4.prototype.transpose.call(this)}lookAt(e,t,n){return i.Matrix4.prototype.lookAt.call(this,e,t,n),this}setPosition(e){return i.Matrix4.prototype.setPosition.call(this,e.x,e.y,e.z),this}extractRotation(e){return i.Matrix4.prototype.extractRotation.call(this,e),this}makePerspective(e,t,n,r,o,s){return i.Matrix4.prototype.makePerspective.call(this,e,t,n,r,o,s),this}makePerspectiveFov(e,t,n=.1,r=1e3){const o=n*Math.tan(e*(Math.PI/180)/2),s=-o,a=o*t,l=-a;return i.Matrix4.prototype.makePerspective.call(this,l,a,o,s,n,r),this}makeOrthographic(e,t,n,r,o,s){return i.Matrix4.prototype.makeOrthographic.call(this,e,t,n,r,o,s),this}identity(){return this.set.apply(this,r.identity)}makeRotationFromQuaternion(e){return i.Matrix4.prototype.makeRotationFromQuaternion.call(this,e),this}makeRotationFromEuler(e){return i.Matrix4.prototype.makeRotationFromEuler.call(this,e),this}getInverse(e){return i.Matrix4.prototype.copy.call(this,e),i.Matrix4.prototype.invert.call(this),this}premultiply(e){return i.Matrix4.prototype.premultiply.call(this,e),this}multiplyMatrices(e,t){return i.Matrix4.prototype.multiplyMatrices.call(this,e,t),this}scale(e){return i.Matrix4.prototype.scale.call(this,e),this}compose(e,t,n){return i.Matrix4.prototype.compose.call(this,e,t,n),this}asThreeMatrix4(){return this.threeMatrix.set(this.elements[0],this.elements[4],this.elements[8],this.elements[12],this.elements[1],this.elements[5],this.elements[9],this.elements[13],this.elements[2],this.elements[6],this.elements[10],this.elements[14],this.elements[3],this.elements[7],this.elements[11],this.elements[15])}}},76185:(e,t,n)=>{"use strict";function i(e){if(null==e)throw new Error(`Expected a defined value but got ${e} instead`)}n.d(t,{$:()=>i})},33007:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=Object.freeze({signedUrlDefaultExpireTime:24e4,signedUrlCheckInterval:1e4,signedUrlRefreshBuffer:15e3,visionTilingStartDate:new Date("8/26/2016"),visionTilingStartVersion:"1.1.407.13667",defurnishableStartDate:new Date("03/10/2023"),defurnishableStartVersion:"1.2.29221.4-gcac59bd3ec.REL_1425",epsilon:1e-5,skyboxMeshGroup:"_group_skybox_",skysphereMeshGroup:"_group_skysphere_"})},55141:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});class i{get id(){return this.constructor.id}}},79849:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var i=n(24241),r=n(31093),o=n(3066);const s=new i.Vy("command-binder");class a{constructor(e=!1){this.ignoreUnboundCommands=e,this.bindings={},this.queuedCommands={},this.hookedCommands={},this.resetHooks=()=>{this.hookedCommands={}},this.issueCommand=this.issueCommand.bind(this),this.issueCommandWhenBound=this.issueCommandWhenBound.bind(this)}addBinding(e,t){if(this.bindings[e.id])throw Error(`Command ${e.id} already bound to a callback`);if(!e.id)throw Error(`Command ${e.name} does not have an id. Add one as a static member.`);this.bindings[e.id]=t,this.callQueuedCommands(e.id);return{renew:()=>{this.bindings[e.id]!==t&&this.addBinding(e,t)},cancel:()=>this.removeBinding(e,t),active:this.bindings[e.id]===t}}removeBinding(e,t){if(!this.bindings[e.id])return void s.debug("Trying to unbind unbound command");this.bindings[e.id]===t?delete this.bindings[e.id]:s.debug("Trying to unbind unbound callback")}issueCommand(e,t=!0){const n=this.bindings[e.id];return n?this.issueCommandHelper(e,n,t):this.ignoreUnboundCommands?Promise.resolve({}):Promise.reject("Command not bound: "+e.id)}issueCommandHelper(e,t,n=!0){return this.hookedCommands[e.id]&&!this.hookedCommands[e.id].resolving?this.issueHookCommand(e):t(e.payload)}issueCommandWhenBound(e){const t=new r.i;return this.issueCommand(e).then((e=>t.resolve(e))).catch((n=>{this.queuedCommands[e.id]||(this.queuedCommands[e.id]=[]),this.queuedCommands[e.id].push({command:e,deferred:t})})),t.nativePromise()}callQueuedCommands(e){const t=[];this.queuedCommands[e]&&(this.queuedCommands[e].forEach((e=>{t.push(this.issueCommand(e.command).then((t=>e.deferred.resolve(t))))})),Promise.all(t).then((()=>{delete this.queuedCommands[e]})))}hookCommand(e,t,n){let i=this.hookedCommands[e.id];if(i){if(t&&null!==i.preCommandCallback)throw Error(`Command ${e.name} has already been pre hooked`);if(!t&&null!==i.postCommandCallback)throw Error(`Command ${e.name} has already been post hooked`)}else i=this.hookedCommands[e.id]={preCommandCallback:null,postCommandCallback:null,resolving:!1};return(0,o.Sh)((()=>{t?i.preCommandCallback=n:i.postCommandCallback=n}),(()=>{t?i.preCommandCallback=null:i.postCommandCallback=null}),!0)}async issueHookCommand(e){const t=this.hookedCommands[e.id],n=this.bindings[e.id],i=e.payload,r=t.preCommandCallback,o=t.postCommandCallback;try{r&&await r(i),t.resolving=!0;const s=await this.issueCommandHelper(e,n,!0);return t.resolving=!1,o&&await o(i),s}catch(e){throw Error(`Could not completely issueHookCommand - ${e}`)}}}},43787:(e,t,n)=>{"use strict";n.d(t,{Ks:()=>c,g$:()=>u,oV:()=>a});var i=n(24241),r=n(65945),o=n(924);const s=new i.Vy("di-container"),a=new r.mc;a.bindConstant(o.Od,!0);const l={};function c(e){return s.warn("Prefer getting container directly from engine for better encapsulation."),l[e]}function u(e,t=a){const n=new r.mc(t);return l[e]=n,n.bindConstant(o.Od,!1),n.bindConstant(o.x6,e),n}},924:(e,t,n)=>{"use strict";n.d(t,{Od:()=>i,W8:()=>o,x6:()=>r});const i="__isRoot__",r="__engineId__",o="__showcaseLoadedOnce__"},84710:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var i=n(85616);class r extends i.v{}},48734:(e,t,n)=>{"use strict";var i,r;n.d(t,{Ay:()=>d,oN:()=>s,sv:()=>c,tb:()=>i}),function(e){e[e.None=0]="None",e[e.Duration=1]="Duration",e[e.Phase=2]="Phase",e[e.Promise=3]="Promise"}(i||(i={}));class o{constructor(e){this.type=e}}class s extends o{constructor(){super(i.None)}}class a extends o{constructor(e){super(i.Duration),this.duration=e,this.startTime=Date.now()}}class l extends o{constructor(e){super(i.Phase),this.phase=e}}!function(e){e[e.Pending=0]="Pending",e[e.Fulfilled=1]="Fulfilled",e[e.Rejected=2]="Rejected"}(r||(r={}));class c extends o{constructor(e){super(i.Promise),this.promise=e,this.promiseState=r.Pending,e.then((()=>{this.promiseState=r.Fulfilled})).catch((()=>{this.promiseState=r.Rejected}))}}class u{constructor(e,t=!0){this.generator=e,t&&this.start()}start(){this.started||(this.iterator=this.generator()),this.started=!0}iterate(){const e=this.iterator.next();this.currentResult=e.value,e.done&&(this.started=!1)}}class d{constructor(){this.generators=[]}startGenerator(e){let t=this.generators.length;for(let n=0;n<this.generators.length;n++){this.generators[n].generator===e&&(t=n)}this.generators[t]=new u(e)}stopGenerator(e){for(const t of this.generators)t.generator===e&&(t.started=!1)}processGenerators(e,t){for(const n of this.generators)if(n.started)switch(e){case i.None:(!n.currentResult||n.currentResult instanceof s)&&n.iterate();break;case i.Phase:if(n.currentResult instanceof l){const e=n.currentResult;void 0!==t&&e.phase===t&&n.iterate()}break;case i.Promise:if(n.currentResult instanceof c){n.currentResult.promiseState===r.Fulfilled&&n.iterate()}break;case i.Duration:if(n.currentResult instanceof a){const e=n.currentResult;Date.now()-e.startTime>=e.duration&&n.iterate()}}}}},13777:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,Gq:()=>o});var i=n(31093);var r,o;!function(e){e[e.CANCELLED=0]="CANCELLED",e[e.COMPLETED=1]="COMPLETED"}(r||(r={})),function(e){e[e.COMPUTE=0]="COMPUTE",e[e.BACKGROUND=1]="BACKGROUND"}(o||(o={}));class s{constructor(){this.name="generator-spreader",this.computeQueue=[],this.backgroundQueue=[]}enqueue(e,t,n=o.COMPUTE,r=!1){this.cancel(e,n);const s=this.getQueue(n),a=new i.i;return r?s.unshift({id:e,generator:t,promise:a}):s.push({id:e,generator:t,promise:a}),a.nativePromise()}cancel(e,t=o.COMPUTE){const n=this.getQueue(t),i=this.indexOfId(e,t);if(-1!==i){const e=n[i];n.splice(i,1),e.promise.resolve({state:r.CANCELLED,result:null})}}indexOfId(e,t){const n=this.getQueue(t);let i=-1;for(let t=0;t<n.length;t++)if(e===n[t].id){i=t;break}return i}getQueue(e){return e===o.COMPUTE?this.computeQueue:this.backgroundQueue}hasTasks(e=o.COMPUTE){return this.getQueue(e).length>0}hasTask(e,t=o.COMPUTE){return-1!==this.indexOfId(e,t)}onUpdate(){const e=performance.now();for(;performance.now()-e<15&&this.computeQueue.length>0;){const e=this.computeQueue[0],{value:t,done:n}=e.generator.next();n&&(this.computeQueue.splice(0,1),e.promise.resolve({state:r.COMPLETED,result:t}))}const t=performance.now();for(;performance.now()-t<3&&this.backgroundQueue.length>0;){const e=this.backgroundQueue[0],{value:t,done:n}=e.generator.next();n&&(this.backgroundQueue.splice(0,1),e.promise.resolve({state:r.COMPLETED,result:t}))}}}},89103:(e,t,n)=>{"use strict";n.d(t,{QB:()=>i});class i{constructor(){this.msgId=-1}setID(e){if(-1!==this.msgId)throw Error("Message.msgId can only be set once.");this.msgId=e}}},39417:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l,x:()=>a});var i=n(24241),r=n(3066),o=n(87984);const s=new i.Vy("message-bus");var a;!function(e){e[e.PERMANENT=0]="PERMANENT",e[e.ONCE=1]="ONCE"}(a||(a={}));class l{constructor(){this.typeLookup=new o.b0,this.callbacks={},this.messageQueue=[],this.messageCount=0}subscribe(e,t,n=a.PERMANENT){return(0,r.Sh)((()=>this._subscribe(e,t,n)),(()=>this.unsubscribe(e,t)),!0,(0,o.sb)(e))}_subscribe(e,t,n=a.PERMANENT){const i=this.typeLookup.getKeyByType(e,!0);this.callbacks[i]||(this.callbacks[i]=[]),this.callbacks[i].push({type:n,callback:t})}unsubscribe(e,t){const n=this.typeLookup.getKeyByType(e);n?this.unsubscribeByIndex(n,t):s.debug(`Message callback not bound for Type: ${e.name}`)}unsubscribeByIndex(e,t){const n=this.callbacks[e].findIndex((e=>e.callback===t));-1!==n?this.callbacks[e].splice(n,1):s.debug(`Message callback not bound for TypeIndex: ${e}`)}broadcast(e){if(e.setID(this.messageCount++),this.messageQueue.push(e),1===this.messageQueue.length){for(const e of this.messageQueue){const t=this.typeLookup.getKeyByInstance(e);if(!t)continue;const n=this.callbacks[t].slice();for(const i of n)i.callback(e),i.type===a.ONCE&&this.unsubscribeByIndex(t,i.callback)}this.messageQueue=[]}}}},75578:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});class i{constructor(){this.bindings=[]}init(e,t){return Promise.resolve()}onUpdate(e){}dispose(e){for(const e of this.bindings)null==e||e.cancel();this.bindings=[]}}},31093:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});class i{constructor(){this.base=new Promise(((e,t)=>{this.resolver=e,this.rejecter=t})),this._promise=new r(this.base,this),this.progressCallbacks=[]}then(e,t){return this.base.then(e,t)}catch(e){return this.base.catch(e)}resolve(e){return this.resolver(e),this}reject(e){return this.rejecter(e),this}notify(e){for(const t of this.progressCallbacks)t(e)}progress(e){return this.progressCallbacks.push(e),this}promise(){return this._promise}nativePromise(){return this.base}static resolve(){const e=new i;return e.resolve(),e.promise()}static reject(e){const t=new i;return t.reject(e),t.promise()}static all(e){const t=[];for(const n of e)n.nativePromise?t.push(n.nativePromise()):t.push(n);const n=new i;return Promise.all(t).then((e=>n.resolve(e)),(e=>n.reject(e))),n.promise()}}class r{constructor(e,t){this.basePromise=e,this.baseDeferred=t}then(e,t){return this.baseDeferred.then(e,t),this}catch(e){return this.baseDeferred.catch(e),this}progress(e){return this.baseDeferred.progress(e),this}nativePromise(){return this.basePromise}}},36476:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});class i{constructor(e){this._mask=e}get mask(){return this._mask}addLayers(e){this._mask|=e.mask}removeLayers(e){return this._mask&=~e.mask}clone(){return new i(this._mask)}}class r{static get ALL(){return new i(-1)}static get NONE(){return new i(0)}static get DEFAULT(){return new i(1)}constructor(){this.layerRegistry=[],this.unusedLayers=[];for(let e=1;e<32;e++)this.unusedLayers.push(e)}claimLayer(e){const t=this.getLayer(e);if(t.mask)return t;if(0===this.unusedLayers.length)throw Error("All render layers have already been claimed");const n=this.unusedLayers[0];return this.layerRegistry[n]=e,this.unusedLayers.shift(),new i(1<<n)}getLayer(e){const t=this.layerRegistry.indexOf(e);return-1!==t?new i(1<<t):r.NONE}disposeLayer(e){const t=this.layerRegistry.indexOf(e);-1!==t&&this.unusedLayers.push(t)}}},87984:(e,t,n)=>{"use strict";n.d(t,{Pw:()=>o,Uz:()=>r,b0:()=>a,sb:()=>s});var i=n(96824);const r=e=>e.prototype.constructor.name,o=e=>e.constructor,s=e=>{if("string"==typeof e)return e;if(e&&e.name)return e.name;const t=e.toString();return t.substring(0,t.indexOf("\n")).split(" ")[1]};class a{constructor(){this.typeLookupMap={},this.classUuids=new WeakMap}getKey(e){if("string"==typeof e)return e;{let t=this.classUuids.get(e);return t||(t=e.name+(0,i.e)(),this.classUuids.set(e,t)),t}}addType(e){if(!e)throw Error("Cannot index undefined type");const t=this.getKey(e);if(this.typeLookupMap[t])throw Error(`Type ${t} already registered`);return this.typeLookupMap[t]=e,t}getKeyByType(e,t){if(!e)throw Error("Cannot index undefined type");const n=this.getKey(e);let i=this.typeLookupMap[n];return!i&&t&&(i=e,this.addType(i)),i?n:""}getKeyByInstance(e,t){if(!e)throw Error("Cannot index undefined data");const n=this.getKey(e.constructor);let i=this.typeLookupMap[n];return!i&&t&&(i=e.constructor,this.addType(i)),i?n:""}getTypeByKey(e){const t=this.typeLookupMap[e];if(!t)throw Error("Key not found");if("string"==typeof t)throw Error("non type keyed result not supported");return t}getKnownTypes(){return Object.values(this.typeLookupMap)}}},244:(e,t,n)=>{"use strict";var i;n.d(t,{R:()=>i}),function(e){e[e.Begin=0]="Begin",e[e.Logic=1]="Logic",e[e.Render=2]="Render",e[e.End=3]="End"}(i||(i={}))},27947:(e,t,n)=>{"use strict";n.d(t,{Jj:()=>i,lg:()=>r,zH:()=>l});var i,r,o=n(84710),s=n(71415),a=n(31093);!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.WAITING=1]="WAITING",e[e.LOADING=2]="LOADING",e[e.STARTING=3]="STARTING",e[e.PLAYING=4]="PLAYING",e[e.ERROR=5]="ERROR"}(i||(i={})),function(e){e.UNKNOWN="unknown",e.WEBVR="webvr",e.SHOWCASE="showcase",e.WORKSHOP="workshop"}(r||(r={}));class l extends o.B{constructor(e,t=r.UNKNOWN){super(),this.name="app-data",this.phases=i,this.editMode=!1,this.playingPromise=new a.i,this.startingPromise=new a.i,this.phase=e,this.application=t,this.phaseTimes=(0,s.c)({[i.UNINITIALIZED]:0,[i.WAITING]:0,[i.LOADING]:0,[i.STARTING]:0,[i.PLAYING]:0,[i.ERROR]:0}),this.error=null,this.onPhase((()=>{this.playingPromise.resolve()}),i.PLAYING),this.onPhase((()=>{this.startingPromise.resolve()}),i.STARTING)}getName(){return this.application.toString()}getVersion(){return"25.7.3_webgl-869-g4345cd94f0"}onPhase(e,t){return this.onPropertyChanged("phase",(n=>{t&&n!==t||e()}))}get waitForPlaying(){return this.playingPromise.nativePromise()}toString(){return JSON.stringify({application:this.getName(),version:this.getVersion(),error:this.error,phaseTimes:this.phaseTimes})}}},73943:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var i=n(96540),r=n(98236),o=n(27947);const s=(0,r.v)(o.zH);function a(){const e=s(),[t,n]=(0,i.useState)(e?e.phase:null);return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=e.onPropertyChanged("phase",n);return n(e.phase),()=>t.cancel()}),[e]),t}},22585:(e,t,n)=>{"use strict";n.d(t,{E5:()=>o,Fj:()=>s,uv:()=>r});var i=n(89103);class r extends i.QB{constructor(e,t){super(),this.phase=e,this.application=t}}class o extends i.QB{constructor(e){super(),this.application=e}}class s extends i.QB{constructor(e){super(),this.application=e}}},90082:(e,t,n)=>{"use strict";n.d(t,{S1:()=>r,WJ:()=>i,ZF:()=>o});const i="IAppPhaseModule",r="Sdk",o="ISettingsModule"},39018:(e,t,n)=>{"use strict";var i;n.d(t,{a:()=>i}),function(e){e.POSTMESSAGE="postmessage",e.DIRECT="direct",e.WEBSOCKET="websocket"}(i||(i={}))},25773:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var i=n(84710),r=n(12554);class o extends i.B{constructor(){super(...arguments),this.name="sdk",this.applicationKeys=new r.X}}},60221:(e,t,n)=>{"use strict";n.d(t,{p:()=>Xe,B:()=>Qe});var i,r=n(97084),o=n(5391),s=n(86867),a=n(10833),l=n(48059),c=n(71687),u=n(75578),d=n(56413),h=n(95330),p=n(24241),f=n(25773);!function(e){e.CONNECTION="sdk.connection",e.DISCONNECT="sdk.disconnect",e.MESSAGED="sdk.messaged",e.SUBSCRIBED="sdk.subscribed",e.UNSUBSCRIBED="sdk.unsubscribed",e.OBSERVABLE_SUB="sdk.obs.subscribe",e.OBSERVABLE_UNSUB="sdk.obs.unsubscribe",e.COLLECTION_SUB="sdk.coll.subscribe",e.COLLECTION_UNSUB="sdk.coll.unsubscribe"}(i||(i={}));class m{constructor(e){this.analytics=e,this.trackedEvents=new o.k}track(e,t,n){this.trackedEvents.has(e,t)||(this.trackedEvents.add(e,t),this.analytics.track(e,Object.assign({},n)))}alwaysTrack(e,t,n){this.trackedEvents.add(e,t),this.analytics.track(e,Object.assign({},n))}setOptions(e){this.analytics.setOptions(e)}}class g{constructor(e){this.analytics=e,this.messageType="client call"}onMessage(e,t){const{namespace:n,name:i}=e,r={applicationKey:t.applicationKey,namespace:n,name:i,method:t.communicationMethod,provider:t.context.provider,sdkType:t.context.sdkType};this.analytics.track("sdk_call",n+i,r)}}class v{constructor(){this.usedIds=new Set,this.usedIds.add(0)}generate(){let e;do{e=Math.floor(1e6*Math.random())}while(this.usedIds.has(e));return this.usedIds.add(e),e}isInUse(e){return this.usedIds.has(e)}}class y{constructor(e){this.messageReceiver=e}notify(e,t){this.messageReceiver.onMessageReceived(e,t)}}class E{constructor(e,t){this.sourceId=e,this.listenerBridge=t,this.observers=new o.k}init(){const e=new class{constructor(e){this.messenger=e}onMessageReceived(e,t){this.messenger.onMessageReceived(e,t)}}(this),t=new y(e);this.listenerBridge.listen(t)}dispose(){this.listenerBridge.stopListening()}addObserver(e){this.observers.add(e.messageType,e)}removeObserver(e){this.observers.remove(e.messageType,e)}send(e,t,n,i){n.send(Object.assign(Object.assign({},e),{fromId:this.sourceId,toId:t,timestamp:Date.now()}),i)}onMessageReceived(e,t){const n=e.type,i=this.observers.getValuesAtKey(n);if(i)for(const n of i){const i=e.payload||e;n.notify(i,t,e.timestamp)}}}class S{constructor(e){this.targetWindow=e,this.messageObserver=null,this.onMessage=e=>{if(this.messageObserver){const t=e.data;this.messageObserver.notify(Object.assign({},t),{id:t.fromId,origin:e.origin,source:e.source},e.data.timestamp)}}}listen(e){this.messageObserver||(this.messageObserver=e,this.targetWindow.addEventListener("message",this.onMessage))}stopListening(){this.targetWindow.removeEventListener("message",this.onMessage),this.messageObserver=null}}class b{constructor(e,t="*"){this.targetWindow=e,this.targetOrigin=t}send(e,t){this.targetWindow.postMessage(e,this.targetOrigin)}}class O{listen(){}stopListening(){}send(){throw Error("The sdk has been disconnected and can't make any new calls")}}class _{constructor(e,t,n){this.sourceId=e,this.targetId=t,this.messageBridge=n,this.observers=new o.k}static toFilteredMessenger(e,t,n){const i=new T(e.sourceId,e.targetId,e,t);for(const t of n)for(const n of e.observers.getValuesAtKey(t))i.addObserver(n);return i}init(){const e=new class{constructor(e){this.messenger=e}onMessageReceived(e,t){this.messenger.onMessageReceived(e,t)}}(this),t=new y(e);this.messageBridge.listen(t)}dispose(){this.messageBridge.stopListening(),this.messageBridge=new O}addObserver(e){this.observers.add(e.messageType,e)}removeObserver(e){this.observers.remove(e.messageType,e)}send(e){const t=this.sourceId,n=this.targetId;this.messageBridge.send(Object.assign(Object.assign({},e),{fromId:t,toId:n,timestamp:Date.now()}))}onMessageReceived(e,t){if(!this.filterMessageId(e))return;const n=e.type,i=this.observers.getValuesAtKey(n);if(i)for(const n of i){const i=e.payload||e;n.notify(i,t,e.timestamp)}}filterMessageId(e){const t=e.toId,n=e.fromId;return t instanceof Array?t.indexOf(this.sourceId)>-1:(void 0===t||t===this.sourceId)&&n===this.targetId}}class T extends _{constructor(e,t,n,i){super(e,t,new O),this.messenger=n,this.sendFilter=i,this.errorBridge=new O}send(e){this.sendFilter.includes(e.type)?this.messenger.send(e):this.errorBridge.send()}}class A{constructor(e,t,n="*"){this.sourceWindow=e,this.listener=new S(e),this.sender=new b(t,n)}listen(e){this.listener.listen(e)}stopListening(){this.listener.stopListening()}send(e){this.sender.send(e,this.sourceWindow)}}class w{constructor(e,t,n,i,r="*"){this.sourceId=e,this.sourceWindow=t,this.targetId=n,this.targetWindow=i,this.targetOrigin=r}createMessenger(){const e=new A(this.sourceWindow,this.targetWindow,this.targetOrigin);return new _(this.sourceId,this.targetId,e)}}var N,I,R,k=n(39018);!function(e){e.CONNECT="postmessage.connect"}(N||(N={})),function(e){e.HANDSHAKE="postmessage.handshake",e.ACCEPT="postmessage.accept",e.REJECT="postmessage.reject"}(I||(I={}));class L{constructor(e){this.receiver=e,this.messageType=N.CONNECT}notify(e,t){this.receiver.onConnectionReceived(e,t)}}class M{constructor(e,t,n,i,r){this.type=I.ACCEPT,this.payload={scriptUrl:e,interface:t,sourceId:n,targetId:i,targetOrigin:r},this.interface=t}}class D{constructor(){this.type=I.HANDSHAKE,this.payload={}}}class P{constructor(e){this.type=I.REJECT,this.payload={reason:e.message,errorType:e.type},this.reason=e.message}}class C{constructor(e,t,n,i,r){this.hostWindow=e,this.hostId=t,this.applicationKey=n,this.idGenerator=i,this.connectionReceiver=r,this.inFlightClients=new Set,this.connectionHandler=new E(t,new S(window)),this.connectionHandler.addObserver(new L({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){var n,i;if(this.inFlightClients.has(t.id))return;e=e||{},this.inFlightClients.add(t.id);const r=e&&e.bootstrapVersion?this.idGenerator.generate():t.id,o=this.hostId,s=t.source,a=this.hostWindow,l=new w(o,a,r,s).createMessenger();this.connectionReceiver.onConnectionReceived(t.origin,e.options,{applicationKey:e.applicationKey||this.applicationKey,id:r,messenger:l,communicationMethod:k.a.POSTMESSAGE,context:{provider:(null===(n=e.options)||void 0===n?void 0:n.provider)||"",sdkType:(null===(i=e.options)||void 0===i?void 0:i.sdkType)||"",bootstrap:{version:e.bootstrapVersion,providedAppKey:!!e.applicationKey}}},{accept(e,t){l.send(new M(e,t,r,o,window.location.origin))},handshake(){l.send(new D)},reject(e){l.send(new P(e)),l.dispose()}})}}class x{constructor(e){this.origin=e,this.observers=new Set}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}post(e,t){for(const n of this.observers)n.notify(e,t)}}class U{constructor(e){this.targetNode=e,this.messageObserver=null,this.onMessage=(e,t)=>{this.messageObserver&&this.messageObserver.notify({payload:Object.assign({},e.payload),type:e.type},{id:e.fromId,source:t},e.timestamp)}}listen(e){this.messageObserver||(this.messageObserver=e,this.targetNode.addObserver({notify:(e,t)=>{this.onMessage(e,t)}}))}stopListening(){this.messageObserver=null}}class j{constructor(e,t){this.source=e,this.target=t,this.messageObserver=null}listen(e){this.messageObserver||(this.messageObserver=e,this.source.addObserver(e))}stopListening(){this.messageObserver&&this.source.removeObserver(this.messageObserver)}send(e){const t=this.target;t&&t.post(Object.assign({},e),this.source)}}class F{constructor(e,t,n,i){this.sourceId=e,this.sourceNode=t,this.targetId=n,this.targetNode=i}createMessenger(){const e=new j(this.sourceNode,this.targetNode);return new _(this.sourceId,this.targetId,e)}}class H{constructor(e,t={}){this.type=N.CONNECT,this.payload={bootstrapVersion:e,options:{auth:t.auth,provider:t.provider,sdkType:t.sdkType},applicationKey:t.applicationKey}}}class G{constructor(e){this.receiver=e,this.messageType=I.ACCEPT}notify(e,t,n){const{sourceId:i,scriptUrl:r,targetId:o,targetOrigin:s}=e,a=e.interface;this.receiver.accept(i,r,a,o,s)}}!function(e){e.CANCELLED="ConnectionCancelled",e.REFUSED="ConnectionRefused",e.INVALID_PROVIDER="InvalidProvider",e.KEY_MISMATCH="KeyReferrerMismatch"}(R||(R={}));class B extends Error{constructor(){super(),this.type=R.REFUSED,this.name="ConnectionRefusedError"}}class V extends Error{constructor(e){super(e),this.type=R.INVALID_PROVIDER,this.name="InvalidProviderError"}}class W extends Error{constructor(e){super(e),this.type=R.KEY_MISMATCH,this.name="KeyReferrerMismatchError"}}const z={[R.REFUSED]:B,[R.KEY_MISMATCH]:W,[R.INVALID_PROVIDER]:V};class ${constructor(e){this.receiver=e,this.messageType=I.REJECT}notify(e,t,n){const i=z[e.errorType];if(i){const t=new i(e.reason);this.receiver.reject(t)}}}var K;!function(e){e.CONNECT_PLUGIN="connect.plugin"}(K||(K={}));class Y{constructor(e,t,n,i){this.type=K.CONNECT_PLUGIN,this.payload={bootstrapVersion:e,applicationKey:n,pluginId:i,options:{auth:t.auth,provider:t.provider,sdkType:t.sdkType}}}}class q{constructor(e){this.receiver=e,this.messageType=K.CONNECT_PLUGIN}notify(e,t){this.receiver.onConnectionReceived(e,t)}}function Q(e){return(0,l.G)(e)&&void 0!==e.pluginId}class X{constructor(e,t,n){this.idGenerator=t,this.connectionReceiver=n,this.host={id:e,node:new x(window.location.origin)},this.connectionHandler=new E(e,new U(this.host.node)),this.connectionHandler.addObserver(new q({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){ee(e,this.host,{info:t,applicationKey:e.applicationKey},this.connectionReceiver,{pluginId:e.pluginId})}connect(e){const t={id:this.idGenerator.generate(),node:new x(origin)};return J(this.host,t,(t=>t.send(new Y("plugin",{sdkType:Xe.Type.PLUGIN},e.applicationKey,e.pluginId))))}}class Z{constructor(e,t,n,i){this.applicationKey=t,this.idGenerator=n,this.connectionReceiver=i,this.host={id:e,node:new x(window.location.origin)},this.connectionHandler=new E(e,new U(this.host.node)),this.connectionHandler.addObserver(new L({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){ee(e,this.host,{info:t,applicationKey:this.applicationKey},this.connectionReceiver)}connect(e,t={}){const n={id:this.idGenerator.generate(),node:new x(e)};return J(this.host,n,(e=>e.send(new H("direct",t))))}}function J(e,t,n){const{id:i,node:r}=e,{id:o,node:s}=t,a=new F(o,s,i,r);return new Promise(((e,t)=>{const l=new F(o,s,i,r).createMessenger();l.init();const c=new class{accept(t,n,i,r){e({targetOrigin:origin,sourceId:t,targetId:r,scriptUrl:n,serializedInterface:i,messengerFactory:a}),l.dispose()}reject(e){t(e),l.dispose()}};l.addObserver(new G(c)),l.addObserver(new $(c)),n(l)}))}function ee(e,t,n,i,r){var o,s;const{id:a,node:l}=t,{id:c,source:u,source:{origin:d}}=n.info,h=new F(a,l,c,u).createMessenger();i.onConnectionReceived(d,e.options,{id:c,applicationKey:n.applicationKey,messenger:h,communicationMethod:k.a.DIRECT,context:{provider:(null===(o=e.options)||void 0===o?void 0:o.provider)||"",sdkType:(null===(s=e.options)||void 0===s?void 0:s.sdkType)||"",pluginId:Q(r)?r.pluginId:void 0,bootstrap:{version:Q(r)?"plugin":"direct",providedAppKey:!!e.applicationKey}}},{accept(e,t){h.send(new M(e,t,c,a,d))},handshake(){h.send(new D)},reject(e){h.send(new P(e)),h.dispose()}})}var te,ne,ie,re,oe,se,ae,le,ce,ue,de,he,pe,fe,me,ge,ve,ye,Ee,Se,be,Oe,_e,Te=n(10843);!function(e){e.EVENT="postmessage.event",e.RESPONSE="postmessage.response",e.OBSERVATION="postmessage.observation",e.COLLECTION_UPDATE="collection.updated",e.PRIVATE_MESSAGE="private.message"}(te||(te={})),function(e){e.ITEM_ADDED="collection.item.added",e.ITEM_REMOVED="collection.item.removed",e.ITEM_UPDATED="collection.item.updated",e.COLL_UPDATED="collection.coll.updated"}(ne||(ne={}));!function(e){e.DISCONNECT="sdk.client.disconnect",e.ACTION="postmessage.action",e.EVENT_SUB="postmessage.subscribe",e.EVENT_UNSUB="postmessage.unsubscribe",e.OBSERVABLE_SUB="postmessage.observe",e.OBSERVABLE_UNSUB="postmessage.unobserve",e.COLLECTION_SUB="collection.sub",e.COLLECTION_UNSUB="collection.unsub",e.PRIVATE_MESSAGE="private.message"}(ie||(ie={}));!function(e){let t,n,i,r;!function(e){e.PHASE_CHANGE="application.phasechange"}(t=e.Event||(e.Event={})),function(e){e.UNINITIALIZED="appphase.uninitialized",e.WAITING="appphase.waiting",e.LOADING="appphase.loading",e.STARTING="appphase.starting",e.PLAYING="appphase.playing",e.ERROR="appphase.error"}(n=e.Phase||(e.Phase={})),function(e){e.UNKNOWN="application.unknown",e.WEBVR="application.webvr",e.SHOWCASE="application.showcase",e.WORKSHOP="application.workshop"}(i=e.Application||(e.Application={})),function(e){e.RoomBounds="feature.roombounds",e.Defurnish="feature.defurnish"}(r=e.Feature||(e.Feature={}))}(re||(re={})),function(e){let t,n,i;!function(e){e.IMAGE="image",e.PDF="pdf",e.VIDEO="video",e.RICH="rich",e.ZIP="zip",e.TEXT="text",e.AUDIO="audio",e.MODEL="model",e.APPLICATION="application"}(t=e.MediaType||(e.MediaType={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload",e.SANDBOX="sandbox"}(n=e.AttachmentCategory||(e.AttachmentCategory={})),function(e){e.COMMENT="comment",e.MATTERTAG="mattertag"}(i=e.ParentType||(e.ParentType={}))}(oe||(oe={})),function(e){let t,n;!function(e){e.MOVE="camera.move"}(t=e.Event||(e.Event={})),function(e){e.FORWARD="FORWARD",e.LEFT="LEFT",e.RIGHT="RIGHT",e.BACK="BACK",e.UP="UP",e.DOWN="DOWN"}(n=e.Direction||(e.Direction={}))}(se||(se={})),function(e){let t;!function(e){let t,n,i;!function(e){e.TO_API="coordinatesToAPI",e.TO_SDK="coordinatesToSDK"}(t=e.Coordinates||(e.Coordinates={})),function(e){e.TO_API="sweepRotationToAPI",e.TO_SDK="sweepRotationToSDK"}(n=e.SweepRotation||(e.SweepRotation={})),function(e){e.TO_API="cameraRotationToAPI",e.TO_SDK="cameraRotationToSDK"}(i=e.CameraRotation||(e.CameraRotation={}))}(t=e.TransformType||(e.TransformType={}))}(ae||(ae={})),function(e){let t;!function(e){e.CHANGE_START="floors.changestart",e.CHANGE_END="floors.changeend"}(t=e.Event||(e.Event={}))}(le||(le={})),function(e){let t;!function(e){e.SUCCESS="astar.status.success",e.NO_PATH="astar.status.no_path",e.TIMEOUT="astar.status.timeout",e.NO_START_VERTEX="astar.status.no_start",e.NO_END_VERTEX="astar.status.no_end"}(t=e.AStarStatus||(e.AStarStatus={}))}(ce||(ce={})),function(e){let t;!function(e){e.POSITION_UPDATED="label.positionupdated"}(t=e.Event||(e.Event={}))}(ue||(ue={})),function(e){let t,n,i;!function(e){e.WINDOW="link.creationpolicy.window",e.REFERRER="link.creationpolicy.referrer",e.MATTERPORT="link.creationpolicy.matterport"}(t=e.CreationPolicy||(e.CreationPolicy={})),function(e){e.DEFAULT="link.openpolicy.default",e.NEW_WINDOW="link.openpolicy.newwindow",e.SAME_FRAME="link.openpolicy.sameframe",e.CURRENT_WINDOW="link.openpolicy.current"}(n=e.OpenPolicy||(e.OpenPolicy={})),function(e){e.DEFAULT="link.destination.default",e.MATTERPORT="link.destination.matterport"}(i=e.DestinationPolicy||(e.DestinationPolicy={}))}(de||(de={})),function(e){let t,n,i,r,o;!function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(t=e.Transition||(e.Transition={})),function(e){e.NAVIGATION="tag.link.nav",e.MODEL="tag.link.model",e.EXT_LINK="tag.link.ext"}(n=e.LinkType||(e.LinkType={})),function(e){e.NONE="tag.chunk.none",e.TEXT="tag.chunk.text",e.LINK="tag.chunk.link"}(i=e.DescriptionChunkType||(e.DescriptionChunkType={})),function(e){e.HOVER="tag.hover",e.CLICK="tag.click",e.LINK_OPEN="tag.linkopen"}(r=e.Event||(e.Event={})),function(e){e.NONE="mattertag.media.none",e.PHOTO="mattertag.media.photo",e.VIDEO="mattertag.media.video",e.RICH="mattertag.media.rich"}(o=e.MediaType||(e.MediaType={}))}(he||(he={})),function(e){let t,n,i;!function(e){e.INSIDE="mode.inside",e.OUTSIDE="mode.outside",e.DOLLHOUSE="mode.dollhouse",e.FLOORPLAN="mode.floorplan",e.TRANSITIONING="mode.transitioning"}(t=e.Mode||(e.Mode={})),function(e){e.CHANGE_START="viewmode.changestart",e.CHANGE_END="viewmode.changeend"}(n=e.Event||(e.Event={})),function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(i=e.TransitionType||(e.TransitionType={}))}(pe||(pe={})),function(e){let t;!function(e){e.MODEL_LOADED="model.loaded"}(t=e.Event||(e.Event={}))}(fe||(fe={})),function(e){let t;!function(e){e.NONE="intersectedobject.none",e.MODEL="intersectedobject.model",e.TAG="intersectedobject.tag",e.SWEEP="intersectedobject.sweep",e.UNKNOWN="intersectedobject.unknown"}(t=e.Colliders||(e.Colliders={}))}(me||(me={})),ge||(ge={}),function(e){let t,n;!function(e){e.CAMERA="sensor.sensortype.camera"}(t=e.SensorType||(e.SensorType={})),function(e){e.SPHERE="sensor.sourcetype.sphere",e.BOX="sensor.sourcetype.box",e.CYLINDER="sensor.sourcetype.cylinder"}(n=e.SourceType||(e.SourceType={}))}(ve||(ve={})),function(e){let t,n,i,r;!function(e){e.ENTER="sweep.enter",e.EXIT="sweep.exit"}(t=e.Event||(e.Event={})),function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(n=e.Transition||(e.Transition={})),function(e){e.ALIGNED="aligned",e.UNALIGNED="unaligned"}(i=e.Alignment||(e.Alignment={})),function(e){e.UNPLACED="unplaced",e.AUTO="auto",e.MANUAL="manual"}(r=e.Placement||(e.Placement={}))}(ye||(ye={})),function(e){let t;!function(e){e.UNKNOWN="tag.attachment.unknown",e.APPLICATION="tag.attachment.application",e.AUDIO="tag.attachment.audio",e.IMAGE="tag.attachment.image",e.MODEL="tag.attachment.model",e.PDF="tag.attachment.pdf",e.RICH="tag.attachment.rich",e.TEXT="tag.attachment.text",e.VIDEO="tag.attachment.video",e.ZIP="tag.attachment.zip",e.SANDBOX="tag.attachment.sandbox"}(t=e.AttachmentType||(e.AttachmentType={}))}(Ee||(Ee={})),function(e){let t,n;!function(e){e.STARTED="tour.started",e.STOPPED="tour.stopped",e.ENDED="tour.ended",e.STEPPED="tour.stepped"}(t=e.Event||(e.Event={})),function(e){e.INACTIVE="tour.inactive",e.ACTIVE="tour.active",e.STOP_SCHEDULED="tour.stopscheduled"}(n=e.PlayState||(e.PlayState={}))}(Se||(Se={})),function(e){let t,n;!function(e){e.BASE="viewtype.base",e.LAYERED_BASE="viewtype.layeredbase",e.USER="viewtype.user",e.DEFURNISH="viewtype.defurnish",e.OTHER="viewtype.other"}(t=e.ViewType||(e.ViewType={})),function(e){e.BASE="layertype.base",e.VIEW_DATA="layertype.viewdata",e.USER="layertype.user",e.IN_MEMORY="layertype.inmemory",e.OTHER="layertype.other"}(n=e.LayerType||(e.LayerType={}))}(be||(be={})),function(e){let t,n,i;!function(e){e.OBJ_LOADER="mp.objLoader",e.FBX_LOADER="mp.fbxLoader",e.DAE_LOADER="mp.daeLoader",e.GLTF_LOADER="mp.gltfLoader",e.SCROLLING_TUBE="mp.scrollingTube",e.TRANSFORM_CONTROLS="mp.transformControls",e.LIGHTS_COMPONENT="mp.lights",e.POINT_LIGHT="mp.pointLight",e.DIRECTIONAL_LIGHT="mp.directionalLight",e.AMBIENT_LIGHT="mp.ambientLight",e.CAMERA="mp.camera",e.INPUT="mp.input",e.XR="mp.xr"}(t=e.Component||(e.Component={})),function(e){e.CLICK="INTERACTION.CLICK",e.HOVER="INTERACTION.HOVER",e.DRAG="INTERACTION.DRAG",e.DRAG_BEGIN="INTERACTION.DRAG_BEGIN",e.DRAG_END="INTERACTION.DRAG_END",e.POINTER_MOVE="INTERACTION.POINTER_MOVE",e.POINTER_BUTTON="INTERACTION.POINTER_BUTTON",e.SCROLL="INTERACTION.SCROLL",e.KEY="INTERACTION.KEY",e.LONG_PRESS_START="INTERACTION.LONG_PRESS_START",e.LONG_PRESS_END="INTERACTION.LONG_PRESS_END",e.MULTI_SWIPE="INTERACTION.MULTI_SWIPE",e.MULTI_SWIPE_END="INTERACTION.MULTI_SWIPE_END",e.PINCH="INTERACTION.PINCH",e.PINCH_END="INTERACTION.PINCH_END",e.ROTATE="INTERACTION.ROTATE",e.ROTATE_END="INTERACTION.ROTATE_END"}(n=e.InteractionType||(e.InteractionType={})),function(e){e.INPUT="input",e.OUTPUT="output",e.EVENT="event",e.EMIT="emit"}(i=e.PathType||(e.PathType={}))}(Oe||(Oe={})),function(e){let t;!function(e){e.ON="on",e.OFF="off"}(t=e.Visibility||(e.Visibility={}))}(_e||(_e={}));n(71397),n(28337),n(72268);Math.PI;pe.Mode.DOLLHOUSE,new Float32Array(16);var Ae=n(9130);Ae.E.Success,ce.AStarStatus.SUCCESS,Ae.E.NoPath,ce.AStarStatus.NO_PATH,Ae.E.Timeout,ce.AStarStatus.TIMEOUT;new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;var we;Symbol.iterator;!function(e){e.SETUP="sandbox.setup",e.TO_SANDBOX="sandbox.to.sandbox",e.TO_CLIENT="sandbox.to.client"}(we||(we={}));var Ne;!function(e){e.map=new Map}(Ne||(Ne={}));new WeakMap,new WeakMap,new WeakMap,Symbol.iterator;var Ie;!function(e){e.ADD="view.add.layer",e.REMOVE="view.remove.layer"}(Ie||(Ie={}));new WeakMap,new WeakMap,new WeakMap;new WeakMap,new WeakMap,new WeakMap;const Re=new Te.Ay("SDK client");"undefined"!=typeof __SDK_CLIENT_VERSION__&&Re.info("Showcase SDK client version:",__SDK_CLIENT_VERSION__);class ke{constructor(e,t,n,i){this.type=te.RESPONSE,this.payload={uid:e,message:t,success:n,error:i},this.uid=e,this.message=t,this.success=n,this.error=i}}class Le{constructor(e,t){this.type=te.EVENT,this.payload={eventType:e,eventData:t},this.eventType=e,this.eventData=t}}class Me{constructor(e,t){this.type=te.OBSERVATION,this.payload={observableKey:e,observableData:t}}}class De{constructor(e,t,n,i){this.type=te.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:n,item:i}}}class Pe{constructor(e,t,n){this.type=te.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:n}}}class Ce{constructor(e,t,n,i){this.type=te.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:n,item:i}}}class xe{constructor(e,t){this.type=te.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t}}}class Ue{constructor(e,t){this.type=te.PRIVATE_MESSAGE,this.payload={messageType:e,messagePayload:t}}}class je{constructor(e,t){this.receiver=e,this.clientInfo=t,this.messageType=ie.ACTION}notify(e){this.receiver.onActionReceived(e,this.clientInfo)}}class Fe{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=ie.EVENT_SUB}notify(e){this.observer.onEventSubReceived(e,this.clientInfo)}}class He{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=ie.EVENT_UNSUB}notify(e){this.observer.onEventUnsubReceived(e,this.clientInfo)}}class Ge{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=ie.OBSERVABLE_SUB}notify(e){this.observer.onObservableSubReceived(e,this.clientInfo)}}class Be{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=ie.OBSERVABLE_UNSUB}notify(e){this.observer.onObservableUnsubReceived(e,this.clientInfo)}}class Ve{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=ie.COLLECTION_SUB}notify(e){this.observer.onCollectionSubReceived(e,this.clientInfo)}}class We{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=ie.COLLECTION_UNSUB}notify(e){this.observer.onCollectionUnsubReceived(e,this.clientInfo)}}class ze{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=ie.PRIVATE_MESSAGE}notify(e){this.observer.onPrivateMessageReceived(e,this.clientInfo)}}class $e{constructor(){this.dirty=!1}dispose(){}}const Ke=new p.Vy("FactAnalytics");class Ye{constructor(e){this.proxy=e}track(e,t,n){const i={};let r=0,o=0,s=0;if(null==n?void 0:n.records)for(const e in n.records){const t=n.records[e];let a="",l=!1;if("number"==typeof t){const e=t.toString();Number.isInteger(t)&&!e.includes(".")?r<3&&(a="integer"+r++,l=!0):o<3&&(a="float"+o++,l=!0)}else"string"==typeof t&&s<3&&(a="string"+s++,l=!0);l?i[a]={name:e,value:t}:Ke.info(`Omitting key: ${a} value: ${t} from fact`)}const a={applicationKey:e.client.applicationKey,pluginId:e.client.pluginId,fact:Object.assign({name:t,version:(null==n?void 0:n.version)||1},i)};(null==n?void 0:n.alwaysTrack)?this.proxy.alwaysTrack("sdk_fact",t,a):this.proxy.track("sdk_fact",t,a)}}const qe=new p.Vy("sdk");class Qe extends u.n{constructor(){super(...arguments),this.name="sdk",this.hostId=Math.floor(1e6*Math.random()),this.connectionHandlers=[],this.clientInterface={functions:{},commands:{},enums:{},observables:{},collections:{}},this.perOriginInterfaces=new Map,this.perSdkTypeInterfaces=new Map,this.pendingClients=new d.E,this.clientConnections=new Map,this.eventToClientSubMap=new o.k,this.clientToEventSubMap=new o.k,this.observableToClientSubMap=new o.k,this.clientToObservableSubMap=new Map,this.collectionToClientSubMap=new o.k,this.clientToCollectionSubMap=new Map,this.privateMessageHandlers=new o.k,this.valueToClientInterface={},this.commandCreators={},this.commands={},this.asyncCommands={},this.observables={},this.collections={},this.commandExecutionOrder=0,this.firstTimeCollectionSubs=new o.k,this.sdkTypeByBuild=Xe.Type.EMBED}async init(e,t){this.config=e,this.validationUrl=e.validationUrl,this.facade=new Qe.MessengerHostFacade(this),this.clientIdGenerator=new v,this.postmessageConnectHandler=new C(window,this.hostId,e.applicationKey,this.clientIdGenerator,this.facade),this.directConnectHandler=new Z(this.hostId,e.applicationKey,this.clientIdGenerator,this.facade),this.pluginConnectHandler=new X(this.hostId,this.clientIdGenerator,this.facade),this.connectionHandlers.push(this.postmessageConnectHandler,this.directConnectHandler,this.pluginConnectHandler),this.sdkTypeByBuild=Xe.Type.BUNDLE,this.analytics=new m(await t.getModuleBySymbol(c.aF)),this.factAnalytics=new Ye(this.analytics),this.clientFilter=e.clientFilter||(()=>!0),this.issueCommand=t.commandBinder.issueCommand.bind(t.commandBinder),this.getSdkConfig=e.getSdkConfig,this.requestQueue=e.queue,this.data=new f.d,t.market.register(f.d,this.data),this.addPrivateMessageHandler(new g(this.analytics)),this.enableHandshaking()}dispose(){for(const e of this.connectionHandlers)e.dispose();this.clearInterface()}connect(e,t){try{new URL(e)}catch(e){return Promise.reject(e)}return this.directConnectHandler.connect(e,t)}connectPlugin(e,t){return this.pluginConnectHandler.connect({applicationKey:e,pluginId:t})}getClientAuth(e){const t=this.pendingClients.get(e);return t?Promise.resolve(t):new Promise((t=>{const n=this.pendingClients.onElementChanged({onAdded(i,r){r===e&&(t(i),n.cancel())}})}))}enableHandshaking(){for(const e of this.connectionHandlers)e.init()}async setupInterface(){return this.interfaceLoading||(this.interfaceLoading=this.config.setupExternalSdk(this)),this.interfaceLoading}clearInterface(){this.clientInterface.functions={},this.clientInterface.commands={},this.clientInterface.enums={},this.clientInterface.observables={},this.clientInterface.collections={},this.commandCreators={}}onUpdate(){for(const[e,t]of this.clientToObservableSubMap)for(const[n,[i,r]]of t)if(i.dirty){try{this.notifyObservableUpdate(n,r.getData(),e)}catch(t){qe.error(`Error notifying client ${e} of observable ${n} update:`,t)}i.dirty=!1}for(const[e,t]of this.clientToCollectionSubMap)for(const[n,[,i]]of t)if(i.dirty)try{this.notifyCollectionUpdates(n,i.readDiff(),e)}catch(t){qe.error(`Error notifying client ${e} of collection ${n} update:`,t)}}addCommandCreator(e,t){const n=this.getInterfaceIndex(e);if(this.clientInterface.functions.hasOwnProperty(n)&&qe.debugInfo(`Overwriting ${n} function in sdk interface`),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.functions[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.functions[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.functions[n]=e,this.commandCreators[n]=t}addEnumToInterface(e){const t=this.getInterfaceIndex(e);if(this.clientInterface.enums.hasOwnProperty(t)&&qe.debugInfo(`Overwriting ${t} enum in sdk interface`),e.sdkTypes)for(const n of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(n)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.enums[t]=Object.assign({},e),this.perSdkTypeInterfaces.set(n,i)}if(e.origins)for(const n of e.origins){const i=this.perOriginInterfaces.get(n)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.enums[t]=Object.assign({},e),this.perOriginInterfaces.set(n,i)}if(this.clientInterface.enums[t]=Object.assign(Object.assign({},e),{values:Object.assign({},e.values)}),"Event"===e.name){const t=Object.keys(e.values);for(const n in t){this.valueToClientInterface;const i=e.values[t[n]];this.valueToClientInterface.hasOwnProperty(i)?qe.warn(`Duplicate event detected for ${JSON.stringify(e)}`):this.valueToClientInterface[i]=e}}}async addCommandToInterface(e,t){const n=this.getInterfaceIndex(e);if(this.addCommand(n,t),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.commands[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.commands[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.commands[n]=e}async addAsyncCommandToInterface(e,t){const n=this.getInterfaceIndex(e);if(this.addCommand(n,t,!0),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.commands[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.commands[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.commands[n]=Object.assign({},e)}async addCommand(e,t,n=!1){this.clientInterface.commands.hasOwnProperty(e)&&qe.debugInfo(`Overwriting ${e} command in sdk interface`);const i=this;return n?(this.asyncCommands[e]=t,{dispose(){delete i.asyncCommands[e]}}):(this.commands[e]=await t,{dispose(){delete i.commands[e]}})}addObservableToInterface(e,t){const n=this.getInterfaceIndex(e);if(this.addObservable(n,t),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.observables[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.observables[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.observables[n]=Object.assign({},e)}addObservable(e,t){this.clientInterface.observables.hasOwnProperty(e)&&qe.debugInfo(`Overwriting ${e} observable in sdk interface`),this.observables[e]=t;const n=this;return{dispose(){n.removeObservable(e)}}}removeObservable(e){var t;delete this.observables[e];for(const n of this.observableToClientSubMap.getValuesAtKey(e))null===(t=this.clientToObservableSubMap.get(n.id))||void 0===t||t.delete(e);this.observableToClientSubMap.removeKey(e)}addCollectionToInterface(e,t){const n=this.getInterfaceIndex(e);if(this.addCollection(n,t),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.collections[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.collections[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.collections[n]=Object.assign({},e)}addCollection(e,t){this.clientInterface.collections.hasOwnProperty(e)&&qe.debugInfo(`Overwriting ${e} collection in sdk interface`),this.collections[e]=t;const n=this;return{dispose(){n.removeCollection(e)}}}removeCollection(e){var t;delete this.collections[e];for(const n of this.collectionToClientSubMap.getValuesAtKey(e))null===(t=this.clientToCollectionSubMap.get(n.id))||void 0===t||t.delete(e);this.collectionToClientSubMap.removeKey(e)}addPrivateMessageHandler(e){const{privateMessageHandlers:t}=this;return t.add(e.messageType,e),{dispose(){t.remove(e.messageType,e)}}}getInterfaceIndex(e){let t=`${e.name}`;return e.namespace&&(t=`${e.namespace}.${t}`),t}sendPrivateMessage(e,t,n){for(const[,i]of this.clientConnections)void 0!==n&&i.executing.id!==n||i.messaging.messenger.send(new Ue(e,t))}broadcast(e,t,n){for(const[,i]of this.clientConnections)if(t){const r=t(n);i.messaging.messenger.send(new Le(e,r||[]))}else i.messaging.messenger.send(new Le(e,[]))}notifyObservableUpdate(e,t,n){for(const i of this.observableToClientSubMap.getValuesAtKey(e))i.id===n&&i.messenger.send(new Me(e,t))}notifyCollectionUpdates(e,t,n){const{added:i,removed:r,updated:o}=t,s=i.size>0,a=r.size>0,l=o.size>0,c=this.clientConnections.get(n);if(c){const t=c.messaging,n=t.id;if(s)for(const[n,r]of i)t.messenger.send(new De(ne.ITEM_ADDED,e,n,r));if(a)for(const[n]of r)t.messenger.send(new Pe(ne.ITEM_REMOVED,e,n));if(l)for(const[n,i]of o)t.messenger.send(new Ce(ne.ITEM_UPDATED,e,n,i));(s||a||l||this.firstTimeCollectionSubs.has(n,e))&&(t.messenger.send(new xe(ne.COLL_UPDATED,e)),this.firstTimeCollectionSubs.remove(n,e))}}verifyConnection(e,t){const n={cache:!1,headers:{"X-Matterport-Application-Key":t,"X-Matterport-Referrer":e},priority:r.QK.HIGH};return this.requestQueue.get(this.validationUrl,n)}async onConnectionReceived(e,t={},n,i){if(!this.clientFilter(e))return i.reject(new B);t&&(0,s.U)(Xe.Type,t.sdkType)?n.context.sdkType=t.sdkType:n.context.sdkType=this.sdkTypeByBuild;const r=new Ze(t.auth,t.provider);if(!Q(n.context))try{await this.verifyConnection(e,n.applicationKey),this.pendingClients.set(n.applicationKey,r)}catch(t){return r.reject(),i.reject(new W(`${n.applicationKey}@${e} - Key/referrer mismatch`))}const o=()=>{const t=new URL(e).hostname,i=this.perOriginInterfaces.get(t.toLowerCase()),r=this.perSdkTypeInterfaces.get(n.communicationMethod),o={enums:{},functions:{},observables:{},collections:{}},s=function(e,t,n,i){const r=e[t].sdkTypes,o=e[t].origins;if(!r&&!o)return!0;const s=r&&o&&(null==n?void 0:n[t])&&(null==i?void 0:i[t]),a=r&&!o&&(null==n?void 0:n[t]),l=!r&&o&&(null==i?void 0:i[t]);return s||a||l};for(const e in this.clientInterface.enums)s(this.clientInterface.enums,e,null==r?void 0:r.enums,null==i?void 0:i.enums)&&(o.enums[e]=this.clientInterface.enums[e]);for(const e in this.clientInterface.observables)s(this.clientInterface.observables,e,null==r?void 0:r.observables,null==i?void 0:i.observables)&&(o.observables[e]=this.clientInterface.observables[e]);for(const e in this.clientInterface.collections)s(this.clientInterface.collections,e,null==r?void 0:r.collections,null==i?void 0:i.collections)&&(o.collections[e]=this.clientInterface.collections[e]);for(const e in this.clientInterface.functions)s(this.clientInterface.functions,e,null==r?void 0:r.functions,null==i?void 0:i.functions)&&(o.functions[e]=this.clientInterface.functions[e]);for(const e in this.clientInterface.commands)s(this.clientInterface.commands,e,null==r?void 0:r.commands,null==i?void 0:i.commands)&&(o.functions[e]=this.clientInterface.commands[e]);return o};i.handshake();try{if(!Q(n.context)){if(!await this.config.validateProvider(t.provider))throw r.reject(),new V}r.accept(),await this.setupInterface();const s=o();this.onConnectionAccepted(e,n,t);const a=new URL((await this.getSdkConfig).client);a.searchParams.append("applicationKey",n.applicationKey),i.accept(a.href,s),this.data.atomic((()=>{this.data.applicationKeys.push({key:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType}),this.data.commit()}))}catch(e){i.reject(e)}}onConnectionAccepted(e,t,n){const i=t.id,r=t.messenger,o={messaging:Object.assign(Object.assign({},t),{origin:e}),executing:{get id(){return t.context.pluginId||String(i)},applicationKey:t.applicationKey,pluginId:t.context.pluginId}};this.clientConnections.set(i,o);const s=this.facade;r.addObserver(new je(s,o.messaging)),r.addObserver(new Fe(s,o.messaging)),r.addObserver(new He(s,o.messaging)),r.addObserver(new Ge(s,o.messaging)),r.addObserver(new Be(s,o.messaging)),r.addObserver(new Ve(s,o.messaging)),r.addObserver(new We(s,o.messaging)),r.addObserver(new ze(s,o.messaging)),r.init(),this.trackSdkConnect(o.messaging,n)}onDisconnectReceived(e,t){const n=t.messaging,i=this.clientToEventSubMap.getValuesAtKey(n.id),r=this.clientToObservableSubMap.get(n.id)||[],o=this.clientToCollectionSubMap.get(n.id)||[];for(const e of i)this.eventToClientSubMap.remove(e,n);for(const[e]of r)this.observableToClientSubMap.remove(e,n);for(const[e]of o)this.collectionToClientSubMap.remove(e,n);this.clientToEventSubMap.removeKey(n.id),this.clientToObservableSubMap.delete(n.id),this.clientToCollectionSubMap.delete(n.id);const s=this.data.applicationKeys.indexOf({key:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType});s>-1&&this.data.applicationKeys.splice(s,1)}onActionReceived(e,t){if(this.tryActionThroughCommand(e,t))return;const n=this.commandCreators[e.targetFunction];if(n){this.trackSdkCall(e,t.messaging.id);try{this.issueCommand(n(e.params,t.executing)).then((n=>t.messaging.messenger.send(new ke(e.uid,n,!0,"")))).catch((n=>t.messaging.messenger.send(new ke(e.uid,{},!1,n.message||n))))}catch(n){qe.debug(n),t.messaging.messenger.send(new ke(e.uid,{},!1,n.message))}}else t.messaging.messenger.send(new ke(e.uid,{},!1,`${e.targetFunction} is not a valid command`))}tryActionThroughCommand(e,t){if(this.tryActionThroughAsyncCommand(e,t))return!0;const n=this.commands[e.targetFunction];if(!n)return!!this.clientInterface.commands.hasOwnProperty(e.targetFunction)&&(t.messaging.messenger.send(new ke(e.uid,{},!1,`${e.targetFunction} is not ready to be called`)),!0);this.trackSdkCall(e,t.messaging.id);try{n.exec(e.params,Object.assign(Object.assign({},e.context),{client:t.executing,key:e.targetFunction,executionId:this.commandExecutionOrder++})).then((n=>{t.messaging.messenger.send(new ke(e.uid,n,!0,""))})).catch((n=>{t.messaging.messenger.send(new ke(e.uid,{},!1,n.message||n))}))}catch(n){qe.debug(n),t.messaging.messenger.send(new ke(e.uid,{},!1,n.message))}return!0}tryActionThroughAsyncCommand(e,t){const n=this.asyncCommands[e.targetFunction];return!!n&&(n.then((n=>{this.trackSdkCall(e,t.messaging.id);try{n.exec(e.params,Object.assign(Object.assign({},e.context),{client:t.executing,key:e.targetFunction,executionId:this.commandExecutionOrder++})).then((n=>{t.messaging.messenger.send(new ke(e.uid,n,!0,""))})).catch((n=>{t.messaging.messenger.send(new ke(e.uid,{},!1,n.message||n))}))}catch(n){qe.debug(n),t.messaging.messenger.send(new ke(e.uid,{},!1,n.message))}})),!0)}onEventSubReceived(e,t){const n=t.messaging;this.eventToClientSubMap.add(e.subscription,n),this.trackSdkEvent(i.SUBSCRIBED,e,n)}onEventUnsubReceived(e,t){const n=t.messaging;this.eventToClientSubMap.remove(e.subscription,n),this.trackSdkEvent(i.UNSUBSCRIBED,e,n)}async onObservableSubReceived(e,t){const n=t.messaging,r=e.observableKey,o=this.observables[r];if(o){const t=await o;if(!this.observables[r])return;if(!this.observableToClientSubMap.has(r,n)){const o=new $e,s=t.subscribe(o);this.observableToClientSubMap.add(r,n);const a=this.clientToObservableSubMap.get(n.id)||new Map;a.set(r,[o,t,s]),this.clientToObservableSubMap.set(n.id,a),this.trackClientObservableSub(i.OBSERVABLE_SUB,e,n)}}else qe.error(r,"is not a valid, registered observable")}onObservableUnsubReceived(e,t){const n=t.messaging,r=e.observableKey;this.observableToClientSubMap.remove(r,n);const o=this.clientToObservableSubMap.get(n.id);if(o){const t=o.get(r);if(t){const[,,s]=t;s.cancel(),o.delete(r),this.trackClientObservableSub(i.OBSERVABLE_UNSUB,e,n)}}}async onCollectionSubReceived(e,t){const n=t.messaging,r=e.collectionKey,o=this.collections[r];if(o){const t=await o;if(!this.collections[r])return;if(!this.collectionToClientSubMap.has(r,n)){const o=t.subscribe(n),s=[t,o];this.collectionToClientSubMap.add(r,n);const a=this.clientToCollectionSubMap.get(n.id)||new Map;a.set(r,s),this.clientToCollectionSubMap.set(n.id,a),this.firstTimeCollectionSubs.add(n.id,r),this.trackClientCollectionSub(i.COLLECTION_SUB,e,n)}}else qe.error(r,"is not a valid, registered collection")}onCollectionUnsubReceived(e,t){const n=t.messaging,r=e.collectionKey;this.collectionToClientSubMap.remove(r,n);const o=this.clientToCollectionSubMap.get(n.id);if(o){const t=o.get(r);if(t){const[,s]=t;s.cancel(),o.delete(r),this.trackClientCollectionSub(i.COLLECTION_UNSUB,e,n)}}}onPrivateMessageReceived(e,t){const{messageType:n,messagePayload:i}=e;for(const e of this.privateMessageHandlers.getValuesAtKey(n))(e.clientId||e.clientId===t.executing.id)&&e.onMessage(i,t.messaging)}trackSdkConnect(e,t){if(!this.analytics)return;const n="string"==typeof(null==t?void 0:t.auth),i={origin:e.origin,applicationKey:e.applicationKey,provider:e.context.provider,method:e.communicationMethod,sdkType:e.context.sdkType,pluginId:e.context.pluginId,authTokenProvided:n,bootstrapVersion:e.context.bootstrap.version,bootstrapProvidedAppKey:e.context.bootstrap.providedAppKey};this.analytics.setOptions({authTokenProvided:n}),this.analytics.alwaysTrack("sdk_connect","connect",i)}trackSdkEvent(e,t,n){if(!this.analytics)return;const r=e===i.SUBSCRIBED?"on":"off",o=this.valueToClientInterface[t.subscription];if(!o)return;const s=Object.keys(o.values),a=s.find(((e,n)=>{const i=s[n];return o.values[i]===t.subscription}));if(!a)return;const l={origin:n.origin,applicationKey:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType,name:r,namespace:o.namespace,eventType:a,count:this.eventToClientSubMap.valuesPerKey(t.subscription),method:n.communicationMethod,pluginId:n.context.pluginId};this.analytics.track("sdk_event",t.subscription,l)}trackSdkCall(e,t){const n=this.clientConnections.get(t);if(!n)return;const i=this.clientInterface.functions[e.targetFunction]||this.clientInterface.commands[e.targetFunction],r=n.messaging,o=Object.assign(Object.assign({origin:r.origin,applicationKey:r.applicationKey,provider:r.context.provider,sdkType:r.context.sdkType},i),{method:r.communicationMethod,pluginId:r.context.pluginId});if(this.analytics.track("sdk_call",e.targetFunction,o),i&&"Settings"===i.namespace&&"update"===i.name){const{key:t,value:n}=e.params;(0,a.K)(t)&&this.analytics.track("sdk_settings",t,{origin:r.origin,applicationKey:r.applicationKey,provider:r.context.provider,sdkType:r.context.sdkType,pluginId:r.context.pluginId,settingKey:t,settingValue:(0,l.G)(n)?{}.toString():(0,a.K)(n)?n:JSON.stringify(n)})}}trackClientObservableSub(e,t,n){const r=e===i.OBSERVABLE_SUB,o=this.clientInterface.observables[t.observableKey],s=Object.assign(Object.assign({origin:n.origin,applicationKey:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType},o),{is_collection:!1,action:r?"subscribe":"cancel",method:n.communicationMethod,pluginId:n.context.pluginId});this.analytics.track("sdk_subscribe",t.observableKey,s)}trackClientCollectionSub(e,t,n){const r=e===i.COLLECTION_SUB,o=this.clientInterface.collections[t.collectionKey],s=Object.assign(Object.assign({origin:n.origin,applicationKey:n.applicationKey,provider:n.context.provider,sdkType:n.context.sdkType},o),{is_collection:!0,action:r?"subscribe":"cancel",method:n.communicationMethod,pluginId:n.context.pluginId});this.analytics.track("sdk_subscribe",t.collectionKey,s)}track(e,t,n){e.client.pluginId&&this.factAnalytics.track(e,t,n)}}var Xe;Qe.MessengerHostFacade=class{constructor(e){this.messageHandler=e}onConnectionReceived(e,t,n,i){this.messageHandler.onConnectionReceived(e,t,n,i)}onDisconnectReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onDisconnectReceived(e,n)}onActionReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onActionReceived(e,n)}onEventSubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onEventSubReceived(e,n)}onEventUnsubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onEventUnsubReceived(e,n)}onObservableSubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onObservableSubReceived(e,n)}onObservableUnsubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onObservableUnsubReceived(e,n)}onCollectionSubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onCollectionSubReceived(e,n)}onCollectionUnsubReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onCollectionUnsubReceived(e,n)}onPrivateMessageReceived(e,t){const n=this.messageHandler.clientConnections.get(t.id);n&&this.messageHandler.onPrivateMessageReceived(e,n)}},function(e){let t;e.name="sdk",function(e){e.EMBED="sdk.embed",e.BUNDLE="sdk.bundle",e.PLUGIN="sdk.plugin",e.NPM_SDK="npm.embed",e.NPM_WEB_COMPONENT="npm.webcomponent",e.NPM_R3F="npm.r3f"}(t=e.Type||(e.Type={}))}(Xe||(Xe={}));class Ze{constructor(e,t){this.token=e,this.provider=t,this.isAccepted=new h.L(null)}get accepted(){if(null!==this.isAccepted.value){if(this.isAccepted.value)return Promise.resolve();if(!this.isAccepted.value)return Promise.reject()}return new Promise(((e,t)=>{if(null===this.isAccepted.value){const n=this.isAccepted.onChanged((i=>{i?e():t(),n.cancel()}))}}))}accept(){this.isAccepted.value=!0}reject(){this.isAccepted.value=!1}}},87965:(e,t,n)=>{"use strict";var i;n.d(t,{Y:()=>i}),function(e){e.BlursAddNudgeSeen="user_preference/blurs_add_nudge",e.DefurnishNudgeSeen="user_preference/defurnish_nudge",e.DefurnishRated="user_preference/defurnish_rated",e.DollhouseUserNudgeSeen="user_preference/dollhouse_nudge",e.FloorplanRoomsUserNudgeSeen="user_preference/floorplan_rooms_nudge",e.HighlightReelSettingsTab="user_preference/highlight_reel_settings_tab",e.LastRatingPromptTime="user_preference/model_rating_last_prompt_time",e.MeasurementContinuousLines="user_preference/measurement_continuous",e.MeasurementSnapping="user_preference/measurement_snapping",e.MeasurementUserNudgeSeen="user_preference/measurement_nudge",e.NotesAddNudgeSeen="user_preference/notes_add_nudge",e.NotesModeNudgeSeen="user_preference/notes_mode_nudge",e.SubscriberPromptDismissed="user_preference/subscriber_prompt_dismissed",e.TagsAddNudgeSeen="user_preference/tags_add_nudge",e.TourMobileNavigationPromptSeen="user_preference/tour_mobile_nav_prompt_seen",e.TourTextNudgeDismissed="user_preference/tour_text_nudge_dismissed",e.UnitType="user_preference/unit_type"}(i||(i={}))},81459:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});class i{constructor(e,t){this.settingsData=e,this.settings=t,this.cache={},this.toggle=e=>{e?this.apply():this.reset()}}apply(){this.cache={};for(const e of Object.keys(this.settings)){const t=this.settingsData.tryGetProperty(e,void 0);t!==this.settings[e]&&(this.cache[e]=t,this.settingsData.setProperty(e,this.settings[e]))}}reset(){for(const e of Object.keys(this.cache)){const t=this.cache[e];this.settingsData.setProperty(e,void 0!==t&&t)}this.cache={}}}},25316:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var i=n(75778),r=n(84757),o=n(84710),s=n(56413);class a extends o.B{constructor(e={}){super(),this.overrideParams=e,this.name="settings",this.properties=(0,s.y)()}setProperty(e,t){const n=this.properties.get(e);null!=t&&n===t||(this.properties.set(e,t),this.commit([e]))}notifyPropertyObserver(e,t){e(this.properties.get(t))}setLocalStorageProperty(e,t){(0,r.lk)(e,t),this.setProperty(e,t)}hasProperty(e){return this.properties.has(e)}tryGetProperty(e,t){return this.hasProperty(e)?this.properties.get(e):t}getProperty(e){if(this.hasProperty(e))return this.properties.get(e);throw new Error("SettingsData: "+e+" not found")}getOverrideParam(e,t=null,n=typeof t){var r;return(0,i.R5)(null!==(r=this.overrideParams[e])&&void 0!==r?r:null,t,n)}iterate(e){for(const t of this.properties.keys)e(t,this.getProperty(t))}}},50747:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var i=n(77570),r=n(96540);const o=()=>(0,r.useContext)(i.B).settings},26072:(e,t,n)=>{"use strict";var i;n.d(t,{u:()=>i}),function(e){e[e.NONE=0]="NONE",e[e.LOCAL_STORAGE=1]="LOCAL_STORAGE"}(i||(i={}))},31036:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var i=n(68986),r=n(587);class o extends r.c{constructor(e,t){super(),this.computation=e,this.updateValue=()=>{const e=this.computation();e!==this._lastValue&&(this._prevValue=this._lastValue,this._lastValue=e,this.setDirty(!0))},this._lastValue=this.computation(),this._prevValue=null,this._subscriptions=new i.P(...t.map((e=>e(this.updateValue))))}get value(){return this._lastValue}get prevValue(){return this._prevValue}renew(){this._subscriptions.renew()}cancel(){this._subscriptions.cancel()}notifyObserver(e){e(this._lastValue)}}},587:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var i=n(3066);class r{constructor(){this.isObservable=!0,this._dirtyObservable=!1,this._activeObservable=!0,this._observerNotifying=!1,this._changeObservers=new Set,this._parentObservables=new Set,this._childObservables=new Set,Object.defineProperties(this,{isObservable:{value:this.isObservable,writable:!1,enumerable:!1},_dirtyObservable:{value:this._dirtyObservable,enumerable:!1},_activeObservable:{value:this._activeObservable,enumerable:!1},_observerNotifying:{value:this._observerNotifying,enumerable:!1},_changeObservers:{value:this._changeObservers,writable:!1,enumerable:!1},_childObservables:{value:this._childObservables,writable:!1,enumerable:!1},_parentObservables:{value:this._parentObservables,writable:!1,enumerable:!1}})}onChanged(e){if(this._changeObservers.has(e))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,i.Sh)((()=>this._changeObservers.add(e)),(()=>this.removeOnChanged(e)),!0)}removeOnChanged(e){this._changeObservers.delete(e)}notifyObservers(){if(this._dirtyObservable&&!this._observerNotifying&&this._activeObservable){this._observerNotifying=!0;for(const e of this._changeObservers)this.notifyObserver(e);this._dirtyObservable=!1,this._observerNotifying=!1}}notifyObserver(e){e(void 0)}notifyDown(){for(const e of this._childObservables)e.notifyDown();this.notifyObservers()}notifyUp(){for(const e of this._parentObservables)e.notifyUp();this.notifyObservers()}setDirty(e=!0){this.setDirtyUp(),e&&this.notifyUp()}setDirtyUp(){if(!this._dirtyObservable){this._dirtyObservable=!0;for(const e of this._parentObservables)e.setDirtyUp()}}addChildObservable(e){r.isObservable(e)&&(this._childObservables.add(e),e._parentObservables.add(this))}removeChildObservables(e){r.isObservable(e)&&(this._childObservables.delete(e),e._parentObservables.delete(this))}atomic(e){if(!this._activeObservable)return e();try{this.setActive(!1),e()}finally{this.setActive(!0)}}setActive(e){const t=this._activeObservable;this._activeObservable=e,!t&&e&&this.notifyObservers();for(const t of this._childObservables)t.setActive(e)}deepCopy(){throw Error("deepCopy is only implemented in subclasses of Observable")}static isObservable(e){return e&&e.isObservable}}},12554:(e,t,n)=>{"use strict";n.d(t,{X:()=>o,Z:()=>s});var i=n(28913),r=n(587);class o extends r.c{constructor(){super(),this.isObservableArray=!0,this.elements=[]}static from(...e){const t=new o;return t.push(...e),t}push(...e){for(const t of e)this.elements.push(t),this.addChildObservable(t);return this.setDirty(),this.length}concat(e){const t=this.elements.length;this.elements=this.elements.concat(...e);for(let e=t;e<this.elements.length;e++)this.addChildObservable(this.elements[e]);return this.setDirty(),this.length}replace(e){for(const e of this.elements)this.removeChildObservables(e);return this.elements=[],this.concat(e)}remove(e){if(e<0||e>=this.length)throw new Error(`Index ${e} not in range of ObservableArray`);const[t]=this.elements.splice(e,1);this.removeChildObservables(t),this.setDirty()}clear(){for(;this.length;)this.remove(0)}update(e,t){const n=this.elements[e];n!==t&&(this.elements[e]=t,this.removeChildObservables(n),this.addChildObservable(t),this.setDirty())}get length(){return this.elements.length}set length(e){if(e<this.elements.length){for(let t=this.elements.length-1;t>=e;t--){const e=this.elements[t];this.removeChildObservables(e)}this.elements.length=e,this.setDirty()}}entries(){return this.elements.entries()}values(){return[...this.elements]}filter(e){return this.elements.filter(e)}find(e){return this.elements.find(e)}*[Symbol.iterator](){for(const e of this.elements)yield e}map(e,t){return this.elements.map(e,t)}forEach(e,t){this.elements.forEach(e,t)}sort(e){this.elements.sort(e)}get(e){return this.elements[e]}findIndex(e,t){return this.elements.findIndex(e,t)}indexOf(e){return this.elements.indexOf(e)}splice(e,t,...n){let i;if(n.length){i=this.elements.splice(e,t,...n);for(const e of n)this.addChildObservable(e)}else i=this.elements.splice(e,t);for(const e of i)this.removeChildObservables(e);return this.setDirty(),i}insert(e,t){if(e>this.elements.length)throw new Error(`Tried to insert at index ${e} in an array that's only ${this.elements.length} long`);e!==this.elements.length?(this.elements.splice(e,0,t),this.addChildObservable(t),this.setDirty()):this.push(t)}shift(){const e=this.elements.shift();return e&&(this.removeChildObservables(e),this.setDirty()),e}move(e,t){if(t>this.elements.length-1)throw Error("Index to move to is out of bounds");const n=this.elements[e];this.elements.splice(e,1),this.elements.splice(t,0,n),this.setDirty()}includes(e,t){return this.elements.includes(e,t)}some(e,t){return this.elements.some(e,t)}every(e,t){return this.elements.every(e,t)}onElementChanged(e){let t=this.elements.slice();return this.onChanged((()=>{for(const n in t){const i=parseInt(n,10);e.onRemoved&&void 0===this.get(i)&&e.onRemoved(t[i],i)}for(const n in this.elements){const i=parseInt(n,10),o=this.get(i);void 0===t[i]?e.onAdded&&e.onAdded(o,i):(r.c.isObservable(o)&&o._dirtyObservable||o!==t[i])&&(e.onUpdated?e.onUpdated(o,i):e.onRemoved&&null===o&&e.onRemoved(t[i],i))}t=this.elements.slice()}))}deepCopy(){return this.map((e=>(0,i.A4)(e)))}}const s=e=>{const t=new o;return e&&t.concat(e),t}},56413:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,y:()=>a});var i=n(28913),r=n(587);function o(e){return(0,i.Et)(e)?""+e:e}class s extends r.c{constructor(){super(),this.map={},this._keysSet=new Set,this._keysList=[]}get keys(){return this._keysList.slice()}get values(){return this._keysList.map((e=>this.get(e)))}entries(){const e=[];for(const t in this.map)e.push([t,this.map[t]]);return e}get length(){return this._keysList.length}*[Symbol.iterator](){for(const e of this._keysList)yield this.get(e)}get(e){return this.map[e]}has(e){return void 0!==this.map[e]}set(e,t){e=o(e);this.map[e]!==t&&(this.removeChildObservables(this.map[e]),this.addChildObservable(t),this.map[e]=t,this._keysSet.has(e)||(this._keysList.push(e),this._keysSet.add(e)),this.setDirty())}clear(){if(this.length>0){for(const e in this.map)this.removeChildObservables(this.map[e]);this.map={},this._keysSet.clear(),this._keysList=[],this.setDirty()}}replace(e){this.clear();for(const t in e)this.set(t,e[t])}delete(e){e=o(e),this.removeChildObservables(this.map[e]);const t=this.map.hasOwnProperty(e);return delete this.map[e],t&&(this._keysSet.delete(e),this._keysList.splice(this._keysList.indexOf(e),1),this.setDirty()),t}forEach(e,t){for(const n of this._keysList){const i=this.map[n];e.call(t,i,n,this)}}onElementChanged({onAdded:e,onRemoved:t,onUpdated:n}){return this.onElementsChanged((({added:i,removed:r,updated:o})=>{if(r&&t)for(const[e,n]of r)t(n,e);if(i&&e)for(const[t,n]of i)e(n,t);if(o&&n)for(const[e,t]of o)n(t,e)}))}onElementsChanged(e){let t=Object.assign({},this.map);return this.onChanged((()=>{const n={};for(const e in t)this.has(e)||(n.removed||(n.removed=[])).push([e,t[e]]);for(const e of this._keysList){const i=this.get(e);void 0===t[e]?(n.added||(n.added=[])).push([e,i]):(r.c.isObservable(i)&&i._dirtyObservable||i!==t[e])&&(null!==i?(n.updated||(n.updated=[])).push([e,i]):(n.removed||(n.removed=[])).push([e,t[e]]))}t=Object.assign({},this.map),e(n)}))}deepCopy(){const e={};for(const t of this._keysList)e[t]=(0,i.A4)(this.map[t]);return e}}const a=(e={})=>{const t=new s;return t.replace(e),t}},42743:(e,t,n)=>{"use strict";n.d(t,{g:()=>i,q:()=>s});var i,r=n(587),o=n(3066);!function(e){e.LOW="low",e.NORMAL="normal"}(i||(i={}));class s extends r.c{constructor(e){super(),this.priority=i.NORMAL,this.filters=new Map,this.view=[],this._keys=new Map,this._dirty=!1,this.sortNeeded=!1,this._diff={},this.map=e,this.applyFilters(),this.map.onElementsChanged((({added:e,removed:t,updated:n})=>{this._diff={added:e,removed:t,updated:n},this._diff.added&&(this._diff.added=this._diff.added.filter((([e,t])=>this.testFilters(t)))),this._diff.updated&&(this._diff.updated=this._diff.updated.filter((([e,t])=>this.testFilters(t)))),this._diff.removed&&(this._diff.removed=this._diff.removed.filter((([e,t])=>this.testFilters(t)))),this.atomic((()=>{if(t)for(const[e,n]of t)this.onRemoved(e,n);if(e)for(const[t,n]of e)this.onAdded(t,n);if(n)for(const[e,t]of n)this.onUpdated(e,t)}))})),this.map.onChanged((()=>{this.sortNeeded&&(this.applySort(),this.setDirty(),this.sortNeeded=!1)}))}onElementsChanged(e){return this.onChanged((()=>{e(this._diff)}))}onElementChanged({onAdded:e,onRemoved:t,onUpdated:n}){return this.onElementsChanged((({added:i,removed:r,updated:o})=>{if(r&&t)for(const[e,n]of r)t(n,e);if(i&&e)for(const[t,n]of i)e(n,t);if(o&&n)for(const[e,t]of o)n(t,e)}))}has(e){return this._keys.has(e)}get(e){return this.has(e)?this.map.get(e):void 0}setFilter(e,t){return(0,o.Sh)((()=>{this.filters.set(e,t),this.applyFilters(void 0,!1,!0)}),(()=>this.clearFilter(e)),!0)}clearFilter(e){return!!this.filters.has(e)&&(this.filters.delete(e),this.applyFilters(void 0,!1,!0),!0)}clearFilters(){this.filters.clear(),this.applyFilters(void 0,!1,!0)}sort(e){this.compareFunc=e,this.applySort(),this.setDirty()}*[Symbol.iterator](){for(const e of this.view)yield e}get length(){return this.view.length}groupBy(e){const t={};for(const n of this.view){const i=String(n[e]);t[i]||(t[i]=[]),t[i].push(n)}return t}get values(){return this.view.slice()}entries(){return[...this._keys.entries()]}forEach(e,t){for(const[n,i]of this._keys)e.call(t,i,n,this)}setDirty(e=!0){this.priority===i.LOW?this._dirty||(this._dirty=!0,requestAnimationFrame((()=>{this._dirty=!1,super.setDirty(e)}))):super.setDirty(e)}add(e){if(this.has(e))return!1;const t=this.map.get(e);return this._keys.set(e,t),this.view.push(t),!0}delete(e){const t=this._keys.get(e);if(!t)return!1;this._keys.delete(e);const n=this.view.indexOf(t);return-1!==n&&this.view.splice(n,1),!0}testFilters(e){return[...this.filters.values()].every((t=>t(e)))}applyFilters(e,t=!1,n=!1){n&&(this._diff={});let i=!1;const r=e?[e]:this.map.keys;for(const e of r){const t=this.map.get(e),r=this.testFilters(t);r&&this.add(e)?(n&&(this._diff.added||(this._diff.added=[]),this._diff.added.push([e,t])),i=!0):!r&&this.delete(e)&&(n&&(this._diff.removed||(this._diff.removed=[]),this._diff.removed.push([e,t])),i=!0)}e&&this.has(e)&&(n&&(this._diff.updated||(this._diff.updated=[]),this._diff.updated.push([e,this.map.get(e)])),i=!0),i&&(t?this.sortNeeded=!0:(this.applySort(),this.setDirty()))}applySort(){this.compareFunc&&this.view.sort(this.compareFunc)}onRemoved(e,t){this.has(e)&&this.testFilters(t)&&this.delete(e)&&this.setDirty()}onAdded(e,t){this.testFilters(t)&&this.applyFilters(e,!0,!1)}onUpdated(e,t){const n=this._keys.get(e),i=this.view.findIndex((e=>e===n));-1!==i&&(this.view[i]=t,this._keys.set(e,t)),this.applyFilters(e,!0,!1)}}},85616:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var i=n(28913),r=n(24241),o=n(75778),s=n(3066),a=n(587);const l=new r.Vy("ObservableObject"),c=1===(0,o.P3)("debug",0);class u extends a.c{constructor(){super(),this._propertyObservables={},this._valueCache={},this._dirtyKeys=new Set,Object.defineProperties(this,{_propertyObservables:{value:this._propertyObservables,writable:!1,enumerable:!1},_valueCache:{value:this._valueCache,writable:!1,enumerable:!1},_dirtyKeys:{value:this._dirtyKeys,writable:!1,enumerable:!1}}),c&&setTimeout((()=>{!function(e){const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n],e._valueCache[n]=e[n],Object.defineProperty(e,n,{get:()=>t[n],set:i=>{const r=e._valueCache[n];(r!==i||a.c.isObservable(r)&&r._dirtyObservable)&&h(e,n),t[n]=i},enumerable:!0}))}(this)}),1)}onPropertyChanged(e,t){if(this._propertyObservables[e]||(this._propertyObservables[e]=[]),-1!==this._propertyObservables[e].indexOf(t))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,s.Sh)((()=>this._propertyObservables[e].push(t)),(()=>this.removeOnPropertyChanged(e,t)),!0,e)}removeOnPropertyChanged(e,t){const n=this._propertyObservables[e].indexOf(t);n>=0&&this._propertyObservables[e].splice(n,1)}commit(e=[]){for(const t of e)this._dirtyKeys.add(t);this.setDirtyUp(),this.notifyUp()}setDirtyUp(){for(const e in this){if(!this.hasOwnProperty(e))continue;const t=this._valueCache[e],n=this[e];t!==n?(this.removeChildObservables(t),this.addChildObservable(n),this._valueCache[e]=n,this._dirtyKeys.add(e)):a.c.isObservable(t)&&t._dirtyObservable&&this._dirtyKeys.add(e)}super.setDirtyUp()}notifyObservers(){if(this._dirtyObservable&&!this._observerNotifying&&this._activeObservable){this._observerNotifying=!0;for(const e of this._dirtyKeys){for(const t of this._propertyObservables[e]||[])this.notifyPropertyObserver(t,e);c&&p(this,e)}this._observerNotifying=!1,this._dirtyKeys.clear()}super.notifyObservers()}notifyPropertyObserver(e,t){e(this._valueCache[t])}notifyObserver(e){e(this)}deepCopy(){const e={};for(const t in this)this.hasOwnProperty(t)&&(e[t]=(0,i.A4)(this[t]));return e}}const d=new Map;function h(e,t){d.has(e)||d.set(e,{});d.get(e)[t]=Error()}function p(e,t){if(d.has(e)){const n=d.get(e);n[t]&&delete n[t]}}if(c){const e=setInterval((()=>{(function(){for(const e of d.values())for(const t in e)return l.error(`ObservableObject property "${t}" was still dirty after one tick! Did you forget a .commit()?`),l.error("See stack trace of the property write below:"),l.error(e[t].stack),!0;return!1})()&&void 0!==e&&clearInterval(e)}),16)}},71415:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var i=n(28913);function r(e,t){const n=Object.getOwnPropertyNames(t);for(const i of n)void 0===e[i]&&("function"==typeof t[i]?Object.defineProperty(e,i,{value:t[i].bind(e)}):Object.defineProperty(e,i,{value:t[i],writable:!0}));null!==Object.getPrototypeOf(Object.getPrototypeOf(t))&&r(e,Object.getPrototypeOf(t))}var o=n(587),s=n(95330),a=n(85616);const l=e=>{if(!e||0===Object.keys(e).length)throw new Error("createObservableProxy() only works on objects that has predefined keys. Did you mean createObservableMap or createObservableArray?");if(e instanceof a.v)throw new Error("Using ObservableProxy on an ObservableObject is a BUG!");if(e.isObservableProxy)return e;const t={},n=new o.c,l=Object.create(e);Object.defineProperties(l,{isObservableProxy:{value:!0},onPropertyChanged:{value:(e,n)=>t[e].onChanged(n)},removeOnPropertyChanged:{value:(e,n)=>t[e].removeOnChanged(n)},deepCopy:{value:()=>(0,i.A4)(e)}}),r(l,n);for(const n in e)if(e.hasOwnProperty(n)){const i=(0,s.p)(e[n]);t[n]=i,l.addChildObservable(i),Object.defineProperty(l,n,{get:()=>e[n],set:i=>{e[n]=i,t[n].value=i},enumerable:!0})}return Object.seal(l),l}},95330:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,p:()=>a});var i=n(28913),r=n(587);function o(e,t){return e instanceof Function?e(t):t===e}class s extends r.c{constructor(e){super(),this.value=e}notifyObserver(e){e(this.value)}get value(){return this._value}set value(e){this._value!==e&&(this.removeChildObservables(this._value),this.addChildObservable(e),this._value=e,this.setDirty())}deepCopy(){return(0,i.A4)(this._value)}waitFor(e){return new Promise((t=>{if(o(e,this._value))t();else{const n=this.onChanged((i=>{o(e,i)&&(n.cancel(),t())}))}}))}}const a=e=>new s(e)},27429:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});class i{constructor(){this.observers=new Set}observe(e){this.observers.add(e);const t=this;return{renew(){t.observers.add(e)},cancel(){t.removeObserver(e)}}}removeObserver(e){this.observers.delete(e)}notify(){for(const e of this.observers)e.notify()}}},68986:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});class i{constructor(...e){this.subs=e}renew(){for(const e of this.subs)e.renew()}cancel(){for(const e of this.subs)e.cancel()}}},3066:(e,t,n)=>{"use strict";n.d(t,{Sh:()=>s,WC:()=>r});const i=new(n(24241).Vy)("Subscription");class r{constructor(e,t,n){this.watchedData=e,this.registerSubscription=t,this.unregisterSubscription=n}createSubscription(e,t){return new o((()=>this.registerSubscription(e)),(()=>this.unregisterSubscription(e)),t)}getData(){return this.watchedData()}}class o{constructor(e,t,n=!1,i=""){this.startSubscription=e,this.endSubscription=t,this.id=i,this.isSubbed=!1,n&&this.renew()}renew(){this.isSubbed?i.debugWarn(`Duplicate subscription renew ${this.id}`):(this.startSubscription(),this.isSubbed=!0)}cancel(){this.isSubbed&&(this.endSubscription(),this.isSubbed=!1)}get active(){return this.isSubbed}}function s(e,t,n=!0,i=""){return new o(e,t,n,i)}},3350:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});class i{constructor(e){this.size=e,this.index=0,this.count=0,this.buffer=[],this.sorted=!1,this.buffer=new Array(e)}push(e){this.buffer[this.index]=e,this.index=(this.index+1)%this.size,this.count++,this.sorted=!1}get topIndex(){return 0===this.index?this.size-1:this.index-1}pop(){if(this.count>0){const e=this.peek();return this.count--,0===this.index?this.index=this.size-1:this.index--,e}return null}peek(){return this.isEmpty()?null:this.buffer[this.topIndex]}isEmpty(){return 0===this.count}getList(){return this.count>=this.size?this.buffer:this.buffer.slice(0,this.count)}median(){const e=Math.floor(this.count/2),t=this.getList();return this.sorted||(t.sort(),t===this.buffer&&(this.sorted=!0)),t[e]}*[Symbol.iterator](){yield*this.buffer}clear(){this.count=0,this.index=0}}},21440:(e,t,n)=>{"use strict";n.d(t,{Nz:()=>i});const i=(e,t)=>{if(0===e.length)return!1;let n=!1;for(let i=0;i<e.length;i++){e[i]===t&&(e.splice(i,1),n=!0)}return n}},79070:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});const i=(e,t=250)=>{let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout((()=>e.apply(null,i)),t)}}},28913:(e,t,n)=>{"use strict";n.d(t,{A4:()=>r,E7:()=>a,Et:()=>l,bB:()=>s,h1:()=>o});const i=e=>"propertyObservers"===e||"changeObservers"===e||"isObservable"===e||"childChangeFunctions"===e||"isObservableProxy"===e||"diffRoot"===e||"elementChangedHandlers"===e||"knownKeysMap"===e||"knownKeysList"===e||"isVector2"===e||"isVector3"===e||"isQuaternion"===e||"onPropertyChanged"===e||"removeOnPropertyChanged"===e||"onChanged"===e||"target"===e,r=(e,t=[])=>{if(void 0!==e){if(t.includes(e))return Array.isArray(e)||ArrayBuffer.isView(e)?[]:{};if(e instanceof Date)return new Date(e);if(null===e)return null;if(e.deepCopy)return e.deepCopy();if(e.isQuaternion)return{x:e.x,y:e.y,z:e.z,w:e.w};if(ArrayBuffer.isView(e))for(const t of[Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array])if(e instanceof t)return new t(e);if("object"==typeof e){const n=Array.isArray(e)||ArrayBuffer.isView(e)?[]:{};for(const o in e){if(i(o))continue;const s=e[o];s instanceof Date?n[o]=new Date(s):"function"!=typeof s&&(t.push(e),n[o]="object"==typeof s?r(s,t):s,t.pop())}return n}return e}},o=(e,t)=>{for(const n in t){if("function"==typeof t[n])continue;if(i(n)&&!e.hasOwnProperty(n))continue;const s=t[n];if(e.hasOwnProperty(n)){const t=e[n];(null===t?null:typeof t)!==(null===s?null:typeof s)?e[n]=r(s):"object"==typeof t?t instanceof Date?e[n]=new Date(s):o(t,s):e[n]=s}else e[n]=r(s)}},s=(e,t,n=!1)=>{const i={};for(const r in e){const o=e[r],l=t[r];a(o,l)&&(void 0===o||void 0===l||typeof o!=typeof l||"object"!=typeof o?i[r]=l:Array.isArray(l)?a(o,l)&&(i[r]=l):i[r]=n?l:s(o,l))}for(const n in t)n in e||(i[n]=t[n]);return i},a=(e,t)=>{if(null===e||"object"!=typeof e)return e!==t;if(!t)return!0;for(const n in t)if(!(n in e))return!0;for(const n in e)if(a(e[n],t[n]))return!0;return!1};function l(e){return"number"==typeof e}},84757:(e,t,n)=>{"use strict";n.d(t,{lk:()=>o,zM:()=>r});const i=new(n(24241).Vy)("util-browser"),r=function(e,t){if(!("localStorage"in window))return t;let n;try{n=window.localStorage.getItem(e)}catch(e){return i.debug(e),t}return null===n?t:"boolean"==typeof t?"true"===n:"number"==typeof t?parseFloat(n):n},o=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){i.error(e)}}},24241:(e,t,n)=>{"use strict";n.d(t,{Vy:()=>s});const i=window.navigationStart||Date.now(),r=new WeakMap;var o;!function(e){e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG"}(o||(o={}));class s{static for(e){let t=r.get(e);if(!t){const n=e.name||e.constructor.name;t=new s(n),r.set(e,t)}return t}constructor(e){this.timers={},this.handlers={[o.DEBUG]:console.debug,[o.INFO]:console.info,[o.WARN]:console.warn,[o.ERROR]:console.error};const t=e.split(new RegExp("/|\\\\"));this.prefix="["+t[t.length-1].replace(".js","")+"]"}message(e){if(s.level>=e&&console){return(this.handlers[e]?this.handlers[e]:console.log).bind(console,this.getPrefix())}return()=>{}}get debug(){return this.message(o.DEBUG)}get devInfo(){return()=>{}}get debugInfo(){return this.debug}get warnError(){return this.warn}get debugWarn(){return this.message(s.level>=o.DEBUG?o.WARN:o.DEBUG)}get info(){return this.message(o.INFO)}get warn(){return this.message(o.WARN)}get error(){return this.message(o.ERROR)}time(e){s.level>=o.DEBUG&&(this.timers[e]=Date.now())}timeEnd(e){if(s.level>=o.DEBUG){const t=this.timers[e];if(!t)return;const n=(Date.now()-t)/1e3;this.debug(e,n+"s")}}getPrefix(){const e=(Date.now()-i)/1e3+"s";return`${this.prefix} ${e}`}}s.level=o.INFO},75778:(e,t,n)=>{"use strict";function i(){const e=new URLSearchParams(window.location.search),t={};return e.forEach(((e,n)=>{t[n]=e})),t}function r(){const e=new URLSearchParams(window.location.search);return new URLSearchParams(e.toString())}function o(e,t=null,n=typeof t){return s(new URLSearchParams(window.location.search).get(e),t,n)}function s(e,t=null,n=typeof t){return null===e?t:"boolean"===n?"true"===e||"1"===e:"number"===n?+e:e}n.d(t,{DE:()=>r,EN:()=>i,P3:()=>o,R5:()=>s,SS:()=>l,_0:()=>a});const a=e=>{if(!e)return;const t=`${window.location.origin}${window.location.pathname}?${e}`;window.location.replace(t)},l=(e,t=!0)=>{if(!e)return;const n=`${window.location.origin}${window.location.pathname}?${e}`;t?window.history.pushState({},"",n):window.history.replaceState({},"",n)}},96824:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});const i=[];for(let e=0;e<256;e++)i[e]=(e<16?"0":"")+e.toString(16);function r(){let e;const t=window.crypto||window.msCrypto;return e=t?t.getRandomValues(new Uint8Array(16)):new Uint8Array(16).map((()=>255*Math.random())),e[6]=15&e[6]|64,e[8]=63&e[8]|128,i[e[0]]+i[e[1]]+i[e[2]]+i[e[3]]+"-"+i[e[4]]+i[e[5]]+"-"+i[e[6]]+i[e[7]]+"-"+i[e[8]]+i[e[9]]+"-"+i[e[10]]+i[e[11]]+i[e[12]]+i[e[13]]+i[e[14]]+i[e[15]]}},38069:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var i=n(68909);class r{}r.MP_BRAND=Object.freeze(new i.Color(16724312)),r.MATTERTAG_BLUE=Object.freeze(new i.Color(223357)),r.WHITE=Object.freeze(new i.Color(16777215)),r.BLACK=Object.freeze(new i.Color(0)),r.RED=Object.freeze(new i.Color(16711680)),r.GREEN=Object.freeze(new i.Color(65280)),r.BLUE=Object.freeze(new i.Color(255)),r.YELLOW=Object.freeze(new i.Color(16776960)),r.SINE=Object.freeze(new i.Color(11908275)),r.NEPTUNE=Object.freeze(new i.Color(4217846)),r.LENS_GRAY=Object.freeze(new i.Color(4473924)),r.MIRROR=Object.freeze(new i.Color(14342874)),r.PORTAL=Object.freeze(new i.Color(2236962)),r.SILVER=Object.freeze(new i.Color(13421772))},37458:(e,t,n)=>{"use strict";var i;n.d(t,{X:()=>i}),function(e){e[e.boundingSkybox=-100]="boundingSkybox",e[e.default=0]="default",e[e.panoMarker=4]="panoMarker",e[e.reticule=5]="reticule",e[e.grid=5]="grid",e[e.meshTrims=5]="meshTrims",e[e.pins360=6]="pins360",e[e.roomBounds=7]="roomBounds",e[e.portals=9]="portals",e[e.rotators=10]="rotators",e[e.pins=14]="pins",e[e.pinSelectedHalo=15]="pinSelectedHalo",e[e.lines=20]="lines",e[e.endpoints=21]="endpoints",e[e.labels=22]="labels",e[e.gizmos=23]="gizmos",e[e.ghostFloorDepthPrepass=50]="ghostFloorDepthPrepass",e[e.ghostFloor=51]="ghostFloor",e[e.transformGizmo=999]="transformGizmo",e[e.colorOverlay=1e3]="colorOverlay"}(i||(i={}))},75742:(e,t,n)=>{"use strict";var i;n.d(t,{n:()=>i}),function(e){e.TEXT="text",e.LINK="link",e.HASH="hash",e.USER="user"}(i||(i={}))},81662:(e,t,n)=>{"use strict";n.d(t,{B1:()=>o,YF:()=>s,os:()=>i});var i,r=n(68909);class o{}o.UP=Object.freeze(new r.Vector3(0,1,0)),o.DOWN=Object.freeze(new r.Vector3(0,-1,0)),o.LEFT=Object.freeze(new r.Vector3(-1,0,0)),o.RIGHT=Object.freeze(new r.Vector3(1,0,0)),o.FORWARD=Object.freeze(new r.Vector3(0,0,-1)),o.BACK=Object.freeze(new r.Vector3(0,0,1)),o.ZERO=Object.freeze(new r.Vector3(0,0,0)),o.UNIT=Object.freeze(new r.Vector3(1,1,1)),o.HORIZONTAL_PLANE=Object.freeze(new r.Vector3(1,0,1)),function(e){e.NONE="NONE",e.UP="UP",e.DOWN="DOWN",e.LEFT="LEFT",e.RIGHT="RIGHT",e.FORWARD="FORWARD",e.BACK="BACK",e.ZERO="ZERO",e.UNIT="UNIT",e.HORIZONTAL_PLANE="HORIZONTAL_PLANE"}(i||(i={}));class s{}s.DOWNWARD=new r.Quaternion(-Math.SQRT1_2,0,0,Math.SQRT1_2)},52018:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var i=n(80610);class r extends Error{constructor(e,t){super(e instanceof Error?e.message:e),this.name="BaseException",t&&(this.code=t),e instanceof Error&&(this.originalError=e,(0,i.zi)(e)&&(this.isMock=!0))}}},23775:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var i=n(52018);class r extends i.t{constructor(e="Not implemented"){super(e),this.name="NotImplemented"}}},46147:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(52018);class r extends i.t{constructor(e="Out of range"){super(e),this.name="OutOfRangeException"}}},80610:(e,t,n)=>{"use strict";function i(e){return!!(e&&e instanceof Error&&e.code)}function r(e){return!!(e&&e instanceof Error&&e.originalError)}function o(e){return!!(e&&e instanceof Error&&e.isMock)}function s(e){return i(e)?e.code:""}function a(e){const t=[];let n=e;for(;n;)i(n)&&t.push(n.code),n=r(n)?n.originalError:void 0;return t}n.d(t,{E2:()=>s,Ue:()=>i,fS:()=>a,zi:()=>o})},9114:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var i=n(99625),r=n(24790);class o{constructor(e){this.apqEnabled=!1,this.anonymousHeaderEnabled=!1,this.simulateApiOutage=i.u.NONE,this.nonBaseLayerWriteEnabled=!1,this.startedInPrivateSession=!1,this.refreshableStores=new Set,this.sharedCaches=new Set,this.updateForAutoProvisionedLayer=async e=>{if(this.autoProvisionLayerCheckCallback)return this.autoProvisionLayerCheckCallback(e)},this.baseViewId=null!=e?e:null}toggleNonBaseLayeredWrites(e){this.nonBaseLayerWriteEnabled=e}get isPrivateSession(){return this.startedInPrivateSession}togglePrivateSession(e){this.startedInPrivateSession=e}shouldWriteLayerId(e){return!!this.nonBaseLayerWriteEnabled&&(""!==e&&e!==r.qw)}async setCurrentViewId(e){const t=Array.from(this.refreshableStores.values());this.currentViewId=e,await Promise.all(t.map((e=>e.refresh())))}async refreshLayeredStores(e){const t=Array.from(this.refreshableStores.values()).filter((t=>e.includes(t.layeredType)));await Promise.all(t.map((e=>e.refresh())))}getViewLookupMode({firstLoad:e=!1}){return e&&!this.startedInPrivateSession?"default":"self"}}},20968:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});var i=n(3066),r=n(23775),o=n(75778),s=n(56388),a=n(96276);class l{constructor(e){this.viewId=null,this.newDataCallbacks=new Set,this.refreshPromiseMap=new Map;const{baseUrl:t,viewId:n,server:i}=e;this.config=e,this.context=e.context,this.client=new s.t({baseUrl:t,server:i,mdsContext:e.context}),n&&(this.viewId=n)}dispose(){this.context.refreshableStores.delete(this)}async create(...e){throw new r.E}async read(e={}){throw new r.E}async update(...e){throw new r.E}async delete(...e){throw new r.E}onNewData(e){this.context.refreshableStores.add(this);return(0,i.Sh)((()=>this.newDataCallbacks.add(e)),(()=>this.newDataCallbacks.delete(e)))}async refresh(e){const t=(null==e?void 0:e.modelId)||"default";let n=this.refreshPromiseMap.get(t);return n||(n=this.read(e).then((e=>this.newDataCallbacks.size>0?Promise.all(Array.from(this.newDataCallbacks.values()).map((t=>(t(e),e)))):[e])).then((([e])=>e)).finally((()=>{this.refreshPromiseMap.set(t,null)})),this.refreshPromiseMap.set(t,n)),n}async query(e,t,n={}){if(!this.getViewId())throw new a.V("No model view specified for query");const i=Object.assign({fetchPolicy:"cache-first",prefetchKey:this.prefetchKey},n);return this.client.query(e,t,i)}async mutate(e,t,n){const{readonly:i}=this.config;if(i)throw new a.n8("Cannot mutate in read-only mode");if(!this.getViewId())throw new a.V("Cannot mutate, no view was specified");return this.client.mutate(e,t,n).then((e=>{const t="53100"===(0,o.P3)("error","");if(!s.t.isOk(e)||t){const n=new a.YA(s.t.getErrorMessage(e));throw t&&(n.isMock=!0),n}return e}))}setStoreViewId(e){this.viewId=e}getViewId(){const e=this.viewId||this.context.currentViewId||this.context.baseViewId;if(!e)throw new Error("Invalid view id!");return e}getBaseViewId(){const e=this.context.baseViewId;if(!e)throw new Error("MdsStore baseViewId invalid!");return e}readLayerId(){return!!this.context.readLayerId}writeLayerId(e){return this.context.shouldWriteLayerId(e)}}},56388:(e,t,n)=>{"use strict";n.d(t,{t:()=>A,H:()=>_});var i=n(80788),r=n(94626),o=n(25119),s=n(44153);var a,l=n(11751),c=n(16142);a||(a={});var u={disable:function(e){var t=e.graphQLErrors,n=e.operation;if(t&&t.some((function(e){return"PersistedQueryNotSupported"===e.message})))return!0;var i=n.getContext().response;return!(!i||!i.status||400!==i.status&&500!==i.status)},useGETForHashedQueries:!1};var d=Object.prototype.hasOwnProperty,h=new WeakMap,p=0,f=function(e){(0,c.V1)(e&&("function"==typeof e.sha256||"function"==typeof e.generateHash),24);var t=(0,s.oE)(u,e),n=t.sha256,i=t.generateHash,a=void 0===i?function(e){return Promise.resolve(n((0,l.y)(e)))}:i,f=t.disable,m=t.useGETForHashedQueries,g=!0,v="forLink"+p++,y=function(e){return new Promise((function(t){return t(a(e))}))};return new o.ApolloLink((function(e,t){(0,c.V1)(t,25);var n=e.query;return new s.cP((function(i){var o,s,a=!1,l=!1,c=function(n,i){var r=n.response,c=n.networkError;if(!a&&(r&&r.errors||c)){a=!0;var d={response:r,networkError:c,operation:e,graphQLErrors:r?r.errors:void 0};if(g=!f(d),r&&r.errors&&r.errors.some((function(e){return"PersistedQueryNotFound"===e.message}))||!g)return o&&o.unsubscribe(),e.setContext({http:{includeQuery:!0,includeExtensions:g}}),l&&e.setContext({fetchOptions:s}),void(o=t(e).subscribe(u))}i()},u={next:function(e){c({response:e},(function(){return i.next(e)}))},error:function(e){c({networkError:e},(function(){return i.error(e)}))},complete:i.complete.bind(i)};return e.setContext({http:{includeQuery:!g,includeExtensions:g}}),m&&g&&!function(e){return e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))}(e)&&(e.setContext((function(e){var t=e.fetchOptions,n=void 0===t?{}:t;return s=n,{fetchOptions:(0,r.Cl)((0,r.Cl)({},n),{method:"GET"})}})),l=!0),g?function(e){if(!e||"object"!=typeof e)return y(e);var t=h.get(e);return t||h.set(e,t=Object.create(null)),d.call(t,v)?t[v]:t[v]=y(e)}(n).then((function(n){e.extensions.persistedQuery={version:1,sha256Hash:n},o=t(e).subscribe(u)})).catch(i.error.bind(i)):o=t(e).subscribe(u),function(){o&&o.unsubscribe()}}))}))},m=n(31863),g=n(50380),v=n(70516),y=n(10843),E=n(96276),S=n(24790),b=n(99625);const O=new y.Ay("model-api-client");const _=(e={})=>()=>new A(e);let T=!1;class A{constructor(e={}){var t,n,a;const l=e.baseUrl||window.location.origin,c=e.server||S.wD,u=e.httpOptions||{};this.graphUrl=e.url||`${l}${c}`,this.mdsContext=e.mdsContext,O.debug(`Initialized Model API client for ${this.graphUrl}`);let d=(h=(e,{headers:t={}})=>((0,g.v)(this.graphUrl,t),{headers:t}),new o.ApolloLink((function(e,t){var n=(0,r.Tt)(e,[]);return new s.cP((function(i){var r;return Promise.resolve(n).then((function(t){return h(t,e.getContext())})).then(e.setContext).then((function(){r=t(e).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)})})).catch(i.error.bind(i)),function(){r&&r.unsubscribe()}}))})));var h;if(null===(t=e.mdsContext)||void 0===t?void 0:t.apqEnabled)if(null===(a=null===(n=window.crypto)||void 0===n?void 0:n.subtle)||void 0===a?void 0:a.digest){const e=f({useGETForHashedQueries:!0,sha256:m.sc});d=d.concat(new i.ApolloLink(((t,n)=>t.query.definitions.some((e=>"OperationDefinition"===e.kind&&"mutation"===e.operation))?n(t):e.request(t,n))))}else T||(O.warn("Crypto API not available in non-secure context; disabling APQ graphql optimization"),T=!0);d=d.concat((0,i.createHttpLink)(Object.assign({uri:this.graphUrl,fetch:(e,t)=>{if("POST"===t.method){const{operationName:n}=JSON.parse(t.body);return fetch(`${e}?operation=${n}`,t)}return fetch(e,t)}},u))),this.apollo=new i.ApolloClient({link:d,cache:new i.InMemoryCache({addTypename:!1})})}async query(e,t,n={}){var i,r,o,s,a,l;if("no-cache"!==n.fetchPolicy&&(null===(i=this.mdsContext)||void 0===i?void 0:i.sharedCaches))for(const i of this.mdsContext.sharedCaches){const r=await i.read(e,t,n);if(void 0!==r)return O.debug(`Using cached response for ${n.prefetchKey}`),r}const c=Object.assign(Object.assign({errorPolicy:"all"},n),{query:e,variables:t,fetchPolicy:"no-cache"});if((null===(r=this.mdsContext)||void 0===r?void 0:r.anonymousHeaderEnabled)&&n.anonymous){(null!==(s=(l=null!==(o=c.context)&&void 0!==o?o:c.context={}).headers)&&void 0!==s?s:l.headers={})["x-apiauthmode"]="PUBLIC"}else if((null===(a=this.mdsContext)||void 0===a?void 0:a.simulateApiOutage)===b.u.TIMEOUT)return w(e);return this.apollo.query(c).then((e=>{const{data:t,errors:n}=e;return{data:t,errors:n}})).catch((e=>{throw O.error(e),new E.tW(e,this.getApolloErrorCode(e))}))}async mutate(e,t,n={}){var i;if((null===(i=this.mdsContext)||void 0===i?void 0:i.simulateApiOutage)===b.u.TIMEOUT)return w(e);const r=Object.assign(Object.assign({errorPolicy:"all"},n),{mutation:e,variables:t});return this.apollo.mutate(r).then((e=>{const{data:t,errors:n}=e;return{data:t,errors:n}})).catch((e=>{throw O.error(e),new E.YA(e,this.getApolloErrorCode(e))}))}async upload(e,t,n,i,r){const o={};let s=0;(0,v.S)(n,((e,t,n)=>{if(e&&((i=e).filename&&i.blob&&i.blob instanceof Blob)){const i="file"+s++;o[i]=e,n[t]=`multipart:${i}`}var i}));const a=new FormData;for(const[e,t]of Object.entries(o))a.append(e,t.blob,t.filename);a.append("query",(0,l.y)(e)),a.append("operation",t),a.append("variables",JSON.stringify(n));const c=(0,g.v)(this.graphUrl,{});return this.uploadFormData(a,c,i,r).then((e=>{if(!A.isOk(e)){const t=A.getErrorCode(e)||"54200";throw new E.yr(A.getErrorMessage(e),t)}return e}))}getApolloErrorCode(e){var t;if(e instanceof i.ApolloError){const n=null===(t=e.networkError)||void 0===t?void 0:t.statusCode;if(n)return`61${n}`}return"61000"}async uploadFormData(e,t,n,i=new XMLHttpRequest){const r=`${this.graphUrl}${e.has("operation")?`?operation=${e.get("operation")}`:""}`;i.open("POST",r,!0),i.responseType="json",i.setRequestHeader("Accept","application/json"),n&&(i.upload.onprogress=n);for(const e in t)i.setRequestHeader(e,t[e]);return new Promise(((t,n)=>{i.onreadystatechange=()=>{4===i.readyState&&(200===i.status?t(i.response):0!==i.status&&n(new E.yr(`${i.status} ${i.statusText}`,`54${i.status}`)))},i.onerror=()=>{n(new E.yr("Network error","54002"))},i.onabort=()=>{O.info("upload canceled!")},i.send(e)}))}static isOk(e,t){if(t){const n=t.split(".");return 0===(e.errors||[]).filter((e=>{if(!e.path)return!0;for(let t=0;t<Math.min(e.path.length,n.length);t++)if(e.path[t]!==n[t])return!1;return!0})).length}return!(null==e?void 0:e.errors)||0===e.errors.length}static getErrorCode({errors:e}){var t;return(null==e?void 0:e.length)&&""+(null===(t=e[0].extensions)||void 0===t?void 0:t.code)||""}static getErrorMessage({errors:e}){let t="";return Array.isArray(e)&&e[0]&&(t=e[0].message||e[0].toString(),e.length>1&&(t+=` (+${e.length-1})`)),t}}function w(e){var t;const n=null===(t=e.definitions.find((e=>"OperationDefinition"===e.kind)).name)||void 0===t?void 0:t.value;return O.warn(`Simulating hang of API query: ${n}`),new Promise((()=>{}))}A.version="2020.05.28"},99625:(e,t,n)=>{"use strict";var i,r;n.d(t,{G:()=>i,u:()=>r}),function(e){e.CACHE="cache",e.PRELOAD="preload",e.NONE="none"}(i||(i={})),function(e){e[e.NONE=0]="NONE",e[e.TIMEOUT=1]="TIMEOUT"}(r||(r={}))},96276:(e,t,n)=>{"use strict";n.d(t,{V:()=>a,YA:()=>o,n8:()=>l,tW:()=>r,yr:()=>s});var i=n(52018);i.t;class r extends i.t{constructor(e,t="62001"){super(e),this.name="MdsReadError",this.code=t}}class o extends i.t{constructor(e,t="63001"){super(e),this.name="MdsWriteError",this.code=t}}class s extends i.t{constructor(e,t="63002"){super(e),this.name="MdsUploadError",this.code=t}}class a extends i.t{constructor(e,t="52404"){super(e),this.name="InvalidView",this.code=t}}class l extends i.t{constructor(e,t="53001"){super(e),this.name="ReadOnly",this.code=t}}},61430:(e,t,n)=>{"use strict";var i,r,o,s;n.d(t,{fd:()=>s,pi:()=>r,yg:()=>i}),function(e){e.PHOTO="photo",e.RICH="rich",e.VIDEO="video"}(i||(i={})),function(e){e.COMMENT="comment",e.MATTERTAG="mattertag"}(r||(r={})),function(e){e.ALPHA="alpha",e.COLORED_ROOMS="colored_rooms",e.MEASUREMENTS="measurements",e.PHOTOGRAMY="photogramy",e.SCHEMATIC="schematic"}(o||(o={})),function(e){e.AVAILABLE="available",e.LOCKED="locked",e.UNAVAILABLE="unavailable"}(s||(s={}))},74381:(e,t,n)=>{"use strict";var i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,E,S,b,O,_,T,A,w,N,I,R,k,L,M,D,P,C,x,U,j,F,H,G,B,V,W,z,$,K,Y,q,Q,X,Z,J,ee,te,ne,ie,re,oe,se,ae,le,ce,ue,de,he,pe,fe,me,ge,ve,ye,Ee,Se,be,Oe,_e,Te,Ae,we,Ne,Ie,Re,ke,Le,Me,De,Pe,Ce,xe,Ue,je,Fe,He,Ge,Be,Ve,We,ze,$e,Ke,Ye,qe,Qe,Xe,Ze,Je,et,tt,nt,it,rt,ot,st,at,lt,ct;n.d(t,{$X:()=>He,$h:()=>Ne,D6:()=>Ye,ES:()=>nt,I$:()=>g,K7:()=>Oe,OQ:()=>ie,UR:()=>$,UY:()=>x,WU:()=>rt,Zw:()=>we,_f:()=>ee,gP:()=>M,hL:()=>Me,jG:()=>te,jM:()=>Q,n:()=>Ie,nE:()=>at,pi:()=>ke,pu:()=>De,ve:()=>Ee,w0:()=>Ge,xx:()=>Ce,zf:()=>ae}),function(e){e.NAME="NAME",e.ROLE="ROLE",e.TYPE="TYPE",e.USER_EMAIL="USER_EMAIL",e.USER_GROUP_NAME="USER_GROUP_NAME"}(i||(i={})),function(e){e.EMPTY="empty",e.PARSED="parsed",e.RAW="raw",e.VERIFIED="verified"}(r||(r={})),function(e){e.FULL="full",e.NONE="none",e.PARTIAL="partial"}(o||(o={})),function(e){e.FOREVER="FOREVER",e.LAST_7_DAYS="LAST_7_DAYS",e.LAST_30_DAYS="LAST_30_DAYS"}(s||(s={})),function(e){e.ESTIMATE="estimate",e.EXACT="exact",e.TRUNCATED="truncated"}(a||(a={})),function(e){e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.OPENED="OPENED",e.PENDING="PENDING"}(l||(l={})),function(e){e.IMPRESSION="impression",e.MODELLOADED="modelLoaded"}(c||(c={})),function(e){e.LAST7DAYS="last7Days",e.LAST30DAYS="last30Days",e.LIFETIME="lifetime"}(u||(u={})),function(e){e.CREATED="created",e.IMPRESSIONS="impressions",e.NAME="name",e.UNIQUE_VISITORS="unique_visitors",e.VIEWS="views"}(d||(d={})),function(e){e.CAPTURE="capture",e.WORKSHOP="workshop"}(h||(h={})),function(e){e.LZMA="lzma",e.NONE="none"}(p||(p={})),function(e){e.AVAILABLE="available",e.LOCKED="locked",e.UNAVAILABLE="unavailable"}(f||(f={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload"}(m||(m={})),function(e){e.IMAGE="image",e.PDF="pdf",e.RICH="rich",e.VIDEO="video",e.ZIP="zip"}(g||(g={})),function(e){e.PROVISIONED="provisioned",e.UPLOADED="uploaded"}(v||(v={})),function(e){e.LOCKED="locked",e.UNAVAILABLE="unavailable",e.UNLOCKED="unlocked"}(y||(y={})),function(e){e.V1="v1",e.V2="v2"}(E||(E={})),function(e){e.COMPLETED="completed",e.FAILED="failed",e.INPROGRESS="inprogress",e.ORDERED="ordered",e.PLACED="placed",e.PREVIEWABLE="previewable"}(S||(S={})),function(e){e.CANCELED="canceled",e.DELETED="deleted",e.DELETING="deleting",e.FAILED="failed",e.ORDERED="ordered",e.PLACED="placed",e.PREVIEWABLE="previewable",e.UNAVAILABLE="unavailable",e.UNKNOWN="unknown",e.UNLOCKED="unlocked",e.UNLOCKING="unlocking"}(b||(b={})),function(e){e.DOLLHOUSE="dollhouse",e.FLOORPLAN="floorplan",e.OUTDOOR="outdoor",e.PANORAMA="panorama",e.TRANSITION="transition",e.UNKNOWN="unknown"}(O||(O={})),function(e){e.CAP_SVCS="CAP_SVCS",e.DIGI_EXPRESS="DIGI_EXPRESS",e.DIGI_PRO="DIGI_PRO"}(_||(_={})),function(e){e.WALL="wall",e.WINDOW="window"}(T||(T={})),function(e){e.HANDHELD="handheld",e.OTHER="other",e.PRO="pro",e.SPHERICAL="spherical"}(A||(A={})),function(e){e.BUNDLE="bundle",e.USER="user",e.VISION="vision"}(w||(w={})),function(e){e.DUPLICATE="duplicate",e.FAIL="fail",e.REPLACE="replace",e.SKIP="skip"}(N||(N={})),function(e){e.CREATED="created",e.MODIFIED="modified"}(I||(I={})),function(e){e.FAST="fast",e.NORMAL="normal",e.URGENT="urgent"}(R||(R={})),function(e){e.ASPIRATIONAL="aspirational",e.CONVERSATIONAL="conversational",e.INFORMATIVE="informative"}(k||(k={})),function(e){e.KILOMETERS="kilometers",e.MILES="miles"}(L||(L={})),function(e){e.INVISIBLE="invisible",e.WALL="wall"}(M||(M={})),function(e){e.CSV="CSV"}(D||(D={})),function(e){e.MATTERTAGS="Mattertags",e.NOTECOMMENTS="NoteComments",e.NOTES="Notes"}(P||(P={})),function(e){e.ACCOUNT_DELETED="ACCOUNT_DELETED",e.ACCOUNT_INACTIVE="ACCOUNT_INACTIVE",e.ACTIVE="ACTIVE",e.ARCHIVED="ARCHIVED",e.CORRUPT_MODEL="CORRUPT_MODEL",e.DELETED="DELETED",e.FAILED_PROCESSING="FAILED_PROCESSING",e.FLAGGED="FLAGGED",e.PENDING="PENDING",e.PROCESSING="PROCESSING",e.UNRECOVERABLE_ERRORS="UNRECOVERABLE_ERRORS"}(C||(C={})),function(e){e.BLOCKED="blocked",e.DISABLED="disabled",e.GATED="gated",e.UNLOCKED="unlocked"}(x||(x={})),function(e){e.MAY="may",e.MUST="must",e.MUST_NOT="must_not"}(U||(U={})),function(e){e.ALPHA="alpha",e.COLORED_ROOMS="colored_rooms",e.MEASUREMENTS="measurements",e.PHOTOGRAMY="photogramy",e.SCHEMATIC="schematic"}(j||(j={})),function(e){e.ADMIN="Admin",e.FOLDERCREATOR="FolderCreator",e.FOLDERSHARES="FolderShares",e.USERGROUPFOLDERSHARES="UserGroupFolderShares"}(F||(F={})),function(e){e.ADDRESS="address",e.INTERNALID="internalId",e.MLSID="mlsId",e.MLSNAME="mlsName",e.STANDARD="standard"}(H||(H={})),function(e){e.USEREMAIL="UserEmail",e.USERGROUPID="UserGroupId",e.USERID="UserId"}(G||(G={})),function(e){e.ALL="all",e.ID="id",e.NAME="name"}(B||(B={})),function(e){e.CREATED="created",e.MODIFIED="modified",e.NAME="name"}(V||(V={})),function(e){e.CLIENT="client",e.GSV="gsv",e.PROCESSING="processing",e.UNKNOWN="unknown"}(W||(W={})),function(e){e.COMPLETE="COMPLETE",e.ERROR="ERROR",e.PENDING="PENDING"}(z||(z={})),function(e){e.REEL="reel",e.STORY="story"}($||($={})),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.CREATED="created",e.FAILED="failed",e.INPROGRESS="inprogress"}(K||(K={})),function(e){e.FAMILY_36H11="FAMILY_36H11",e.STANDARD41H12="STANDARD41H12",e.UNSUPPORTED="UNSUPPORTED"}(Y||(Y={})),function(e){e.APRILTAG="apriltag"}(q||(q={})),function(e){e.ANCHORLOCATION="AnchorLocation",e.HIGHLIGHTREEL="HighlightReel",e.LABEL="Label",e.MATTERTAG="Mattertag",e.MEASUREMENTPATH="MeasurementPath",e.MODELFLOOR="ModelFloor",e.MODELROOM="ModelRoom",e.NOTE="Note",e.OBJECTANNOTATION="ObjectAnnotation",e.ORDEREDLIST="OrderedList",e.PANORAMICIMAGELOCATION="PanoramicImageLocation",e.PHOTO="Photo"}(Q||(Q={})),function(e){e.SHOWCASE="showcase"}(X||(X={})),function(e){e.PHOTO="photo",e.RICH="rich",e.VIDEO="video"}(Z||(Z={})),function(e){e.DEFAULT="default",e.LANDMARK="landmark",e.OBJECTANNOTATION="objectAnnotation"}(J||(J={})),function(e){e.LINETYPE_2D="linetype_2D",e.LINETYPE_3D="linetype_3D"}(ee||(ee={})),function(e){e.DISABLED="disabled",e.MEASURE="measure",e.MEASUREANDVIEW="measureAndView"}(te||(te={})),function(e){e.FLOORS="floors",e.HIGHLIGHTREEL="highlightReel",e.IMAGE="image",e.LABELS="labels",e.MATTERTAGS="mattertags",e.MEASUREMENTPATHS="measurementPaths",e.ORDEREDLISTS="orderedLists",e.PLAYEROPTIONS="playerOptions",e.SWEEPS="sweeps"}(ne||(ne={})),function(e){e.FULL="full",e.PUBLIC="public",e.VIEWER="viewer"}(ie||(ie={})),function(e){e.ADMIN="Admin",e.MODELCREATOR="ModelCreator",e.MODELSHARES="ModelShares",e.USERGROUPMODELSHARES="UserGroupModelShares"}(re||(re={})),function(e){e.PASSWORD="password",e.PRIVATE="private",e.PUBLIC="public",e.UNLISTED="unlisted"}(oe||(oe={})),function(e){e.ACTIVE="active",e.ARCHIVED="archived",e.FLAGGED="flagged",e.PENDING="pending"}(se||(se={})),function(e){e.BLACK="black",e.GREY="grey",e.WHITE="white"}(ae||(ae={})),function(e){e.DEFAULT="default",e.MLS="mls",e.UNBRANDED="unbranded"}(le||(le={})),function(e){e.DESCRIPTION="description",e.SUMMARY="summary"}(ce||(ce={})),function(e){e.ACTIVATION_STATE_CHANGED="activation_state_changed",e.BUNDLE_COMPLETED="bundle_completed",e.BUNDLE_REQUESTED="bundle_requested",e.BUNDLE_UPDATED="bundle_updated",e.CREATED="created",e.DELETED="deleted",e.DETAILS_CHANGED="details_changed",e.INSERTED="inserted",e.PROCESSED="processed",e.REPLACED="replaced",e.RESTORED="restored",e.TRANSFERRED_IN="transferred_in",e.TRANSFERRED_OUT="transferred_out",e.UPDATED="updated",e.UPLOADED="uploaded",e.VISIBILITY_CHANGED="visibility_changed"}(ue||(ue={})),function(e){e.ACTIVE="active",e.ARCHIVED="archived"}(de||(de={})),function(e){e.ID="id",e.INTERNALID="internalId",e.MLSID="mlsId"}(he||(he={})),function(e){e.DEFAULT="default",e.VR="vr"}(pe||(pe={})),function(e){e.COMPLETED="completed",e.FAILED="failed",e.PROCESSING="processing",e.STAGING="staging"}(fe||(fe={})),function(e){e.USEREMAIL="UserEmail",e.USERGROUPID="UserGroupId",e.USERID="UserId"}(me||(me={})),function(e){e.ACCESSVISIBILITY="accessVisibility",e.ADDRESS="address",e.CAMERA="camera",e.CAMERAFAMILYID="cameraFamilyId",e.CAMERAGROUPID="cameraGroupId",e.CAMERAMANUFACTURER="cameraManufacturer",e.CAMERAMANUFACTURERID="cameraManufacturerId",e.CAMERAMODEL="cameraModel",e.CAMERAMODELID="cameraModelId",e.CAMERATYPEID="cameraTypeId",e.DESCRIPTION="description",e.EXTENSIONTAG="extensiontag",e.GEODISTANCE="geoDistance",e.GEOREGION="geoRegion",e.ID="id",e.INTERNALID="internalId",e.MLSID="mlsId",e.MLSNAME="mlsName",e.NAME="name",e.STANDARD="standard",e.SUMMARY="summary",e.USERPROPERTYCLASSIFICATION="userPropertyClassification",e.USERPROPERTYCLASSIFICATIONEXACT="userPropertyClassificationExact",e.VISIONPROPERTYCLASSIFICATION="visionPropertyClassification",e.VISIONPROPERTYCLASSIFICATIONEXACT="visionPropertyClassificationExact",e.VISIONVERSION="visionVersion"}(ge||(ge={})),function(e){e.CREATED="created",e.INTERNALID="internalId",e.LAST7IMPRESSIONSEVENTCOUNT="last7ImpressionsEventCount",e.LAST7MODELSLOADEDEVENTCOUNT="last7ModelsLoadedEventCount",e.LAST7MODELSLOADEDUSERCOUNT="last7ModelsLoadedUserCount",e.LAST30IMPRESSIONSEVENTCOUNT="last30ImpressionsEventCount",e.LAST30MODELSLOADEDEVENTCOUNT="last30ModelsLoadedEventCount",e.LAST30MODELSLOADEDUSERCOUNT="last30ModelsLoadedUserCount",e.LIFETIMEIMPRESSIONSEVENTCOUNT="lifetimeImpressionsEventCount",e.LIFETIMEMODELSLOADEDEVENTCOUNT="lifetimeModelsLoadedEventCount",e.LIFETIMEMODELSLOADEDUSERCOUNT="lifetimeModelsLoadedUserCount",e.MLSID="mlsId",e.MODIFIED="modified",e.NAME="name",e.POSTALCODE="postalCode",e.SCORE="score"}(ve||(ve={})),function(e){e.COPY="copy",e.DEMO="demo",e.PROCESSING="processing",e.TRANSFER="transfer",e.UNKNOWN="unknown"}(ye||(ye={})),function(e){e.ACTIVATING="activating",e.ACTIVATION_PENDING="activation_pending",e.ACTIVE="active",e.FAILED="failed",e.INACTIVATING="inactivating",e.INACTIVATION_PENDING="inactivation_pending",e.INACTIVE="inactive",e.PENDING="pending",e.PROCESSING="processing",e.STAGING="staging"}(Ee||(Ee={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(Se||(Se={})),function(e){e.COPY="copy",e.DEMO="demo",e.ORIGINAL="original"}(be||(be={})),function(e){e.PRIVATE="private",e.PUBLIC="public"}(Oe||(Oe={})),function(e){e.SERIAL="serial"}(_e||(_e={})),function(e){e.DOORWAY="doorway",e.OPENING="opening"}(Te||(Te={})),function(e){e.CREATED="created",e.NAME="name",e.STATUS="status",e.SUBSCRIPTION_ID="subscription_id"}(Ae||(Ae={})),function(e){e.AUTO="auto",e.LEFT="left",e.RIGHT="right"}(we||(we={})),function(e){e.AUTO="auto",e.MANUAL="manual",e.UNPLACED="unplaced"}(Ne||(Ne={})),function(e){e.UPLOAD="upload",e.VISION="vision"}(Ie||(Ie={})),function(e){e.CYLINDRICAL="cylindrical",e.EQUIRECTANGULAR="equirectangular",e.SKYBOX="skybox"}(Re||(Re={})),function(e){e.COMMENT="comment",e.MATTERTAG="mattertag"}(ke||(ke={})),function(e){e.DISCOVER="discover",e.FOLDER="folder",e.GRANT="grant",e.JOB="job",e.MODEL="model",e.ORDER="order",e.ORGANIZATION="organization",e.USAGE="usage",e.USER="user"}(Le||(Le={})),function(e){e.SNAPSHOT="snapshot",e.TOUR="tour"}(Me||(Me={})),function(e){e.BUNDLE="bundle",e.USER="user",e.VISION="vision"}(De||(De={})),function(e){e.ICON="icon",e.ORIGINAL="original",e.PRESENTATION="presentation",e.PREVIEW="preview",e.THUMBNAIL="thumbnail",e.WEB="web"}(Pe||(Pe={})),function(e){e.EQUIRECTANGULAR="equirectangular",e.PHOTO2D="photo2D"}(Ce||(Ce={})),function(e){e.AVAILABILITY="availability",e.FLAG="flag",e.QUOTA="quota",e.VALUE="value"}(xe||(xe={})),function(e){e.COMPLETE="complete",e.FAILED="failed",e.INPROGRESS="inprogress",e.STAGING="staging"}(Ue||(Ue={})),function(e){e.USER="user",e.VISION="vision"}(je||(je={})),function(e){e.FLOORPLAN="FLOORPLAN",e.PHOTO="PHOTO",e.VIDEO="VIDEO"}(Fe||(Fe={})),function(e){e.OPEN="open",e.RESOLVED="resolved"}(He||(He={})),function(e){e.BOUNDARYEDGE="boundaryEdge",e.BOUNDARYVERTEX="boundaryVertex",e.ROOM="room"}(Ge||(Ge={})),function(e){e.ABORTED="aborted",e.ALIGNED="aligned",e.DELETED="deleted",e.FAILED="failed",e.UNALIGNED="unaligned"}(Be||(Be={})),function(e){e.ANCHOR="anchor",e.ID="id",e.LOCATION="location"}(Ve||(Ve={})),function(e){e.MESH="mesh",e.PANO="pano",e.UNKNOWN="unknown"}(We||(We={})),function(e){e.FACE_BLURRING="face_blurring",e.FIDUCIAL_DETECTION="fiducial_detection",e.FIDUCIAL_REMOVAL="fiducial_removal"}(ze||(ze={})),function(e){e.ADDRESS="ADDRESS",e.ALL="ALL",e.CREATED_BY="CREATED_BY",e.INTERNAL_ID="INTERNAL_ID",e.MLS_ID="MLS_ID",e.MLS_NAME="MLS_NAME"}($e||($e={})),function(e){e.DEMO="demo",e.DISCOVERABLE="discoverable",e.FLAGGED="flagged",e.INACTIVE="inactive"}(Ke||(Ke={})),function(e){e.DEFAULT="default",e.DISABLED="disabled",e.ENABLED="enabled"}(Ye||(Ye={})),function(e){e.FOLDER="Folder",e.MODEL="Model",e.ORGANIZATION="Organization"}(qe||(qe={})),function(e){e.USER="USER",e.USER_GROUP="USER_GROUP"}(Qe||(Qe={})),function(e){e.ASC="asc",e.DESC="desc"}(Xe||(Xe={})),function(e){e.ACCEPTED="accepted",e.DISMISSED="dismissed",e.REJECTED="rejected",e.UNREVIEWED="unreviewed"}(Ze||(Ze={})),function(e){e.HIGH="high",e.LOW="low"}(Je||(Je={})),function(e){e.AFTERNOON="afternoon",e.DAWN="dawn",e.DUSK="dusk",e.MORNING="morning",e.NIGHT="night"}(et||(et={})),function(e){e.ACCEPTED="accepted",e.CANCELLED="cancelled",e.INVALID="invalid",e.PENDING="pending",e.REJECTED="rejected"}(tt||(tt={})),function(e){e.FADE_TO_BLACK="fade_to_black",e.INSTANT="instant",e.INTERPOLATE="interpolate"}(nt||(nt={})),function(e){e.CAMERAUNSUPPORTED="cameraUnsupported",e.ENABLEMENTEXPIRED="enablementExpired",e.FEATUREBLOCKED="featureBlocked",e.NOTIMPLEMENTED="notImplemented",e.ORGSETTINGSDISABLED="orgSettingsDisabled",e.PERMISSIONMISSINGUNLOCK="permissionMissingUnlock",e.PERMISSIONMISSINGVIEW="permissionMissingView",e.QUOTAEXCEEDED="quotaExceeded"}(it||(it={})),function(e){e.IMPERIAL="imperial",e.METRIC="metric"}(rt||(rt={})),function(e){e.CREATED="created",e.EMAIL="email",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.MODIFIED="modified"}(ot||(ot={})),function(e){e.DEFAULT="default",e.ROOT="root",e.SELF="self"}(st||(st={})),function(e){e.DOLLHOUSE="dollhouse",e.FLOORPLAN="floorplan",e.MESH="mesh",e.PANORAMA="panorama"}(at||(at={})),function(e){e.BASIC="basic",e.NONE="none",e.TOKEN="token"}(lt||(lt={})),function(e){e.CANCELED="Canceled",e.COMPLETED="Completed",e.CONTINUEDASNEW="ContinuedAsNew",e.FAILED="Failed",e.RUNNING="Running",e.TERMINATED="Terminated",e.TIMEDOUT="TimedOut",e.UNRECOGNIZED="Unrecognized",e.UNSPECIFIED="Unspecified"}(ct||(ct={}))},24790:(e,t,n)=>{"use strict";n.d(t,{l9:()=>o,qw:()=>s,vE:()=>r,wD:()=>i});const i="/api/mp/models/graph",r="/api/mp/attachments/graph",o="data.model.views",s="aaaaaaaaaaaaaaaaaaaaaaaaa"},44094:(e,t,n)=>{"use strict";function i(e){return null!=e}n.d(t,{s:()=>i})},71687:(e,t,n)=>{"use strict";n.d(t,{$c:()=>s,A5:()=>ce,AO:()=>Se,CE:()=>d,Et:()=>r,FI:()=>M,GR:()=>H,Gw:()=>xe,HX:()=>w,He:()=>ue,J$:()=>ge,JN:()=>ze,JY:()=>ve,KT:()=>de,Kv:()=>$,LG:()=>we,Ll:()=>fe,M7:()=>Ve,N4:()=>Z,N7:()=>De,N9:()=>j,Ne:()=>B,Np:()=>Te,PD:()=>le,PJ:()=>pe,PM:()=>V,Pn:()=>Ee,QS:()=>z,QW:()=>N,Qj:()=>p,Qm:()=>je,SD:()=>He,SH:()=>Ue,T9:()=>be,TN:()=>K,TV:()=>he,TY:()=>f,Tx:()=>ne,UN:()=>Be,Uu:()=>te,Vc:()=>x,Vu:()=>se,Wh:()=>Oe,X$:()=>G,X7:()=>v,XQ:()=>Ce,Xf:()=>Pe,Xx:()=>A,YC:()=>We,Yj:()=>me,Yr:()=>_,Z7:()=>h,ZF:()=>P,_q:()=>Q,_v:()=>S,aF:()=>i,aU:()=>L,az:()=>D,bj:()=>F,co:()=>Ie,cy:()=>q,dC:()=>Le,dT:()=>g,di:()=>u,eE:()=>l,ep:()=>b,et:()=>y,f0:()=>Ne,fO:()=>W,gS:()=>C,gk:()=>Ae,gy:()=>Y,iV:()=>ye,jh:()=>c,kG:()=>ie,kM:()=>oe,kd:()=>X,lN:()=>Me,lf:()=>J,mL:()=>R,nu:()=>I,pR:()=>k,qD:()=>_e,qL:()=>o,qy:()=>a,rA:()=>E,rz:()=>ae,sA:()=>re,se:()=>Re,tQ:()=>Ge,uq:()=>$e,vM:()=>ee,wY:()=>ke,yR:()=>T,yT:()=>Fe,zX:()=>O,zj:()=>m,zy:()=>U});const i="IAnalytics",r="IAnnotationsModule",o="IApiClientModule",s="IAppAnalytics",a="IAttachmentsModule",l="IAutomationSupport",c="ICameraModule",u="ICameraStartModule",d="ICanvas",h="IContainerDataModule",p="IDefurnishModule",f="IPanoramaControls",m="IDollhouseControls",g="IFloorplanControls",v="ICommonControlsForwarder",y="IZoomControls",E="ICurrentPanoMarker",S="ICursorController",b="ICursorDataModule",O="ICursorMesh",_="IDwellAnalytics",T="IFatcaster",A="IFloorCaster",w="IFloorsDataModule",N="IFloorsViewDataModule",I="IGuiModule",R="IInput",k="IInteractionModeModule",L="ILabelDataModule",M="ILabelRenderer",D="ILayersModule",P="ILineRenderer",C="ITranslate",x="ILoginRedirect",U="IMeasurementModeModule",j="IMattertagDataModule",F="IModelDataModule",H="IModelMeshModule",G="IMouseCursor",B="IMeshApiFixup",V="IMeshQuery",W="IMeshTrimDataModule",z="IModelRatingModule",$="INavigationModule",K="INotesModule",Y="IObjectTagSuggestionsDataModule",q="IOrderedListModule",Q="IOrthographicControls",X="IPinsModule",Z="IPluginRegistry",J="IPluginConfigDataModule",ee="IPluginUIModule",te="IPolicyModule",ne="IPreRendererModule",ie="IExternalR3FModule",re="IRaycasterModule",oe="IRenderToTexture",se="IRoomBoundDataModule",ae="IRoomBoundModule",le="IRoomDataModule",ce="IRoomBoundRenderer",ue="IScanInfoDataModule",de="ISceneModule",he="ISchedulerModule",pe="IScreenshotsModule",fe="ISdkLanding",me="ISearchModule",ge="ISensorModule",ve="ISES",ye="ISkyboxModule",Ee="ISnapshotsModule",Se="ISnapshotsEditor",be="IStorageModule",Oe="ISweepDataModule",_e="ISweepPano",Te="ISweepPathModule",Ae="ISweepPinMesh",we="ISweepPinNavigation",Ne="ISweepPortalMesh",Ie="ISweepPortalNavigation",Re="ISweepPucks",ke="ISweepTextureLoader",Le="ISweepViewDataModule",Me="ITagsModule",De="IToolsModule",Pe="IToursControls",Ce="IToursDataModule",xe="IToursGenerator",Ue="IUsersModule",je="IViewportModule",Fe="IViewmodeChange",He="IViewmodesDataModule",Ge="IVideoRecorder",Be="IVisibleMeshBounds",Ve="IWebGLRendererModule",We="IWebXR",ze="IFeatureUsageAnalytics",$e="IToolAnnouncementView"},68375:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var i=n(96540),r=n(77570);function o(){return(0,i.useContext)(r.B).analytics}},37518:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,q:()=>i});const i="analytics_provider",r="features/analytics-beta"},85935:(e,t,n)=>{"use strict";n.d(t,{$E:()=>f,BX:()=>v,Q9:()=>m,oA:()=>l,uo:()=>p});var i=n(77232),r=n(54882),o=n(64491),s=n(96824);const a=e=>`${e}_3.0`,l=e=>e,c=e=>{var t,n;return{pme:null!==(n=(null!==(t=window.MP_PLATFORM_METADATA)&&void 0!==t?t:{}).pme)&&void 0!==n&&n}},u=e=>({height:e.innerHeight,width:e.innerWidth}),d=e=>({width:e.screen.width,height:e.screen.height,density:e.devicePixelRatio}),h=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return""}},p=()=>{const e=(new i.UAParser).getResult();let t=e.os.name,n=e.browser.name;const r=Object.assign({},e.device);return(0,o.J0)()&&(t="iPadOS",r.vendor="Apple",r.model="iPad",r.type="tablet","Safari"===n&&(n="Mobile Safari")),{browser:{name:n,major:e.browser.major,version:e.browser.version,language:navigator.language||"",languages:navigator.languages?navigator.languages.join(", "):""},os:{name:t,version:e.os.version},device:{vendor:r.vendor,model:r.model,type:r.type}}};function f(e){var t;const n=window,i=n.parent!==n,r="1"===e.play||"true"===e.play;return Object.assign({model_id:e.model||e.m||"",language_tag:null!==(t=e.lang)&&void 0!==t?t:null,quickstart:"1"===e.qs,is_mobile:(0,o.Fr)(),iframe:i,session_id:(0,s.e)(),platform:p(),pme:c(n),authTokenProvided:!!e.auth||!!e.connectauth},m(r))}function m(e){const t=window,n=t.innerWidth/t.innerHeight,i=t.parent!==t;return{start_source:e?"autoplay":i?"click":"fullpage",autoplay:e,aspect_ratio:isFinite(n)?n:1,window:u(t)}}function g(e,t){const n=window;return{app:{name:a(t),version:"25.7.3_webgl-869-g4345cd94f0"},locale:e,screen:d(n),timezone:h(),location:{}}}function v(e,t,n){const i=g(t,n);return(0,r.A)(e).then((e=>{i.location={city:e.city,continent:e.continent,country:e.country_name,country_code:e.country_code,region:e.region,timezone:e.timezone}})),i}},30926:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var i=n(84710),r=n(71415),o=n(95330);class s extends i.B{constructor(){super(),this.name="annotations-view-data",this.dockedAnnotationObservable=(0,o.p)(null),this.billboardAnnotationObservable=(0,o.p)(null),this.billboardSelectedObservable=(0,o.p)(!1),this.capabilities=new Map}setDockedAnnotation(e,t){const n=e&&t?{id:e,annotationType:t}:null;this.isEqual(n,this.dockedAnnotation)||this.atomic((()=>{this.dockedAnnotationObservable.value=n,n&&this.billboardSelected&&(this.billboardSelectedObservable.value=!1)}))}get dockedAnnotation(){return this.dockedAnnotationObservable.value}onDockedAnnotationChanged(e){return this.dockedAnnotationObservable.onChanged(e)}setBillboardAnnotation(e,t,n){const i=e&&t?{id:e,annotationType:t}:null;this.atomic((()=>{this.isEqual(i,this.billboardAnnotation)||(this.billboardAnnotationObservable.value=i),void 0===n&&i||(this.billboardSelectedObservable.value=!!n,n&&this.dockedAnnotation&&(this.dockedAnnotationObservable.value=null))}))}get billboardAnnotation(){return this.billboardAnnotationObservable.value}get billboardSelected(){return this.billboardSelectedObservable.value}get selectedAnnotation(){return this.billboardSelected?this.billboardAnnotation:null}updateCapabilities(e,t){const n=this.getCapabilities(e);n.atomic((()=>{n.dock=t.dock,n.preview=t.preview,n.share=t.share}))}getCapabilities(e){const t={dock:!0,preview:!0,select:!0,share:!0};this.capabilities.has(e)||this.capabilities.set(e,(0,r.c)(t));return this.capabilities.get(e)||(0,r.c)(t)}isEqual(e,t){return(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.annotationType)===(null==t?void 0:t.annotationType)}}},52678:(e,t,n)=>{"use strict";var i;n.d(t,{c:()=>i}),function(e){e.ACCESS_TOKEN_REQUIRED="object.access.token.required",e.FORBIDDEN="spaces.public.access.password.forbidden",e.INVALID_PASSWORD="spaces.public.access.invalid_password",e.TOO_MANY_ATTEMPTS="spaces.public.access.too_many_attempts",e.UNAUTHORIZED="user.unauthorized",e.NOT_FOUND="not.found",e.PASSWORD_REQUIRED="model.unauthorized"}(i||(i={}))},30716:(e,t,n)=>{"use strict";var i;n.d(t,{L:()=>i}),function(e){e.INVALID_CREDENTIALS="invalidcredentials",e.TOO_MANY_ATTEMPTS="toomanyattempts",e.UNKNOWN="unknown"}(i||(i={}))},68137:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var i=n(75778);class r{constructor(){const e=(0,i.P3)("auth","");this.authenticate(e)}isAuthenticated(){return!!r.token}authenticate(e){return!(!e||"string"!=typeof e)&&(r.token=e.replace(","," "),!0)}getAuthorizationHeader(){return r.token?r.token:""}}},55066:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var i=n(10843),r=n(30716),o=n(52678),s=n(50380);const a=new i.Ay("mp-password-authentication");class l{constructor(e=window.location.origin){this.baseUrl=e,this.errorType=r.L.UNKNOWN}async authenticate(e,t){if(!e.match(/[a-zA-Z0-9]+/))return a.error(`Invalid Model ID ${e}`),!1;const n=`${this.baseUrl}/api/v2/models/${e}/public-access/`;return this.fetchToken(n,t).then((async e=>{let t={};return e&&(t=await e.json(),e.ok&&t.token)?(this.login(t.token),!0):(this.errorType=l.getErrorType(t.code),this.logout(),!1)}))}isAuthenticated(){return void 0!==l.token}login(e){l.token=e}logout(){l.token=void 0}getAuthorizationHeader(){return l.token?`Matterport-Object-Access ${l.token}`:""}async fetchToken(e,t){const n=JSON.stringify({password:t}),i={"Content-Type":"application/json"};return(0,s.v)(e,i),fetch(e,{method:"POST",cache:"no-cache",headers:i,body:n})}static getErrorType(e){switch(e){case o.c.TOO_MANY_ATTEMPTS:return r.L.TOO_MANY_ATTEMPTS;case o.c.INVALID_PASSWORD:return r.L.INVALID_CREDENTIALS}return r.L.UNKNOWN}}},80519:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});class i{static setToken(e){i.token="Bearer "+e}isAuthenticated(){return!!i.token}authenticate(e){return!(!e||"string"!=typeof e)}getAuthorizationHeader(){return i.token?i.token:""}}},76318:(e,t,n)=>{"use strict";var i,r;n.d(t,{MF:()=>i,Mo:()=>s,c5:()=>r,oY:()=>o}),function(e){e.BASE="base",e.STANDARD="standard",e.HIGH="high",e.ULTRAHIGH="ultrahigh"}(i||(i={})),function(e){e[e.BASE=512]="BASE",e[e.STANDARD=1024]="STANDARD",e[e.HIGH=2048]="HIGH",e[e.ULTRAHIGH=4096]="ULTRAHIGH"}(r||(r={}));const o={[i.BASE]:r.BASE,[i.STANDARD]:r.STANDARD,[i.HIGH]:r.HIGH,[i.ULTRAHIGH]:r.ULTRAHIGH},s={[r.BASE]:i.BASE,[r.STANDARD]:i.STANDARD,[r.HIGH]:i.HIGH,[r.ULTRAHIGH]:i.ULTRAHIGH}},56208:(e,t,n)=>{"use strict";n.d(t,{EY:()=>c,Q$:()=>i});var i,r=n(84710),o=n(85616),s=n(5601),a=n(23339),l=n(88664);class c extends r.B{constructor(e={}){super(),this.name="player-options",this.options=new u(e)}copy(e){e&&(this.modified=e.modified,this.options.copy(e.options),this.options.commit(),this.commit())}resetDefaultTourOptions(){this.options.fast_transitions=l.m7,this.options.transition_speed=l.iw,this.options.transition_time=l.SM,this.options.pan_speed=l.u7,this.options.dollhouse_pan_speed=l.qr,this.options.zoom_duration=l.R4,this.options.pan_angle=l.s8,this.options.pan_direction=l.ek,this.options.commit()}}class u extends o.v{constructor(e){super(),this.defurnish_view=!0,this.presented_by=!1,this.highlight_reel=!0,this.floor_plan=!0,this.tour_buttons=!0,this.room_bounds=!1,this.labels=!0,this.labels_dh=!0,this.floor_select=!0,this.space_search=!0,this.measurements=!0,this.measurements_saved=!0,this.dollhouse=!0,this.contact_email=!1,this.address=!1,this.contact_name=!1,this.model_summary=!1,this.contact_phone=!1,this.model_name=!1,this.external_url=!1,this.unit_type=a.t.IMPERIAL,this.background_color=s.v.default,this.fast_transitions=l.m7,this.transition_speed=l.iw,this.transition_time=l.SM,this.pan_speed=l.u7,this.dollhouse_pan_speed=l.qr,this.zoom_duration=l.R4,this.pan_angle=l.s8,this.pan_direction=l.ek,e&&this.copy(e)}copy(e){this.presented_by=!!e.presented_by,this.highlight_reel=!!e.highlight_reel,this.floor_plan=!!e.floor_plan,this.room_bounds=!!e.room_bounds,this.tour_buttons=!!e.tour_buttons,this.labels=!!e.labels,this.space_search=!!e.space_search,this.dollhouse=!!e.dollhouse,this.fast_transitions=!!e.fast_transitions,this.contact_email=!!e.contact_email,this.address=!!e.address,this.contact_name=!!e.contact_name,this.model_summary=!!e.model_summary,this.contact_phone=!!e.contact_phone,this.model_name=!!e.model_name,this.external_url=!!e.external_url,this.defurnish_view=!!e.defurnish_view,void 0!==e.measurements&&(this.measurements=e.measurements),void 0!==e.labels_dh&&(this.labels_dh=e.labels_dh),void 0!==e.floor_select&&(this.floor_select=e.floor_select),void 0!==e.measurements_saved&&(this.measurements_saved=e.measurements_saved),void 0!==e.unit_type&&(this.unit_type=e.unit_type),void 0!==e.background_color&&void 0!==s.v[e.background_color]&&(this.background_color=e.background_color),void 0!==e.transition_speed&&(this.transition_speed=e.transition_speed),void 0!==e.transition_time&&(this.transition_time=e.transition_time),void 0!==e.pan_speed&&(this.pan_speed=e.pan_speed),void 0!==e.dollhouse_pan_speed&&(this.dollhouse_pan_speed=e.dollhouse_pan_speed),void 0!==e.zoom_duration&&(this.zoom_duration=e.zoom_duration),void 0!==e.pan_angle&&(this.pan_angle=e.pan_angle),void 0!==e.pan_direction&&(this.pan_direction=e.pan_direction)}}!function(e){e.DefurnishView="defurnish_view",e.PresentedBy="presented_by",e.HighlightReel="highlight_reel",e.FloorPlan="floor_plan",e.RoomBounds="room_bounds",e.TourButtons="tour_buttons",e.Labels="labels",e.LabelsDollhouse="labels_dh",e.Measurements="measurements",e.FloorSelect="floor_select",e.SavedMeasurements="measurements_saved",e.Dollhouse="dollhouse",e.InstantTransitions="fast_transitions",e.TransitionSpeed="transition_speed",e.TransitionTime="transition_time",e.PanSpeed="pan_speed",e.DollhousePanSpeed="dollhouse_pan_speed",e.ZoomDuration="zoom_duration",e.PanAngle="pan_angle",e.PanDirection="pan_direction",e.Units="unit_type",e.DetailsEmail="contact_email",e.DetailsAddress="address",e.DetailsName="contact_name",e.DetailsSummary="model_summary",e.DetailsPhone="contact_phone",e.DetailsModelName="model_name",e.DetailsExternalUrl="external_url",e.BackgroundColor="background_color",e.SpaceSearch="space_search"}(i||(i={}))},5601:(e,t,n)=>{"use strict";n.d(t,{t:()=>r,v:()=>o});const i={bgPrimary:"#0F1011",bgSecondary:"#1e2023",gridPrimary:"#2d3035",gridSecondary:"#171a1c"},r={black:i,grey:{bgPrimary:"#c9cbcc",bgSecondary:"#9d9d9e",gridPrimary:"#c9cbcc",gridSecondary:"#b0b1b1"},white:{bgPrimary:"#fcfdff",bgSecondary:"#ced0d3",gridPrimary:"#fcfdff",gridSecondary:"#e2e3e5"},default:i};var o;!function(e){e.black="black",e.grey="grey",e.white="white",e.default="black"}(o||(o={}))},20563:(e,t,n)=>{"use strict";n.d(t,{GI:()=>c,Q8:()=>p,Wz:()=>l,X5:()=>u,X6:()=>a,ZT:()=>s,_W:()=>o,a_:()=>h,cC:()=>d});var i=n(52018);class r extends i.t{constructor(e="Api Exception"){super(e),this.name="ApiException"}}class o extends r{constructor(e="Unauthorized"){super(e),this.name="Unauthorized"}}class s extends r{constructor(e="Forbidden"){super(e),this.name="Forbidden"}}class a extends r{constructor(e="Not Found"){super(e),this.name="NotFound"}}class l extends r{constructor(e="Model Processing"){super(e),this.name="ModelProcessing",this.code="unavailable.processing"}}class c extends r{constructor(e="Model Failed"){super(e),this.name="ModelFailed",this.code="model.failed"}}class u extends r{constructor(e="Model Archived"){super(e),this.name="ModelArchived",this.code="unavailable.archived"}}class d extends r{constructor(e="Model Pending"){super(e),this.name="ModelPending",this.code="unavailable.pending"}}class h extends r{constructor(e="Model Deleted"){super(e),this.name="ModelDeleted",this.code="unavailable.gone"}}class p extends r{constructor(e="Model Compliance"){super(e),this.name="ModelCompliance",this.code="unavailable.compliance"}}},54882:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(97084),r=n(66726);async function o(e){return(0,r.Jt)(window.location.href)?e.get("https://static.matterport.com/geoip/",{responseType:"json",priority:i.QK.LOW}):{city:"",continent:"",country_code:"",country_name:"",region:"",timezone:""}}},23338:(e,t,n)=>{"use strict";n.d(t,{Tw:()=>a,pN:()=>o,un:()=>s});var i=n(62366);let r=null;const o=e=>{r=e},s=()=>r,a=(e,t)=>(r&&(0,i.E)(e)&&(t["x-matterport-application-key"]=r),t)},20916:(e,t,n)=>{"use strict";n.d(t,{F:()=>s,x:()=>o});var i=n(62366);let r=null;const o=e=>{r=e},s=(e,t)=>(r&&(0,i.E)(e)&&(t["x-matterport-application-name"]=r),t)},84217:(e,t,n)=>{"use strict";n.d(t,{_:()=>o,k:()=>s});var i=n(62366);let r=null;const o=e=>{r=e},s=(e,t)=>(r&&(0,i.E)(e)&&(t["x-matterport-application-version"]=r),t)},50380:(e,t,n)=>{"use strict";n.d(t,{v:()=>h});var i=n(20916),r=n(84217),o=n(23338),s=n(55066),a=n(68137),l=n(80519);const c=[new a.e,new l.u,new s.l];var u=n(62366);const d=[(e,t,n=c)=>{const i=n.map((e=>e.getAuthorizationHeader())).find(Boolean);return i&&(0,u.E)(e)&&(t.authorization=i),t},i.F,r.k,o.Tw],h=(e,t,n=d)=>(n.forEach((n=>n(e,t))),t)},62366:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});const i=["matterport.com","matterportvr.cn","localhost"],r=["/api/"],o=e=>{let t;try{t=new URL(e.toLowerCase())}catch(e){return!1}const{hostname:n,pathname:o}=t,s=i.some((e=>n===e||n.endsWith(`.${e}`))),a=r.some((e=>o.startsWith(e)));return s&&a}},88664:(e,t,n)=>{"use strict";n.d(t,{R4:()=>d,SM:()=>l,ek:()=>p,iw:()=>a,m7:()=>s,qr:()=>u,s8:()=>h,u7:()=>c,zk:()=>o});var i=n(1333),r=n(60152);const o="TransitionType",s=!0,a=r.Dj,l=r.VD,c=r.BU,u=r.lo,d=r.cS,h=r.V4,p=i.ND.Auto},30740:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var i=n(85616),r=n(3795);class o extends i.v{constructor(e){super(),this.category=r._A.EXTERNAL,this.mediaType=r.zu.IMAGE,this.mimeType="",this.src="",this.height=0,this.width=0,e&&Object.assign(this,e)}copy(e){return this.id=e.id,this.src=e.src,this.url=e.url,this.thumbnailUrl=e.thumbnailUrl,this.downloadUrl=e.downloadUrl,this.height=e.height,this.width=e.width,this.created=e.created,this.category=e.category,this.mediaType=e.mediaType,this.parentId=e.parentId||"",this.parentType=e.parentType,this.filename=e.filename,this.bytes=e.bytes,this.mimeType=e.mimeType||"",this}}},3795:(e,t,n)=>{"use strict";var i,r,o,s;n.d(t,{_A:()=>s,d3:()=>r,t2:()=>i,zu:()=>o}),function(e){e.FILE_TOO_LARGE="oversize",e.EMPTY_FILE="empty",e.OVER_QUOTA="overQuota",e.UPLOAD_FAILED="failed",e.PERMISSION_DENIED="permission"}(i||(i={})),function(e){e.EMBED_FAIL="embedFail",e.EMBED_SUCCESS="success"}(r||(r={})),function(e){e.IMAGE="image",e.PDF="pdf",e.VIDEO="video",e.RICH="rich",e.ZIP="zip",e.TEXT="text",e.AUDIO="audio",e.MODEL="model",e.APPLICATION="application"}(o||(o={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload",e.SANDBOX="sandbox"}(s||(s={}))},15684:(e,t,n)=>{"use strict";n.d(t,{Bo:()=>o,LY:()=>r,iS:()=>i});const i=25,r=524288e3,o=["image/gif","image/png","image/jpeg","image/webp","image/bmp"]},87314:(e,t,n)=>{"use strict";n.d(t,{Y:()=>d,g:()=>u});var i=n(10843),r=n(2803),o=n(81587),s=n(3101),a=n(30740),l=n(3795);const c=new i.Ay("external-attachment-deserializer");class u{constructor(){}deserialize(e){if(!e||!this.validate(e))return c.debug("Deserialized invalid external attachment data from MDS",e),null;const t=new a.o;return t.id=e.id,t.created=(0,o.X)(e.created),t.src=e.url||"",t.thumbnailUrl=new r.f(e.thumbnailUrl||"",(0,o.X)(e.validUntil,null)),t.url=new r.f(e.url||"",(0,o.X)(e.validUntil,null)),e.mediaType&&(t.mediaType=(0,s.P4)(e.mediaType)),t.category=l._A.EXTERNAL,e.width&&(t.width=e.width),e.height&&(t.height=e.height),t.parentType=e.parentDetails.type,t.parentId=e.parentDetails.parent.id,t}validate(e){if(!e)return!1;const t=["id","created","modified","mediaType","parentDetails"].filter((t=>!(t in e))),n=0===t.length;return n||c.debug("Attachment invalid:",{missingFields:t}),n}}const d=function(){return new u}},85275:(e,t,n)=>{"use strict";n.d(t,{V:()=>d,x:()=>u});var i=n(10843),r=n(81587),o=n(3101),s=n(30740),a=n(3795),l=n(2803);const c=new i.Ay("file-attachment-deserializer");class u{constructor(){}deserialize(e){if(!e||!this.validate(e))return c.debug("Deserialized invalid file attachment data from MDS",e),null;const t=new s.o;return t.id=e.id,t.created=(0,r.X)(e.created),e.mimeType&&(t.mimeType=e.mimeType,t.mediaType=(0,o.uc)(e.mimeType)),t.category=a._A.UPLOAD,t.downloadUrl=new l.f(e.downloadUrl||"",(0,r.X)(e.validUntil,null)),t.url=new l.f(e.url||"",(0,r.X)(e.validUntil,null)),t.filename=e.filename||"",t.bytes=e.bytes||0,t.width=e.imageWidth||0,t.height=e.imageHeight||0,(0,o.L7)(t)&&(t.thumbnailUrl=t.url),t}validate(e){if(!e)return!1;return["id","created","url","mimeType","filename"].every((t=>t in e))}}const d=function(){return new u}},3101:(e,t,n)=>{"use strict";n.d(t,{L7:()=>s,P4:()=>d,X6:()=>p,c9:()=>l,ft:()=>h,rV:()=>a,rg:()=>c,uc:()=>u});var i=n(3795),r=n(15684),o=n(74381);function s(e){return e.category===i._A.EXTERNAL?e.mediaType===i.zu.IMAGE:!!e.mimeType&&r.Bo.includes(e.mimeType)}function a(e){return e.category===i._A.EXTERNAL||e.category===i._A.SANDBOX||!!e.mimeType&&r.Bo.includes(e.mimeType)}function l(e){return e.filter((e=>a(e)))}function c(e){return e.filter((e=>!a(e)))}function u(e){return e.startsWith("image")?i.zu.IMAGE:e.startsWith("video")?i.zu.VIDEO:e.startsWith("audio")?i.zu.AUDIO:e.startsWith("model")?i.zu.MODEL:e.startsWith("text")?i.zu.TEXT:"application/pdf"===e?i.zu.PDF:i.zu.APPLICATION}function d(e){switch(e){case o.I$.IMAGE:return i.zu.IMAGE;case o.I$.PDF:return i.zu.PDF;case o.I$.VIDEO:return i.zu.VIDEO;case o.I$.RICH:return i.zu.RICH;case o.I$.ZIP:return i.zu.ZIP;default:throw Error(`Unknown attachment media type ${e}`)}}function h(e){switch(e){case i.zu.IMAGE:return o.I$.IMAGE;case i.zu.PDF:return o.I$.PDF;case i.zu.VIDEO:return o.I$.VIDEO;case i.zu.RICH:return o.I$.RICH;case i.zu.ZIP:return o.I$.ZIP;default:throw Error(`Unknown media type ${e}`)}}function p(e){if(!e)return"0";const t=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),3),n=["B","kB","MB","GB"][t];return`${Number((e/Math.pow(1e3,t)).toFixed(1))}${n}`}},28995:(e,t,n)=>{"use strict";n.d(t,{J:()=>f});var i=n(12767),r=n(68062),o=n(68909),s=n(85616),a=n(81662),l=n(53172),c=n(52885),u=n(94814),d=n(19968),h=n(31036),p=n(62568);class f extends s.v{constructor(e){super(),this.position=new o.Vector3,this.rotation=new o.Quaternion,this.focalDistance=-1,this._autoOrthoApplied=!1,this._shouldAutoOrtho=!1,this._frustum=new o.Frustum,this.fovCorrectedPosition=(()=>{const e=new o.Vector3;return()=>(e.copy(a.B1.FORWARD).applyQuaternion(this.rotation).multiplyScalar(this.fovCorrectionOffset()).add(this.position),e)})(),this.fovCorrectionOffsetVec=(()=>{const e=new o.Vector3;return()=>(e.copy(a.B1.FORWARD).applyQuaternion(this.rotation).multiplyScalar(-this.fovCorrectionOffset()),e)})(),this.focalPoint=(()=>{const e=new o.Vector3,t=new o.Vector3;return()=>(e.copy(a.B1.FORWARD).applyQuaternion(this.rotation).multiplyScalar(this.focalDistance),t.copy(this.position).add(e),t)})(),this.forward=(()=>{const e=new o.Vector3;return()=>(e.copy(a.B1.FORWARD).applyQuaternion(this.rotation),e)})(),this.pitchFactor=(()=>{const e=(0,u.Bo)(.6,0,.88,.5);return()=>{const t=(0,l.H)(this.phi()),n=(0,l.H)(p.oO),i=Math.max((t-n)/(90-n),0),r=e(i),o=1-r,s=1-Math.round(r);return Math.abs(o-s)<=.001?s:o}})(),this.projection=(0,i.hn)(e),this.isPitchFactorOrthoObservable=new h.r((()=>(0,d.aY)(this.pitchFactor())),[this.onChanged.bind(this)]),this.isProjectionOrtho=new h.r((()=>(0,r.Gp)(this.projection)),[this.onChanged.bind(this)]),this.worldspaceFrustum=new h.r((()=>(0,d.tF)(this,this._frustum)),[this.onChanged.bind(this)]),this.isPitchFactorTransitionActive=new h.r((()=>{const e=Math.abs(this.pitchFactor());return e>0&&e<1}),[this.onChanged.bind(this)])}setAutoOrtho(e){this._shouldAutoOrtho=e}get autoOrtho(){return this._shouldAutoOrtho}get autoOrthoApplied(){return this._autoOrthoApplied}get isPitchFactorOrtho(){return this.isPitchFactorOrthoObservable.value}fovCorrectedFocalDistance(){return this.focalDistance/this.fovDistanceScale()}fovCorrectionOffset(){return this.focalDistance-this.fovCorrectedFocalDistance()}aspect(){return this.projection.elements[5]/this.projection.elements[0]}halfHeight(){return this.fovCorrectedFocalDistance()*Math.tan((0,l.pu)(i.Bv.fov/2))}fovDistanceScale(e){const{minFov:t}=i.Bv,n=null!=e?Math.max(e,t):this.isOrtho()?t:(0,l.H)(this.fovY());return Math.tan((0,l.pu)(i.Bv.fov/2))/Math.tan((0,l.pu)(n)/2)}phi(){return(0,d.rC)(this.rotation)}clone(e=new f(this.aspect())){return e.position.copy(this.position),e.rotation.copy(this.rotation),e.focalDistance=this.focalDistance,e.projection.copy(this.projection),e._autoOrthoApplied=this.autoOrthoApplied,e._shouldAutoOrtho=this.autoOrtho,e}applyPhiBasedFovSquish(){if(!this._shouldAutoOrtho)return;const e=(0,c.C)(0,i.Bv.fov,this.pitchFactor()),t=this.aspect(),n=this.fovCorrectedFocalDistance()*this.fovDistanceScale(e),{near:r,far:o}=(0,i.Li)(n);if(e>i.Bv.minFov)this.projection.makePerspectiveFov(e,t,r,o);else{const e=this.halfHeight(),t=this.aspect()*e;this.projection.makeOrthographic(-t,t,e,-e,r,o)}this.focalDistance=n,this.position.add(this.fovCorrectionOffsetVec()),this._autoOrthoApplied=!0}unapplyPhiBasedFovSquish(){if(!this._autoOrthoApplied)return;const e=this.fovCorrectedPosition().clone(),t=this.fovCorrectedFocalDistance();this.position.copy(e),this.focalDistance=t,this.resetProjMatrix(),this._autoOrthoApplied=!1}copy(e){return this.position.copy(e.position),this.rotation.copy(e.rotation),this.focalDistance=e.focalDistance,this.projection.copy(e.projection),this._autoOrthoApplied=e.autoOrthoApplied,this._shouldAutoOrtho=e.autoOrtho,this.commit(),this}isOrtho(){return(0,r.Gp)(this.projection)}fovX(){return 2*Math.atan(1*this.aspect()/this.projection.elements[5])}fovY(){return 2*Math.atan(1/this.projection.elements[5])}resetProjMatrix(){this.projection.makePerspectiveFov(i.Bv.fov,this.aspect(),i.Bv.near,i.Bv.far)}}},20599:(e,t,n)=>{"use strict";n.d(t,{M:()=>v,q:()=>m});var i=n(12767),r=n(84710);const o=(e,t)=>e&&t?e.equals(t):e===t;var s=n(68062),a=n(46771),l=n(53172),c=n(28995),u=n(13893),d=n(92237),h=n(68909),p=n(85616);class f extends p.v{constructor(){super(...arguments),this.startTime=0,this.duration=0,this.active=!1,this.autoOrtho=!1,this.type=null,this.progress=new d.z(0),this.blackoutProgress=new d.z(0),this.from={position:new h.Vector3,rotation:new h.Quaternion,projection:new a.k},this.to={position:new h.Vector3,rotation:new h.Quaternion,projection:new a.k},this.rotationDelay=0,this.rotationDuration=1,this.matrixDelay=0,this.matrixDuration=1,this.activeInternal=!1,this.promise=null,this.orbitTarget=null,this.orbitStartPhi=0,this.orbitStartDistance=0,this.instantOrbit=!1,this.fadeToBlackSubType=u.pw.Full}}const m=(e,t,n=!0)=>{t.position=g(e.position,t.position,n),t.rotation=g(e.rotation,t.rotation,n),t.projection=g(e.projection,t.projection,n),t.focalDistance=e.focalDistance},g=(e,t,n=!0)=>(e&&!t?t=e.clone():e&&t?t.copy(e):n&&(t=void 0),t);class v extends r.B{constructor(e,t){super(),this._width=e,this._height=t,this.name="camera",this._baseProjection=new a.k,this._orthoMatrix=new a.k,this._lastOrthoZoom=1,this._perspectiveMatrix=new a.k,this._metersPerPx=null,this.pose=new c.J(e/t),this.transition=new f,this.setCameraDimensions(e,t),this._baseFovY=l.fy*i.Bv.fov,this.pose.onChanged((()=>this._metersPerPx=null))}setCameraDimensions(e,t){if(isNaN(e)||0===e||isNaN(t)||0===t)return;this._width=e,this._height=t,this._metersPerPx=null;const n=e/t,{near:r,far:o}=(0,i.Li)(this.pose.focalDistance),a=this.isOrtho()?(0,i.Ei)(e,t,t/(2*this.orthoZoom()),1,r,o,this._orthoMatrix):this._perspectiveMatrix.makePerspectiveFov(l.tm*this.fovY(),n,r,o);if(this.pose.projection.copy(a),this.transition.active&&this.transition.to.projection)if((0,s.Gp)(this.transition.to.projection)){const n=(0,s.BN)(this.transition.to.projection);this.transition.to.projection.copy((0,i.Ei)(e,t,t/(2*n),1))}else{const e=2*l.tm*Math.atan(1/this.transition.to.projection.elements[5]);this.transition.to.projection.makePerspectiveFov(e,n,i.Bv.near,i.Bv.far)}this.pose.commit()}setAutoOrtho(e){e!==this.pose.autoOrtho&&(this.pose.setAutoOrtho(e),e?this.pose.applyPhiBasedFovSquish():this.pose.unapplyPhiBasedFovSquish(),this.pose.commit())}setBaseProjection(e){this._baseProjection=e}get width(){return this._width}get height(){return this._height}get screenDiagonalPx(){return Math.sqrt(this.width*this.width+this.height*this.height)}get baseFovY(){return this._baseFovY}aspect(){return this.pose.aspect()}fovY(){return this.pose.fovY()}fovX(){return this.pose.fovX()}isOrtho(){return this.pose.isOrtho()}baseZoom(){return this.pose.projection.elements[0]/2}defaultZoom(){return(0,s.Gp)(this._baseProjection)?(0,s.BN)(this._baseProjection):this.perspectiveZoom()}zoom(){return this.isOrtho()?this.orthoZoom():this.perspectiveZoom()}orthoZoom(){const e=(0,s.BN)(this.pose.projection);return isNaN(e)?this._lastOrthoZoom:(this._lastOrthoZoom=e,e)}perspectiveZoom(){return this.baseFovY/this.fovY()}metersPerPx(){return null==this._metersPerPx?(this._metersPerPx=(0,s.ff)(this.pose.focalDistance,this.pose.projection.asThreeMatrix4(),this.width),this._metersPerPx):this._metersPerPx}copyTransition(e){this.transition.active=e.active,this.transition.activeInternal=e.activeInternal,this.transition.type=e.type,this.transition.startTime=e.startTime,this.transition.duration=e.duration,this.transition.rotationDelay=e.rotationDelay,this.transition.rotationDuration=e.rotationDuration,this.transition.matrixDelay=e.matrixDelay,this.transition.matrixDuration=e.matrixDuration,this.transition.fadeToBlackSubType=e.fadeToBlackSubType,e.progress&&this.transition.progress.copy(e.progress),e.blackoutProgress&&this.transition.blackoutProgress.copy(e.blackoutProgress),e.from&&m(e.from,this.transition.from),e.to&&m(e.to,this.transition.to),this.transition.promise=e.promise}canTransition(){return!this.transition.active}clone(){const e=new v(this.width,this.height);return e.copy(this),e}copy(e){this.pose.copy(e.pose),this.pose.commit(),this._baseFovY=e.baseFovY,this.copyTransition(e.transition),this.transition.commit(),this._width=e.width,this._height=e.height}shallowIsEqual(e){return this.pose.position.equals(e.pose.position)&&this.pose.rotation.equals(e.pose.rotation)&&this.pose.projection.equals(e.pose.projection)&&this.pose.focalDistance===e.pose.focalDistance&&this.baseFovY===e.baseFovY}isEqual(e){return this.shallowIsEqual(e)&&this.transitionIsEqual(e.transition)}transitionIsEqual(e){return this.transition.active===e.active&&this.transition.type===e.type&&this.transition.progress.equals(e.progress)&&this.transition.blackoutProgress.equals(e.blackoutProgress)&&this.transition.rotationDelay===e.rotationDelay&&this.transition.rotationDuration===e.rotationDuration&&this.transition.matrixDelay===e.matrixDelay&&this.transition.matrixDuration===e.matrixDuration&&this.transition.activeInternal===e.activeInternal&&o(this.transition.from.position,e.from.position)&&o(this.transition.from.rotation,e.from.rotation)&&o(this.transition.from.projection,e.from.projection)&&o(this.transition.to.position,e.to.position)&&o(this.transition.to.rotation,e.to.rotation)&&o(this.transition.to.projection,e.to.projection)&&this.transition.startTime===e.startTime&&this.transition.duration===e.duration}}},12767:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>r,Ei:()=>a,Li:()=>o,hn:()=>s});var i=n(46771);const r={fov:75,near:.1,far:3e3,minFov:1},o=e=>{const t=r.far-r.near,n=Math.max(r.near,e-t/2);return{near:n,far:n+t}},s=(e,t)=>(t||(t=new i.k),t.makePerspectiveFov(r.fov,e,r.near,r.far)),a=(e,t,n=1,o=1,s=r.near,a=r.far,l)=>{l||(l=new i.k);const c=e/2,u=t/2,d=l.makeOrthographic(-c,c,u,-u,s*o,a*o);return d.elements[0]*=n,d.elements[5]*=n,d}},13893:(e,t,n)=>{"use strict";var i,r,o;n.d(t,{fl:()=>i,mG:()=>o,pw:()=>r}),function(e){e[e.Instant=0]="Instant",e[e.FadeToBlack=1]="FadeToBlack",e[e.Interpolate=2]="Interpolate",e[e.MoveToBlack=3]="MoveToBlack",e[e.OrbitTo=4]="OrbitTo"}(i||(i={})),function(e){e[e.Full=0]="Full",e[e.ClearToBlack=1]="ClearToBlack",e[e.BlackToClear=2]="BlackToClear"}(r||(r={})),function(e){e[e.Top=1]="Top",e[e.Bottom=2]="Bottom"}(o||(o={}))},62568:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,oO:()=>c,xl:()=>a});var i=n(44351),r=n(13893),o=n(53172);const s=Object.freeze({camera:{transitionBlackoutTime:300,transitionFadeTime:800,baseTransitionTime:200,transitionSpeed:3,autoOrbitMinVelocity:.002,autoOrbitMaxVelocity:.08,autoOrbitTransitionTIme:1e3,autoOrbitLowerPhiLimit:30*o.fy,autoOrbitUpperPhiLimit:90*o.fy}});function a(e){return e in l?l[e]:r.fl.FadeToBlack}const l={[i.o.Desktop]:r.fl.Interpolate,[i.o.Mobile]:r.fl.Interpolate,[i.o.VrOrientOnly]:r.fl.FadeToBlack,[i.o.VrWithController]:r.fl.FadeToBlack,[i.o.VrWithTrackedController]:r.fl.FadeToBlack,[i.o.VrTransientPointer]:r.fl.FadeToBlack,[i.o.VrUnknown]:r.fl.FadeToBlack},c=75*o.fy},19968:(e,t,n)=>{"use strict";n.d(t,{Ft:()=>g,OG:()=>m,aY:()=>y,bA:()=>d,bz:()=>u,jn:()=>h,n4:()=>b,rC:()=>E,tF:()=>S,wc:()=>f,zH:()=>v});var i=n(68909),r=n(81662),o=n(28995),s=n(3249),a=n(52885),l=n(62568),c=n(13893);const u=(()=>{const e=new i.Matrix4,t=new i.Matrix4;return(n,r,o,s)=>(o=o||new i.Vector2,s=s||new i.Vector3,p(n.pose,t),e.copy(t),e.invert(),s.set(r.x,r.y,r.z).applyMatrix4(e).applyMatrix4(n.pose.projection.asThreeMatrix4()),v(n.width,n.height,s,o),{screenPosition:o,ndcPosition:s})})(),d=(()=>{const e=new i.Vector3,t=new i.Vector2;return(n,i,r,o,s,a)=>(e.copy(h(n,i,r,a)),v(o,s,e,t),t)})(),h=(()=>{const e=new i.Matrix4,t=new i.Matrix4,n=new i.Vector3;return(i,o,s,a)=>(e.compose(o,s,r.B1.UNIT),t.copy(e),t.invert(),n.copy(i).applyMatrix4(t).applyMatrix4(a),n)})(),p=(e,t)=>(t=t||new i.Matrix4).compose(e.position,e.rotation,r.B1.UNIT),f=(e,t,n,r,o)=>((o=o||new i.Vector2).x=e/n*2-1,o.y=-t/r*2+1,o),m=(e,t,n=.5,r)=>((r=r||new i.Vector3).x=t.x,r.y=t.y,r.z=n,g(e.pose,r)),g=(()=>{const e=new i.Matrix4,t=new i.Matrix4;return(n,r,o)=>((o=o||new i.Vector3).copy(r),t.copy(n.projection.asThreeMatrix4()),t.invert(),p(n,e),o.applyMatrix4(t).applyMatrix4(e))})(),v=(e,t,n,r)=>((r=r||new i.Vector2).set((n.x+1)*e/2,(1-n.y)*t/2),r),y=e=>Math.abs(e)<.1,E=(()=>{const e=new i.Vector3,t=new i.Vector3,n=new i.Vector3;return i=>{e.copy(r.B1.FORWARD).applyQuaternion(i).multiplyScalar(-1),t.copy(r.B1.UP).applyQuaternion(i);const o=t.dot(r.B1.UP)<=0;n.set(e.x,0,e.z);const s=o?-n.length():n.length(),a=e.y;return Math.atan2(a,s)}})(),S=(()=>{const e=new i.Vector3(-1,-1,-1),t=new i.Vector3,n=new i.Vector3(1,-1,-1),r=new i.Vector3,o=new i.Vector3(1,1,-1),s=new i.Vector3,a=new i.Vector3(-1,1,-1),l=new i.Vector3,c=new i.Vector3(-1,-1,1),u=new i.Vector3,d=new i.Vector3(1,-1,1),h=new i.Vector3,f=new i.Vector3(1,1,1),m=new i.Vector3,g=new i.Vector3(-1,1,1),v=new i.Vector3,y=new i.Matrix4,E=new i.Matrix4;return(S,b)=>(b=b||new i.Frustum,E.copy(S.projection.asThreeMatrix4()),E.invert(),p(S,y),t.copy(e),t.applyMatrix4(E).applyMatrix4(y),r.copy(n),r.applyMatrix4(E).applyMatrix4(y),s.copy(o),s.applyMatrix4(E).applyMatrix4(y),l.copy(a),l.applyMatrix4(E).applyMatrix4(y),u.copy(c),u.applyMatrix4(E).applyMatrix4(y),h.copy(d),h.applyMatrix4(E).applyMatrix4(y),m.copy(f),m.applyMatrix4(E).applyMatrix4(y),v.copy(g),v.applyMatrix4(E).applyMatrix4(y),b.planes[0].setFromCoplanarPoints(t,l,s),b.planes[1].setFromCoplanarPoints(u,h,m),b.planes[2].setFromCoplanarPoints(t,u,v),b.planes[3].setFromCoplanarPoints(t,r,h),b.planes[4].setFromCoplanarPoints(r,s,m),b.planes[5].setFromCoplanarPoints(s,l,v),b)})(),b=(()=>{const e=new i.Vector3,t=new i.Vector3,n=new i.Quaternion,a=new i.Vector3,u=new i.Quaternion;let d=null;return(i,h,p,f,m,g)=>{null==d&&(d=new o.J(1));const v=l.Ay.camera.autoOrbitUpperPhiLimit,y=l.Ay.camera.autoOrbitLowerPhiLimit,S=i;d.copy(S),d.unapplyPhiBasedFovSquish();const b=S.phi(),T=y-b,A=v-b,w=h===c.mG.Top?A:T,N=m?w:O(b,p,h),I=(0,s.qE)(N,T,A),R=v-b<1e-10,k=b-y<1e-10;if(h===c.mG.Top?R:k)return 1;const L=f;e.copy(r.B1.FORWARD).applyQuaternion(S.rotation),e.setLength(L),e.addVectors(S.fovCorrectedPosition(),e),t.copy(r.B1.RIGHT),n.setFromAxisAngle(t.applyQuaternion(S.rotation),-I),a.copy(S.fovCorrectedPosition()).sub(e).applyQuaternion(n),u.copy(S.rotation).premultiply(n),a.add(e),u.normalize(),E(u)>=v&&_(u),d.position.copy(a),d.rotation.copy(u),d.focalDistance=L,d.applyPhiBasedFovSquish(),g.copy(d);const M=h===c.mG.Top?v:y,D=Math.abs((g.phi()-p)/(M-p));return(0,s.qE)(D,0,1)}})(),O=(e,t,n)=>{const i=n===c.mG.Top?1:-1,r=n===c.mG.Top?l.Ay.camera.autoOrbitUpperPhiLimit:l.Ay.camera.autoOrbitLowerPhiLimit,o=Math.abs((r-e)/(r-t));return i*(0,a.C)(l.Ay.camera.autoOrbitMinVelocity,l.Ay.camera.autoOrbitMaxVelocity,o)*2},_=(()=>{const e=r.B1.RIGHT.clone(),t=r.B1.UP.clone(),n=r.B1.BACK.clone(),o=new i.Matrix4;return i=>{e.copy(r.B1.RIGHT),t.copy(r.B1.UP),n.copy(r.B1.BACK),e.applyQuaternion(i),e.y=0,t.applyQuaternion(i),t.y=0,n.applyQuaternion(i),n.x=0,n.y=1,n.z=0,o.makeBasis(e,t,n),i.setFromRotationMatrix(o)}})()},26482:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,n:()=>s});var i=n(2993),r=n(84710);class o extends r.B{constructor(e,t,n){super(),this.name="cam-start",this.moveCameraOnViewChange=!0,this.icon=e,this.thumb=t,this.pose=new s,n&&this.pose.copy(n)}copy(e,t=!1){var n;return this.icon=e.icon,t?e.thumb&&(null===(n=this.thumb)||void 0===n||n.refreshFrom(e.thumb)):this.thumb=e.thumb,this.pose.copy(e.pose),this}getStartingPose(){return this.deepLinkPose||this.pose}get hasCameraPose(){return this.pose&&this.pose.camera&&void 0!==this.pose.camera.position}}class s{constructor(e=i.N3.Panorama,t,n,r,o,s){this.mode=e,this.camera={position:t||void 0,rotation:n||void 0,zoom:r||void 0},this.pano=o||{uuid:void 0},this.floorVisibility=s||void 0}copy(e){return this.camera.position=a(e.camera.position,this.camera.position),this.camera.rotation=a(e.camera.rotation,this.camera.rotation),this.camera.zoom=e.camera.zoom,this.pano.uuid=e.pano.uuid?e.pano.uuid.slice():void 0,this.mode=e.mode,this.floorVisibility=e.floorVisibility?e.floorVisibility.slice():void 0,this}}const a=(e,t)=>e&&t?t.copy(e):e&&!t?e.clone():void 0},74328:(e,t,n)=>{"use strict";n.d(t,{s:()=>h});var i=n(68909),r=n(2993),o=n(75778),s=n(10843),a=n(86866),l=n(44455),c=n(97696);const u=new s.Ay("navurl");class d extends Error{constructor(e,t){super(`view mode ${e} is invalid${t?` when ${t}`:""}`)}}class h{static encodeVector3(e,t=2){const{x:n,y:i,z:r}=e;return h.packFloats([n,i,r],t)}static decodeVector3(e){const t=h.unpackFloats(e,3);return t?new i.Vector3(...t):null}static encodeQuaternion(e,t=2){return h.packFloats([e.x,e.y,e.z,e.w],t)}static decodeQuaternion(e){const t=h.unpackFloats(e,4);return t&&!(0,l.PH)(t)?new i.Quaternion(...t):null}static encodeEuler(e,t=2){return h.packFloats([e.x,e.y,e.z],t)}static decodeEuler(e){const t=h.unpackFloats(e,3);return t?new i.Euler(t[0],t[1],t[2],"XYZ"):void 0}static packFloats(e,t=2){let n=e.map((e=>{const n=parseFloat(e.toFixed(t)).toString().replace(/^(\-)?0+.(\d+)/,"$1.$2");return"0"===n?"":n})).join(",");return n=n.replace(/,+$/,""),n}static unpackFloats(e,t=0){const n=e.split(",").map((e=>""===e?0:parseFloat(e)));if(!n||n.includes(NaN))return[];for(;n.length<t;)n.push(0);return n}static getQueryString(e,t=!0){return h.serialize(e,t).toString()}static serialize(e,t=!0){const n=h.removeNavigationKeys();try{if(t){const t=h.getShortPose(e);for(const[e,i]of Object.entries(t))n.set(e,i)}else{const t=h.getStartPose(e),i=JSON.stringify(t);n.set("start",i)}}catch(e){u.debug(e)}return n}static deserialize(e=window.location.href){try{const t=new URL(e.trim()).searchParams,n=t.get("start");return n?h.parseStartObject(n):h.parseShortUrl(t)}catch(e){u.debug(e)}return null}static removeNavigationKeys(){const e=(0,o.DE)();for(const t of h.navigationKeys)e.delete(t);return e}static get navigationKeys(){return new Set(["start","sm","sp","sq","sr","ss","sf","sz"])}static parseShortUrl(e){const t=e.get("sm"),n=e.get("sp"),o=e.get("sq"),s=e.get("sr"),l=e.get("ss"),c=e.get("sf"),p=e.get("sz"),f=h.parseViewmode(t),m=h.decodeEuler(s||"")||new i.Euler(0,0,0),g=h.decodeQuaternion(o||"")||new i.Quaternion(0,0,0,1),v=n?h.decodeVector3(n):void 0,y=l?parseInt(l,10)-1:void 0,E=c?h.unpackFloats(c,4):void 0,S=p?parseFloat(p):void 0;if((0,r.nI)(f)&&void 0===y)throw new d(f,"sweep index not defined");if(!(0,r.nI)(f)&&!v)throw new d(f,"position is falsy");let b=o?g:(new i.Quaternion).setFromEuler(m);(0,r.nI)(f)&&(b=(0,a.V5)(b));const O={mode:f,quaternion:b,position:v||void 0,sweepIndex:y,floorVisibility:E,zoom:S};return u.debug("Parsed short URL pose data:",O),O}static parseStartObject(e){const t=JSON.parse(decodeURIComponent(e));if(!t.camera_quaternion)throw Error("Start override is missing camera_quaternion");if(!t.camera_position)throw Error("Start override is missing camera_position");const n=h.parseViewmode(t.camera_mode),r=(new i.Quaternion).copy(t.camera_quaternion),o={mode:n,panoId:t.scan_id,position:(new i.Vector3).copy(t.camera_position),quaternion:r,zoom:t.ortho_zoom,floorVisibility:t.floor_visibility};return u.debug("Parsed &start URL pose data:",o),o}static getShortPose({cameraData:e,viewmodeData:t,floorsViewData:n,sweepData:o}){const s=(new i.Euler).setFromQuaternion(e.pose.rotation,"XYZ"),a=o.currentSweepIndex,l={};if(t.isInside())void 0!==a&&(l.ss=a+1),s.z=0,l.sr=h.encodeEuler(s),t.currentMode===r.N3.Mesh&&(l.sm=h.validateViewmode(t.currentMode));else{const{position:i,viewmode:o}=(0,c.nF)(e,n,t);l.sm=h.validateViewmode(o),l.sr=h.encodeEuler(s),l.sp=h.encodeVector3(i);const a=n.getFloorsVisibility();a.length&&n.totalFloors>1&&(l.sf=a),o===r.N3.Floorplan&&(l.sz=parseFloat(e.zoom().toFixed(2)))}return l.sq=h.encodeQuaternion(e.pose.rotation),u.debug(`Short URL params for current location ${JSON.stringify(l)}`),delete l.sq,l}static getStartPose({cameraData:e,viewmodeData:t,floorsViewData:n,sweepData:i}){const o={x:0,y:0,z:0,w:1};o.x=e.pose.rotation.x,o.y=e.pose.rotation.y,o.z=e.pose.rotation.z,o.w=e.pose.rotation.w;const{position:s,viewmode:a}=(0,c.nF)(e,n,t),l={x:0,y:0,z:0};l.x=s.x,l.y=s.y,l.z=s.z;const u={camera_mode:h.validateViewmode(a),camera_position:l,camera_quaternion:o};return t.isInside()?u.scan_id=i.currentSweep:u.floor_visibility=n.getFloorsVisibility(),a===r.N3.Floorplan&&(u.ortho_zoom=e.zoom()),u}static parseViewmode(e){let t=h.DEFAULT_VIEW_MODE;return null!=e&&(t=parseInt(e,10)),h.validateViewmode(t)}static validateViewmode(e){if(null===e||!h.VALID_URL_VIEW_MODES.includes(e))throw new d(e);return e}}h.DEFAULT_VIEW_MODE=r.N3.Panorama,h.VALID_URL_VIEW_MODES=[r.N3.Panorama,r.N3.Dollhouse,r.N3.Floorplan,r.N3.Outdoor,r.N3.Mesh]},78711:(e,t,n)=>{"use strict";n.d(t,{X:()=>s,d:()=>o});var i=n(2993);const r=new(n(10843).Ay)("camera-start-util");function o(e,t){const{mode:n,quaternion:i,position:o,floorVisibility:s,sweepIndex:a,zoom:l}=e;let{panoId:c}=e;if(c&&!t.containsSweep(c)){const e=t.getSweepByUuid(c);e&&(c=e.id)}if(!c&&void 0!==a){const e=t.getSweepByIndex(a);e?c=e.id:r.debug(`Failed to load sweep index ${a}`)}return{mode:n,camera:{position:o,rotation:i,zoom:l},pano:{uuid:c},floorVisibility:s}}function s(e,t){return!!e&&(!(0,i.nI)(e.mode)||!!e.pano.uuid&&t.containsSweep(e.pano.uuid))}},37105:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var i=n(84710);class r extends i.B{constructor(e,t,n){super(),this.name="canvas",this.x=0,this.y=0,this.width=e||0,this.height=t||0,this.canvas=n||null}get aspectRatio(){const e=this.width/this.height;return isFinite(e)?e:1}}},58480:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var i=n(84710),r=n(44879),o=n(95330);class s extends i.B{get size(){return this.sizeObservable.value}set size(e){this.sizeObservable.value=e}constructor(e){super(),this.name="container",this.sizeObservable=new o.L({width:0,height:0}),this.orientation=r.U.LANDSCAPE,this.element=e,this.mainElement=e.querySelector("main")||e,this.rootNode=e.getRootNode()}onPropertyChanged(e,t){return"size"===e?this.sizeObservable.onChanged(t):super.onPropertyChanged(e,t)}removeOnPropertyChanged(e,t){"size"===e?this.sizeObservable.removeOnChanged(t):super.removeOnPropertyChanged(e,t)}}},78197:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,B:()=>l});var i=n(87805),r=n(58480),o=n(61260);const s={width:0,height:0};function a(e){return(0,i.Z)(r.G,"size",e||s)}const l=(0,o.c)("containerSize",a)},19072:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var i=n(77570),r=n(96540);function o(){return(0,r.useContext)(i.B).mainDiv}},44879:(e,t,n)=>{"use strict";var i;n.d(t,{U:()=>i}),function(e){e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE"}(i||(i={}))},87419:(e,t,n)=>{"use strict";n.d(t,{NT:()=>r,bx:()=>o,cB:()=>i});const i="features/auto-defurnish",r="spaces.bundles.mp.defurnish";const o="overlayViews"},44120:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var i=n(56547),r=n(4717);function o(){const e=(0,r.G)();return!!e&&(0,i.AF)(e)}},27394:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var i=n(84710),r=n(31093);class o extends i.B{constructor(){super(...arguments),this.name="dollhouse-control-data",this.autoOrbitPromise=null,this._autoOrbitTarget="top"}get isAutoOrbitting(){return null!==this.autoOrbitPromise}get autoOrbitTarget(){return this._autoOrbitTarget}get targetState(){return this.isAutoOrbitting?this.autoOrbitTarget:null}startAutoOrbit(e="top"){return this._autoOrbitTarget=e,this.autoOrbitPromise=new r.i,this.commit(),this.autoOrbitPromise.nativePromise()}stopAutoOrbit(){const e=this.autoOrbitPromise;this.autoOrbitPromise=null,this.commit(),null==e||e.resolve()}}},78649:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var i=n(89103);class r extends i.QB{}},51313:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var i=n(89103);class r extends i.QB{constructor(e,t){super(),this.floorId=e,this.floorName=t}}},89928:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var i=n(89103);class r extends i.QB{constructor(e,t){super(),this.from=e,this.to=t}}},58229:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var i=n(84710),r=n(3066),o=n(56413),s=n(79875);class a extends i.B{constructor(e){super(),this.name="floors",this.floors=(0,o.y)(e)}onNameChange(e){let t=[];return(0,r.Sh)((()=>{this.getOrderedValues().forEach(((n,i)=>{t.push(n.onPropertyChanged("name",e))}))}),(()=>{t.forEach((e=>e.cancel())),t=[]}),!0)}addFloor(e){this.floors.set(e.id,e)}getFloor(e){if(!this.floors.has(e))throw new s.v;return this.floors.get(e)}hasFloor(e){return this.floors.has(e)}getFloorAtIndex(e){return this.floors.values.find((t=>t.index===e))}getFloorByMeshGroup(e){return this.floors.values.find((t=>t.meshGroup===e))}getFloorCount(){return this.floors.length}isMultifloor(){return this.getFloorCount()>1}getCollection(){return this.floors}iterate(e){return this.getOrderedValues().forEach(e)}getTopFloor(){const e=this.getOrderedValues();if(!e.length)throw new s.v("Cannot get top floor, model has no floors");return e[e.length-1]}getBottomFloor(){const e=this.getOrderedValues();if(!e.length)throw new s.v("Cannot get bottom floor, model has no floors");return e[0]}getFloorAtHeight(e,t=!1){const n=this.getOrderedValues();t&&n.reverse();for(const t of n){const n=t.boundingBox;if(n.min.y<=e&&e<=n.max.y)return t}const i=this.getBottomFloor();return e<i.boundingBox.min.y?i:this.getTopFloor()}getClosestFloorAtHeight(e){let t=this.floors.values[0],n=1/0;for(const i of this.floors){const r=Math.abs(i.medianSweepHeight()-e);n>r&&(n=r,t=i)}return t}rename(e,t){if(void 0===t)throw new Error("Text Required");if(!this.floors.has(e))return;const n=this.floors.get(e);n.name=t,n.commit()}getOrderedValues(){return this.floors.values.sort(((e,t)=>e.index-t.index))}getFloorIdMap(e){const t={};for(const n of this.floors.values)e?t[String(n.index)]=n.id:t[n.id]=String(n.index);return t}}},79875:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var i=n(52018);class r extends i.t{constructor(e="Invalid Floor"){super(e),this.name="InvalidFloorException"}}},39209:(e,t,n)=>{"use strict";n.d(t,{X:()=>y});var i=n(92237),r=n(84710),o=n(56147),s=n(95330),a=n(50018),l=n(85616);class c extends l.v{constructor(){super(...arguments),this.hidden=!1,this.navigable=!0,this.hasEnabledAlignedSweeps=!1,this.hasEnabledUnalignedSweeps=!1}}var u=n(56413),d=n(12554),h=n(27947);class p{constructor(e,t,n,i,r){this.floors=e,this.viewmodeData=t,this.sweepData=n,this.applicationData=i,this.currentFloorObservable=r,this.bindings=[],this.states=new u.E,this._navigableFloorIds=new d.X,this.hasEnabledAlignedSweeps=!1,this.updateFloorSweepData=()=>{const e=this.sweepData;this.isEditMode()||(this.states.values.forEach((e=>{e.hasEnabledAlignedSweeps=!1,e.hasEnabledUnalignedSweeps=!1})),e.iterate((e=>{if(null!==e.floorId){let t=this.getState(e.floorId);t||(t=this.initializeFloorState(e.floorId)),e.alignmentType===a.c$.ALIGNED?t.hasEnabledAlignedSweeps||(t.hasEnabledAlignedSweeps=e.enabled):t.hasEnabledUnalignedSweeps||(t.hasEnabledUnalignedSweeps=e.enabled),t.commit(),this.hasEnabledAlignedSweeps||(this.hasEnabledAlignedSweeps=e.enabled)}}))),this.updateNavigable()},this.updateHidden=()=>{const e=!this.currentFloorId,t=this.isViewingAlignedPano();this.states.keys.forEach((n=>{const i=!!n&&n===this.currentFloorId,r=this.getState(n);r.hidden=!(e||i||t),r.commit()}))},this.updateNavigable=()=>{const e=this.isEditMode(),t=this.isViewingAlignedPano(),n=this.viewmodeData.isDollhouse()||this.viewmodeData.isFloorplan();this.states.keys.forEach((i=>{const r=this.getState(i);r.navigable=!!e||(t?r.hasEnabledAlignedSweeps:!!n||(r.hasEnabledAlignedSweeps||r.hasEnabledUnalignedSweeps)),r.commit()}));const i=[];this.floors.iterate((e=>{this.getState(e.id).navigable&&i.push(e.id)})),this._navigableFloorIds.replace(i)},this.bindings.push(t.makeModeChangeSubscription(this.updateHidden),n.makeSweepChangeSubscription(this.updateHidden),r.onChanged(this.updateHidden),t.makeModeChangeSubscription(this.updateNavigable),n.makeSweepChangeSubscription(this.updateNavigable),n.onSweepsChanged(this.updateFloorSweepData),i.onPropertyChanged("application",this.updateFloorSweepData)),this.initializeFloorStates(),this.updateFloorSweepData(),this.updateHidden()}getState(e){return this.states.get(e)}get navigableFloorIds(){return this._navigableFloorIds.values()}onNavigableFloorIdsChanged(e){return this._navigableFloorIds.onChanged(e)}isViewingAlignedPano(){return this.viewmodeData.isInside()&&void 0!==this.sweepData.currentAlignedSweepObject}isEditMode(){return this.applicationData.application===h.lg.WORKSHOP}get currentFloorId(){return this.currentFloorObservable.value?this.currentFloorObservable.value.id:null}initializeFloorStates(){this.floors.iterate((e=>this.initializeFloorState(e.id)))}initializeFloorState(e){const t=new c;return this.states.set(e,t),t}}var f=n(72773),m=n(31036);function g(e,t){return e}const v={floorChangesEnabled:()=>!0};class y extends r.B{constructor(e,t,n,r,o,a){super(),this.name="floors-view",this.floorSelectable=!1,this.currentFloorObservable=new s.L(null),this.transitionObservable=new s.L({from:null,to:null,progress:new i.z(0),promise:Promise.resolve()}),this._observableFloorsSelectMode=new s.L(!1),this._observableRoomSelectMode=new s.L(!1),this._showFloorSelection=new s.L(!1),this.onlyShowActiveFloor=new s.L(!1),this.showAllFloorsOption=!0,this.floorSelectHoverEnabled=!0,this.getFloorMin=e=>{const t=e||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(t).bottom},this.getFloorMinPlane=e=>{const t=e||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(t).groundPlane},this.getFloorCentroid=(e,t)=>{const n=t||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(n).boundingBox.getCenter(e)},this.isHidden=e=>"string"==typeof e&&this.stateHelper.getState(e).hidden,this.isNavigable=e=>"string"==typeof e&&this.stateHelper.getState(e).navigable,this.updateViewData=()=>{this.floors.iterate((e=>{this.derivedData[e.id]={id:e.id,index:e.index,name:this.getFloorName(e.id)}})),this.commit()},this.getViewData=e=>{if(!this.derivedData[e]){const t=this.floors.getFloor(e);this.derivedData[e]={id:t.id,index:t.index,name:this.getFloorName(t.id)}}return this.derivedData[e]},this.getAllViewData=()=>{const e=[];return this.floors.iterate((t=>{e.push(this.getViewData(t.id))})),e},this.getFloor=e=>this.floors.getFloor(e),this.floors=e,this.config=null!=a?a:v,this.localize=null!=o?o:g,this.derivedData={},this.stateHelper=new p(e,t,n,r,this.currentFloorObservable),this.updateViewData(),this.currentFloorNoTransitionObservable=new m.r((()=>this.transitionActive?null:this.currentFloorId),[e=>this.currentFloorObservable.onChanged(e),e=>this.transitionObservable.onChanged(e)])}isCurrentOrAllFloors(e){return!e||!this.currentFloorId||e===this.currentFloorId}isCurrentMeshGroupOrAllFloors(e){return this.currentFloorMeshGroup===f.nT||this.currentFloorMeshGroup===e}isCurrentFloorIndexOrAllFloors(e){return this.currentFloorIndex===e||this.currentFloorIndex===f.Zu}makeFloorChangeSubscription(e){return this.currentFloorObservable.onChanged(e)}get currentFloor(){return this.currentFloorObservable.value}get currentFloorId(){var e;return(null===(e=this.currentFloorObservable.value)||void 0===e?void 0:e.id)||null}get currentFloorIndex(){return this.currentFloorObservable.value?this.currentFloorObservable.value.index:f.Zu}get currentFloorMeshGroup(){return this.currentFloorObservable.value?this.currentFloorObservable.value.meshGroup:f.nT}getFloorIndexForMeshGroup(e){if(e===f.nT)return f.Zu;const t=this.floors.getFloorByMeshGroup(e);return t?t.index:f.Zu}get bottomFloorId(){return this.floors.getBottomFloor().id}get topFloorId(){return this.floors.getTopFloor().id}get singleFloor(){if(1===this.floors.getFloorCount())return this.floors.getFloorAtIndex(0)}isMultifloor(){return this.floors.isMultifloor()}get nearestFloorId(){return this.transitionActive?this.transition.progress.value>.5?this.transition.to:this.transition.from:this.currentFloorId}get nearestFloor(){const e=this.nearestFloorId;return e?this.floors.getFloor(e):void 0}get transitionActive(){return this.transition.progress.active}get transition(){return this.transitionObservable.value}transitionToFloorInstant(e){this.currentFloorObservable.value=e?this.floors.getFloor(e):null,this.commit()}transitionToFloor(e,t,n,i){const r=this.transitionObservable.value.progress;r.modifyAnimation(0,1,n),this.transitionObservable.value={from:e,to:t,progress:r,promise:i},this.commit(),i.then((()=>{this.transitionToFloorInstant(t)}))}get totalFloors(){return this.floorsEnabled?this.floors.getFloorCount():1}hasEnabledAlignedSweeps(e){return null!==e?this.stateHelper.getState(e).hasEnabledAlignedSweeps:this.stateHelper.hasEnabledAlignedSweeps}getNavigableFloorIds(){return this.stateHelper.navigableFloorIds}onNavigableFloorIdsChanged(e){return this.stateHelper.onNavigableFloorIdsChanged(e)}getHighestVisibleFloor(){return this.currentFloor?this.currentFloor:this.floors.getTopFloor()}getHighestVisibleFloorId(){return this.getHighestVisibleFloor().id}getFloorIdMap(){const e={};return this.iterate((t=>{e[t.id]={id:t.id,name:t.name,items:[]}})),e}iterate(e){this.floors.iterate((t=>{const n=this.getViewData(t.id);n&&e(n)}))}getFloorNames(){const e=[];return this.floorsEnabled?(this.floors.iterate((t=>{e[t.index]=this.getFloorName(t.id)})),e):e}getFloorName(e){if(!e)return this.localize(o.A.FLOOR_ALL);const t=this.floors.getFloor(e);return void 0!==t.name&&""!==t.name?t.name:this.getDefaultFloorName(e)}getDefaultFloorName(e){const t=this.floors.getFloor(e);return this.localize(o.A.SHOWCASE.FLOORS.DEFAULT_NAME,t.index+1)}getFloorsVisibility(){if(this.currentFloorId){const e=[];return this.floors.iterate((t=>{e[t.index]=t.id===this.currentFloorId?1:0})),e}return[]}get floorsEnabled(){return this.config.floorChangesEnabled()}get floorSelectModeActive(){return this._observableFloorsSelectMode.value}set floorSelectModeActive(e){const t=e&&this.floorsEnabled;t!==this._observableFloorsSelectMode.value&&(this._observableFloorsSelectMode.value=t,this.commit())}onFloorSelectModeChange(e){return this._observableFloorsSelectMode.onChanged(e)}get showFloorSelection(){return this._showFloorSelection.value}set showFloorSelection(e){e!==this._showFloorSelection.value&&(this._showFloorSelection.value=e,this.commit())}onShowFloorSelectionChanged(e){return this._showFloorSelection.onChanged(e)}get roomSelectModeActive(){return this._observableRoomSelectMode.value}set roomSelectModeActive(e){const t=e;t!==this._observableRoomSelectMode.value&&(this._observableRoomSelectMode.value=t,this.commit())}onRoomSelectModeChange(e){return this._observableRoomSelectMode.onChanged(e)}get isInAllFloorsMode(){return this.isMultifloor()&&this.currentFloorIndex===f.Zu}}},23272:(e,t,n)=>{"use strict";n.d(t,{$9:()=>s,Qd:()=>l,V6:()=>u,i1:()=>r,q8:()=>o,uh:()=>c,vr:()=>a});var i=n(55141);class r extends i.u{constructor(e,t=!1,n,i){super(),this.payload={floorId:e,suppressCameraMovement:t,transitionTime:n,focusPoint:i}}}r.id="MOVETO_FLOOR";class o extends i.u{constructor(e,t=!1,n,i){super(),this.payload={floorIndex:e,suppressCameraMovement:t,transitionTime:n,focusPoint:i}}}o.id="MOVETO_FLOOR_NUMBER";class s extends i.u{constructor(e){super(),this.payload=e}}s.id="SHOW_ALL_FLOORS";class a extends i.u{}a.id="DISABLE_ALL_FLOORS_OPTION";class l extends i.u{}l.id="ENABLE_ALL_FLOORS_OPTION";class c extends i.u{}c.id="LOCK_FLOOR_NAV";class u extends i.u{}u.id="UNLOCK_FLOOR_NAV"},72773:(e,t,n)=>{"use strict";n.d(t,{Zu:()=>i,nT:()=>r,t$:()=>o});const i=-1,r=-1,o=500},99438:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var i=n(98236),r=n(61260),o=n(39209);const s=(0,i.v)(o.X);(0,r.c)("floorsViewData",s)},80303:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});const i="features/floorselect"},92637:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var i=n(55141);class r extends i.u{constructor(e,t){super(),this.payload={messagePhraseKey:e,options:t}}}r.id="DEFAULT_ERROR"},37062:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var i=n(84710),r=n(56413);class o extends i.B{constructor(){super(),this.name="gui-view-data",this.collapsedAccordionGroupsObservable=(0,r.y)()}isAccordionGroupCollapsed(e){return this.collapsedAccordionGroupsObservable.get(e)}setAccordionGroupCollapsed(e,t){this.collapsedAccordionGroupsObservable.set(e,t)}getAccordionGroupCollapsedStates(){return this.collapsedAccordionGroupsObservable.deepCopy()}onAccordionCollapsedGroupsChanged(e){return this.collapsedAccordionGroupsObservable.onChanged(e)}}},81088:(e,t,n)=>{"use strict";n.d(t,{X:()=>r,r:()=>o});var i=n(55141);class r extends i.u{constructor(e,t){super(),this.payload={modal:e,open:t}}}r.id="TOGGLE_MODAL";class o extends i.u{constructor(){super()}}o.id="CLOSE_MODAL"},15105:(e,t,n)=>{"use strict";n.d(t,{E:()=>d});var i=n(74848),r=n(96540),o=n(32485),s=n.n(o),a=n(40936);const l=55,c=40,u=10;function d({className:e,outerLeft:t,children:n,outerRight:o,small:d=!1}){const h=(0,r.useRef)(null);(0,a.A)({ref:h});let p=!!t!=!!o;if(p&&h.current){const e=h.current.offsetWidth,t=h.current.children[1],n=d?c:l;t.offsetWidth+2*n+(2+u)>e&&(p=!1)}const f=s()("action-bar",e,{"fill-outer-space":p}),m=s()("action-bar-outer","action-bar-outer-left",{"action-bar-outer-large":!d}),g=s()("action-bar-outer","action-bar-outer-right",{"action-bar-outer-large":!d});return(0,i.jsx)("div",Object.assign({className:"overlay-action-bar"},{children:(0,i.jsxs)("div",Object.assign({ref:h,className:f},{children:[(0,i.jsx)("div",Object.assign({className:m},{children:t})),(0,i.jsx)("div",Object.assign({className:"action-bar-cta"},{children:n})),(0,i.jsx)("div",Object.assign({className:g},{children:o}))]}))}))}},64421:(e,t,n)=>{"use strict";n.d(t,{$t:()=>i,YE:()=>r,nX:()=>a});var i,r,o=n(55141);!function(e){e[e.CONFIRM=0]="CONFIRM",e[e.CLOSE=1]="CLOSE"}(i||(i={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.DISPLAY=1]="DISPLAY",e[e.UPDATE=2]="UPDATE"}(r||(r={}));const s={message:"",title:"",modalClass:"",cancellable:!0,closeButton:!0,confirmDisabled:!1};class a extends o.u{constructor(e,t){if(super(),e&&!t)throw new Error("Cannot open empty modal");this.payload={action:e,properties:Object.assign(Object.assign({},s),t)}}}a.id="CONFIRM_MODAL"},22213:(e,t,n)=>{"use strict";var i;n.d(t,{a:()=>i}),function(e){e.ADD_FROM_PHOTOS="add_from_photos",e.ATTACHMENT="attachmentViewer",e.CONFIRM="confirm",e.CTA="cta",e.DEFURNISH_AI="defunish_ai",e.HELP="help",e.HIGHLIGHT_EDITOR="highlight_editor",e.LAYER_ADD="layer_add",e.LINK_EDITOR="link_editor",e.MEASUREMENT_HELP="measurementModeHelp",e.MEDIA_EMBED_POPUP="mediaEmbedPopup",e.MODEL_VIEW_ADD="model_view_add",e.MODEL_VIEW_EDITOR="model_view_editor",e.MODEL_VIEW_DUPLICATE="model_view_duplicate",e.PHOTO_VIEWER="photo_viewer",e.RATING_THANK_YOU="rating_thank_you",e.SETTINGS="settings",e.SHARE="share",e.TERMS="terms",e.TOUR_SETTINGS="hlr_settings",e.VIEWS_INFO="views_info",e.VR_SELECT="vrSelect"}(i||(i={}))},8517:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var i=n(74848),r=n(32485),o=n.n(r);function s({children:e,className:t}){return(0,i.jsx)("div",Object.assign({className:o()("overlay-top-center",t)},{children:(0,i.jsx)("div",Object.assign({className:"overlay-info"},{children:e}))}))}},17963:(e,t,n)=>{"use strict";n.d(t,{h:()=>M});var i=n(74848),r=n(96540),o=n(32485),s=n.n(o),a=n(20246),l=n(17084),c=n(73566),u=n(35950),d=n(64057),h=n(78956),p=n(91406),f=n(12103),m=n(39869),g=n(56147),v=n(57470),y=n(8387);function E({analytic:e,children:t,className:n}){const r=(0,m.Y)().t(g.A.REUSABLES.HELP_BUTTON_TOOLTIP_MESSAGE);return(0,i.jsx)(v.Q,Object.assign({icon:"help",tooltip:r,popupSize:"medium",analytic:`${e}_help_click`,className:s()("help-button",n),variant:y.Ak.TERTIARY},{children:t}))}var S=n(37715);const{EDIT_BAR:b}=g.A.WORKSHOP;function O({tool:e}){const{helpHref:t,helpMessagePhraseKey:n}=e,r=(0,m.Y)(),o=r.t(b.HELP_LINK);return(0,i.jsxs)("div",Object.assign({className:"tool-help"},{children:[n&&r.t(n),t&&(0,i.jsx)(S.N,Object.assign({href:t},{children:o}))]}))}function _({tool:e}){const{analytic:t,helpMessagePhraseKey:n}=e;return n?(0,i.jsx)(E,Object.assign({analytic:t,className:"tool-help-button"},{children:(0,i.jsx)(O,{tool:e})})):null}var T=n(21162),A=n(98715);const w=({children:e,className:t})=>{if(!e)return null;const n=s()("panel-title",t);return(0,i.jsx)("div",Object.assign({className:n},{children:e}))};var N=n(90087);const{COLLAPSE_PANEL:I,EXPAND_PANEL:R}=g.A.PANELS;function k(e){const{tool:t,title:n,titleNode:o,children:s,expandable:a,hideHelp:c,hideBadge:u,onTogglePanel:h}=e,p=(0,m.Y)(),f=(0,d.J)(),g=(0,N.L)(),v=!c,E=(0,r.useCallback)((()=>{g.issueCommand(new l.u3(t.id))}),[g,t]),S=(0,r.useCallback)((e=>{e&&e.stopPropagation();const t=!f;h&&h(t),g.issueCommand(new l.li(t))}),[g,f,h]),b=f?"dpad-up":"dpad-down",O=f?p.t(R):p.t(I);return(0,i.jsxs)("div",Object.assign({className:"panel-header",onClick:a?S:void 0},{children:[(0,i.jsxs)(w,{children:[(0,i.jsxs)("div",Object.assign({className:"panel-name"},{children:[a&&(0,i.jsx)(y.$n,{icon:b,label:n,tooltip:O,tooltipOptions:{placement:"bottom-start"},variant:y.Ak.TERTIARY,onClick:S}),!a&&n]})),t.badgePhraseKey&&!u&&(0,i.jsx)("span",Object.assign({className:"word-badge"},{children:p.t(t.badgePhraseKey)})),o||null]}),(0,i.jsxs)(T.e,Object.assign({className:"panel-header-controls"},{children:[s,v&&(0,i.jsx)(_,{tool:t}),(0,i.jsx)(A.J,{tooltipOptions:{placement:"bottom"},onClose:E})]}))]}))}var L=n(53289);function M(e){const{closed:t,toolId:n,children:o,className:m,filmstrip:g,title:v,titleNode:y,subheader:E,hideHelp:S,hideBadge:b,footer:O,controls:_,subheaderCollapsedHeight:T}=e,A=(0,N.L)(),w=(0,d.J)(),I=(0,h.O)(),R=(0,p.M)(n),[M,D]=(0,r.useState)(w),[P,C]=(0,r.useState)(!1),x=(0,r.useRef)(void 0),U=(0,r.useCallback)((e=>{if(e){if(P||M)return;window.clearTimeout(x.current),C(!0),x.current=window.setTimeout((()=>{C(!1),D(!0)}),f.zu)}else D(!1),window.clearTimeout(x.current)}),[C,D,P,M,x]);(0,r.useEffect)((()=>{!w&&M&&U(w)}),[U,w,M]),(0,r.useEffect)((()=>()=>{window.clearTimeout(x.current)}),[]),(0,L.J)(a.rP,(({collapsed:e})=>U(e)));const j=!!R&&!t,F=I===c.L$.BOTTOM_PANEL,H=!(M&&!P),G={closed:t,collapsed:M,collapsing:P,"filmstrip-panel":g},B=T&&(F&&M)?{height:T+f.Zn}:void 0,V=E&&(T||!M),W=g||F;return(0,i.jsxs)(u.w,Object.assign({open:j,className:s()("list-panel",G,m),style:B,onKeyDown:function(e){"Escape"===e.code&&(e.stopPropagation(),A.issueCommand(new l.u3(n)))},focus:!0},{children:[R&&(0,i.jsx)(k,Object.assign({tool:R,title:v,titleNode:y,hideHelp:S,hideBadge:b,expandable:W,onTogglePanel:U},{children:_})),V&&E,H&&o,H&&O||null]}))}},12786:(e,t,n)=>{"use strict";n.d(t,{T:()=>$});var i=n(97084);const r=()=>{},o=()=>null,s=()=>!1,a=()=>Promise.reject(),l=()=>Promise.resolve(),c=()=>({}),u=()=>[],d=()=>({renew:r,cancel:r}),h={register:r,unregister:r,waitForData:a,tryGetData:o},p={subscribe:d,unsubscribe:r,broadcast:r};var f=n(79849);class m extends f.w{constructor(){super(...arguments),this.addBinding=d,this.removeBinding=r,this.issueCommand=a,this.issueCommandWhenBound=a,this.hookCommand=d,this.resetHooks=r}}const g=new m;var v=n(43787),y=n(13777);const E={mask:0,addLayers:r,removeLayers:r,clone:()=>E},S=()=>E;const b={market:h,msgBus:p,commandBinder:g,generatorSpreader:new y.Ay,uniqueId:-1,diContainer:v.oV,getModuleBySymbol:a,getModuleBySymbolSync:function(){throw new Error("getModuleBySymbolSync not supported")},tryGetModuleBySymbolSync:o,addComponent:l,removeComponent:l,getComponentByType:o,getComponents:function*(){},claimRenderLayer:S,getRenderLayer:S,subscribe:d,unsubscribe:r,broadcast:r,disposeRenderLayer:r,startGenerator:r,stopGenerator:r,after:l,toggleRendering:r,tick:r};const O=new class{constructor(){this.track=r,this.trackGuiEvent=r,this.trackToolGuiEvent=r}};var _=n(95404);class T extends _.default{constructor(){super(...arguments),this.t=(e,t)=>`${e}${t&&Object.keys(t).length?JSON.stringify(t):""}`,this.T=e=>e,this.has=e=>!0}get languageCode(){return"en"}}const A=new T;var w=n(33156);const N=(0,n(33895).A)(""),I=()=>N;class R extends w.E{constructor(){super(...arguments),this.getUserInfoByEmail=o,this.getUserInfoById=o,this.getUserDisplay=I,this.iterate=r,this.getUsersWhoMayNeedAccess=c,this.getKnownUsers=u,this.getCurrentUser=I,this.isLoggedIn=s,this.isOrgAdmin=s,this.isInviter=s,this.isEditor=s,this.isCommenter=s,this.getCurrentUserId=()=>N.id,this.onUsersChanged=d}}const k=new R(N,!1,!1);var L=n(96319),M=n(56413),D=n(23864),P=n(73566);const C={activate:l,deactivate:l},x=new D.N({id:P.S0.LABELS,namePhraseKey:"",panel:!1,panelLeft:!1,hidesAppBar:!1,icon:"",analytic:"labels",dimmed:!1,enabled:!1,manager:C,ui:{}}),U=new M.E;class j extends L.M{constructor(){super(...arguments),this.addTools=r,this.iterate=r,this.getTool=()=>x,this.removeTool=r,this.removeAllTools=r,this.setOpenAsset=r,this.onOpenAssetChanged=d,this.getActiveTool=o,this.activeToolName=null,this.previousToolName=null,this.openModal=null,this.toolChangeInProgress=!1,this.isPanelOpen=s,this.isToolCollapsedToBottom=s,this.toolPanelLayout=P.L$.NORMAL,this.softOpening=!1,this.toolCollapsed=!1}get toolsMap(){return U}get openAsset(){return null}}const F=new j;var H=n(25316);class G extends H.o{constructor(){super(...arguments),this.setProperty=r,this.setLocalStorageProperty=r,this.hasProperty=s,this.tryGetProperty=r,this.getProperty=r,this.getOverrideParam=r,this.iterate=r}}const B=new G;var V=n(49953);class W extends V.L{constructor(){super(...arguments),this.hasPolicy=s,this.getPolicy=()=>null}}const z=new W,$={editMode:!1,mainDiv:document.createElement("div"),queue:new i.L3,messageBus:p,userData:k,toolsData:F,settings:B,policyData:z,analytics:O,engine:b,market:h,commandBinder:g,locale:A,apiHost:"default"}},77570:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var i=n(96540),r=n(12786);const o=(0,i.createContext)(r.T)},61260:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var i=n(74848),r=n(96540);function o(e,t){return n=>(0,r.forwardRef)(((r,o)=>{const s=t(),a=Object.assign(Object.assign({},r),{[e]:s});return(0,i.jsx)(n,Object.assign({},a,{ref:o}))}))}},90087:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var i=n(93702);function r(){return(0,i.K)().commandBinder}},98236:(e,t,n)=>{"use strict";n.d(t,{v:()=>o,E:()=>s});var i=n(96540),r=n(77570);function o(e){return()=>s(e)}function s(e){const t=(0,i.useContext)(r.B).market,[n,o]=(0,i.useState)(t.tryGetData(e));return(0,i.useEffect)((()=>{let i=!1;return n||t.waitForData(e).then((e=>{i||o(e)})),()=>{i=!0}}),[t,e,n]),n}},87805:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,u:()=>o});var i=n(96540),r=n(98236);function o(e,t,n){return()=>s(e,t,n)}function s(e,t,n){const o=(0,r.E)(e),[s,a]=(0,i.useState)(o?o[t]:n);return(0,i.useEffect)((()=>{if(!o)return()=>{};const e=o.onPropertyChanged(t,a);return a(o[t]),()=>{e&&e.cancel()}}),[o,t]),s}},38731:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var i=n(96540),r=n(77570);function o(){return(0,i.useContext)(r.B).editMode}},93702:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var i=n(96540),r=n(77570);function o(){return(0,i.useContext)(r.B).engine}},6336:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var i=n(96540);function r(e){var t;const[n,r]=(0,i.useState)(e.getCurrentValue()),[o,s]=(0,i.useState)(null===(t=e.validUntil)||void 0===t?void 0:t.getTime()),a=!!o&&o-Date.now()<=0;return(0,i.useEffect)((()=>{if(void 0===o)return()=>{};let t=!1;const n=o-Date.now(),i=()=>{e.get().then((n=>{var i;t||(r(n),s(null===(i=e.validUntil)||void 0===i?void 0:i.getTime()))}))};if(n<=0)return i(),()=>t=!0;const a=window.setTimeout(i,n);return()=>{t=!0,window.clearTimeout(a)}}),[e,o]),(0,i.useEffect)((()=>{r(e.getCurrentValue())}),[e]),[n,a]}},50098:(e,t,n)=>{"use strict";n.d(t,{f:()=>d});var i=n(96540),r=n(98236),o=n(62372);const s=(0,r.v)(o.A);var a=n(88581),l=n(53289),c=n(1197);function u(e,t){return!(!e||!t)&&(e.isInside()&&t.isSweepUnaligned(t.currentSweep))}function d(){const e=s(),t=(0,a.o)(),[n,r]=(0,i.useState)(u(t||void 0,e||void 0)),o=(0,i.useCallback)((()=>{e&&t&&r(u(t,e))}),[e,t]);return(0,l.J)(c.A,o),(0,i.useEffect)((()=>{if(!e)return()=>{};const t=e.makeSweepChangeSubscription(o);return o(),()=>t.cancel()}),[e,o]),n}},53289:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var i=n(96540),r=n(78063);function o(e,t){const n=(0,r.B)();(0,i.useEffect)((()=>{const i=n.subscribe(e,t);return()=>i.cancel()}),[n,e,t])}},78063:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var i=n(93702);function r(){return(0,i.K)().msgBus}},17904:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var i=n(96540),r=n(93702);function o(e){const t=(0,r.K)(),[n,o]=(0,i.useState)(t.tryGetModuleBySymbolSync(e));return(0,i.useEffect)((()=>{let n=!1;return t.getModuleBySymbol(e).then((e=>{n||o(e)})),()=>{n=!0}}),[e,t]),n}},94799:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var i=n(93702);function r(e){const t=(0,i.K)().tryGetModuleBySymbolSync(e);if(!t)throw new Error(`Module not found for token: ${e}`);return t}},22044:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(96540);function r(e){const[t,n]=(0,i.useState)(e.value);return(0,i.useEffect)((()=>{const t=e.onChanged(n);return n(e.value),()=>t.cancel()}),[e]),t}},5262:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var i=n(96540),r=n(50747);function o(e,t){const n=(0,r.F)(),[o,s]=(0,i.useState)(n.tryGetProperty(e,t));return(0,i.useEffect)((()=>{const i=()=>{s(n.tryGetProperty(e,t))},r=n.onPropertyChanged(e,i);return i(),()=>null==r?void 0:r.cancel()}),[n,e,t]),o}},87635:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var i=n(87965),r=n(5262),o=n(23339);function s(){return(0,r.i)(i.Y.UnitType,o.t.METRIC)}},29376:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var i=n(75578),r=n(71687),o=n(96540),s=n(5338),a=n(12786),l=n(77570),c=n(15623),u=n(74848),d=n(92637),h=n(32485),p=n.n(h),f=n(10843),m=n(89103);class g extends m.QB{constructor(e){super(),this.open=e}}var v=n(98715),y=n(8647);const E=new f.Ay("alert-notification");class S extends o.Component{constructor(e){super(e),this.throttledMessages=new Map,this.onClose=()=>{clearTimeout(this.alertTimer),this.setState({open:!1})},this.state={open:!1}}componentDidMount(){this.update()}componentWillUnmount(){this.state.open&&this.props.messageBus.broadcast(new g(!1))}UNSAFE_componentWillReceiveProps(e){this.update(e)}componentDidUpdate(e,t){this.state.open!==t.open&&this.props.messageBus.broadcast(new g(this.state.open))}update(e=this.props){const{show:t,timeout:n,message:i,throttle:r,type:o}=e,{analytics:s}=this.context;if(t){if(r>0){if(this.throttledMessages.has(i)&&this.throttledMessages.get(i)>Date.now())return void E.debug(`Suppressed alert dialog due to message throttling: ${i}`);this.throttledMessages.set(i,Date.now()+1e3*r)}clearTimeout(this.alertTimer),this.setState({open:!0}),n>0&&(this.alertTimer=window.setTimeout(this.onClose,1e3*n)),s&&s.track("alert_gui",{alert_action:"show",alert_type:o,alert_message:i})}}render(){const{title:e,message:t,type:n}=this.props,{open:i}=this.state,r={active:i,[`notification-${n}`]:!0};return(0,u.jsxs)("aside",Object.assign({className:p()("alert-notification",r)},{children:[(0,u.jsxs)("div",Object.assign({className:"notification-body"},{children:[e&&(0,u.jsx)("h3",Object.assign({className:"notification-title"},{children:e})),(0,u.jsx)("p",Object.assign({className:"notification-text"},{children:t}))]})),i&&(0,u.jsx)(v.J,{theme:"dark",tooltip:"",onClose:this.onClose})]}))}}S.contextType=l.B,S.defaultProps={type:y.v.INFO,show:!1,timeout:10,throttle:0};var b=n(80610);class O extends o.Component{constructor(e){super(e),this.bindings=[],this.state={guiError:!1,errorMessagePhraseKey:""}}componentDidMount(){const{commandBinder:e}=this.context;this.bindings.push(e.addBinding(d.P,(async e=>{this.showErrorMessage(e.messagePhraseKey,e.options)})))}componentWillUnmount(){this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}componentDidUpdate(e,t){const{guiError:n}=this.state;n&&this.setState({guiError:!1})}showErrorMessage(e,t){this.setState({guiError:!0,errorMessagePhraseKey:e,errorOptions:t})}render(){const{messageBus:e,locale:t}=this.context,{guiError:n,errorMessagePhraseKey:i,errorOptions:r}=this.state;let o=i&&t.t(i);const{error:s}=r||{};return s&&(0,b.Ue)(s)&&(o=`${o} (${s.code})`),(0,u.jsx)(S,Object.assign({messageBus:e,show:n,message:o},r))}}O.contextType=l.B;var _=n(49953),T=n(25316),A=n(96319),w=n(33156),N=n(37062);class I extends i.n{constructor(){super(...arguments),this.name="gui",this.workshopApp=!1,this.onAppReadyChanged=(e,t)=>{this.workshopApp&&(t&&e?this.mainDiv.classList.add("edit-mode"):this.mainDiv.classList.remove("edit-mode"))}}async init(e,t){this.workshopApp=e.workshopApp,this.mainDiv=e.mainDiv,this.reactContainer=e.reactContainer,this.market=t.market;const n=t.getModuleBySymbol(r.gS),i=t.getModuleBySymbol(r.$c),o=t.market.waitForData(w.E),s=t.market.waitForData(T.o);this.mainArgs=await Promise.all([n,i,s,o]),this.context={apiHost:e.apiHost,editMode:!1,mainDiv:e.mainDiv,analytics:this.mainArgs[1],locale:this.mainArgs[0],settings:this.mainArgs[2],userData:this.mainArgs[3],policyData:await this.market.waitForData(_.L),toolsData:await this.market.waitForData(A.M),engine:t,messageBus:t.msgBus,market:t.market,commandBinder:t.commandBinder,queue:e.queue},this.loadErrorBar(Object.assign({appContainer:this.reactContainer},this.context)),this.guiViewData=new N.J,this.market.register(N.J,this.guiViewData)}getAppContext(){return Object.assign({},this.context)}async loadUi(e){return e.apply(this,[this.getAppContext(),this.reactContainer,this.onAppReadyChanged])}loadErrorBar({messageBus:e,commandBinder:t,market:n,appContainer:i,analytics:r,settings:u,locale:d}){const{dispose:h}=((e,t,n,i,r,u,d)=>{const h=document.createElement("div");h.className="error-bar",i.insertBefore(h,i.firstElementChild);const p=Object.assign(Object.assign({},a.T),{messageBus:e,commandBinder:t,market:n,analytics:r,settings:u,locale:d}),f=(0,s.createRoot)(h);return f.render((0,o.createElement)(l.B.Provider,{value:p},[(0,o.createElement)(c.U6.Provider,{key:"error-bar-locale",value:p},[(0,o.createElement)(O,{key:"error-bar"})])])),{dispose:()=>{f.unmount(),h.remove()}}})(e,t,n,i,r,u,d);this.bindings.push({renew:()=>{},cancel:h})}}},50178:(e,t,n)=>{"use strict";n.d(t,{XR:()=>o,Yl:()=>a,c7:()=>s,rn:()=>r});var i=n(89103);class r extends i.QB{constructor(e,t){super(),this.modal=e,this.open=t}}i.QB;class o extends i.QB{constructor(e){super(),this.isOpen=e}}class s extends i.QB{constructor(e){super(),this.suppress=e}}class a extends i.QB{constructor(e,t){super(),this.textElement=e,this.focused=t}}},58338:(e,t,n)=>{"use strict";n.d(t,{M:()=>d,R:()=>i});var i,r=n(74848),o=n(96540),s=n(32485),a=n.n(s),l=n(8387),c=n(46608),u=(n(71865),function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n});!function(e){e.ADD="plus",e.CANCEL="cancel",e.CONFIRM="checkmark"}(i||(i={}));const d=(0,o.forwardRef)(((e,t)=>{var{addIcon:n,className:s}=e,d=u(e,["addIcon","className"]);const h=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,(()=>({dismissNudge:()=>{h.current&&h.current.dismissNudge()}})),[]);const p=n===i.CANCEL,f=p?i.ADD:n,m=a()("add-button",s,{"add-cancel":p});return(0,r.jsx)(c.Y,Object.assign({},d,{ref:h,className:m,variant:l.Ak.FAB,icon:f,theme:"dark",featured:!0}))}))},44199:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var i=n(74848),r=n(96540),o=n(32485),s=n.n(o),a=n(56147),l=n(39869),c=n(38731),u=n(94799),d=n(78379),h=n(58024),p=n(2716),f=n(47613);var m=n(93877);const g=()=>{const e=function(){const e=(0,f._)(),[t,n]=(0,r.useState)((null==e?void 0:e.currentLayers())||[]);return(0,r.useEffect)((()=>{if(!e)return()=>{};function t(){n((null==e?void 0:e.currentLayers())||[])}const i=e.onCurrentLayersChanged(t);return t(),()=>i.cancel()}),[e]),t}();for(const t of e)if(t.layerType===m.ku.VIEW_DATA_LAYER)return t;return null};var v=n(90683),y=n(12621),E=n(4717),S=n(8387);function b({layer:e,active:t,onClick:n}){const{id:r}=e,o=(0,E.G)(),s=(0,y._)(r,o),a=t?"checkmark":void 0;return(0,i.jsx)(S.$n,{className:"layer-item",label:s,icon:a,active:t,variant:S.Ak.TERTIARY,size:S.Mp.SMALL,onClick:()=>{n(r)}})}var O=n(58338),_=n(76866),T=n(71687),A=(n(71865),function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n});const{LAYERS:w}=a.A.WORKSHOP,N=(0,r.forwardRef)(((e,t)=>{var{allowLayerChange:n,onChangeLayer:o}=e,a=A(e,["allowLayerChange","onChangeLayer"]);const f=(0,r.useRef)(null),m=(0,r.useRef)(null),E=(0,c.B)(),N=(0,d.S)(),I=(0,h.z0)(),R=(0,p.z)(),k=(0,l.Y)(),L=g(),M=(0,v.e)(),D=(0,u.j)(T.az),P=I&&!M(I.id)?I:L;(0,r.useImperativeHandle)(t,(()=>({dismissNudge:()=>{f.current&&f.current.dismissNudge()}})),[]);const C=(0,i.jsx)(O.M,Object.assign({ref:f},a));if(!N||!E||R.length<2)return C;const x=e=>{e!==(null==P?void 0:P.id)&&(D.selectLayer(e,!0),o&&o(e))},U=P?(0,y.H)(k,P):k.t(w.UNLAYERED_LAYER_LABEL),j=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",Object.assign({className:"button-menu-label"},{children:k.t(w.LAYER_ADDING_TO_LABEL)})),(0,i.jsx)("div",Object.assign({className:"active-layer-name"},{children:U}))]}),F=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",Object.assign({className:"menu-title",onClick:e=>e.stopPropagation()},{children:k.t(w.LAYER_ADDING_TO_CHOICE_LABEL)})),(0,i.jsx)(S.$n,{icon:"close",variant:S.Ak.TERTIARY,size:S.Mp.SMALL,onClick:()=>{m.current&&m.current.closeMenu()}})]});return(0,i.jsxs)("div",Object.assign({className:s()("layered-add-button",{"with-layer-menu":n})},{children:[C,(0,i.jsxs)(_.y,Object.assign({ref:m,label:j,className:"add-menu-button",menuClassName:"add-button-layer-menu",menuPlacement:"top",variant:S.Ak.FAB,size:S.Mp.SMALL,theme:"dark",caret:!0},{children:[F,R.map((e=>{const{id:t}=e,n=(null==I?void 0:I.id)===t;return M(e.id)?null:(0,i.jsx)(b,{layer:e,onClick:x,active:n},t)}))]}))]}))}))},8647:(e,t,n)=>{"use strict";var i;n.d(t,{v:()=>i}),function(e){e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error"}(i||(i={}))},13584:(e,t,n)=>{"use strict";n.d(t,{S:()=>d,x:()=>i});var i,r=n(74848),o=n(96540),s=n(32485),a=n.n(s),l=n(72909),c=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.FILTER=1]="FILTER"}(i||(i={}));let d=class extends o.Component{constructor(e){super(e),this.onChange=e=>{this.props.stopPropagation&&e.stopPropagation(),this.setState((e=>({checkedValue:!e.checkedValue})),(()=>{this.props.onChange&&this.props.onChange(this.checkboxElement,...this.props.onChangeArgs||[])}))},this.setCheckboxRef=e=>{this.checkboxElement=e},this.state={checkedValue:e.checked}}UNSAFE_componentWillReceiveProps(e){this.setState({checkedValue:e.checked})}render(){const{checkboxStyle:e=i.DEFAULT,className:t,dataValue:n,enabled:o,error:s,helpText:l,id:c,label:u}=this.props,{checkedValue:d}=this.state,h=!o;return(0,r.jsxs)("div",Object.assign({ref:this.setCheckboxRef,id:c,role:"checkbox","aria-checked":d?"true":"false","aria-disabled":h,"data-value":n,className:a()("checkbox-element",`checkbox-style-${i[e].toLowerCase()}`,{checked:d,disabled:h,error:s},t),onClick:this.onChange,tabIndex:0},{children:[e!==i.FILTER&&(0,r.jsx)("div",{className:"checkbox icon-checkmark"}),(0,r.jsx)("div",Object.assign({className:"checkbox-text"},{children:u})),l&&(0,r.jsx)("span",Object.assign({className:"help-text"},{children:l}))]}))}};d.defaultProps={enabled:!0,error:!1},d=c([l.A,u("design:paramtypes",[Object])],d)},87912:(e,t,n)=>{"use strict";n.d(t,{q:()=>u});var i=n(74848),r=n(96540),o=n(32485),s=n.n(o),a=n(6336),l=n(95300),c=n(86866);function u({resource:e,className:t,children:n,onClick:o,aspectRatio:u}){const[d]=(0,a.i)(e),h=(0,r.useMemo)((()=>{if(!d)return{};if(u){const e=(0,l.s1)(d,u);return{minWidth:"fit-content",aspectRatio:`${(0,c.QX)(u,2)} / 1`,backgroundImage:`url('${e.toString()}')`}}return{backgroundImage:`url('${d}')`}}),[d,u]);return(0,i.jsx)("div",Object.assign({className:s()(t),style:h,onClick:o},{children:n}))}},36220:(e,t,n)=>{"use strict";n.d(t,{Df:()=>r,K0:()=>g,Tp:()=>o,zt:()=>s});var i,r,o,s,a=n(74848),l=n(96540),c=n(32485),u=n.n(c),d=n(72909),h=n(64491),p=n(77570),f=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},m=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e.ENABLED="enabled",e.DISABLED="disabled",e.DECORATIVE="decorative",e.DIMMED="dimmed",e.ACTIVE="active",e.BUSY="busy"}(r||(r={})),function(e){e[e.STANDARD=0]="STANDARD",e[e.MINI=1]="MINI",e[e.SMALL=2]="SMALL",e[e.LARGE=3]="LARGE"}(o||(o={})),function(e){e.CLEAR="clear",e.PLAIN="plain",e.OVERLAY="overlay",e.PRIMARY="primary",e.SOCIAL="social",e.TOOLBAR="toolbar"}(s||(s={}));let g=i=class extends l.Component{constructor(e){super(e),this.onClick=e=>{const t=this.props.buttonState;t!==r.BUSY&&t!==r.DISABLED&&this.props.onClick&&this.props.onClick(e)},this.onMouseDown=e=>{const{onMouseDown:t,onClick:n,buttonState:o}=this.props;if(t)t(e);else if(i.iMobile&&n&&o!==r.BUSY&&o!==r.DISABLED){const t=this.context.mainDiv.getRootNode().activeElement;t&&e.cancelable&&(t.blur(),e.preventDefault())}}}render(){const{ariaLabel:e,breakoutTooltip:t,buttonSize:n,buttonState:i,buttonStyle:l,children:c,className:d,dataValue:h,iconClass:p,id:f,onClick:m,onMouseUp:g,tooltipMsg:v,tooltipPersist:y,tooltipPreformatted:E}=this.props,S=i===r.DISABLED,b=i===r.BUSY,O=i===r.DECORATIVE,_=!S&&!b&&!O,T=v?!!E:void 0,A={"button-small":n===o.SMALL,"button-large":n===o.LARGE,"button-disabled":S,"button-dimmed":i===r.DIMMED,"button-active":i===r.ACTIVE,"button-busy":b,"button-interactive":_,"icon-button-primary":l===s.PRIMARY,"icon-button-overlay":l===s.OVERLAY,"icon-button-plain":l===s.PLAIN,"icon-button-social":l===s.SOCIAL,"icon-button-toolbar":l===s.TOOLBAR,"icon-button-breakout-tooltip":t},w={id:f,role:"button","aria-label":e||v,"aria-disabled":S,"data-value":h,className:u()("icon-button",A,d),onClick:m?this.onClick:void 0,onMouseUp:g,onMouseDown:this.onMouseDown},N={"data-balloon-pre":T,"data-balloon-persist":y};return t||Object.assign(w,N),(0,a.jsxs)("div",Object.assign({},w,{children:[t&&(0,a.jsx)("div",Object.assign({className:"icon-button-breakout-tooltip-container"},{children:(0,a.jsx)("div",Object.assign({className:"icon-button-breakout-tooltip-trigger"},N))})),p&&(0,a.jsx)("span",{className:`icon ${p}`}),c]}))}};g.contextType=p.B,g.iMobile=(0,h.OF)()||(0,h.J0)(),g=i=f([d.A,m("design:paramtypes",[Object])],g)},33837:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});var i=n(74848),r=n(96540),o=n(64491),s=n(39918);const a=132,l=8;function c({progress:e,screenPosition:t}){if(!(0,r.useMemo)((()=>(0,o.C8)()),[])||!t||0===e)return null;const n={left:t.x-a/2+"px",top:t.y-a/2+"px"};return(0,i.jsx)("div",Object.assign({className:"point-button-wrapper",style:n},{children:(0,i.jsx)(s.A,Object.assign({progress:100*e,innerRadius:a,barWidth:l},{children:(0,i.jsx)("circle",{className:"point",cx:"0",cy:"0",r:"22",transform:"rotate(-90)",fill:"#fff"})}))}))}},46608:(e,t,n)=>{"use strict";n.d(t,{Y:()=>g});var i=n(96540),r=n(74848),o=n(32485),s=n.n(o),a=n(55285),l=n(5262),c=n(8387),u=n(98715);function d({title:e,message:t,children:n,closeButton:i=!1,className:o,onClose:a}){return(0,r.jsxs)("div",Object.assign({className:s()("nudge",o)},{children:[(0,r.jsxs)("div",Object.assign({className:s()("nudge-header",{"nudge-with-title":!!e})},{children:[e&&(0,r.jsx)("div",Object.assign({className:"nudge-title"},{children:e})),i&&(0,r.jsx)(u.J,{className:"nudge-close-button",size:c.Mp.SMALL,onClose:a})]})),t&&(0,r.jsx)("div",Object.assign({className:s()("nudge-message",{"nudge-message-with-title":e})},{children:t})),n]}))}var h=n(73943),p=n(27947),f=n(50747),m=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const g=(0,i.forwardRef)(((e,t)=>{var{className:n,tooltip:o,children:u,onClick:g,closeButton:v,nudgeTitle:y,nudgeMessage:E,nudgeSize:S="medium",nudgeDisabled:b=!1,showTimeout:O=5e3,dismissTimeout:_=5e3,nudgeFeatureKey:T="",nudgeLocalStorage:A="",nudgeSessionKey:w="",onNudgeDismissed:N,featured:I=!1,tooltipOptions:R={},nudgeClassName:k}=e,L=m(e,["className","tooltip","children","onClick","closeButton","nudgeTitle","nudgeMessage","nudgeSize","nudgeDisabled","showTimeout","dismissTimeout","nudgeFeatureKey","nudgeLocalStorage","nudgeSessionKey","onNudgeDismissed","featured","tooltipOptions","nudgeClassName"]);const M=(0,f.F)(),[D,P]=(0,i.useState)(!1),[C,x]=(0,a.Mj)(A,!1),U=(0,l.i)(w,!1),j=(0,l.i)(T,!1),F=(0,i.useRef)(0),H=(0,i.useRef)(0),G=!(!y&&!E),B=(0,i.useCallback)((()=>{if(!G||D||b)return!1;return(!T||j)&&!(!!A&&C)&&!(!!w&&U)}),[G,D,b,T,j,A,C,w,U]),[V,W]=(0,a.Lh)(),z=(0,h.a)(),$=(0,i.useCallback)((()=>{window.clearTimeout(F.current),F.current=0,window.clearTimeout(H.current),H.current=0}),[]),K=(0,i.useCallback)((()=>{$(),D&&(A&&x(!0),w&&M.setProperty(w,!0),N&&N(),P(!1))}),[$,D,A,w,N,x,M]),Y=(0,i.useCallback)((()=>{if(!G)return;const e=F.current||H.current;B()&&!e&&(F.current=window.setTimeout((()=>{F.current=0,B()&&P(!0)}),O))}),[O,G,B]);(0,i.useImperativeHandle)(t,(()=>({dismissNudge:()=>{K()}})),[K]),(0,i.useEffect)((()=>(b||z!==p.Jj.PLAYING||0===W.height||0===W.width?$():Y(),()=>{$()})),[b,W,Y,$,z]),(0,i.useEffect)((()=>(D&&(H.current=window.setTimeout(K,_)),()=>{$()})),[D,K,_,$]);let q;if(G){const e=void 0!==v?v:!!y;q=(0,r.jsx)(d,{title:y,message:E,closeButton:e,className:I?"nudge-featured":void 0})}const Q=D?q:o,X=D?"static":"hover",Z=Object.assign(Object.assign({},R),{trigger:X,onToggle:e=>{G&&(e||K())},theme:D?"light":"dark",size:D?S:"small",className:D&&k?k:"nudge-button-tooltip"}),J=s()("nudge-button",n);return(0,i.createElement)(c.$n,Object.assign({},L,{key:`nudge-button-${o}`,onClick:e=>{K(),g&&g(e)},className:J,tooltip:Q,tooltipOptions:Z,ref:V}),u)}))},87137:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(74848),r=n(96540),o=n(32485),s=n.n(o),a=n(43591),l=n(56147),c=n(3249),u=n(82769),d=n(77897),h=n(90053),p=n(76191),f=n(97191),m=n(94814),g=n(8387),v=n(77570);class y extends r.Component{constructor(e,t){super(e,t),this.outerWrapperRef=(0,r.createRef)(),this.innerWrapperRef=(0,r.createRef)(),this.contentContainerRef=(0,r.createRef)(),this.dragStartScroll=0,this.listening=!1,this.animation=null,this.handlingPaused=!1,this.isDragging=!1,this.isUnmounting=!1,this.handleEvent=e=>{"mousedown"!==e.type&&"pointerdown"!==e.type&&"touchstart"!==e.type||(this.handlingPaused=!1),this.props.suppressDrag||this.handlingPaused||this.inputFilter.handleEvent(e)},this.getScrolledOffset=()=>{if(!this.innerWrapperRef.current||0===this.state.contentSize)return 0;const e=this.props.direction===d.OP.vertical?"scrollTop":"scrollLeft";return this.innerWrapperRef.current[e]/this.state.contentSize},this.getScrollableContainer=()=>this.innerWrapperRef.current||void 0,this.pauseScrollHandling=()=>{this.handlingPaused=!0,this.toggleDownEventListening(!1)},this.scrollWithScrollBar=e=>{if(!this.props.suppressDrag){const t=this.getAxis();e.hasOwnProperty(t)&&this.scrollTo(e[t])}},this.scrollTo=e=>{void 0===e||isNaN(e)||(this.setScrollPosition(Math.max(Math.min(1,e)*this.state.contentSize,0)),this.setState({scrollOffset:this.getScrollPosition()}))},this.handleDragStart=()=>{this.setState({scrollCenter:null}),this.isDragging=!0},this.handlePressStart=()=>{this.dragStartScroll=this.getScrollPosition()},this.handlePressMove=e=>{if(!this.props.suppressDrag){const t=(e[this.getAxis()]+this.dragStartScroll)/this.state.contentSize;this.scrollTo(t)}},this.handleWheelEvent=e=>{if(this.props.suppressDrag)return void e.preventDefault();this.props.direction===d.OP.horizontal&&0===e.deltaX&&0!==e.deltaY?(this.handlePressStart(),this.handlePressMove({x:e.deltaY,y:0})):(this.setState({scrollCenter:null}),this.handleExternalChange())},this.handleClick=e=>{this.props.handleClick&&this.props.handleClick(e)},this.handleDragEnd=(e,t)=>{this.isDragging=!1;const n=e[this.getAxis()]/t,i=Math.min(d.RL,Math.abs(d.RL*n)),r=this.getScrollPosition(),o=n*i/2;this.animation=new p.A({duration:i,startValue:r/this.state.contentSize,endValue:Math.max(0,Math.min((r+o)/this.state.contentSize,1)),easingFunction:m.WD})},this.handleResize=()=>{!this.isUnmounting&&this.innerWrapperRef.current&&this.contentContainerRef.current&&this.state.scrollCenter&&this.scrollToElement(this.state.scrollCenter)},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.onManualScroll=()=>{this.props.onScrolled&&this.props.onScrolled()},this.onButtonScroll=e=>{if(this.contentContainerRef.current&&this.props.steps){const t=this.props.direction===d.OP.vertical?"offsetHeight":"offsetWidth",n=this.contentContainerRef.current[t]/this.props.steps,i=this.getScrollPosition();let r;r=e?(i+n)/this.state.contentSize:(i-n)/this.state.contentSize,this.scrollTo((0,c.qE)(r,0,1))}},this.onScrollBack=()=>{this.onButtonScroll(!1)},this.onScrollForward=()=>{this.onButtonScroll(!0)},this.onHoldScrollBack=()=>{this.mouseInterval=window.setInterval(this.onScrollBack,300)},this.onHoldScrollForward=()=>{this.mouseInterval=window.setInterval(this.onScrollForward,300)},this.onScrollButtonUp=()=>{window.clearInterval(this.mouseInterval)},this.renderScrollBackButton=()=>{const e=this.getScrollPosition(),t=this.props.direction===d.OP.vertical?"dpad-up":"dpad-left",n=this.context.locale.t(l.A.SCROLLING.SCROLL_BUTTON_LABEL),r=0===e;return(0,i.jsx)(g.$n,{className:s()("scroll-button","scroll-back"),icon:t,ariaLabel:n,variant:g.Ak.TERTIARY,theme:"dark",disabled:r,onClick:this.onScrollBack,onPointerDown:this.onHoldScrollBack,onPointerUp:this.onScrollButtonUp})},this.renderScrollForwardButton=()=>{const e=this.contentContainerRef.current,t=this.innerWrapperRef.current;if(!e||!t)return null;const n=this.getScrollPosition(),r=this.props.direction===d.OP.vertical?"offsetHeight":"offsetWidth",o=this.props.direction===d.OP.vertical?"dpad-down":"dpad-right",a=this.context.locale.t(l.A.SCROLLING.SCROLL_BUTTON_LABEL),c=e[r]-t[r]-n<=0;return(0,i.jsx)(g.$n,{className:s()("scroll-button","scroll-forward"),icon:o,ariaLabel:a,variant:g.Ak.TERTIARY,theme:"dark",disabled:c,onClick:this.onScrollForward,onPointerDown:this.onHoldScrollForward,onPointerUp:this.onScrollButtonUp})},this.state={scrollCenter:null,scrollOffset:0,innerSize:0,contentSize:0},this.resizeObserver=new a.A(this.handleResize),this.inputFilter=new f.A({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd,handleClick:this.handleClick})}componentDidMount(){this.outerWrapperRef.current&&this.resizeObserver.observe(this.outerWrapperRef.current),this.props.thumbScrollingOnly?this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("click",this.handleClick):this.toggleDownEventListening(!0),this.toggleDragHandling(!0),this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("wheel",this.handleWheelEvent),this.inputFilter.setEnabled(!this.props.suppressDrag),this.handleExternalChange(!0)}componentWillUnmount(){this.isUnmounting=!0,this.resizeObserver.disconnect(),this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("wheel",this.handleWheelEvent),this.toggleDragHandling(!1),this.props.thumbScrollingOnly?this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("click",this.handleClick):this.toggleDownEventListening(!1)}UNSAFE_componentWillReceiveProps(e){e.thumbScrollingOnly&&!this.props.thumbScrollingOnly?(this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("click",this.handleClick),this.toggleDownEventListening(!1)):!e.thumbScrollingOnly&&this.props.thumbScrollingOnly&&(this.toggleDownEventListening(!0),this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("click",this.handleClick)),e.suppressDrag!==this.props.suppressDrag&&this.inputFilter.setEnabled(!e.suppressDrag)}componentDidUpdate(e,t){this.props.waitToUpdate||this.handleExternalChange();const n=this.animation;if(n)if(n.isAnimating){const e=n.getUpdatedValue();window.requestAnimationFrame((()=>{this.innerWrapperRef.current&&this.scrollTo(e)}))}else this.animation=null;t.scrollOffset!==this.state.scrollOffset&&this.props.onScrolled&&this.props.onScrolled()}toggleDownEventListening(e){const t=this.handleEvent;this.innerWrapperRef.current&&(e?window.PointerEvent?this.innerWrapperRef.current.addEventListener("pointerdown",t):(this.innerWrapperRef.current.addEventListener("mousedown",t),this.innerWrapperRef.current.addEventListener("touchstart",t)):window.PointerEvent?this.innerWrapperRef.current.removeEventListener("pointerdown",t):(this.innerWrapperRef.current.removeEventListener("mousedown",t),this.innerWrapperRef.current.removeEventListener("touchstart",t)))}toggleDragHandling(e){const t=this.handleEvent;!this.listening&&e?(this.listening=!0,window.PointerEvent?(window.addEventListener("pointermove",t),window.addEventListener("pointerup",t)):(window.addEventListener("mousemove",t),window.addEventListener("mouseleave",t),window.addEventListener("mouseup",t),window.addEventListener("touchmove",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t))):this.listening&&!e&&(this.listening=!1,window.PointerEvent?(window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",t)):(window.removeEventListener("mousemove",t),window.removeEventListener("mouseleave",t),window.removeEventListener("mouseup",t),window.removeEventListener("touchmove",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t)))}getScrollPosition(){if(!this.innerWrapperRef.current)return 0;const e=this.props.direction===d.OP.vertical?"scrollTop":"scrollLeft";return this.innerWrapperRef.current[e]}setScrollPosition(e){if(!this.innerWrapperRef.current)return;const t=this.props.direction===d.OP.vertical?"scrollTop":"scrollLeft";this.innerWrapperRef.current[t]=e}getAxis(){return this.props.direction===d.OP.vertical?"y":"x"}scrollToPercentage(e,t){this.animation=new p.A({duration:t,startValue:this.getScrolledOffset(),endValue:Math.max(0,Math.min(1,e))})}scrollToElement(e){const t=this.innerWrapperRef.current,n=this.outerWrapperRef.current;if(!e||!t||!n)return;if(!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINS))return;const i=n.parentElement;if(!i)return;const r=this.props.direction===d.OP.vertical;this.setState({scrollCenter:e});const o=r?"offsetTop":"offsetLeft",s=r?"offsetHeight":"offsetWidth";let a=e[o]+e[s]/2,l=e,c=l.parentElement;for(;c&&l!==t;)l=c,c=l.parentElement,a+=l[o];const u=(a-i[s]/2)/this.state.contentSize;this.animation=new p.A({duration:d.RL,startValue:this.getScrollPosition()/this.state.contentSize,endValue:Math.max(0,Math.min(1,u))})}handleExternalChange(e){if(this.isUnmounting||!this.innerWrapperRef.current||!this.contentContainerRef.current)return;const t=this.props.direction===d.OP.vertical?"clientHeight":"clientWidth",n={innerSize:Number(this.innerWrapperRef.current&&this.innerWrapperRef.current[t])||1,contentSize:Number(this.contentContainerRef.current&&this.contentContainerRef.current[t])||1,scrollOffset:this.innerWrapperRef.current&&this.getScrollPosition()};(0,u._)(this.state,n)&&(e?this.setState(n):this.debouncedSetState(n))}needScrolling(){if(!this.contentContainerRef.current||!this.outerWrapperRef.current)return!1;const e=this.props.direction===d.OP.vertical?"offsetHeight":"offsetWidth";return this.contentContainerRef.current[e]>this.outerWrapperRef.current[e]}render(){const{hideScrollbar:e,children:t,onScrollableChanged:n,scrollButtons:r,steps:o,onScrollPositionChange:a,direction:l,className:c}=this.props,{innerSize:u,contentSize:d,scrollOffset:p}=this.state,f=r&&!!o&&this.needScrolling();return(0,i.jsxs)("div",Object.assign({className:s()("outerScrollbarWrapper",[l],[c],{"button-scrolling":f}),ref:this.outerWrapperRef},{children:[f&&this.renderScrollBackButton(),(0,i.jsx)("div",Object.assign({className:"innerScrollbarWrapper",ref:this.innerWrapperRef},{children:(0,i.jsx)("div",Object.assign({className:"paddingScrollbarWrapper",ref:this.contentContainerRef},{children:t}))})),(0,i.jsx)(h.Z,{direction:l,wrapperLength:u,childLength:d,scrollOffset:p,scrollTo:this.scrollWithScrollBar,forceHidden:!!e,onVisibilityChange:n,onScrollPositionChange:a,onThumbDrag:this.onManualScroll}),f&&this.renderScrollForwardButton()]}))}}y.contextType=v.B},95439:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,v:()=>o});var i=n(55141);class r extends i.u{constructor(e){super(),this.payload=e}}r.id="SHOW_TOASTR";class o extends i.u{}o.id="HIDE_TOASTR"},57470:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d});var i=n(96540),r=n(64491),o=n(28479),s=n(78956),a=n(8387),l=n(68375),c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const u=(0,r.C8)();function d(e){const{ariaLabel:t,tooltip:n,tooltipPlacement:r="bottom",preventOverflow:d,analytic:h,children:p,popupSize:f,onOpenPopup:m}=e,g=c(e,["ariaLabel","tooltip","tooltipPlacement","preventOverflow","analytic","children","popupSize","onOpenPopup"]),v=(0,l.s)(),[y,E]=(0,i.useState)(!1),S=(0,o.L)(),b=(0,s.O)();(0,i.useEffect)((()=>{E(!1)}),[b]);const O=!(!y||!p),_=u||O?"static":"hover";let T;O?T=p:u&&!y||(T=n);const A={placement:r,preventOverflow:O?d:void 0,onToggle:e=>{e||E(e)},trigger:_,theme:O?"light":"dark",size:O?f:"small"},w=`button-tooltip-${n}-${_}`,N=t||g.label||n;return(0,i.createElement)(a.$n,Object.assign({},g,{key:w,ariaLabel:N,onClick:e=>{e.stopPropagation(),y||(h&&v.trackGuiEvent(h,{tool:S}),m&&m()),E(!y)},tooltip:T,tooltipOptions:A}))}},77897:(e,t,n)=>{"use strict";n.d(t,{BB:()=>d,J5:()=>h,O$:()=>o,OP:()=>s,RL:()=>i,RX:()=>u,XU:()=>r,_0:()=>a,mn:()=>c,s4:()=>l});const i=250,r=()=>({wrapperLength:1,childLength:1,scrollOffset:1,isVisible:!1}),o=()=>({scrollbar:null,animation:null,dragStartScroll:0});var s,a;!function(e){e.horizontal="horizontal",e.vertical="vertical"}(s||(s={})),function(e){e.x="x",e.y="y"}(a||(a={}));const l=e=>{switch(e){case s.horizontal:return a.x;case s.vertical:return a.y}throw Error()},c=e=>{switch(e){case a.x:return s.horizontal;case a.y:return s.vertical}throw Error()},u={[s.horizontal]:{scrollOffset:"scrollLeft",offsetLength:"offsetWidth",clientLength:"clientWidth",positionOffset:"offsetLeft",lengthName:"width",offsetName:"left",eventPosition:"clientX",delta:a.x},[s.vertical]:{scrollOffset:"scrollTop",offsetLength:"offsetHeight",clientLength:"clientHeight",positionOffset:"offsetTop",lengthName:"height",offsetName:"top",eventPosition:"clientY",delta:a.y}};var d;!function(e){e.Beginning="Beginning",e.Middle="Middle",e.End="End",e.None="None"}(d||(d={}));const h=(e,t)=>t?e<.01?d.Beginning:1-e<.01?d.End:d.Middle:d.None},90053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(74848),r=n(96540),o=n(82769),s=n(97191),a=n(77897),l=n(78197);class c extends r.Component{constructor(e){super(e),this.state={visible:!1,trackLength:1,thumbLength:1,thumbOffset:0},this.direction=a.RX[e.direction],this.handlePressStart=this.handlePressStart.bind(this),this.handlePressMove=this.handlePressMove.bind(this),this.handleTrackClick=this.handleTrackClick.bind(this),this.inputFilter=new s.A({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove}),window.PointerEvent||(window.addEventListener("mousemove",this.inputFilter.handleEvent),window.addEventListener("mouseleave",this.inputFilter.handleEvent),window.addEventListener("mouseup",this.inputFilter.handleEvent)),window.addEventListener("pointermove",this.inputFilter.handleEvent),window.addEventListener("pointerup",this.inputFilter.handleEvent)}componentWillUnmount(){window.PointerEvent||(window.removeEventListener("mousemove",this.inputFilter.handleEvent),window.removeEventListener("mouseleave",this.inputFilter.handleEvent),window.removeEventListener("mouseup",this.inputFilter.handleEvent)),window.removeEventListener("pointermove",this.inputFilter.handleEvent),window.removeEventListener("pointerup",this.inputFilter.handleEvent)}getTrackLength(){return Number(this.thumbTrack&&this.thumbTrack[this.direction.clientLength]||this.props.containerSize.width)}handleTrackClick(e){if(e.target!==this.thumbTrack)return;const t=this.direction.eventPosition,n=this.thumbTrack.getBoundingClientRect()[this.direction.offsetName],i=e[t]<n+this.state.thumbOffset,r=this.getTrackLength();let o=0;o=i?Math.max(0,(this.state.thumbOffset-this.state.thumbLength)/r):Math.min(r,(this.state.thumbOffset+this.state.thumbLength)/r),this.props.scrollTo({[(0,a.s4)(this.props.direction)]:o})}handlePressStart(e){this.dragStartThumbOffset=this.state.thumbOffset}handlePressMove(e){const t=this.getTrackLength(),n=(this.dragStartThumbOffset-e[this.direction.delta])/t;this.props.scrollTo({[(0,a.s4)(this.props.direction)]:n}),this.props.onThumbDrag&&this.props.onThumbDrag()}componentDidUpdate(){const{wrapperLength:e,childLength:t,scrollOffset:n}=this.props;if(e>0&&t>0){const i=this.getTrackLength(),r=e/t*i,s={thumbLength:r,visible:t>e,thumbOffset:Math.min(n/t*i,i-r)};if((0,o._)(this.state,s)){const e=this.state.visible!==s.visible;e&&this.props.onVisibilityChange&&this.props.onVisibilityChange(s.visible);const t=(0,a.J5)(s.thumbOffset/(i-r),s.visible);(t!==this.scrollPosition||e)&&(this.scrollPosition=t,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(t)),this.setState(s)}}}render(){const e={[`${this.direction.lengthName}`]:this.state.thumbLength+"px",[`${this.direction.offsetName}`]:this.state.thumbOffset+"px"},t=this.inputFilter.handleEvent,n=window.PointerEvent,r=n?t:void 0,o=n?void 0:t,s=n?void 0:t;return(0,i.jsx)("div",{children:this.state.visible&&!this.props.forceHidden&&(0,i.jsx)("div",Object.assign({className:"scrollbarTrack "+this.props.direction,onClick:this.handleTrackClick,ref:e=>{e&&(this.thumbTrack=e)}},{children:(0,i.jsx)("div",{className:"scrollbarThumb",style:e,onPointerDown:r,onMouseDown:s,onTouchStart:o})}))})}}const u=(0,l.B)(c)},87976:(e,t,n)=>{"use strict";n.d(t,{H:()=>f});var i=n(74848),r=n(96540),o=n(72909),s=n(32485),a=n.n(s),l=n(43591),c=n(97610),u=n(97191),d=n(94814),h=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let f=class extends r.Component{constructor(e){super(e),this.usePointerEvents=window.PointerEvent,this.scrollerRef=(0,r.createRef)(),this.trackRef=(0,r.createRef)(),this.thumbRef=(0,r.createRef)(),this.focusedSelector=null,this.listening=!1,this.startY=0,this.onThumb=!1,this.scrollTop=0,this.isUnmounting=!1,this.handleResize=()=>{this.isUnmounting||(this.computeStateValues(),this.focusedSelector&&this.scrollToSelector(this.focusedSelector))},this.handleWheelEvent=e=>{this.props.disabled||(this.onThumb=!1,this.focusedSelector=null,this.scrollBy(e.deltaY))},this.handleEvent=e=>{if(this.scrollerRef.current&&!this.props.disabled){this.scrollVelocityPixelsMS=0;if("mousedown"===e.type||"pointerdown"===e.type||"touchstart"===e.type){const t=e.target;this.onThumb=t&&t.classList.contains("scroller-thumb")}this.focusedSelector=null,this.inputFilter.handleEvent(e)}},this.handlePressStart=e=>{this.onThumb?this.startY=this.getThumbTop():this.startY=this.getScrollTop()},this.handlePressMove=e=>{const{trackHeight:t,contentsHeight:n}=this.state;let i;this.onThumb?(i=(this.startY-e.y)/t,this.scrollToPercent(i)):(i=(e.y+this.startY)/n,this.scrollToPercent(i))},this.handleDragStart=()=>{},this.handleDragEnd=(e,t)=>{this.scrollVelocityPixelsMS=e.y/t,this.lastScrollTimeMS=void 0,Math.abs(this.scrollVelocityPixelsMS)<1?this.scrollVelocityPixelsMS=0:this.animateScroll()},this.onTrackClick=e=>{const t=this.trackRef.current;if(e.target!==t||!t)return;const n=this.getThumbHeight(),i=this.getThumbTop(),r=t.getBoundingClientRect().top,o=this.state.trackHeight;let s;s=e.clientY<r+i?Math.max(0,(i-n)/o):Math.min(o,(i+n)/o),this.scrollToPercent(s)},this.scrollToPercent=e=>{this.isOverflowing()&&this.scrollerRef.current&&!isNaN(e)&&this.setScrollPosition(Math.max(Math.min(1,e)*this.state.contentsHeight,0))},this.scrollBy=e=>{this.isOverflowing()&&this.scrollerRef.current&&!isNaN(e)&&this.setScrollPosition(Math.max(this.scrollerRef.current.scrollTop+e,0))},this.computeStateValues=()=>{if(this.props.disabled)return;const e=this.scrollerRef.current,t=this.trackRef.current,n=Number(e&&e.clientHeight)||1,i=Number(t&&t.clientHeight)||n,r=Number(this.contents&&this.contents.clientHeight)||1,o=Number(this.contents&&this.contents.offsetTop)||0;this.debouncedSetState({scrollerHeight:n,contentsHeight:r,trackHeight:i,offsetTop:o})},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.setContentsRef=e=>{e?(this.contents=e,this.resizeObserver.observe(this.contents)):this.contents&&this.resizeObserver.unobserve(this.contents)},this.setContainerRef=e=>{e?(this.container=e,this.resizeObserver.observe(e)):this.container&&this.resizeObserver.unobserve(this.container)},this.state={scrollerHeight:1,contentsHeight:1,trackHeight:1,offsetTop:0},this.resizeObserver=new l.A(this.handleResize),this.inputFilter=new u.A({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd})}componentDidMount(){this.toggleEventHandling(!0),this.computeStateValues()}componentWillUnmount(){this.isUnmounting=!0,this.toggleEventHandling(!1),this.resizeObserver&&this.resizeObserver.disconnect()}componentDidUpdate(e,t){this.scrollerRef.current&&e.disabled!==this.props.disabled&&(this.props.disabled?this.toggleEventHandling(!1):this.toggleEventHandling(!0))}resetScrollTop(){this.focusedSelector=null,this.setScrollPosition(0)}getScroller(){return this.scrollerRef.current}getScrollHeight(){return Number(this.contents&&this.contents.clientHeight)||0}scrollToElement(e,t="center",n){const i=this.scrollerRef.current;if(!e||!i)return;if(!(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINS))return;if(!this.isOverflowing())return;const{contentsHeight:r,scrollerHeight:o,offsetTop:s}=this.state;let a=e.offsetTop;if(!n){let t=e;for(;t.parentElement&&(t=t.parentElement,a+=t.offsetTop,t.offsetParent!==this.contents););}let l=s+a;"center"===t&&(l+=e.offsetHeight/2-o/2),l=Math.max(Math.min(r,l),0);const c=i.scrollTop,u=l-c;let h=0;const p=e=>{h||(h=e);const t=e-h,n=(0,d.e2)(t,c,u,500);i.scrollTo(0,n),t<500?window.requestAnimationFrame(p):this.setScrollPosition(l)};window.requestAnimationFrame(p)}scrollToSelector(e,t="center",n){const i=this.scrollerRef.current;if(!i)return;const r=i.querySelector(e);r?(this.focusedSelector=e,this.scrollToElement(r,t,n)):this.focusedSelector=null}setScrollPosition(e){const t=this.scrollerRef.current;if(t){const n=t.scrollTop;t.scrollTop=e,this.scrollTop=this.getScrollTop(),this.props.onScrolled&&n!==this.scrollTop&&this.props.onScrolled(this.scrollTop);const i=this.thumbRef.current;i&&(i.style.height=`${this.getThumbHeight()}px`,i.style.top=`${this.getThumbTop()}px`)}}toggleEventHandling(e){const t=this.scrollerRef.current,n=this.handleEvent,i=c.u?{passive:!0}:void 0;!this.listening&&e&&t?(t.addEventListener("wheel",this.handleWheelEvent,i),this.usePointerEvents?(t.addEventListener("pointerdown",n,i),window.addEventListener("pointermove",n,i),window.addEventListener("pointerup",n,i)):(t.addEventListener("touchstart",n,i),t.addEventListener("mousedown",n,i),window.addEventListener("mousemove",n,i),window.addEventListener("mouseleave",n,i),window.addEventListener("mouseup",n,i),window.addEventListener("touchmove",n,i),window.addEventListener("touchend",n,i),window.addEventListener("touchcancel",n,i))):this.listening&&!e&&t&&(t.removeEventListener("wheel",this.handleWheelEvent),this.usePointerEvents?(t.removeEventListener("pointerdown",n),window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",n)):(t.removeEventListener("touchstart",n),t.removeEventListener("mousedown",n),window.removeEventListener("mousemove",n),window.removeEventListener("mouseleave",n),window.removeEventListener("mouseup",n),window.removeEventListener("touchmove",n),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n)))}animateScroll(){window.requestAnimationFrame((e=>{void 0===this.lastScrollTimeMS&&(this.lastScrollTimeMS=e);let t=e-this.lastScrollTimeMS;if(t>0){this.scrollBy(this.scrollVelocityPixelsMS*t);const e=this.scrollVelocityPixelsMS>0?-1:1;for(;t>0;)this.scrollVelocityPixelsMS+=this.scrollVelocityPixelsMS*this.scrollVelocityPixelsMS*.01*e,t-=1}Math.abs(this.scrollVelocityPixelsMS)>.001&&this.animateScroll()}))}getThumbTop(){const{contentsHeight:e,trackHeight:t}=this.state;return Math.min(this.scrollTop/e*t,t-this.getThumbHeight())}getThumbHeight(){const{scrollerHeight:e,contentsHeight:t,trackHeight:n}=this.state;return e/t*n}getScrollTop(){return this.scrollerRef.current?this.scrollerRef.current.scrollTop:0}isOverflowing(){const{contentsHeight:e,scrollerHeight:t,offsetTop:n}=this.state;return e+n>t}renderTrack(){const e={height:`${this.getThumbHeight()}px`,top:`${this.getThumbTop()}px`};return(0,i.jsx)("div",Object.assign({ref:this.trackRef,className:"scroller-track",onClick:this.onTrackClick},{children:(0,i.jsx)("div",{ref:this.thumbRef,className:"scroller-thumb",style:e,onPointerDown:this.usePointerEvents?this.handleEvent:void 0,onMouseDown:this.usePointerEvents?void 0:this.handleEvent,onTouchStart:this.usePointerEvents?void 0:this.handleEvent})}))}render(){const{children:e,className:t,hideThumb:n,disabled:r}=this.props,o=!r&&this.isOverflowing();return(0,i.jsxs)("div",Object.assign({ref:this.setContainerRef,className:a()("scroller-container",t)},{children:[(0,i.jsx)("div",Object.assign({className:"scroller-scroller",ref:this.scrollerRef},{children:(0,i.jsx)("div",Object.assign({className:"scroller-contents",ref:this.setContentsRef},{children:e}))})),!n&&o&&this.renderTrack()]}))}};f=h([o.A,p("design:paramtypes",[Object])],f)},55666:(e,t,n)=>{"use strict";n.d(t,{L:()=>f});var i=n(74848),r=n(32485),o=n.n(r),s=n(75742),a=n(39905),l=n(96540);function c(e){const{text:t,keyPrefix:n,markers:r}=e,[o,s]=r,a=[];let c=t,u=c.search(`${o}|${s}`),d=c.search(o);for(;u>-1;){const e=u===d,r=c.slice(0,u),h=t.length-c.length,p=`${n},${h}-${h+u}`;e?a.push((0,i.jsx)(l.Fragment,{children:r},p)):a.push((0,i.jsx)("span",Object.assign({"data-blocktype":"marker"},{children:r}),p)),c=c.slice(u+(e?o.length:s.length),c.length),u=c.search(`${o}|${s}`),d=c.search(o)}if(c.length){const e=`${n},${t.length-c.length}-${t.length}`;a.push((0,i.jsx)(l.Fragment,{children:c},e))}return 0===a.length?(0,i.jsx)(i.Fragment,{children:t}):(0,i.jsx)(i.Fragment,{children:a})}function u(e){const{block:t,children:n,onClick:r}=e;return r?(0,i.jsx)("a",Object.assign({className:`link-annotation ${a.H.USER}`,onClick:r,"data-id":t.id||void 0,"data-value":t.value||void 0,"data-blocktype":t.blockType},{children:n})):(0,i.jsx)("span",Object.assign({"data-blocktype":t.blockType},{children:n}))}function d(e){const{block:t,children:n,onClick:r}=e;return r?(0,i.jsx)("a",Object.assign({className:`link-annotation ${a.H.USER}`,onClick:r,"data-blocktype":t.blockType},{children:n})):(0,i.jsx)("span",Object.assign({"data-blocktype":t.blockType},{children:n}))}function h(e){const{block:t,children:n,linksActive:r,onClick:o}=e;return o||r?(0,i.jsx)("a",Object.assign({href:`${t.value}`,target:"_blank",className:`link-annotation ${a.H.LINK}`,onClick:o,"data-blocktype":t.blockType,"data-value":t.value},{children:n})):(0,i.jsx)("span",Object.assign({"data-blocktype":t.blockType,"data-value":t.value},{children:n}))}function p(e){const{block:t,keyPrefix:n,markers:r}=e,{blockType:o,text:a}=t,l=r?(0,i.jsx)(c,{keyPrefix:n,text:a,markers:r}):(0,i.jsx)(i.Fragment,{children:a});return o===s.n.USER?(0,i.jsx)(u,Object.assign({},e,{children:l})):o===s.n.HASH?(0,i.jsx)(d,Object.assign({},e,{children:l})):o===s.n.LINK&&t.value?(0,i.jsx)(h,Object.assign({},e,{children:l})):l}function f(e){const t=e.textParser.parse(e.text),n=o()("text-box-text",e.className);return(0,i.jsx)("div",Object.assign({className:n},{children:t.map(((t,n)=>(0,i.jsx)(p,{keyPrefix:`${t.blockType}${n}`,block:t,linksActive:!!e.linksActive,onClick:e.onClick,markers:e.markers},`${t.blockType}${n}`)))}))}},39905:(e,t,n)=>{"use strict";n.d(t,{H:()=>i,r:()=>s});var i,r=n(75742),o=n(64491);!function(e){e.TEXT="",e.LINK="link-url",e.HASH="link-hashtag",e.USER="link-user"}(i||(i={}));class s{constructor(e){this.serialize=e=>{const t=[],n=[].slice.call(e.childNodes);for(const e of n)switch(e.nodeName){case"#text":t.push(this.serializeText(e));break;case"A":t.push(this.serializeAnchor(e));break;case"P":case"DIV":t.push(this.serializeElement(e,!0));break;case"SPAN":t.push(this.serializeElement(e,!1));break;case"BR":break;default:t.push(this.serialize(e))}return t.join("")},this.deserialize=(e,t,n,i=this.markers)=>{const r=this.parse(e).map((e=>this.createNode(e,t,n)));return i?this.parseMarkers(r,i):r},this.serializeText=e=>{let t=this.sanitizeText(e.textContent||"");if(this.links){const e=new RegExp(/https?:\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?/gi),n=document.createElement("a");t=t.replace(e,(e=>(n.href=e,`[${e}](${n.href})`))),n.remove()}return this.hashtags&&(t=t.replace(/(#\w*)/,(e=>`[${e}]`))),t.replace(/\<\s*br\s*\/?>/gi,"\n")},this.serializeAnchor=e=>{const t=e.dataset.blocktype,n=this.sanitizeText(e.innerText||e.textContent||"");let i=n;switch(t){case r.n.HASH:i=`[${n}]`;break;case r.n.USER:if(this.users){let t=e.dataset.id||"",n=e.dataset.value||"";if(!t&&!n&&(n="@"===i[0]?i.substr(1):i,n)){const e=this.users.getUserInfoByEmail(n);e&&(t=e.id)}(t||this.validateEmail(n))&&(i=`[@${t}](${n})`)}break;case r.n.LINK:const t=e.dataset.value||e.href;t&&(i=`[${n}](${t})`);break;default:e.href&&(i=`[${n}](${e.href})`)}return i},this.serializeElement=(e,t)=>{let n=t?"\n":" ";return e.childNodes.length>0&&(n+=this.serialize(e)),n},this.validateEmail=(()=>{const e=/\S+@\S+\.\S+/,t=document.createElement("input");return t.type="email",t.required=!0,n=>(t.value=n,"function"==typeof t.checkValidity?t.checkValidity():e.test(n))})();const{links:t,hashtags:n,users:i,markers:o}=e;this.links=t||!1,this.hashtags=n||!1,this.users=i,this.markers=o}parseMarkers(e,t){const[n,i]=t;let r=!1;const o=new RegExp(n+"|"+i);for(let t=0;t<e.length;t++){const n=e[t],{nodeType:i,textContent:s}=n,a=3===i;if(!s)continue;a?e.splice(t,1):n.textContent=null;const l=s.split(o);l.forEach(((i,o)=>{if(""!==i){let o;if(r){const e=document.createElement("span");e.setAttribute("data-blocktype","marker"),o=e,o.textContent=i}else o=document.createTextNode(i);a?e.splice(t++,0,o):n.appendChild(o)}o<l.length-1&&(r=!r)})),a&&t--}return e}createNode(e,t,n){switch(e.blockType){case r.n.USER:const o=document.createElement(n?"a":"span");if(o.setAttribute("data-blocktype",e.blockType),n){const t=o;t.className=`link-annotation ${i.USER}`,t.removeAttribute("href"),n&&(t.onclick=n);const r=e.id||"",s=e.value||"";r&&t.setAttribute("data-id",r),s&&t.setAttribute("data-value",s)}return o.textContent=`${e.text}`,o;case r.n.HASH:const s=document.createElement(n?"a":"span");if(s.setAttribute("data-blocktype",e.blockType),n){const e=s;e.className=`link-annotation ${i.HASH}`,e.removeAttribute("href"),n&&(e.onclick=n)}return s.textContent=`${e.text}`,s;case r.n.LINK:if(e.value){const r=document.createElement(n||t?"a":"span");if(r.setAttribute("data-blocktype",e.blockType),r.setAttribute("data-value",e.value),n||t){const o=r;t&&(o.href=`${e.value}`),o.target="_blank",o.className=`link-annotation ${i.LINK}`,n&&(o.onclick=n)}return r.textContent=`${e.text}`,r}}return document.createTextNode(""+e.text)}parse(e){const t=[];if(!e)return[];const n=e.split("[").map(((e,t)=>0===t?e:"["+e));let i=0;for(;i<n.length;){const e=this.parseIntoBlocks(n[i],t);e&&n.splice(i+1,0,e),i++}return t}getPlainText(e){return this.parse(e).map((e=>e.text)).join("")}searchMarkdown(e,t){let n=-1,i=0,r=0;const o=this.parse(e).map((e=>{let o;return this.matchTextBlock(e,t)?(r++,-1===n&&(n=i),o=e.markdown):o=e.text,i+=e.text.length,o}));return-1===n?null:{markdown:o.join(""),matchIndex:n,textLength:i,numMatches:r}}getUserMentions(e){return this.parse(e).filter((e=>e.blockType===r.n.USER&&e.value)).map((e=>e.value||""))}matchTextBlock(e,t){if(e.blockType===t.blockType)if(e.blockType===r.n.USER){if(e.id===t.id)return!0;if(e.value===t.value)return!0}else if(e.blockType===r.n.HASH)return e.text===t.text;return!1}parseIntoBlocks(e,t){if(this.users){const n=this.getUserBlock(e);if(n)return t.push(n),e.slice(n.markdown.length)}if(this.links){const n=this.getLinkBlock(e);if(n&&n.value&&!/javascript:/i.test(n.value))return t.push(n),e.slice(n.markdown.length)}if(this.hashtags){const n=this.getHashBlock(e);if(n)return t.push(n),e.slice(n.markdown.length)}const n=this.getTextBlock(e);return n&&t.push(n),null}getTextBlock(e){return 0===e.length?null:{blockType:r.n.TEXT,text:e,markdown:e}}getHashBlock(e){const t=e.match(s.hashRegex);return!t||t.length<2?null:{blockType:r.n.HASH,markdown:t[0],text:t[1]}}getUserBlock(e){if(!this.users)return null;const t=e.match(s.userRegex);if(!t||t.length<3)return null;let n=t[1].substr(1),i=t[2];const o=i?this.users.getUserInfoByEmail(i):this.users.getUserInfoById(n),a=o?o.name:"";return n=o?o.id:n,i=o?o.email:i,{blockType:r.n.USER,markdown:t[0],id:n,value:i,text:`@${a||i}`}}getLinkBlock(e){const t=e.match(s.linkRegEx);if(!t)return null;const n=t[2];let i=1,o=0;for(;o<n.length&&("("===n[o]?i++:")"===n[o]&&i--,0!==i);)o++;const a=n.length-o;let l=this.conditionallyEncode(t[2].substring(0,o));return-1===l.indexOf("://")&&(l="http://"+l),{blockType:r.n.LINK,markdown:t[0].substring(0,t[0].length-a),text:t[1],value:l}}conditionallyEncode(e){const t=e.trim();return this.needsEncoding(t)?encodeURI(t):t}needsEncoding(e){if(e.match(o.Cv))return!0;let t=e;try{t=decodeURI(e)}catch(e){}return!1}sanitizeText(e){return e.replace(/\]\(/g,"]&zwnj;(").replace(/[\u200B]/g,"").replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"')}}s.hashRegex=/\[(#(\w|-)*)\]/,s.userRegex=/\[(@\w*)\]\(([^\)\(\[\]]*)\)/,s.linkRegEx=/\[([^\]]*)\]\((.*)\)/},12103:(e,t,n)=>{"use strict";n.d(t,{IU:()=>r,JO:()=>u,K$:()=>o,Zn:()=>a,_2:()=>s,_8:()=>i,on:()=>l,p8:()=>d,zu:()=>c});const i=767,r=576,o=992,s=375,a=55,l=70,c=250,u=750,d=3},76191:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(94814);class r{constructor(e){this.isAnimating=!0,this.duration=e.duration,this.startValue=e.startValue,this.changeValue=e.endValue-this.startValue,this.easingFunction=e.easingFunction||i.dV}getUpdatedValue(){this.startTime||(this.startTime=Date.now());const e=Date.now()-this.startTime;return e>this.duration&&(this.isAnimating=!1),this.easingFunction(Math.min(e,this.duration),this.startValue,this.changeValue,this.duration)}}},82769:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});const i=(e,t)=>{for(const n in t)if(e[n]!==t[n])return!0;return!1}},97191:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(20819),r=n(71828);class o{constructor(e){this.couldBeDrag=!1,this.isDragging=!1,this.shouldHandleEvents=!0,this.handleEvent=e=>{if(this.shouldHandleEvents)switch(e.stopPropagation(),e.type){case"mousedown":case"touchstart":case"pointerdown":this.onPressStart(e);break;case"mousemove":case"pointermove":case"touchmove":this.onPressMove(e);break;case"mouseup":case"pointerup":case"mouseleave":case"touchend":case"touchcancel":case"pointercancel":case"pointerleave":this.onPressEnd(e)}},this.callbacks=e}setEnabled(e){this.shouldHandleEvents=e,this.couldBeDrag=this.couldBeDrag&&e}getPosition(e){return(0,i.kH)(e)?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}onPressStart(e){this.couldBeDrag=!0,this.dragEvents=[],this.dragStart=this.getPosition(e),this.callbacks.handlePressStart&&this.callbacks.handlePressStart(this.getPosition(e))}onPressMove(e){if(!this.couldBeDrag)return;const t=this.getPosition(e);this.addDragEvent(t),this.isDragging||Math.sqrt(Math.pow(t.x-this.dragStart.x,2)+Math.pow(t.y-this.dragStart.y,2))>r.b7&&(this.isDragging=!0,this.callbacks.handleDragStart&&this.callbacks.handleDragStart()),this.callbacks.handlePressMove&&this.callbacks.handlePressMove({x:this.dragStart.x-t.x,y:this.dragStart.y-t.y})}onPressEnd(e){if(this.couldBeDrag){if(this.couldBeDrag=!1,this.isDragging){if(!this.dragEvents||!this.dragEvents[0])return;const e=this.dragEvents[0],t=this.dragEvents[this.dragEvents.length-1];if(this.callbacks.handleDragEnd){const n={x:0,y:0};Date.now()-t.timestamp<o.dragMoveTimeout&&(n.x=e.position.x-t.position.x,n.y=e.position.y-t.position.y),this.callbacks.handleDragEnd(n,t.timestamp-e.timestamp)}}else this.callbacks.handleClick&&this.callbacks.handleClick(e);this.isDragging=!1}}addDragEvent(e){this.dragEvents.push({position:e,timestamp:Date.now()}),this.dragEvents.length>10&&this.dragEvents.shift()}}o.dragMoveTimeout=100},27612:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});const i=({width:e,height:t})=>e<487||t<487},81544:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,q:()=>o});var i=n(49586);class r extends i.T{constructor(e){super(),this.nativeEvent=e,this.type="hover"}}class o extends i.T{constructor(e){super(),this.nativeEvent=e,this.type="unhover"}}},49586:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});class i{constructor(){this.eventType="input",this._propagationStopped=!1,this._defaultPrevented=!1}stopPropagation(){this._propagationStopped=!0}get propagationStopped(){return this._propagationStopped}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}},9360:(e,t,n)=>{"use strict";n.d(t,{RK:()=>o,TY:()=>s,WH:()=>r,q$:()=>a});var i=n(55141);class r extends i.u{}r.id="GUTTER_TOUCH_SCROLL_DISABLE";class o extends i.u{}o.id="GUTTER_TOUCH_SCROLL_ENABLE";class s extends i.u{}s.id="INPUT_ENABLE";class a extends i.u{}a.id="INPUT_DISABLE"},31002:(e,t,n)=>{"use strict";n.d(t,{Ds:()=>r,rX:()=>s,wR:()=>a});var i=n(92475);class r extends i.E{constructor(e,t){super(),this.position=e,this.buttons=t}}class o extends i.E{constructor(e,t){super(),this.position=e,this.button=t}}class s extends o{}class a extends o{}},92475:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var i=n(49586);class r extends i.T{}},78079:(e,t,n)=>{"use strict";n.d(t,{$3:()=>s,CD:()=>o});var i=n(49586);class r extends i.T{}class o extends r{constructor(e,t,n,i,r,o,s,a){super(),this.id=e,this.position=t,this.clientPosition=n,this.button=i,this.down=r,this.device=o,this.nativeEvent=s,this.viewport=a}}class s extends r{constructor(e,t,n,i,r,o,s){super(),this.id=e,this.position=t,this.clientPosition=n,this.buttons=i,this.device=r,this.nativeEvent=o,this.viewport=s}}},44351:(e,t,n)=>{"use strict";var i,r;n.d(t,{m:()=>r,o:()=>i}),function(e){e.Desktop="desktop",e.Mobile="mobile",e.VrOrientOnly="xr.orientonly",e.VrWithController="xr.controller",e.VrWithTrackedController="xr.trackedcontroller",e.VrTransientPointer="xr.transient-pointer",e.VrUnknown="xr."}(i||(i={})),function(e){e.None="interaction.none",e.Direct="interaction.direct",e.Key="interaction.key",e.Gui="interaction.gui",e.Mouse="interaction.mouse",e.Touch="interaction.touch",e.Pen="interaction.pen",e.XRController="interaction.xr.controller",e.XRGaze="interaction.xr.gaze",e.XRScreen="interaction.xr.screen"}(r||(r={}))},85182:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var i=n(84710),r=n(56413),o=n(45205);const s=new(n(10843).Ay)("label-data");class a extends i.B{constructor(e){super(),this.name="label",this.has=e=>this.map.has(e),this.getLabel=e=>this.map.get(e),this.map=(0,r.y)(e||{})}getCount(){return this.map.length}add(e){let t=e.sid;return this.map.has(t)&&s.warn("Label already tracked:",{sid:t,label:e,existing:this.getLabel(t)}),t=t||this.generateSid(),e.sid=t,e.commit(),this.map.set(e.sid,e),t}generateSid(){let e="";for(;!e||this.map.has(e);)e=(0,o.D)(11);return e}remove(e){return!!this.map.has(e)&&(this.map.delete(e),!0)}clear(){this.map.clear()}replace(e){this.map.replace(e)}getCollection(){return this.map}iterate(e){for(const t of this.map.keys)e(this.map.get(t),t)}isEqual(e){if(this.map.length!==e.map.length)return!1;for(const t of this.map){const n=e.map.get(t.sid);if(!n||!a.labelsAreEqual(t,n))return!1}return!0}static labelsAreEqual(e,t){return e.floorId===t.floorId&&e.roomId===t.roomId&&e.position.x===t.position.x&&e.position.y===t.position.y&&e.position.z===t.position.z&&e.sid===t.sid&&e.text===t.text&&e.floorId===t.floorId&&e.roomId===t.roomId&&e.visible===t.visible}getLabelsForRoom(e){const t=[];return this.iterate((n=>{n.roomId===e&&t.push(n)})),t}}},28475:(e,t,n)=>{"use strict";n.d(t,{LZ:()=>r,RP:()=>i});const i="features/labels",r="features/3d_labels_enabled"},96858:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var i=n(85616),r=n(93877);class o extends i.v{get isInMemory(){return this.layerType===r.ku.IN_MEMORY||this.layerType===r.ku.COMMON_IN_MEMORY}set isInMemory(e){}constructor(e={}){super(),this.transactions=new Set,Object.assign(this,e)}onApply(e){return this.transactions.add(e),{delete:()=>{this.transactions.delete(e)}}}async applyTransactions(){for(const e of this.transactions)await e()}}},47737:(e,t,n)=>{"use strict";n.d(t,{P:()=>v});var i=n(84710),r=n(10843),o=n(12554),s=n(96276),a=n(24790),l=n(9114),c=n(93877),u=n(4130),d=n(96858),h=n(56547),p=n(68986),f=n(3066),m=n(45205);const g=new r.Ay("layers-data");class v extends i.B{constructor(e,t){super(),this.name="layers-data",this.commonInMemoryLayers=new o.X,this.inMemoryLayers=new o.X,this.layerObservers=new Set,this.layerVisibilityCache=new Map,this.layerToggledCache=new Map,this.currentViewId="",this.initialViewId="",this.layersEnabled=!1,this.initialViewId=t.id,this.viewsObservable=(0,o.Z)([t]),this.mdsContext=e||new l._,this.mdsContext.initialViewId=t.id,this.mdsContext.togglePrivateSession(t.isPrivateView())}setCurrentView(e){if(e===this.currentViewId)return;const t=this.getView(e);if(!t)throw new s.V("Model View not found during setCurrentView");this.aggregateLayerObserver&&this.aggregateLayerObserver.cancel(),g.debug(`Active view set to ${e} (${t.viewType})`),this.currentViewId=e,this.commit();const n=()=>{this.refreshLayerCaches(),this.layerObservers.forEach((e=>e()))};this.aggregateLayerObserver=new p.P(this.getCurrentView().layers.onChanged(n),this.inMemoryLayers.onChanged(n)),n()}getCurrentView(){const e=this.getView(this.currentViewId);if(!e)throw new s.V("Missing current model view");return e}getInitialView(){const e=this.getView(this.initialViewId);if(!e)throw new s.V("Missing initial model view");return e}hasView(e){return void 0!==this.viewsObservable.values().find((t=>t.id===e))}addView(e){if(this.hasView(e.id))throw new s.V("Model View already exists");this.viewsObservable.push(e)}canDeleteView(e){const t=this.getView(e);return!!t&&((0,h.xF)(t)||(0,h.V6)(t))}canDisableView(e){const t=this.getView(e);return!!t&&((0,h.xF)(t)||(0,h.V6)(t)||(0,h.AF)(t))}canDuplicateView(e){const t=this.getView(e);return!!t&&((0,h.xF)(t)||(0,h.XF)(t))}canBatchDeleteInActiveView(){return this.isModelLayered()||!(0,h.XF)(this.getCurrentView())}validateViewName(e){return e.length>0&&e.length<=u.cp}setViews(e){return this.viewsObservable.replace(e),this}getView(e){const t=this.viewsObservable.find((t=>t.id===e));if(!t)throw new s.V("Model View not found in getView");return t}deleteView(e){const t=this.viewsObservable.findIndex((t=>t.id===e));-1!==t&&this.viewsObservable.remove(t)}hasUserViews(){return!!this.viewsObservable.find((e=>(0,h.xF)(e)))}getOrderedModelViews({includeDefurnish:e=!1,includeDisabled:t=!1,includeInsights:n=!1}={}){const i=this.viewsObservable.values().slice(),r=i.filter((i=>(t||i.enabled)&&((0,h.xF)(i)||n&&(0,h.V6)(i)||e&&(0,h.AF)(i)))).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{numeric:!0}))),o=i.filter((e=>(0,h.XF)(e)));return o&&r.unshift(...o),r}onModelViewsChanged(e){return this.viewsObservable.onChanged(e)}onCurrentLayersChanged(e){return(0,f.Sh)((()=>this.layerObservers.add(e)),(()=>this.layerObservers.delete(e)))}currentLayers(){return this.getCurrentView().layers.values().concat(this.commonInMemoryLayers.values())}viewLayers(){const e=this.currentLayers();return this.filterUserFacingLayers(e)}filterUserFacingLayers(e){const t=[c.ku.VIEW_DATA_LAYER,c.ku.USER_LAYER,c.ku.IN_MEMORY,c.ku.COMMON_IN_MEMORY,c.ku.COMMON_USER_LAYER,c.ku.OTHER];return!!e.find((e=>e.layerType===c.ku.VIEW_DATA_LAYER))||t.push(c.ku.BASE_LAYER),e.filter((e=>t.includes(e.layerType)))}getLayer(e){return this.currentLayers().find((t=>t.id===e))}findLayer(e){return[...this.getCurrentView().layers.values(),...this.inMemoryLayers.values()].find((t=>t.id===e))}getActiveLayer(){return this.getLayer(this.activeLayerId)}getBaseLayerId(){const e=this.currentLayers().find((e=>e.layerType===c.ku.BASE_LAYER));return(null==e?void 0:e.id)||a.qw}getViewLayerId(){const e=this.currentLayers().find((e=>e.layerType===c.ku.VIEW_DATA_LAYER));return null==e?void 0:e.id}getProxyLayerId(){const e=this.currentLayers().find((e=>e.layerType===c.ku.PROXY_LAYER));return null==e?void 0:e.id}getViewLayerIdForBaseView(){const e=this.getBaseModelView();let t;return e&&(t=e.layers.find((e=>e.layerType===c.ku.VIEW_DATA_LAYER))),null==t?void 0:t.id}getCurrentUserLayers(){return this.currentLayers().filter((e=>e.visible&&[c.ku.USER_LAYER,c.ku.COMMON_USER_LAYER].includes(e.layerType)))}setActiveCurrentLayer(e){if(e===this.activeLayerId)return;if(!this.currentLayers().find((t=>t.id===e)))throw new Error("Invalid layer id!");this.activeLayerId=e,this.commit()}layerVisible(e){return!e||!this.layersEnabled||!!this.layerVisibilityCache.get(e)}layerToggled(e){return!e||!this.layersEnabled||!!this.layerVisible(e)&&!!this.layerToggledCache.get(e)}toggleLayer(e,t){const n=this.getLayer(e);if(!n)throw new Error("Attempt to toggle unknown layer!");this.layerToggledCache.set(e,t),n.toggled=t,n.commit()}isInMemoryLayer(e,t=!1){const n=t?this.commonInMemoryLayers:this.inMemoryLayers;return this.layersEnabled&&(!e||!!n.find((t=>t.id===e)))}addInMemoryLayer(e){var t,n;let i=(0,m.D)(11);for(;this.inMemoryLayers.find((e=>e.id===i));)i=(0,m.D)(11);const r=new d.q(Object.assign(Object.assign({},e),{id:i,layerType:e.common?c.ku.COMMON_IN_MEMORY:c.ku.IN_MEMORY,toggled:null!==(t=e.toggled)&&void 0!==t&&t,visible:null!==(n=e.visible)&&void 0!==n&&n}));return e.common&&this.commonInMemoryLayers.push(r),this.inMemoryLayers.push(r),r}removeInMemoryLayer(e){const t=this.inMemoryLayers.findIndex((t=>t.id===e));if(-1===t)throw new Error("In memory layer not found!");this.inMemoryLayers.splice(t,1);const n=this.inMemoryLayers.findIndex((t=>t.id===e));t>-1&&this.commonInMemoryLayers.splice(n,1)}validateLayerName(e){return e.length>0&&e.length<=u.s5}replaceBackendLayers(e,t){for(const t of e.keys)this.isInMemoryLayer(e.get(t).layerId,!0)||e.delete(t);for(const n of Object.keys(t))e.set(n,t[n])}setBaseLayerOnly(){this.commonInMemoryLayers.push(new d.q({id:a.qw,layerType:c.ku.BASE_LAYER}))}getWorkshopSessionView(){return this.viewsObservable.find((e=>e.viewType===c.jK.SESSION))}isWorkshopSessionView(){var e;return(null===(e=this.getWorkshopSessionView())||void 0===e?void 0:e.id)===this.currentViewId}isWorkshopSessionViewEnabled(){var e;return(null===(e=this.getWorkshopSessionView())||void 0===e?void 0:e.enabled)||!1}getBaseModelView(){return this.viewsObservable.find((e=>(0,h.XF)(e)))}getBaseModelId(){var e;return(null===(e=this.getBaseModelView())||void 0===e?void 0:e.id)||this.initialViewId}isModelLayered(){const e=this.getBaseModelView();return!!e&&(0,h.r0)(e)}isCurrentViewLayered(){const e=this.getCurrentView(),{viewType:t}=e;return t===c.jK.LAYERED_BASE||t===c.jK.USER||t===c.jK.INSIGHTS}getNonworkshopViewId(){const e=this.getCurrentView();return e.viewType!==c.jK.SESSION?e.id:this.getBaseModelId()}getWorkshopOrBaseId(){const e=this.getCurrentView();return e.viewType===c.jK.SESSION?e.id:this.getBaseModelId()}getDefurnishOrBaseId(e){const t=null!=e?e:this.getCurrentView();return t.viewType===c.jK.DEFURNISH?t.id:this.getBaseModelId()}getDefurnishView(){return this.viewsObservable.find((e=>e.viewType===c.jK.DEFURNISH))}getInsightsView(){return this.viewsObservable.find((e=>e.viewType===c.jK.INSIGHTS))}getNotesLayerId(e){if(e&&this.layersEnabled)return this.activeLayerId;const t=this.getViewLayerId();if(t)return t;const n=this.getCurrentView();if((0,h.XF)(n))return this.getBaseLayerId();if(this.layersEnabled)throw new Error("No View Layer in User View");return this.activeLayerId}getOrderedListsLayerId(){if(!this.layersEnabled)return;const e=this.getViewLayerId();if(e)return e;const t=this.getCurrentView();if((0,h.XF)(t))return this.getBaseLayerId();throw new Error("No View Layer in User View")}refreshLayerCaches(){this.layerToggledCache.clear(),this.layerVisibilityCache.clear();const e=this.currentLayers();for(const t of e)this.layerToggledCache.set(t.id,t.toggled),this.layerVisibilityCache.set(t.id,t.visible)}}},25095:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var i=n(12554),r=n(85616),o=n(93877);class s extends r.v{constructor(e={}){super(),this.name="",this.viewType=null,this.rawViewType="",this.enabled=!0,this.layers=new i.X,this.hasOverlayAssets=()=>this.layers.some((e=>e.layerType===o.ku.OVERLAY_ASSETS_LAYER)),this.isDefurnishView=()=>this.viewType===o.jK.DEFURNISH,this.isPrivateView=()=>this.viewType===o.jK.DIGIPRO_SESSION||this.viewType===o.jK.TRUEPLAN||this.viewType===o.jK.SESSION||this.viewType===o.jK.PRIVATE_SESSION,Object.assign(this,e)}}},93877:(e,t,n)=>{"use strict";var i,r,o;n.d(t,{Hj:()=>o,jK:()=>i,ku:()=>r}),function(e){e.BASE="base",e.LAYERED_BASE="layered-base",e.INSIGHTS="insights",e.USER="user",e.DEFURNISH="defurnish",e.SESSION="session",e.DIGIPRO_SESSION="digipro-session",e.TRUEPLAN="trueplan",e.PRIVATE_SESSION="bundle-session",e.OTHER="other"}(i||(i={})),function(e){e.BASE_LAYER="matterport.base",e.VIEW_DATA_LAYER="matterport.user.data",e.USER_LAYER="matterport.user.data.ext",e.OVERLAY_ASSETS_LAYER="matterport.overlay.assets",e.COMMON_USER_LAYER="matterport.user.data.common",e.PROXY_LAYER="matterport.proxy.common",e.IN_MEMORY="matterport.in-memory",e.COMMON_IN_MEMORY="matterport.in-memory.common",e.WORKSHOP="matterport.workshop.jsonstore",e.OTHER="other layer type"}(r||(r={})),function(e){e.TYPE="type",e.FLOOR="floor",e.ROOM="room",e.LAYER="layer",e.DATE="date"}(o||(o={}))},28577:(e,t,n)=>{"use strict";n.d(t,{AH:()=>o,H6:()=>a,T5:()=>c,Tl:()=>h,qD:()=>s,rX:()=>r});var i=n(75778);const r="model-views-feature",o="views",s="data-layers-feature",a="layers",l="spaces.webgl.layers.mode";var c;!function(e){e.DISABLED="disabled",e.VIEWS_OPTIONAL_OPT_IN="user_views",e.VIEWS_ENABLED="views_enabled",e.VIEWS_AND_LAYERS="views_layers",e.LAYERS_ONLY="layers"}(c||(c={}));const u="layers";var d;function h(e){const t=function(){switch((0,i.EN)()[u]){case d.DISABLED:return c.DISABLED;case d.VIEWS_ENABLED:return c.VIEWS_ENABLED;case d.VIEWS_AND_LAYERS:return c.VIEWS_AND_LAYERS;case d.LAYERS_ONLY:return c.LAYERS_ONLY}}();if(void 0!==t)return t;const n=e.getPolicy(l);return n&&n.value?n.value===c.VIEWS_OPTIONAL_OPT_IN?c.VIEWS_AND_LAYERS:n.value:c.DISABLED}!function(e){e.DISABLED="0",e.VIEWS_ENABLED="2",e.VIEWS_AND_LAYERS="3",e.LAYERS_ONLY="4"}(d||(d={}))},58024:(e,t,n)=>{"use strict";n.d(t,{z0:()=>a});var i=n(87805),r=n(96540),o=n(47613),s=n(47737);(0,i.u)(s.P,"activeLayerId","");function a(){const e=(0,o._)(),[t,n]=(0,r.useState)(null==e?void 0:e.getActiveLayer());return(0,r.useEffect)((()=>{if(!e)return()=>{};function t(){n(null==e?void 0:e.getActiveLayer())}const i=e.onPropertyChanged("activeLayerId",t);return t(),()=>i.cancel()}),[e]),t}},4717:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var i=n(96540),r=n(47613);function o(){const e=(0,r._)(),[t,n]=(0,i.useState)((null==e?void 0:e.getCurrentView())||void 0);return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){n((null==e?void 0:e.getCurrentView())||void 0)}const i=e.onPropertyChanged("currentViewId",t);return t(),()=>i.cancel()}),[e]),t}(0,n(61260).c)("activeModelView",o)},90683:(e,t,n)=>{"use strict";n.d(t,{a:()=>l,e:()=>c});var i=n(96540),r=n(44120),o=n(93877),s=n(47613);const a=(e,t,n)=>{const i=e?null==t?void 0:t.getLayer(e):null;return n&&(null==i?void 0:i.layerType)!==o.ku.VIEW_DATA_LAYER};function l(e){const t=(0,r.h)(),n=(0,s._)();return a(e,n,t)}function c(){const e=(0,r.h)(),t=(0,s._)();return(0,i.useCallback)((n=>a(n,t,e)),[t,e])}},78379:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var i=n(5262),r=n(44120),o=n(28577);function s(){const e=(0,i.i)(o.qD,!1),t=(0,r.h)();return e&&!t}},12621:(e,t,n)=>{"use strict";n.d(t,{H:()=>d,_:()=>p});var i=n(96540),r=n(56147),o=n(39869),s=n(48539),a=n(93877),l=n(47613),c=n(4130);const{LAYERS:u}=r.A.WORKSHOP;function d(e,t,n){let i=null==t?void 0:t.name;if(!i){i=e.t(u.UNTITLED_LAYER_PLACEHOLDER);const r=null==t?void 0:t.layerType;(null==n?void 0:n.viewType)===a.jK.TRUEPLAN&&r===a.ku.OTHER?i=e.t(u.TRUEPLAN_LAYER_LABEL):r!==a.ku.BASE_LAYER&&r!==a.ku.VIEW_DATA_LAYER||(i=e.t(u.UNLAYERED_LAYER_LABEL))}return(0,s.W5)(i,c.s5)}function h(e,t,n,i){return d(t,n?null==e?void 0:e.getLayer(n):void 0,i)}function p(e,t){const n=(0,l._)(),r=(0,o.Y)(),[s,a]=(0,i.useState)(h(n,r,e,t));return(0,i.useEffect)((()=>{if(!n)return()=>{};function i(){a(h(n,r,e,t))}const o=n.onCurrentLayersChanged(i);return i(),()=>o.cancel()}),[n,e,t,r]),s}},47613:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var i=n(98236),r=n(47737);const o=(0,i.v)(r.P)},2716:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var i=n(96540),r=n(47613);function o(e,t=!0){if(!e)return[];const n=e.viewLayers();if(n.length>1&&n.unshift(n.splice(n.length-1,1)[0]),t){return n.filter((e=>!e.isInMemory))}return n}function s(e=!0){const t=(0,r._)(),[n,s]=(0,i.useState)(o(t,e));return(0,i.useEffect)((()=>{if(!t)return()=>{};function n(){s(o(t,e))}const i=t.onCurrentLayersChanged(n);return n(),()=>i.cancel()}),[t,e]),n}},78115:(e,t,n)=>{"use strict";n.d(t,{MT:()=>r,NX:()=>s,V7:()=>a,Yp:()=>c,tj:()=>o,uU:()=>l});var i=n(89103);class r extends i.QB{}class o extends i.QB{}class s extends i.QB{constructor(e){super(),this.items=e}}class a extends i.QB{constructor(e){super(),this.layerId=e}}class l extends i.QB{}class c extends i.QB{}},56707:(e,t,n)=>{"use strict";n.d(t,{F:()=>c});var i=n(81587),r=n(10843),o=n(93877),s=n(96858),a=n(86867);const l=new r.Ay("mds-modelview-deserializer");class c{deserialize(e){return e&&e.layer.id&&e.layer.type?new s.q({id:e.layer.id,name:e.layer.label||"",visible:e.visible,position:e.position,toggled:!0,layerType:this.getLayerType(e.layer.type),created:(0,i.X)(e.layer.created),modified:(0,i.X)(e.layer.modified)}):(l.debug("Invalid layer data from MDS"),null)}getLayerType(e){return(0,a.U)(o.ku,e)?e:o.ku.OTHER}}},57186:(e,t,n)=>{"use strict";n.d(t,{K:()=>c,o:()=>u});var i=n(10843),r=n(81587),o=n(25095),s=n(93877),a=n(56707);const l=new i.Ay("mds-modelview-deserializer");class c{constructor(){this.deserializer=new a.F}deserialize(e){var t;if(!e||!e.id||!e.type)return l.debug("Deserialized invalid ModelView data from MDS",e),null;const n=new o.j({viewType:this.getModelViewType(e),rawViewType:e.type,name:e.name||"",enabled:!!e.enabled,created:(0,r.X)(e.created),modified:(0,r.X)(e.modified),id:e.id,rootModelId:(null===(t=e.model)||void 0===t?void 0:t.rootModelId)||""});return this.getDataLayers(e).forEach((e=>n.layers.push(e))),n}getModelViewType(e){const t={"matterport.model.default":s.jK.BASE,"matterport.model.layered":s.jK.LAYERED_BASE,"matterport.user.insights":s.jK.INSIGHTS,"matterport.user.view":s.jK.USER,"matterport.model.defurnished":s.jK.DEFURNISH,"matterport.workshop.session":s.jK.SESSION,"trueplan.session":s.jK.TRUEPLAN,"capsvcs.digitalpro.session":s.jK.DIGIPRO_SESSION};return e.type in t?t[e.type]:e.type.endsWith(".session")?s.jK.PRIVATE_SESSION:s.jK.OTHER}getDataLayers(e){const t=[];for(const n of e.layers||[]){const e=this.deserializer.deserialize(n);e&&t.push(e)}return t}}const u=function(){return new c}},4130:(e,t,n)=>{"use strict";n.d(t,{GB:()=>o,co:()=>s,cp:()=>i,s5:()=>r});const i=50,r=50,o="views",s="0"},56547:(e,t,n)=>{"use strict";n.d(t,{AF:()=>l,V6:()=>a,XF:()=>o,r0:()=>r,xF:()=>s});var i=n(93877);function r(e){return e.viewType===i.jK.LAYERED_BASE}function o(e){return r(e)||e.viewType===i.jK.BASE}function s(e){return e.viewType===i.jK.USER}function a(e){return e.viewType===i.jK.INSIGHTS}function l(e){return e.viewType===i.jK.DEFURNISH}},86324:(e,t,n)=>{"use strict";n.d(t,{ES:()=>r,EX:()=>i,y4:()=>c});var i,r,o=n(68909),s=n(36580),a=n(37458),l=n(3249);!function(e){e[e.PIXELS=0]="PIXELS",e[e.METERS=1]="METERS"}(i||(i={})),function(e){e[e.NONE=0]="NONE",e[e.FADE_IN=1]="FADE_IN",e[e.FADE_OUT=-1]="FADE_OUT"}(r||(r={}));class c extends o.Mesh{constructor(e,t,n){var r,c,u,d,h,p,f,m;const g=new Float32Array([-9999,-9999,-9999,9999,9999,9999,-9999,-9999,-9999,9999,9999,9999,9999,9999,9999,-9999,-9999,-9999]),v=new Float32Array([1,1,0,0,-1,-1]),y=new Float32Array([0,1,0,1,0,1]),E=new o.InstancedBufferGeometry;E.setAttribute("position",new o.Float32BufferAttribute(g,3)),E.setAttribute("offsetDirection",new o.Float32BufferAttribute(v,1)),E.setAttribute("t",new o.Float32BufferAttribute(y,1)),E.setIndex([0,1,3,2,0,3,2,3,5,4,2,5]);const S={},b={};(null==t?void 0:t.dashUnits)===i.METERS&&(S.WORLDSPACE_DASH=!0,b.derivatives=!0);const O=null==t?void 0:t.fadeDistanceFromCamera;null!=O&&(S.FADE_DISTANCE_FROM_CAMERA=O.toFixed(2));const _=null==t?void 0:t.fadeDepth,T=null==t?void 0:t.fadeDepthTexture;null!=_&&null!=T&&(S.FADE_DEPTH=_.toFixed(3));const A=null==t?void 0:t.fadeAlongLineStartPct;null!=A&&(S.FADE_START_ALONG_PCT=A.toFixed(2));super(E,new o.ShaderMaterial({uniforms:o.UniformsUtils.clone(s.i.screenline.uniforms),side:o.DoubleSide,vertexShader:s.i.screenline.vertexShader,fragmentShader:s.i.screenline.fragmentShader,transparent:!0,depthTest:t.depthTest,depthWrite:t.depthWrite,depthFunc:t.depthFunc,stencilWrite:null!==(r=t.stencilWrite)&&void 0!==r&&r,stencilFunc:null!==(c=t.stencilFunc)&&void 0!==c?c:o.AlwaysStencilFunc,stencilRef:null!==(u=t.stencilRef)&&void 0!==u?u:0,stencilWriteMask:null!==(d=t.stencilWriteMask)&&void 0!==d?d:255,stencilFuncMask:null!==(h=t.stencilFuncMask)&&void 0!==h?h:255,stencilFail:null!==(p=t.stencilFail)&&void 0!==p?p:o.KeepStencilOp,stencilZFail:null!==(f=t.stencilZFail)&&void 0!==f?f:o.KeepStencilOp,stencilZPass:null!==(m=t.stencilZPass)&&void 0!==m?m:o.KeepStencilOp,defines:S,extensions:b})),this.cameraPose=n,this.transitionStartTime=0,this.transitionDuration=0,this.updateEndpoints(e),this.geometry.computeBoundingBox(),this.geometry.computeBoundingSphere(),this.renderOrder=a.X.lines,this.transitionDuration=t.transitionDuration||300,this.onBeforeRender=e=>{e.getSize(this.material.uniforms.screenSize.value),this.material.uniforms.pixelRatio.value=e.getPixelRatio(),null!=this.cameraPose&&(this.material.uniforms.cameraPos.value.copy(this.cameraPose.position),this.material.uniforms.transitionProgress.value=(0,l.qE)(Math.abs(performance.now()-this.transitionStartTime)/this.transitionDuration,0,1))},this.material.uniforms.dashed.value=+t.dashed,this.material.uniforms.dashSize.value=t.dashSize,this.material.uniforms.gapSize.value=t.gapSize,this.material.uniforms.lineWidth.value=t.lineWidth,this.material.uniforms.color.value.copy(t.color),this.material.uniforms.globalOpacity.value=t.globalOpacity,this.material.uniforms.depthTex.value=null==T?void 0:T.texture,this.material.uniforms.transitionType.value=t.transitionType||0,this.frustumCulled=!1,this.matrixAutoUpdate=!1}updateEndpoints(e){var t;3*e.length!==(null===(t=this.start)||void 0===t?void 0:t.length)&&(this.geometry.dispose(),this.start=new Float32Array(3*e.length),this.startAttrib=new o.InstancedBufferAttribute(this.start,3),this.geometry.setAttribute("start",this.startAttrib),this.end=new Float32Array(3*e.length),this.endAttrib=new o.InstancedBufferAttribute(this.end,3),this.geometry.setAttribute("end",this.endAttrib),this.opacity=new Float32Array(e.length),this.opacityAttrib=new o.InstancedBufferAttribute(this.opacity,1),this.geometry.setAttribute("opacity",this.opacityAttrib));for(let t=0;t<e.length;t++){const n=e[t].points,i=e[t].opacity;n[0].toArray(this.start,3*t),n[1].toArray(this.end,3*t),this.opacity[t]=null!=i?i:1}this.startAttrib.needsUpdate=!0,this.endAttrib.needsUpdate=!0,this.opacityAttrib.needsUpdate=!0}setVisibilityAt(e,t){const n=t?1:0;this.opacity[e]=n,this.opacityAttrib.needsUpdate=!0}globalOpacity(e){this.material.uniforms.globalOpacity.value=e}globalHeightOffset(e){this.material.uniforms.globalHeightOffset.value=e}color(e){this.material.uniforms.color.value.copy(e)}lineWidth(e){this.material.uniforms.lineWidth.value=e}startTransition(e=r.FADE_IN){this.material.uniforms.transitionType.value=e,this.material.uniforms.transitionProgress.value=0,this.transitionStartTime=performance.now()}}},36580:(e,t,n)=>{"use strict";n.d(t,{i:()=>g});var i=n(68909),r=n(59155),o=n(81557),s=n.n(o),a=n(33326),l=n.n(a),c=n(228),u=n.n(c),d=n(88705),h=n.n(d),p=n(47107),f=n.n(p),m=n(40160);const g={endpoint:{uniforms:{opacity:{value:1},color:{value:new i.Color},bg:{value:null}},vertexShader:r.A.basicTextured.vertexShader,fragmentShader:s()},line:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.fog,{linewidth:{value:4},resolution:{value:new i.Vector2(0,0)},dashScale:{value:1},dashSize:{value:.025},gapSize:{value:.05},mask:{value:null}}]),vertexShader:l(),fragmentShader:u()},screenline:{uniforms:{lineWidth:{value:1},screenSize:{value:new i.Vector2(0,0)},pixelRatio:{value:1},dashed:{value:0},dashSize:{value:1},gapSize:{value:1},antialiasWidth:{value:1},color:{value:new i.Color(1,0,0)},globalOpacity:{value:1},globalHeightOffset:{value:0},start:{value:new i.Vector3},end:{value:new i.Vector3},cameraPos:{value:new i.Vector3},depthTex:{value:null},fadeMaxDepth:{value:m.sv},transitionType:{value:0},transitionProgress:{value:0}},vertexShader:h(),fragmentShader:f()}}},40160:(e,t,n)=>{"use strict";n.d(t,{HT:()=>i,Mg:()=>o,UP:()=>r,q6:()=>s,sv:()=>a});const i={FADE_DURATION:100,LABEL_HIDDEN_OPACITY:.15,DEPTH_WRITE_THRESHOD:.15,ALIGN_LABELS:!1,LABEL_SIZING:.14,LABEL_NDC_SCALEFACTOR:.5,LABEL_ASPECT_SCALEFACTOR:.035,OFFSET_TOWARDS_CAMERA:.25,HIDE_LABELS:!1},r={dottedLineDefault:2,lineDefault:6,lineSelected:6,endpointDefault:2.5,endpointSelected:3.75},o=.01,s=5,a=100},56147:(e,t,n)=>{"use strict";var i;n.d(t,{A:()=>r}),function(e){e.LOADING="LOADING",e.PRESENTED_BY_CAPS="PRESENTED_BY_CAPS",e.EXPLORE_3D_SPACE="EXPLORE_3D_SPACE",e.POWERED_BY="POWERED_BY",e.SC_LOCKOUT_MESSAGE="SC_LOCKOUT_MESSAGE",e.SC_LOCKOUT_TITLE="SC_LOCKOUT_TITLE",e.SC_PASSWORD_TITLE="SC_PASSWORD_TITLE",e.SC_PASSWORD_INVALID="SC_PASSWORD_INVALID",e.SC_PASSWORD_PLACEHOLDER="SC_PASSWORD_PLACEHOLDER",e.SC_PASSWORD_SUBMIT="SC_PASSWORD_SUBMIT",e.VIEW_INSIDE="VIEW_INSIDE",e.VIEW_INSIDE_MESH="VIEW_INSIDE_MESH",e.VIEW_DOLLHOUSE="VIEW_DOLLHOUSE",e.VIEW_FLOORPLAN="VIEW_FLOORPLAN",e.VIEW_FULLSCREEN="VIEW_FULLSCREEN",e.EXIT_FULLSCREEN="EXIT_FULLSCREEN",e.OPEN_HIGHLIGHTS="OPEN_HIGHLIGHTS",e.CLOSE_HIGHLIGHTS="CLOSE_HIGHLIGHTS",e.PAUSE="PAUSE",e.SOCIAL_SHARING="SOCIAL_SHARING",e.VIEW_IN_VR="VIEW_IN_VR",e.HOTKEY_VIEW_INSIDE="HOTKEY_VIEW_INSIDE",e.HOTKEY_VIEW_DOLLHOUSE="HOTKEY_VIEW_DOLLHOUSE",e.HOTKEY_VIEW_FLOORPLAN="HOTKEY_VIEW_FLOORPLAN",e.FLOOR_NAME="FLOOR_NAME",e.FLOOR_ALL="FLOOR_ALL",e.PLUGIN_VISIBILITY="PLUGIN_VISIBILITY",e.PLUGIN_CHANGE_ALL="PLUGIN_CHANGE_ALL",e.PLUGIN_V_TOGGLE_LABEL="PLUGIN_V_TOGGLE_LABEL",e.PRESENTED_BY="PRESENTED_BY",e.MORE="MORE",e.LESS="LESS",e.LEARN_MORE="LEARN_MORE",e.DEFURN_AI_WARNING="DEFURN_AI_WARNING",e.FEEDBACK="FEEDBACK",e.TERMS="TERMS",e.HELP="HELP",e.ALT_MATTERPORT_LOGO="ALT_MATTERPORT_LOGO",e.TERMS_FAIL="TERMS_FAIL",e.HELP_NAVIGATION_TAB="HELP_NAVIGATION_TAB",e.HELP_MORE_HELP_TAB="HELP_MORE_HELP_TAB",e.HELP_DESKTOP_360_2A="HELP_DESKTOP_360_2A",e.HELP_DESKTOP_360_2B="HELP_DESKTOP_360_2B",e.HELP_DESKTOP_DOLLHOUSE_1A="HELP_DESKTOP_DOLLHOUSE_1A",e.HELP_DESKTOP_DOLLHOUSE_1B="HELP_DESKTOP_DOLLHOUSE_1B",e.HELP_DESKTOP_DOLLHOUSE_2A="HELP_DESKTOP_DOLLHOUSE_2A",e.HELP_DESKTOP_DOLLHOUSE_3A="HELP_DESKTOP_DOLLHOUSE_3A",e.HELP_DESKTOP_FLOORPLAN_1A="HELP_DESKTOP_FLOORPLAN_1A",e.HELP_DESKTOP_FLOORPLAN_2A="HELP_DESKTOP_FLOORPLAN_2A",e.HELP_DESKTOP_FLOORPLAN_2B="HELP_DESKTOP_FLOORPLAN_2B",e.HELP_DESKTOP_FLOORPLAN_3A="HELP_DESKTOP_FLOORPLAN_3A",e.HELP_DESKTOP_FLOORPLAN_3B="HELP_DESKTOP_FLOORPLAN_3B",e.HELP_DESKTOP_MORE_360_B="HELP_DESKTOP_MORE_360_B",e.HELP_DESKTOP_MORE_DOLLHOUSE_B="HELP_DESKTOP_MORE_DOLLHOUSE_B",e.HELP_DESKTOP_MORE_FLOORS_B="HELP_DESKTOP_MORE_FLOORS_B",e.HELP_DESKTOP_MORE_FULLSCREEN_B="HELP_DESKTOP_MORE_FULLSCREEN_B",e.HELP_DESKTOP_MORE_HLR_B="HELP_DESKTOP_MORE_HLR_B",e.HELP_DESKTOP_MORE_INSIDE_B="HELP_DESKTOP_MORE_INSIDE_B",e.HELP_DESKTOP_MORE_MATTERTAG_B="HELP_DESKTOP_MORE_MATTERTAG_B",e.HELP_DESKTOP_MORE_TOUR_B="HELP_DESKTOP_MORE_TOUR_B",e.HELP_DESKTOP_MORE_VR_B="HELP_DESKTOP_MORE_VR_B",e.HELP_DESKTOP_MORE_ZOOM_B="HELP_DESKTOP_MORE_ZOOM_B",e.HELP_DESKTOP_PANORAMA_1A="HELP_DESKTOP_PANORAMA_1A",e.HELP_DESKTOP_PANORAMA_1B="HELP_DESKTOP_PANORAMA_1B",e.HELP_DESKTOP_PANORAMA_2A="HELP_DESKTOP_PANORAMA_2A",e.HELP_DESKTOP_PANORAMA_2B="HELP_DESKTOP_PANORAMA_2B",e.HELP_DESKTOP_PANORAMA_3A="HELP_DESKTOP_PANORAMA_3A",e.HELP_DESKTOP_PANORAMA_3B="HELP_DESKTOP_PANORAMA_3B",e.HELP_MOBILE_3="HELP_MOBILE_3",e.HELP_MOBILE_360_2="HELP_MOBILE_360_2",e.HELP_MOBILE_DOLLHOUSE_1="HELP_MOBILE_DOLLHOUSE_1",e.HELP_MOBILE_DOLLHOUSE_2="HELP_MOBILE_DOLLHOUSE_2",e.HELP_MOBILE_FLOORPLAN_1="HELP_MOBILE_FLOORPLAN_1",e.HELP_MOBILE_FLOORPLAN_2="HELP_MOBILE_FLOORPLAN_2",e.HELP_MOBILE_MORE_360_B="HELP_MOBILE_MORE_360_B",e.HELP_MOBILE_MORE_DOLLHOUSE_B="HELP_MOBILE_MORE_DOLLHOUSE_B",e.HELP_MOBILE_MORE_INSIDE_B="HELP_MOBILE_MORE_INSIDE_B",e.HELP_MOBILE_MORE_MATTERTAG_B="HELP_MOBILE_MORE_MATTERTAG_B",e.HELP_MOBILE_MORE_VR_B="HELP_MOBILE_MORE_VR_B",e.HELP_MOBILE_PANORAMA_1="HELP_MOBILE_PANORAMA_1",e.HELP_MOBILE_PANORAMA_2="HELP_MOBILE_PANORAMA_2",e.HELP_MORE_360_A="HELP_MORE_360_A",e.HELP_MORE_DOLLHOUSE_A="HELP_MORE_DOLLHOUSE_A",e.HELP_MORE_FLOORS_A="HELP_MORE_FLOORS_A",e.HELP_MORE_FLOORPLAN_A="HELP_MORE_FLOORPLAN_A",e.HELP_MORE_FULLSCREEN_A="HELP_MORE_FULLSCREEN_A",e.HELP_MORE_HLR_A="HELP_MORE_HLR_A",e.HELP_MORE_INSIDE_A="HELP_MORE_INSIDE_A",e.HELP_MORE_MATTERTAG_A="HELP_MORE_MATTERTAG_A",e.HELP_MORE_TOUR_A="HELP_MORE_TOUR_A",e.HELP_MORE_VR_A="HELP_MORE_VR_A",e.HELP_MORE_ZOOM_A="HELP_MORE_ZOOM_A",e.HELP_MORE_EXTRAS_A="HELP_MORE_EXTRAS_A",e.VR_ENTER="VR_ENTER",e.VR_LEARN_MORE_CAPS="VR_LEARN_MORE_CAPS",e.VR_QUEST="VR_QUEST",e.VR_META_LINK="VR_META_LINK",e.VR_RECOMMENDED="VR_RECOMMENDED",e.VR_SUPPORTS="VR_SUPPORTS",e.VR_VIEW_SPACE="VR_VIEW_SPACE",e.CTA_TOUR_COMPLETE="CTA_TOUR_COMPLETE",e.CTA_EXPLORE_SPACE="CTA_EXPLORE_SPACE",e.CTA_RESTART_TOUR="CTA_RESTART_TOUR",e.CTA_SHARE="CTA_SHARE",e.DESKTOP_SHORT_CTA="DESKTOP_SHORT_CTA",e.MOBILE_SHORT_CTA="MOBILE_SHORT_CTA",e.ROTATE="ROTATE",e.MOVE="MOVE",e.PLAY="PLAY",e.NEXT="NEXT",e.PREVIOUS="PREVIOUS",e.INSIDE="INSIDE",e.ZOOM="ZOOM",e.MEASUREMENT="MEASUREMENT",e.MEASUREMENT_START_ADDING="MEASUREMENT_START_ADDING",e.MEASUREMENT_CONTINUOUS_LINES="MEASUREMENT_CONTINUOUS_LINES",e.MEASUREMENT_SNAPPING="MEASUREMENT_SNAPPING",e.MEASUREMENT_UNITS="MEASUREMENT_UNITS",e.MEASUREMENT_IMPERIAL="MEASUREMENT_IMPERIAL",e.MEASUREMENT_METRIC="MEASUREMENT_METRIC",e.MEASUREMENT_SETTINGS="MEASUREMENT_SETTINGS",e.MEASUREMENT_HELP_CLICK_ANYWHERE="MEASUREMENT_HELP_CLICK_ANYWHERE",e.MEASUREMENT_HELP_ESCAPE="MEASUREMENT_HELP_ESCAPE",e.MEASUREMENT_HELP_PRESS_START="MEASUREMENT_HELP_PRESS_START",e.MEASUREMENT_HELP_DRAG_EDIT="MEASUREMENT_HELP_DRAG_EDIT",e.MEASUREMENT_HELP_PRESS_END="MEASUREMENT_HELP_PRESS_END",e.MEASUREMENT_MODE="MEASUREMENT_MODE",e.MEASUREMENT_HELP_MODAL_SUB_HEADER="MEASUREMENT_HELP_MODAL_SUB_HEADER",e.MEASUREMENT_HELP_MODAL_BODY_1="MEASUREMENT_HELP_MODAL_BODY_1",e.MEASUREMENT_HELP_MODAL_BODY_2="MEASUREMENT_HELP_MODAL_BODY_2",e.MEASUREMENT_NUDGE_TITLE="MEASUREMENT_NUDGE_TITLE",e.MEASUREMENT_NUDGE_MESSAGE="MEASUREMENT_NUDGE_MESSAGE",e.MEASUREMENT_ADD_LABEL="MEASUREMENT_ADD_LABEL",e.MEASUREMENT_CANCEL_LABEL="MEASUREMENT_CANCEL_LABEL",e.MEASUREMENT_SAVE_LABEL="MEASUREMENT_SAVE_LABEL",e.NOTES_MODE="NOTES_MODE",e.NOTES_NUDGE_TITLE="NOTES_NUDGE_TITLE",e.NOTES_NUDGE_MESSAGE="NOTES_NUDGE_MESSAGE",e.CLOSE="CLOSE",e.SHOW="SHOW",e.HIDE="HIDE",e.MORE_OPTIONS="MORE_OPTIONS",e.COPY="COPY",e.COPY_URL="COPY_URL",e.COPY_LINK="COPY_LINK",e.SHARE="SHARE",e.SHARE_COPIED="SHARE_COPIED",e.SHARE_CURRENT_LOCATION="SHARE_CURRENT_LOCATION",e.SHARE_DEFAULT_LOCATION="SHARE_DEFAULT_LOCATION",e.SHARE_ERROR_SWEEP_DISABLED="SHARE_ERROR_SWEEP_DISABLED",e.SHARE_EXPLORE="SHARE_EXPLORE",e.SHARE_LINK_TO_LOCATION="SHARE_LINK_TO_LOCATION",e.SHARE_AT="SHARE_AT",e.SHARE_WITH="SHARE_WITH",e.SHARE_3D="SHARE_3D",e.SHARE_MODAL_TITLE="SHARE_MODAL_TITLE",e.SHARE_MAIL="SHARE_MAIL",e.SHARE_FACEBOOK="SHARE_FACEBOOK",e.SHARE_TWITTER="SHARE_TWITTER",e.SHARE_LINKEDIN="SHARE_LINKEDIN",e.SHARE_PINTEREST="SHARE_PINTEREST",e.SHARED_TITLE="SHARED_TITLE",e.SHARED_MESSAGE="SHARED_MESSAGE",e.SHARED_MESSAGE_HASHTAG="SHARED_MESSAGE_HASHTAG",e.DOLLHOUSE_NUDGE_TITLE="DOLLHOUSE_NUDGE_TITLE",e.DOLLHOUSE_NUDGE_MESSAGE="DOLLHOUSE_NUDGE_MESSAGE",e.FLOOR_PLAN_NUDGE_MESSAGE="FLOOR_PLAN_NUDGE_MESSAGE"}(i||(i={})),function(e){let t,n,i,r,o,s,a,l,c,u,d,h,p,f,m;!function(e){e.NEW_MESSAGE="GENERIC.NEW_MESSAGE",e.READ_MORE="GENERIC.READ_MORE",e.SETTING_OFF="GENERIC.SETTING_OFF",e.SETTING_ON="GENERIC.SETTING_ON"}(t=e.GENERIC||(e.GENERIC={})),function(e){e.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE="ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE",e.UNAUTHORIZED_ERROR_MESSAGE="ERRORS.UNAUTHORIZED_ERROR_MESSAGE"}(n=e.ERRORS||(e.ERRORS={})),function(e){e.COLLAPSE="ACCORDIONS.COLLAPSE",e.EXPAND="ACCORDIONS.EXPAND"}(i=e.ACCORDIONS||(e.ACCORDIONS={})),function(e){e.INVITED_MESSAGE="LOGIN.INVITED_MESSAGE",e.CREATE_ACCOUNT="LOGIN.CREATE_ACCOUNT",e.HAVE_ACCOUNT="LOGIN.HAVE_ACCOUNT",e.SIGN_IN="LOGIN.SIGN_IN"}(r=e.LOGIN||(e.LOGIN={})),function(e){e.COLLAPSE_PANEL="PANELS.COLLAPSE_PANEL",e.EXPAND_PANEL="PANELS.EXPAND_PANEL"}(o=e.PANELS||(e.PANELS={})),function(e){e.CLOSE_BUTTON_TOOLTIP_MESSAGE="REUSABLES.CLOSE_BUTTON_TOOLTIP_MESSAGE",e.HELP_BUTTON_TOOLTIP_MESSAGE="REUSABLES.HELP_BUTTON_TOOLTIP_MESSAGE",e.EMOJI_ALT_DISAPPOINTED="REUSABLES.EMOJI_ALT_DISAPPOINTED",e.EMOJI_ALT_UNSATISFIED="REUSABLES.EMOJI_ALT_UNSATISFIED",e.EMOJI_ALT_NEUTRAL="REUSABLES.EMOJI_ALT_NEUTRAL",e.EMOJI_ALT_SATISFIED="REUSABLES.EMOJI_ALT_SATISFIED",e.EMOJI_ALT_HAPPY="REUSABLES.EMOJI_ALT_HAPPY",e.FEEDBACK_LINK_LABEL="REUSABLES.FEEDBACK_LINK_LABEL",e.BETA_FEEDBACK_LINK_LABEL="REUSABLES.BETA_FEEDBACK_LINK_LABEL"}(s=e.REUSABLES||(e.REUSABLES={})),function(e){e.SCROLL_BUTTON_LABEL="SCROLLING.SCROLL_BUTTON_LABEL"}(a=e.SCROLLING||(e.SCROLLING={})),function(e){e.PINK="COLORS.PINK",e.PLUM="COLORS.PLUM",e.PURPLE="COLORS.PURPLE",e.COBALT="COLORS.COBALT",e.CERULEAN="COLORS.CERULEAN",e.TEAL="COLORS.TEAL",e.FOG="COLORS.FOG",e.IRON="COLORS.IRON",e.FOREST="COLORS.FOREST",e.EMERALD="COLORS.EMERALD",e.MINT="COLORS.MINT",e.OCEAN="COLORS.OCEAN",e.LIME="COLORS.LIME",e.CANARY="COLORS.CANARY",e.SUNFLOWER="COLORS.SUNFLOWER",e.TANGERINE="COLORS.TANGERINE",e.SUNSET="COLORS.SUNSET",e.SIERRA="COLORS.SIERRA",e.MAGENTA="COLORS.MAGENTA"}(l=e.COLORS||(e.COLORS={})),function(e){e.GENERIC_HELPTEXT="OOPS.GENERIC.HELPTEXT",e.GENERIC_TITLE="OOPS.GENERIC.TITLE",e.MODEL_ARCHIVED_TITLE="OOPS.MODEL_ARCHIVED.TITLE",e.MODEL_ARCHIVED_HELPTEXT="OOPS.MODEL_ARCHIVED.HELPTEXT",e.MODEL_COMPLIANCE_TITLE="OOPS.MODEL_COMPLIANCE.TITLE",e.MODEL_COMPLIANCE_HELPTEXT="OOPS.MODEL_COMPLIANCE.HELPTEXT",e.MODEL_DELETED_TITLE="OOPS.MODEL_DELETED.TITLE",e.MODEL_FAILED_TITLE="OOPS.MODEL_FAILED.TITLE",e.MODEL_FAILED_HELPTEXT="OOPS.MODEL_FAILED.HELPTEXT",e.MODEL_PENDING_TITLE="OOPS.MODEL_PENDING.TITLE",e.MODEL_PENDING_HELPTEXT="OOPS.MODEL_PENDING.HELPTEXT",e.MODEL_PROCESSING_TITLE="OOPS.MODEL_PROCESSING.TITLE",e.MODEL_PROCESSING_HELPTEXT="OOPS.MODEL_PROCESSING.HELPTEXT",e.SIGNED_IN_AS="OOPS.SIGNED_IN_AS",e.WEBGL_CONTEXT_LOST_HELPTEXT="OOPS.WEBGL_CONTEXT_LOST.HELPTEXT",e.WEBGL_CONTEXT_LOST_TITLE="OOPS.WEBGL_CONTEXT_LOST.TITLE",e.WEBGL_GENERIC_HELPTEXT="OOPS.WEBGL_GENERIC.HELPTEXT",e.WEBGL_GENERIC_TITLE="OOPS.WEBGL_GENERIC.TITLE",e.WEBGL_UNSUPPORTED_HELPTEXT="OOPS.WEBGL_UNSUPPORTED.HELPTEXT",e.WEBGL_UNSUPPORTED_TITLE="OOPS.WEBGL_UNSUPPORTED.TITLE"}(c=e.OOPS||(e.OOPS={})),function(e){e.AWAITING="SDK.AWAITING"}(u=e.SDK||(e.SDK={})),function(e){let t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y;!function(e){e.UPLOAD_TOOLTIP="SHOWCASE.ANNOTATIONS.UPLOAD_TOOLTIP",e.EMBED_TOOLTIP="SHOWCASE.ANNOTATIONS.EMBED_TOOLTIP",e.MAX_ATTACHMENTS_TOOLTIP="SHOWCASE.ANNOTATIONS.MAX_ATTACHMENTS_TOOLTIP",e.LINK_TOOLTIP="SHOWCASE.ANNOTATIONS.LINK_TOOLTIP",e.ADD_CTA="SHOWCASE.ANNOTATIONS.ADD_CTA",e.SAVE_CTA="SHOWCASE.ANNOTATIONS.SAVE_CTA",e.CANCEL_CTA="SHOWCASE.ANNOTATIONS.CANCEL_CTA",e.CONTENT_DELETED="SHOWCASE.ANNOTATIONS.CONTENT_DELETED",e.READ_MORE_MESSAGE="SHOWCASE.ANNOTATIONS.READ_MORE_MESSAGE"}(t=e.ANNOTATIONS||(e.ANNOTATIONS={})),function(e){e.ERROR_UPLOAD_FAIL="SHOWCASE.ATTACHMENTS.ERROR_UPLOAD_FAIL",e.ERROR_FILE_TOO_LARGE="SHOWCASE.ATTACHMENTS.ERROR_FILE_TOO_LARGE",e.ERROR_EMPTY_FILE="SHOWCASE.ATTACHMENTS.ERROR_EMPTY_FILE",e.ERROR_OVER_QUOTA="SHOWCASE.ATTACHMENTS.ERROR_OVER_QUOTA",e.ERROR_PERMISSION_DENIED="SHOWCASE.ATTACHMENTS.ERROR_PERMISSION_DENIED",e.REMOVE_TOOLTIP="SHOWCASE.ATTACHMENTS.REMOVE_TOOLTIP",e.CLOSE_TOOLTIP="SHOWCASE.ATTACHMENTS.CLOSE_TOOLTIP",e.DELETE_ATTACHMENT_TOOLTIP="SHOWCASE.ATTACHMENTS.DELETE_ATTACHMENT_TOOLTIP",e.DOWNLOAD_TOOLTIP="SHOWCASE.ATTACHMENTS.DOWNLOAD_TOOLTIP",e.EXPAND_ATTACHMENT_TOOLTIP="SHOWCASE.ATTACHMENTS.EXPAND_ATTACHMENT_TOOLTIP",e.VIEWER_INDEX_COUNT="SHOWCASE.ATTACHMENTS.VIEWER_INDEX_COUNT",e.FAILED_TO_LOAD_MESSAGE="SHOWCASE.ATTACHMENTS.FAILED_TO_LOAD_MESSAGE",e.MORE_ATTACHMENT="SHOWCASE.ATTACHMENTS.MORE_ATTACHMENT",e.ERROR_200_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_200_MESSAGE",e.ERROR_401_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_401_MESSAGE",e.ERROR_403_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_403_MESSAGE",e.ERROR_404_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_404_MESSAGE",e.ERROR_429_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_429_MESSAGE",e.ERROR_4XX_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_4XX_MESSAGE",e.ERROR_5XX_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_5XX_MESSAGE"}(n=e.ATTACHMENTS||(e.ATTACHMENTS={})),function(e){e.TITLE="SHOWCASE.DEFURNISH_AI_MODAL.TITLE",e.TEXT1="SHOWCASE.DEFURNISH_AI_MODAL.TEXT1",e.TEXT2="SHOWCASE.DEFURNISH_AI_MODAL.TEXT2"}(i=e.DEFURNISH_AI_MODAL||(e.DEFURNISH_AI_MODAL={})),function(e){let t,n;!function(e){e.OR="SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.OR",e.DESKTOP="SHOWCASE.DOLLHOUSE.ROTATE_PROMPT.DESKTOP"}(t=e.ROTATE_PROMPT||(e.ROTATE_PROMPT={})),function(e){e.DESKTOP="SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.DESKTOP",e.TOUCH="SHOWCASE.DOLLHOUSE.INSIDE_PROMPT.TOUCH"}(n=e.INSIDE_PROMPT||(e.INSIDE_PROMPT={}))}(r=e.DOLLHOUSE||(e.DOLLHOUSE={})),function(e){e.DEFAULT_NAME="SHOWCASE.FLOORS.DEFAULT_NAME"}(o=e.FLOORS||(e.FLOORS={})),function(e){e.ALT_GESTURE_DRAG="SHOWCASE.HELP.ALT_GESTURE_DRAG",e.ALT_GESTURE_DRAGTWOFINGER="SHOWCASE.HELP.ALT_GESTURE_DRAGTWOFINGER",e.ALT_GESTURE_DRAGTWOFINGER_VERT="SHOWCASE.HELP.ALT_GESTURE_DRAGTWOFINGER_VERT",e.ALT_GESTURE_POSITION="SHOWCASE.HELP.ALT_GESTURE_POSITION",e.ALT_GESTURE_PINCH="SHOWCASE.HELP.ALT_GESTURE_PINCH",e.ALT_GESTURE_TOUCH_ROTATE="SHOWCASE.HELP.ALT_GESTURE_TOUCH_ROTATE",e.ALT_GESTURE_PLAY="SHOWCASE.HELP.ALT_GESTURE_PLAY",e.ALT_GESTURE_POSITIONTWOFINGER="SHOWCASE.HELP.ALT_GESTURE_POSITIONTWOFINGER",e.ALT_GESTURE_TAP="SHOWCASE.HELP.ALT_GESTURE_TAP",e.ALT_GESTURE_TAPINSIDE="SHOWCASE.HELP.ALT_GESTURE_TAPINSIDE",e.ALT_KEYBOARD_ALL="SHOWCASE.HELP.ALT_KEYBOARD_ALL",e.ALT_KEYBOARD_INSIDE="SHOWCASE.HELP.ALT_KEYBOARD_INSIDE",e.ALT_KEYBOARD_LEFTRIGHT="SHOWCASE.HELP.ALT_KEYBOARD_LEFTRIGHT",e.ALT_KEYBOARD_UPDOWN="SHOWCASE.HELP.ALT_KEYBOARD_UPDOWN",e.ALT_KEYBOARD_ZOOM="SHOWCASE.HELP.ALT_KEYBOARD_ZOOM",e.ALT_MOUSE_CLICK="SHOWCASE.HELP.ALT_MOUSE_CLICK",e.ALT_MOUSE_CLICKINSIDE="SHOWCASE.HELP.ALT_MOUSE_CLICKINSIDE",e.ALT_MOUSE_DRAGLEFT="SHOWCASE.HELP.ALT_MOUSE_DRAGLEFT",e.ALT_MOUSE_DRAGRIGHT="SHOWCASE.HELP.ALT_MOUSE_DRAGRIGHT",e.ALT_MOUSE_DRAGRIGHT_HORIZ="SHOWCASE.HELP.ALT_MOUSE_DRAGRIGHT_HORIZ",e.ALT_MOUSE_DRAGRIGHT_VERT="SHOWCASE.HELP.ALT_MOUSE_DRAGRIGHT_VERT",e.ALT_MOUSE_PLAY="SHOWCASE.HELP.ALT_MOUSE_PLAY",e.ALT_MOUSE_POSITIONLEFT="SHOWCASE.HELP.ALT_MOUSE_POSITIONLEFT",e.ALT_MOUSE_POSITIONRIGHT="SHOWCASE.HELP.ALT_MOUSE_POSITIONRIGHT",e.ALT_MOUSE_ZOOM="SHOWCASE.HELP.ALT_MOUSE_ZOOM",e.NAV_DOLLHOUSE_TITLE="SHOWCASE.HELP.NAV_DOLLHOUSE_TITLE",e.NAV_FLOORPLAN_TITLE="SHOWCASE.HELP.NAV_FLOORPLAN_TITLE",e.NAV_INSIDE_TITLE="SHOWCASE.HELP.NAV_INSIDE_TITLE",e.DESKTOP_DOLLHOUSE_PAN_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_PAN_HEADER",e.DESKTOP_DOLLHOUSE_PAN="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_PAN",e.DESKTOP_DOLLHOUSE_ROTATE_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ROTATE_HEADER",e.DESKTOP_DOLLHOUSE_ROTATE="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ROTATE",e.DESKTOP_DOLLHOUSE_ZOOM_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ZOOM_HEADER",e.DESKTOP_DOLLHOUSE_ZOOM="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_ZOOM",e.DESKTOP_DOLLHOUSE_2D3D_HEADER="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_2D3D_HEADER",e.DESKTOP_DOLLHOUSE_2D3D="SHOWCASE.HELP.DESKTOP_DOLLHOUSE_2D3D",e.DESKTOP_INSIDE_LOOK_HEADER="SHOWCASE.HELP.DESKTOP_INSIDE_LOOK_HEADER",e.DESKTOP_INSIDE_LOOK="SHOWCASE.HELP.DESKTOP_INSIDE_LOOK",e.DESKTOP_INSIDE_MOVE_HEADER="SHOWCASE.HELP.DESKTOP_INSIDE_MOVE_HEADER",e.DESKTOP_INSIDE_MOVE="SHOWCASE.HELP.DESKTOP_INSIDE_MOVE",e.DESKTOP_INSIDE_ZOOM_HEADER="SHOWCASE.HELP.DESKTOP_INSIDE_ZOOM_HEADER",e.DESKTOP_INSIDE_ZOOM="SHOWCASE.HELP.DESKTOP_INSIDE_ZOOM",e.TOUCH_DOLLHOUSE_PAN="SHOWCASE.HELP.TOUCH_DOLLHOUSE_PAN",e.TOUCH_DOLLHOUSE_ROTATE="SHOWCASE.HELP.TOUCH_DOLLHOUSE_ROTATE",e.TOUCH_DOLLHOUSE_ZOOM="SHOWCASE.HELP.TOUCH_DOLLHOUSE_ZOOM",e.TOUCH_DOLLHOUSE_2D3D="SHOWCASE.HELP.TOUCH_DOLLHOUSE_2D3D",e.TOUCH_INSIDE_LOOK="SHOWCASE.HELP.TOUCH_INSIDE_LOOK",e.TOUCH_INSIDE_MOVE="SHOWCASE.HELP.TOUCH_INSIDE_MOVE",e.TOUCH_INSIDE_ZOOM="SHOWCASE.HELP.TOUCH_INSIDE_ZOOM"}(s=e.HELP||(e.HELP={})),function(e){e.EMPTY_REEL_TITLE="SHOWCASE.HLR.EMPTY_REEL_TITLE",e.EMPTY_REEL_MESSAGE="SHOWCASE.HLR.EMPTY_REEL_MESSAGE",e.EMPTY_REEL_LEARN_MORE="SHOWCASE.HLR.EMPTY_REEL_LEARN_MORE"}(a=e.HLR||(e.HLR={})),function(e){e.SEARCH_GROUP_HEADER="SHOWCASE.LABELS.SEARCH_GROUP_HEADER"}(l=e.LABELS||(e.LABELS={})),function(e){e.TOGGLE_LAYERS="SHOWCASE.LAYERS.TOGGLE_LAYERS"}(c=e.LAYERS||(e.LAYERS={})),function(e){e.SEARCH_GROUP_HEADER="SHOWCASE.MEASUREMENTS.SEARCH_GROUP_HEADER"}(u=e.MEASUREMENTS||(e.MEASUREMENTS={})),function(e){e.TODAY="SHOWCASE.NOTES.TODAY",e.YESTERDAY="SHOWCASE.NOTES.YESTERDAY",e.THIS_WEEK="SHOWCASE.NOTES.THIS_WEEK",e.ONE_WEEK_AGO="SHOWCASE.NOTES.ONE_WEEK_AGO",e.TWO_WEEKS_AGO="SHOWCASE.NOTES.TWO_WEEKS_AGO",e.THREE_WEEKS_AGO="SHOWCASE.NOTES.THREE_WEEKS_AGO",e.OLDER="SHOWCASE.NOTES.OLDER",e.NO_MATCHES="SHOWCASE.NOTES.NO_MATCHES",e.HAVE_NONE="SHOWCASE.NOTES.HAVE_NONE",e.HAVE_NONE_OPEN="SHOWCASE.NOTES.HAVE_NONE_OPEN",e.HAVE_NONE_RESOLVED="SHOWCASE.NOTES.HAVE_NONE_RESOLVED",e.CONTENT_DELETED="SHOWCASE.NOTES.CONTENT_DELETED",e.RESULTS="SHOWCASE.NOTES.RESULTS",e.NUM_ATTACHMENTS="SHOWCASE.NOTES.ATTACHMENTS",e.COMMENTS="SHOWCASE.NOTES.COMMENTS",e.NOTES="SHOWCASE.NOTES.NOTES",e.REPLIES="SHOWCASE.NOTES.REPLIES",e.FILTER="SHOWCASE.NOTES.FILTER",e.FILTER_RESOLVED="SHOWCASE.NOTES.FILTER_RESOLVED",e.FILTER_UNRESOLVED="SHOWCASE.NOTES.FILTER_UNRESOLVED",e.FILTER_ALL="SHOWCASE.NOTES.FILTER_ALL",e.FILTER_BY="SHOWCASE.NOTES.FILTER_BY",e.CANCEL="SHOWCASE.NOTES.CANCEL",e.DELETE="SHOWCASE.NOTES.DELETE",e.EDIT="SHOWCASE.NOTES.EDIT",e.ADD_NOTE_MESSAGE="SHOWCASE.NOTES.ADD_NOTE_MESSAGE",e.MARK_AS_RESOLVED="SHOWCASE.NOTES.MARK_AS_RESOLVED",e.UNRESOLVE="SHOWCASE.NOTES.UNRESOLVE",e.FEEDBACK="SHOWCASE.NOTES.FEEDBACK",e.NAV_BACK="SHOWCASE.NOTES.NAV_BACK",e.NAV_CLOSE="SHOWCASE.NOTES.NAV_CLOSE",e.REPLY_PLACEHOLDER="SHOWCASE.NOTES.REPLY_PLACEHOLDER",e.EDIT_LIST_ITEM_OPTION_CTA="SHOWCASE.NOTES.EDIT_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="SHOWCASE.NOTES.DELETE_LIST_ITEM_OPTION_CTA",e.MISSING_MESSAGE="SHOWCASE.NOTES.MISSING_MESSAGE",e.ADD_CTA_TOOLTIP="SHOWCASE.NOTES.ADD_CTA_TOOLTIP",e.ADD_TOOLTIP="SHOWCASE.NOTES.ADD_TOOLTIP",e.CANCEL_TOOLTIP="SHOWCASE.NOTES.CANCEL_TOOLTIP",e.COLOR_STEM_TOOLTIP="SHOWCASE.NOTES.COLOR_STEM_TOOLTIP",e.DELETE_TOOLTIP="SHOWCASE.NOTES.DELETE_TOOLTIP",e.OVERLAY_ADD_TOUCH="SHOWCASE.NOTES.OVERLAY_ADD_TOUCH",e.OVERLAY_ADD_CLICK="SHOWCASE.NOTES.OVERLAY_ADD_CLICK",e.OVERLAY_PLACE_TOUCH="SHOWCASE.NOTES.OVERLAY_PLACE_TOUCH",e.OVERLAY_PLACE_CLICK="SHOWCASE.NOTES.OVERLAY_PLACE_CLICK",e.SEARCH_GROUP_HEADER="SHOWCASE.NOTES.SEARCH_GROUP_HEADER",e.SEARCH_GROUP_HEADER_NOTES="SHOWCASE.NOTES.SEARCH_GROUP_HEADER_NOTES",e.SELECTED_NOTES="SHOWCASE.NOTES.SELECTED_NOTES",e.SELECTED_COMMENTS="SHOWCASE.NOTES.SELECTED_COMMENTS"}(d=e.NOTES||(e.NOTES={})),function(e){e.BACK="SHOWCASE.ROOMS.BACK",e.CLOSE="SHOWCASE.ROOMS.CLOSE",e.DEFAULT_NAME="SHOWCASE.ROOMS.DEFAULT_NAME",e.DEFAULT_ROOM="SHOWCASE.ROOMS.DEFAULT_ROOM",e.DOORWAY_TYPE="SHOWCASE.ROOMS.DOORWAY_TYPE",e.DOORWAY_TYPE_DOOR="SHOWCASE.ROOMS.DOORWAY_TYPE_DOOR",e.DOORWAY_TYPE_OPENING="SHOWCASE.ROOMS.DOORWAY_TYPE_OPENING",e.DOORWAY_INFORMATION="SHOWCASE.ROOMS.DOORWAY_INFORMATION",e.LIST_PANEL_TITLE="SHOWCASE.ROOMS.LIST_PANEL_TITLE",e.LIST_PANEL_EDIT="SHOWCASE.ROOMS.LIST_PANEL_EDIT",e.QUANTITY_IN_UNITS="SHOWCASE.ROOMS.QUANTITY_IN_UNITS",e.ROOM_AREA="SHOWCASE.ROOMS.ROOM_AREA",e.ROOM_BOUNDS_TOGGLES_TITLE="SHOWCASE.ROOMS.ROOM_BOUNDS_TOGGLES_TITLE",e.ROOM_BOUNDS_WALL_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_WALL_TOGGLE_LABEL",e.ROOM_BOUNDS_ROOM_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_ROOM_TOGGLE_LABEL",e.ROOM_BOUNDS_DIMENSION_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_DIMENSION_TOGGLE_LABEL",e.ROOM_BOUNDS_MODEL_TOGGLE_LABEL="SHOWCASE.ROOMS.ROOM_BOUNDS_MODEL_TOGGLE_LABEL",e.ROOM_DIMENSIONS="SHOWCASE.ROOMS.ROOM_DIMENSIONS",e.ROOM_HEIGHT="SHOWCASE.ROOMS.ROOM_HEIGHT",e.ROOM_WIDTH="SHOWCASE.ROOMS.ROOM_WIDTH",e.ROOM_INFORMATION="SHOWCASE.ROOMS.ROOM_INFORMATION",e.ROOM_PERIMETER="SHOWCASE.ROOMS.ROOM_PERIMETER",e.ROOM_TYPE="SHOWCASE.ROOMS.ROOM_TYPE",e.SEARCH_GROUP_HEADER="SHOWCASE.ROOMS.SEARCH_GROUP_HEADER",e.SETTINGS="SHOWCASE.ROOMS.SETTINGS",e.WALL_THICKNESS="SHOWCASE.ROOMS.WALL_THICKNESS",e.WALL_TYPE="SHOWCASE.ROOMS.WALL_TYPE",e.WALL_TYPE_SOLID="SHOWCASE.ROOMS.WALL_TYPE_SOLID",e.WALL_TYPE_DIVIDER="SHOWCASE.ROOMS.WALL_TYPE_DIVIDER"}(h=e.ROOMS||(e.ROOMS={})),function(e){e.CLOSE_TAG_LABEL="SHOWCASE.TAGS.CLOSE_TAG_LABEL",e.DOCK_TAG_LABEL="SHOWCASE.TAGS.DOCK_TAG_LABEL",e.EDIT_TAG_LABEL="SHOWCASE.TAGS.EDIT_TAG_LABEL",e.MISSING_MESSAGE="SHOWCASE.TAGS.MISSING_MESSAGE",e.SEARCH_GROUP_HEADER="SHOWCASE.TAGS.SEARCH_GROUP_HEADER",e.SHARE_TAG_LABEL="SHOWCASE.TAGS.SHARE_TAG_LABEL",e.UNDOCK_TAG_LABEL="SHOWCASE.TAGS.UNDOCK_TAG_LABEL",e.NAV_BACK_LABEL="SHOWCASE.TAGS.NAV_BACK_LABEL",e.OVERLAY_ADD_TOUCH="SHOWCASE.TAGS.OVERLAY_ADD_TOUCH",e.OVERLAY_ADD_CLICK="SHOWCASE.TAGS.OVERLAY_ADD_CLICK",e.OVERLAY_PLACE_TOUCH="SHOWCASE.TAGS.OVERLAY_PLACE_TOUCH",e.OVERLAY_PLACE_CLICK="SHOWCASE.TAGS.OVERLAY_PLACE_CLICK"}(p=e.TAGS||(e.TAGS={})),function(e){e.QUERY_PLACEHOLDER="SHOWCASE.SEARCH.QUERY_PLACEHOLDER",e.SEARCH_IN_TOOL_PLACEHOLDER="SHOWCASE.SEARCH.SEARCH_IN_TOOL_PLACEHOLDER",e.CLEAR_SEARCH="SHOWCASE.SEARCH.CLEAR_SEARCH",e.FILTER_SEARCH="SHOWCASE.SEARCH.FILTER_SEARCH",e.FILTER_SEARCH_LABEL="SHOWCASE.SEARCH.FILTER_SEARCH_LABEL",e.FILTER_SEARCH_ALL="SHOWCASE.SEARCH.FILTER_SEARCH_ALL",e.FILTER_SEARCH_REMOVE="SHOWCASE.SEARCH.FILTER_SEARCH_REMOVE",e.FILTER_SEARCH_SELECTED="SHOWCASE.SEARCH.FILTER_SEARCH_SELECTED",e.GROUP_DATE="SHOWCASE.SEARCH.GROUP_DATE",e.GROUP_DATE_SELECTED="SHOWCASE.SEARCH.GROUP_DATE_SELECTED",e.GROUP_FLOOR="SHOWCASE.SEARCH.GROUP_FLOOR",e.GROUP_FLOOR_SELECTED="SHOWCASE.SEARCH.GROUP_FLOOR_SELECTED",e.GROUP_LAYER="SHOWCASE.SEARCH.GROUP_LAYER",e.GROUP_LAYER_SELECTED="SHOWCASE.SEARCH.GROUP_LAYER_SELECTED",e.GROUP_ROOM="SHOWCASE.SEARCH.GROUP_ROOM",e.GROUP_ROOM_SELECTED="SHOWCASE.SEARCH.GROUP_ROOM_SELECTED",e.GROUP_TYPE="SHOWCASE.SEARCH.GROUP_TYPE",e.GROUP_TYPE_SELECTED="SHOWCASE.SEARCH.GROUP_TYPE_SELECTED",e.ITEMS="SHOWCASE.SEARCH.ITEMS",e.EMPTY_LIST_MESSAGE="SHOWCASE.SEARCH.EMPTY_LIST_MESSAGE",e.VALIDATION_MESSAGE="SHOWCASE.SEARCH.VALIDATION_MESSAGE"}(f=e.SEARCH||(e.SEARCH={})),function(e){e.BANNER_CTA_LINK_TEXT="SHOWCASE.SUBSCRIBER_PROMPT.BANNER_CTA_LINK_TEXT",e.POPUP_CTA_HEADING="SHOWCASE.SUBSCRIBER_PROMPT.POPUP_CTA_HEADING",e.POPUP_CTA_LINK_TEXT="SHOWCASE.SUBSCRIBER_PROMPT.POPUP_CTA_LINK_TEXT"}(m=e.SUBSCRIBER_PROMPT||(e.SUBSCRIBER_PROMPT={})),function(e){e.HEADING="SHOWCASE.SUMMARY.HEADING",e.LABEL_ADDRESS="SHOWCASE.SUMMARY.LABEL_ADDRESS",e.LABEL_CONTACT="SHOWCASE.SUMMARY.LABEL_CONTACT",e.LABEL_DESCRIPTION="SHOWCASE.SUMMARY.LABEL_DESCRIPTION",e.LABEL_INFORMATION="SHOWCASE.SUMMARY.LABEL_INFORMATION",e.LABEL_LOCATION="SHOWCASE.SUMMARY.LABEL_LOCATION",e.LABEL_LEARN_MORE="SHOWCASE.SUMMARY.LABEL_LEARN_MORE"}(g=e.SUMMARY||(e.SUMMARY={})),function(e){e.TOUR_BUTTON_LABEL="SHOWCASE.TOURS.TOUR_BUTTON_LABEL",e.TOUR_CONTROLS_TITLE="SHOWCASE.TOURS.TOUR_CONTROLS_TITLE",e.TOUR_CONTROLS_CTA="SHOWCASE.TOURS.TOUR_CONTROLS_CTA"}(v=e.TOURS||(e.TOURS={})),function(e){e.VIEW_SELECTOR_START_LOCATION_TOOLTIP="SHOWCASE.VIEWS.VIEW_SELECTOR_START_LOCATION_TOOLTIP"}(y=e.VIEWS||(e.VIEWS={}))}(d=e.SHOWCASE||(e.SHOWCASE={})),function(e){e.AD_DEFURNISH="TOOLS.AD_DEFURNISH",e.AD_DEFURNISH_HELP_MESSAGE="TOOLS.AD_DEFURNISH_HELP_MESSAGE",e.BLUR="TOOLS.BLUR",e.BLUR_HELP_MESSAGE="TOOLS.BLUR_HELP_MESSAGE",e.HLR="TOOLS.HLR",e.HLR_HELP_MESSAGE="TOOLS.HLR_HELP_MESSAGE",e.LABELS="TOOLS.LABELS",e.LABELS_HELP_MESSAGE="TOOLS.LABELS_HELP_MESSAGE",e.LAYERS="TOOLS.LAYERS",e.LAYERS_HELP_MESSAGE="TOOLS.LAYERS_HELP_MESSAGE",e.MATTERTAGS="TOOLS.MATTERTAGS",e.MATTERTAGS_HELP_MESSAGE="TOOLS.MATTERTAGS_HELP_MESSAGE",e.MEASUREMENTS="TOOLS.MEASUREMENTS",e.MEASUREMENTS_SETTINGS="TOOLS.MEASUREMENTS_SETTINGS",e.MEASUREMENTS_HELP_MESSAGE="TOOLS.MEASUREMENTS_HELP_MESSAGE",e.MESH_TRIM="TOOLS.MESH_TRIM",e.MESH_TRIM_HELP_MESSAGE="TOOLS.MESH_TRIM_HELP_MESSAGE",e.NOTES="TOOLS.NOTES",e.NOTES_HELP_MESSAGE="TOOLS.NOTES_HELP_MESSAGE",e.PHOTOS="TOOLS.PHOTOS",e.PHOTOS_HELP_MESSAGE="TOOLS.PHOTOS_HELP_MESSAGE",e.PLUGIN_CONFIG="TOOLS.PLUGIN_CONFIG",e.PLUGIN_CONFIG_HELP_MESSAGE="TOOLS.PLUGIN_CONFIG_HELP_MESSAGE",e.PLUGIN_CONFIG_MISSING="TOOLS.PLUGIN_CONFIG_MISSING",e.ROOMPLAN="TOOLS.ROOMPLAN",e.ROOMPLAN_HELP_MESSAGE="TOOLS.ROOMPLAN_HELP_MESSAGE",e.SCANS_3D="TOOLS.SCANS_3D",e.SCANS_3D_HELP_MESSAGE="TOOLS.SCANS_3D_HELP_MESSAGE",e.SETTINGS_PANEL="TOOLS.SETTINGS_PANEL",e.START_LOCATION="TOOLS.START_LOCATION",e.START_LOCATION_HELP_MESSAGE="TOOLS.START_LOCATION_HELP_MESSAGE",e.SUMMARY="TOOLS.SUMMARY",e.TAGS="TOOLS.TAGS",e.TAGS_HELP_MESSAGE="TOOLS.TAGS_HELP_MESSAGE",e.TOURS="TOOLS.TOURS",e.TOURS_HELP_MESSAGE="TOOLS.TOURS_HELP_MESSAGE",e.VIEW_360="TOOLS.VIEW_360",e.VIEW_360_HELP_MESSAGE="TOOLS.VIEW_360_HELP_MESSAGE",e.VR_PATH="TOOLS.VR_PATH",e.VR_PATH_HELP_MESSAGE="TOOLS.VR_PATH_HELP_MESSAGE",e.SEARCH="TOOLS.SEARCH",e.UNSAVED_CHANGES_TITLE="TOOLS.UNSAVED_CHANGES_TITLE",e.UNSAVED_CHANGES_MESSAGE="TOOLS.UNSAVED_CHANGES_MESSAGE",e.UNSAVED_CHANGES_CONFIRM="TOOLS.UNSAVED_CHANGES_CONFIRM",e.UNSAVED_CHANGES_CANCEL="TOOLS.UNSAVED_CHANGES_CANCEL"}(h=e.TOOLS||(e.TOOLS={})),function(e){e.INVITE_USER="USERS.INVITE_USER",e.INVITE_USER_FAILED="USERS.INVITE_USER_FAILED",e.INVITE_BUTTON="USERS.INVITE_BUTTON",e.INVITE_USERS="USERS.INVITE_USERS",e.INVITE_USERS_FAILED="USERS.INVITE_USERS_FAILED",e.INVITE_VISIBLE_MSG="USERS.INVITE_VISIBLE_MSG",e.UNKNOWN_USER="USERS.UNKNOWN_USER",e.UNKNOWN_USERS="USERS.UNKNOWN_USERS"}(p=e.USERS||(e.USERS={})),function(e){e.FEET_SYMBOL="UNITS_DISPLAY.FEET_SYMBOL",e.INCHES_SYMBOL="UNITS_DISPLAY.INCHES_SYMBOL",e.HALF_SPACE="UNITS_DISPLAY.HALF_SPACE",e.FEET="UNITS_DISPLAY.FEET",e.INCHES="UNITS_DISPLAY.INCHES",e.METERS="UNITS_DISPLAY.METERS",e.SQUARE_FEET="UNITS_DISPLAY.SQUARE_FEET",e.SQUARE_METERS="UNITS_DISPLAY.SQUARE_METERS",e.DIMENSIONS_SEPARATOR="UNITS_DISPLAY.DIMENSIONS_SEPARATOR"}(f=e.UNITS_DISPLAY||(e.UNITS_DISPLAY={})),function(e){let t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,E,S,b,O,_,T,A,w;!function(e){e.DELETE_SELECTED_CTA="WORKSHOP.ACCORDION.DELETE_SELECTED_CTA",e.SELECT_ALL_CTA="WORKSHOP.ACCORDION.SELECT_ALL_CTA",e.ENTER_SELECT_MODE_CTA="WORKSHOP.ACCORDION.ENTER_SELECT_MODE_CTA",e.EXIT_SELECT_MODE_CTA="WORKSHOP.ACCORDION.EXIT_SELECT_MODE_CTA",e.DELETE_FOOTER_CTA="WORKSHOP.ACCORDION.DELETE_FOOTER_CTA",e.TOGGLE_VISIBILITY_FOOTER_CTA="WORKSHOP.ACCORDION.TOGGLE_VISIBILITY_FOOTER_CTA",e.BATCH_DELETE_MODAL_TITLE="WORKSHOP.ACCORDION.BATCH_DELETE_MODAL_TITLE",e.BATCH_DELETE_MODAL_MESSAGE="WORKSHOP.ACCORDION.BATCH_DELETE_MODAL_MESSAGE",e.BATCH_ITEMS_TYPE="WORKSHOP.ACCORDION.BATCH_ITEMS_TYPE",e.BATCH_COPY_LABEL="WORKSHOP.ACCORDION.BATCH_COPY_LABEL",e.BATCH_MOVE_LABEL="WORKSHOP.ACCORDION.BATCH_MOVE_LABEL",e.BATCH_DELETE_LABEL="WORKSHOP.ACCORDION.BATCH_DELETE_LABEL",e.RENAME_HEADER_OPTION_CTA="WORKSHOP.ACCORDION.RENAME_HEADER_OPTION_CTA"}(t=e.ACCORDION||(e.ACCORDION={})),function(e){e.CHANGES_SAVED_MESSAGE="WORKSHOP.APP_SWITCH.CHANGES_SAVED_MESSAGE",e.SAVING_CHANGES_MESSAGE="WORKSHOP.APP_SWITCH.SAVING_CHANGES_MESSAGE",e.PROCESSING_MESSAGE="WORKSHOP.APP_SWITCH.PROCESSING_MESSAGE",e.CHANGES_SAVED_AUTOSAVE_MESSAGE="WORKSHOP.APP_SWITCH.CHANGES_SAVED_AUTOSAVE_MESSAGE",e.EDIT_CTA="WORKSHOP.APP_SWITCH.EDIT_CTA",e.UNSUPPORTED_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.UNSUPPORTED_TOOLTIP_MESSAGE",e.UNSUPPORTED_TOOLTIP_TITLE="WORKSHOP.APP_SWITCH.UNSUPPORTED_TOOLTIP_TITLE",e.FLOORS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.FLOORS_CHECKBOX_LABEL",e.MEASUREMENTS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.MEASUREMENTS_CHECKBOX_LABEL",e.MATTERTAGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.MATTERTAGS_CHECKBOX_LABEL",e.TAGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.TAGS_CHECKBOX_LABEL",e.LABELS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.LABELS_CHECKBOX_LABEL",e.HIGHLIGHTS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.HIGHLIGHTS_CHECKBOX_LABEL",e.START_LOCATION_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.START_LOCATION_CHECKBOX_LABEL",e.SETTINGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.SETTINGS_CHECKBOX_LABEL",e.SWEEPS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.SWEEPS_CHECKBOX_LABEL",e.BLURS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.BLURS_CHECKBOX_LABEL",e.EXIT_EDIT_MODE_CTA="WORKSHOP.APP_SWITCH.EXIT_EDIT_MODE_CTA",e.EXIT_EDIT_MODE_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.EXIT_EDIT_MODE_TOOLTIP_MESSAGE",e.PREVIEW_CHANGES_CTA="WORKSHOP.APP_SWITCH.PREVIEW_CHANGES_CTA",e.NO_EDIT_PERMS_TITLE="WORKSHOP.APP_SWITCH.NO_EDIT_PERMS_TITLE",e.NO_EDIT_PERMS_MESSAGE="WORKSHOP.APP_SWITCH.NO_EDIT_PERMS_MESSAGE"}(n=e.APP_SWITCH||(e.APP_SWITCH={})),function(e){e.ACCEPT_ALL_SUGGESTIONS="WORKSHOP.BLURS.ACCEPT_ALL_SUGGESTIONS",e.ACCEPT_SUGGESTION_TOOLTIP="WORKSHOP.BLURS.ACCEPT_SUGGESTION_TOOLTIP",e.ALREADY_PROCESSING_ALERT_MESSAGE="WORKSHOP.BLURS.ALREADY_PROCESSING_ALERT_MESSAGE",e.ALREADY_PROCESSING_ALERT_TITLE="WORKSHOP.BLURS.ALREADY_PROCESSING_ALERT_TITLE",e.APPLY_BLURS_CTA="WORKSHOP.BLURS.APPLY_BLURS_CTA",e.APPLYING="WORKSHOP.BLURS.APPLYING",e.APPLY_MODAL_CONFIRM="WORKSHOP.BLURS.APPLY_MODAL_CONFIRM",e.APPLY_MODAL_NUDGE_CANCEL="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_CANCEL",e.APPLY_MODAL_MESSAGE="WORKSHOP.BLURS.APPLY_MODAL_MESSAGE",e.APPLY_MODAL_NUDGE_MESSAGE="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_MESSAGE",e.APPLY_MODAL_RETRY="WORKSHOP.BLURS.APPLY_MODAL_RETRY",e.APPLY_MODAL_TITLE="WORKSHOP.BLURS.APPLY_MODAL_TITLE",e.APPLY_MODAL_NUDGE_TITLE="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_TITLE",e.APPLY_MODAL_TRUNCATED="WORKSHOP.BLURS.APPLY_MODAL_TRUNCATED",e.APPLY_MODAL_WARNING="WORKSHOP.BLURS.APPLY_MODAL_WARNING",e.BANNER_WARNING="WORKSHOP.BLURS.BANNER_WARNING",e.DEFURNISH_WARNING="WORKSHOP.BLURS.DEFURNISH_WARNING",e.BATCH_SELECT="WORKSHOP.BLURS.BATCH_SELECT",e.BLUR_STATUS="WORKSHOP.BLURS.BLUR_STATUS",e.BLUR_STATUS_ALL="WORKSHOP.BLURS.BLUR_STATUS_ALL",e.BLUR_STATUS_APPLIED="WORKSHOP.BLURS.BLUR_STATUS_APPLIED",e.BLUR_STATUS_FAILED="WORKSHOP.BLURS.BLUR_STATUS_FAILED",e.BLUR_STATUS_PENDING="WORKSHOP.BLURS.BLUR_STATUS_PENDING",e.BLUR_STATUS_PROCESSING="WORKSHOP.BLURS.BLUR_STATUS_PROCESSING",e.BLUR_STATUS_SUGGESTED="WORKSHOP.BLURS.BLUR_STATUS_SUGGESTED",e.BRUSH_TOOLTIP_MESSAGE="WORKSHOP.BLURS.BRUSH_TOOLTIP_MESSAGE",e.BRUSH_TOOLTIP_TITLE="WORKSHOP.BLURS.BRUSH_TOOLTIP_TITLE",e.CLOSE_SUGGESTIONS="WORKSHOP.BLURS.CLOSE_SUGGESTIONS",e.CREATE_TOOLTIP_MESSAGE="WORKSHOP.BLURS.CREATE_TOOLTIP_MESSAGE",e.CREATE_TOOLTIP_TITLE="WORKSHOP.BLURS.CREATE_TOOLTIP_TITLE",e.DEFAULT_ALERT_CONFIRMATION="WORKSHOP.BLURS.DEFAULT_ALERT_CONFIRMATION",e.DEFAULT_ALERT_TITLE="WORKSHOP.BLURS.DEFAULT_ALERT_TITLE",e.DEFAULT_BLUR_NAME="WORKSHOP.BLURS.DEFAULT_BLUR_NAME",e.DELETE_BLUR_CTA="WORKSHOP.BLURS.DELETE_BLUR_CTA",e.GROUP_BY="WORKSHOP.BLURS.GROUP_BY",e.GROUP_BY_FLOOR="WORKSHOP.BLURS.GROUP_BY_FLOOR",e.GROUP_BY_SCAN="WORKSHOP.BLURS.GROUP_BY_SCAN",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.BLURS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.BLURS.MULTI_FLOOR_EMPTY_MESSAGE",e.NO_BLURS="WORKSHOP.BLURS.NO_BLURS",e.NO_SUGGESTIONS="WORKSHOP.BLURS.NO_SUGGESTIONS",e.NO_SUGGESTIONS_ON_FLOOR="WORKSHOP.BLURS.NO_SUGGESTIONS_ON_FLOOR",e.NUM_BLUR_SUGGESTIONS="WORKSHOP.BLURS.NUM_BLUR_SUGGESTIONS",e.NUM_TYPE="WORKSHOP.BLURS.NUM_TYPE",e.OTHER_GROUP_LABEL="WORKSHOP.BLURS.OTHER_GROUP_LABEL",e.OVERLAY_MESSAGE="WORKSHOP.BLURS.OVERLAY_MESSAGE",e.OVERLAY_MESSAGE_TOUCH="WORKSHOP.BLURS.OVERLAY_MESSAGE_TOUCH",e.REJECT_ALL_SUGGESTIONS="WORKSHOP.BLURS.REJECT_ALL_SUGGESTIONS",e.REJECT_SUGGESTION_TOOLTIP="WORKSHOP.BLURS.REJECT_SUGGESTION_TOOLTIP",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.BLURS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.BLURS.SINGLE_FLOOR_EMPTY_MESSAGE",e.SORT="WORKSHOP.BLURS.SORT",e.SORT_CREATED_ASC="WORKSHOP.BLURS.SORT_CREATED_ASC",e.SORT_CREATED_DESC="WORKSHOP.BLURS.SORT_CREATED_DESC",e.STATUS="WORKSHOP.BLURS.STATUS",e.SUGGESTED_BLUR="WORKSHOP.BLURS.SUGGESTED_BLUR",e.SUGGESTIONS_AVAILABLE_MESSAGE="WORKSHOP.BLURS.SUGGESTIONS_AVAILABLE_MESSAGE",e.SUGGESTIONS_FOUND_MESSAGE="WORKSHOP.BLURS.SUGGESTIONS_FOUND_MESSAGE",e.TYPE="WORKSHOP.BLURS.TYPE",e.VIEW_SUGGESTIONS="WORKSHOP.BLURS.VIEW_SUGGESTIONS"}(i=e.BLURS||(e.BLURS={})),function(e){e.TYPE="WORKSHOP.SUGGESTIONS.TYPE"}(r=e.SUGGESTIONS||(e.SUGGESTIONS={})),function(e){e.HELP_LINK="WORKSHOP.EDIT_BAR.HELP_LINK",e.BETA_TAG="WORKSHOP.EDIT_BAR.BETA_TAG",e.COLLAPSE_LIST_TOOLTIP_MESSAGE="WORKSHOP.EDIT_BAR.COLLAPSE_LIST_TOOLTIP_MESSAGE",e.EXPAND_LIST_TOOLTIP_MESSAGE="WORKSHOP.EDIT_BAR.EXPAND_LIST_TOOLTIP_MESSAGE",e.NEW_BADGE="WORKSHOP.EDIT_BAR.NEW_BADGE"}(o=e.EDIT_BAR||(e.EDIT_BAR={})),function(e){e.APPLY_CTA="WORKSHOP.EMBED.APPLY_CTA",e.HELP_CTA="WORKSHOP.EMBED.HELP_CTA",e.ERROR_MESSAGE="WORKSHOP.EMBED.ERROR_MESSAGE",e.LOADING_MESSAGE="WORKSHOP.EMBED.LOADING_MESSAGE",e.INVALID_URL_MESSAGE="WORKSHOP.EMBED.INVALID_URL_MESSAGE",e.SUPPORTED_FORMATS_MESSAGE="WORKSHOP.EMBED.SUPPORTED_FORMATS_MESSAGE",e.MEDIA_LINK_LABEL="WORKSHOP.EMBED.MEDIA_LINK_LABEL",e.PROVIDER_NOT_SUPPORTED_MESSAGE="WORKSHOP.EMBED.PROVIDER_NOT_SUPPORTED_MESSAGE",e.LINK_TYPE_NOT_SUPPORTED_MESSAGE="WORKSHOP.EMBED.LINK_TYPE_NOT_SUPPORTED_MESSAGE",e.MEDIA_EMBED_PLACEHOLDER="WORKSHOP.EMBED.MEDIA_EMBED_PLACEHOLDER"}(s=e.EMBED||(e.EMBED={})),function(e){e.ADD_FROM_PHOTOS_TOOLTIP_MESSAGE="WORKSHOP.HLR.ADD_FROM_PHOTOS_TOOLTIP_MESSAGE",e.ADD_HIGHLIGHT_CTA="WORKSHOP.HLR.ADD_HIGHLIGHT_CTA",e.ADD_HIGHLIGHT_DISABLED_CTA="WORKSHOP.HLR.ADD_HIGHLIGHT_DISABLED_CTA",e.ADD_HIGHLIGHT_INSTRUCTIONS="WORKSHOP.HLR.ADD_HIGHLIGHT_INSTRUCTIONS",e.APPLY_TO_ALL_CTA="WORKSHOP.HLR.APPLY_TO_ALL_CTA",e.CLEAR_HLR_MODAL_MESSAGE="WORKSHOP.HLR.CLEAR_HLR_MODAL_MESSAGE",e.CLEAR_HLR_MODAL_TITLE="WORKSHOP.HLR.CLEAR_HLR_MODAL_TITLE",e.CLEAR_REEL_CTA="WORKSHOP.HLR.CLEAR_REEL_CTA",e.CLOSE_SETTINGS_CTA="WORKSHOP.HLR.CLOSE_SETTINGS_CTA",e.DELETE_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.DELETE_HIGHLIGHT_TOOLTIP_MESSAGE",e.DISMISS_TOOLTIP_CTA="WORKSHOP.HLR.DISMISS_TOOLTIP_CTA",e.DOLLHOUSE_ROTATION_SPEED_SETTING_LABEL="WORKSHOP.HLR.DOLLHOUSE_ROTATION_SPEED_SETTING_LABEL",e.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE",e.EDIT_SETTINGS_TOOLTIP_MESSAGE="WORKSHOP.HLR.EDIT_SETTINGS_TOOLTIP_MESSAGE",e.HIGHLIGHT_CAPTION_HINT="WORKSHOP.HLR.HIGHLIGHT_CAPTION_HINT",e.HIGHLIGHT_CAPTION_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_CAPTION_PLACEHOLDER",e.HIGHLIGHT_DESCRIPTION_HINT="WORKSHOP.HLR.HIGHLIGHT_DESCRIPTION_HINT",e.HIGHLIGHT_DESCRIPTION_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_DESCRIPTION_PLACEHOLDER",e.HIGHLIGHT_SCENE_HINT="WORKSHOP.HLR.HIGHLIGHT_SCENE_HINT",e.HIGHLIGHT_SCENE_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_SCENE_PLACEHOLDER",e.HIGHLIGHT_TITLE_HINT="WORKSHOP.HLR.HIGHLIGHT_TITLE_HINT",e.HIGHLIGHT_TITLE_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_TITLE_PLACEHOLDER",e.INDIVIDUAL_PAN_DIRECTION_SETTING_LABEL="WORKSHOP.HLR.INDIVIDUAL_PAN_DIRECTION_SETTING_LABEL",e.INDIVIDUAL_TRANSITION_SETTING_LABEL="WORKSHOP.HLR.INDIVIDUAL_TRANSITION_SETTING_LABEL",e.NUM_TYPE="WORKSHOP.HLR.NUM_TYPE",e.PANNING_SETTINGS_TAB_TITLE="WORKSHOP.HLR.PANNING_SETTINGS_TAB_TITLE",e.PAN_DIRECTION_SETTING_AUTO="WORKSHOP.HLR.PAN_DIRECTION_SETTING_AUTO",e.PAN_DIRECTION_SETTING_LABEL="WORKSHOP.HLR.PAN_DIRECTION_SETTING_LABEL",e.PAN_DIRECTION_SETTING_LEFT="WORKSHOP.HLR.PAN_DIRECTION_SETTING_LEFT",e.PAN_DIRECTION_SETTING_RIGHT="WORKSHOP.HLR.PAN_DIRECTION_SETTING_RIGHT",e.PANEL_COLLAPSE="WORKSHOP.HLR.PANEL_COLLAPSE",e.PANEL_EXPAND="WORKSHOP.HLR.PANEL_EXPAND",e.PREVIEW_SETTINGS_CTA="WORKSHOP.HLR.PREVIEW_SETTINGS_CTA",e.PRESENTATION_SETTINGS_TAB_TITLE="WORKSHOP.HLR.PRESENTATION_SETTINGS_TAB_TITLE",e.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE",e.RESTORE_DEFAULTS_CTA="WORKSHOP.HLR.RESTORE_DEFAULTS_CTA",e.ROTATION_ANGLE_SETTING_LABEL="WORKSHOP.HLR.ROTATION_ANGLE_SETTING_LABEL",e.ROTATION_SPEED_SETTING_LABEL="WORKSHOP.HLR.ROTATION_SPEED_SETTING_LABEL",e.SCAN_GENERIC_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_GENERIC_HIDDEN_TOOLTIP_TITLE",e.SCAN_NOT_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_NOT_HIDDEN_TOOLTIP_TITLE",e.SCAN_NUMBER_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_NUMBER_HIDDEN_TOOLTIP_TITLE",e.SEARCH_HIGHLIGHT_DEFAULTNAME="WORKSHOP.HLR.SEARCH_HIGHLIGHT_DEFAULTNAME",e.SEARCH_ITEM_DELETE="WORKSHOP.HLR.SEARCH_ITEM_DELETE",e.SEARCH_ITEM_EDIT="WORKSHOP.HLR.SEARCH_ITEM_EDIT",e.SEARCH_TOUR_HEADER="WORKSHOP.HLR.SEARCH_TOUR_HEADER",e.SETTINGS_MODAL_TITLE="WORKSHOP.HLR.SETTINGS_MODAL_TITLE",e.SLIDESHOW_SPEED_SETTING_LABEL="WORKSHOP.HLR.SLIDESHOW_SPEED_SETTING_LABEL",e.SPEED_SETTING_FAST="WORKSHOP.HLR.SPEED_SETTING_FAST",e.SPEED_SETTING_MEDIUM="WORKSHOP.HLR.SPEED_SETTING_MEDIUM",e.SPEED_SETTING_SLOW="WORKSHOP.HLR.SPEED_SETTING_SLOW",e.TOAST_ERROR_CTA="WORKSHOP.HLR.TOAST_ERROR_CTA",e.TOAST_ERROR_MESSAGE="WORKSHOP.HLR.TOAST_ERROR_MESSAGE",e.TOUR_EDITOR_BEHAVIORS_TAB="WORKSHOP.HLR.TOUR_EDITOR_BEHAVIORS_TAB",e.TOUR_EDITOR_LABELS_TAB="WORKSHOP.HLR.TOUR_EDITOR_LABELS_TAB",e.TOUR_EDITOR_EMPTY_MESSAGE="WORKSHOP.HLR.TOUR_EDITOR_EMPTY_MESSAGE",e.TOUR_EDITOR_EMPTY_TITLE="WORKSHOP.HLR.TOUR_EDITOR_EMPTY_TITLE",e.TOUR_EDITOR_TITLE_DESCRIPTION_HELPER="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_HELPER",e.TOUR_EDITOR_TITLE_DESCRIPTION_TIP="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_TIP",e.TOUR_EDITOR_TITLE_DESCRIPTION_TIP_LINK="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_TIP_LINK",e.TOUR_SETTINGS_LABEL="WORKSHOP.HLR.TOUR_SETTINGS_LABEL",e.TOUR_SETTINGS_MOVED_HEADER="WORKSHOP.HLR.TOUR_SETTINGS_MOVED_HEADER",e.TOUR_SETTINGS_MOVED_MESSAGE="WORKSHOP.HLR.TOUR_SETTINGS_MOVED_MESSAGE",e.TRANSITION_AFTER_360_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_AFTER_360_DISABLED_MESSAGE",e.TRANSITION_EDITOR_TITLE="WORKSHOP.HLR.TRANSITION_EDITOR_TITLE",e.TRANSITION_IS_360_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_IS_360_DISABLED_MESSAGE",e.TRANSITION_NO_ROTATION_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_NO_ROTATION_DISABLED_MESSAGE",e.TRANSITION_SAME_SWEEP_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_SAME_SWEEP_DISABLED_MESSAGE",e.TRANSITION_SETTINGS_TAB_TITLE="WORKSHOP.HLR.TRANSITION_SETTINGS_TAB_TITLE",e.TRANSITION_SETTING_LABEL="WORKSHOP.HLR.TRANSITION_SETTING_LABEL",e.TRANSITION_SETTING_SLIDESHOW="WORKSHOP.HLR.TRANSITION_SETTING_SLIDESHOW",e.TRANSITION_SETTING_WALKTHROUGH="WORKSHOP.HLR.TRANSITION_SETTING_WALKTHROUGH",e.TYPE="WORKSHOP.HLR.TYPE",e.WALKTHROUGH_SPEED_SETTING_LABEL="WORKSHOP.HLR.WALKTHROUGH_SPEED_SETTING_LABEL",e.ZOOM_SPEED_SETTING_LABEL="WORKSHOP.HLR.ZOOM_SPEED_SETTING_LABEL",e.AUTOGEN_TOUR_CREATED_TITLE="WORKSHOP.HLR.AUTOGEN_TOUR_CREATED_TITLE",e.AUTOGEN_TOUR_CREATED_MESSAGE="WORKSHOP.HLR.AUTOGEN_TOUR_CREATED_MESSAGE",e.AUTOGEN_TOUR_READY_TITLE="WORKSHOP.HLR.AUTOGEN_TOUR_READY_TITLE",e.AUTOGEN_TOUR_READY_MESSAGE="WORKSHOP.HLR.AUTOGEN_TOUR_READY_MESSAGE"}(a=e.HLR||(e.HLR={})),function(e){e.TYPE="WORKSHOP.LABELS.TYPE",e.NUM_TYPE="WORKSHOP.LABELS.NUM_TYPE",e.SELECTED_LABELS="WORKSHOP.LABELS.SELECTED_LABELS",e.EDIT_TEXT_CANCEL_CTA="WORKSHOP.LABELS.EDIT_TEXT_CANCEL_CTA",e.EDIT_TEXT_DONE_CTA="WORKSHOP.LABELS.EDIT_TEXT_DONE_CTA",e.INPUT_PLACEHOLDER="WORKSHOP.LABELS.INPUT_PLACEHOLDER",e.MOBILE_OVERLAY_MESSAGE="WORKSHOP.LABELS.MOBILE_OVERLAY_MESSAGE",e.ADD_LABEL_TOOLTIP_MESSAGE="WORKSHOP.LABELS.ADD_LABEL_TOOLTIP_MESSAGE",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.LABELS.RENAME_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.LABELS.DELETE_LIST_ITEM_OPTION_CTA",e.DEPRECATION_WARNING="WORKSHOP.LABELS.DEPRECATION_WARNING",e.OPEN_PROPERTY_TOOL_LABEL="WORKSHOP.LABELS.OPEN_PROPERTY_TOOL_LABEL",e.BOTH_LABELS_AND_RB_ENABLED="WORKSHOP.LABELS.BOTH_LABELS_AND_RB_ENABLED",e.TURN_OFF_LABELS="WORKSHOP.LABELS.TURN_OFF_LABELS",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.LABELS.LIST_ITEM_INPUT_PLACEHOLDER",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.LABELS.MULTI_FLOOR_EMPTY_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.LABELS.SINGLE_FLOOR_EMPTY_MESSAGE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.LABELS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.LABELS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.EDIT_LABEL="WORKSHOP.LABELS.EDIT_LABEL"}(l=e.LABELS||(e.LABELS={})),function(e){e.BACKYARD="WORKSHOP.LABEL_SUGGESTIONS.BACKYARD",e.BALCONY="WORKSHOP.LABEL_SUGGESTIONS.BALCONY",e.BASEMENT="WORKSHOP.LABEL_SUGGESTIONS.BASEMENT",e.BATHROOM="WORKSHOP.LABEL_SUGGESTIONS.BATHROOM",e.BEDROOM="WORKSHOP.LABEL_SUGGESTIONS.BEDROOM",e.BONUS_ROOM="WORKSHOP.LABEL_SUGGESTIONS.BONUS_ROOM",e.BREAK_ROOM="WORKSHOP.LABEL_SUGGESTIONS.BREAK_ROOM",e.CLOSET="WORKSHOP.LABEL_SUGGESTIONS.CLOSET",e.CONFERENCE_ROOM="WORKSHOP.LABEL_SUGGESTIONS.CONFERENCE_ROOM",e.DEN="WORKSHOP.LABEL_SUGGESTIONS.DEN",e.DINING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.DINING_ROOM",e.DRIVEWAY="WORKSHOP.LABEL_SUGGESTIONS.DRIVEWAY",e.ELEVATOR="WORKSHOP.LABEL_SUGGESTIONS.ELEVATOR",e.ENTRANCE="WORKSHOP.LABEL_SUGGESTIONS.ENTRANCE",e.ESCALATOR="WORKSHOP.LABEL_SUGGESTIONS.ESCALATOR",e.EXERCISE_ROOM="WORKSHOP.LABEL_SUGGESTIONS.EXERCISE_ROOM",e.EXTERIOR="WORKSHOP.LABEL_SUGGESTIONS.EXTERIOR",e.FACADE="WORKSHOP.LABEL_SUGGESTIONS.FACADE",e.FAMILY_ROOM="WORKSHOP.LABEL_SUGGESTIONS.FAMILY_ROOM",e.FRONT_YARD="WORKSHOP.LABEL_SUGGESTIONS.FRONT_YARD",e.GAME_ROOM="WORKSHOP.LABEL_SUGGESTIONS.GAME_ROOM",e.GARAGE="WORKSHOP.LABEL_SUGGESTIONS.GARAGE",e.GARDEN="WORKSHOP.LABEL_SUGGESTIONS.GARDEN",e.GREAT_ROOM="WORKSHOP.LABEL_SUGGESTIONS.GREAT_ROOM",e.GYM="WORKSHOP.LABEL_SUGGESTIONS.GYM",e.HALLWAY="WORKSHOP.LABEL_SUGGESTIONS.HALLWAY",e.KITCHEN="WORKSHOP.LABEL_SUGGESTIONS.KITCHEN",e.LAUNDRY="WORKSHOP.LABEL_SUGGESTIONS.LAUNDRY",e.LIBRARY="WORKSHOP.LABEL_SUGGESTIONS.LIBRARY",e.LIVING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.LIVING_ROOM",e.LOBBY="WORKSHOP.LABEL_SUGGESTIONS.LOBBY",e.LOFT="WORKSHOP.LABEL_SUGGESTIONS.LOFT",e.LUNCH_ROOM="WORKSHOP.LABEL_SUGGESTIONS.LUNCH_ROOM",e.MEDIA_ROOM="WORKSHOP.LABEL_SUGGESTIONS.MEDIA_ROOM",e.MEETING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.MEETING_ROOM",e.OFFICE="WORKSHOP.LABEL_SUGGESTIONS.OFFICE",e.OTHER="WORKSHOP.LABEL_SUGGESTIONS.OTHER",e.PANTRY="WORKSHOP.LABEL_SUGGESTIONS.PANTRY",e.PATIO="WORKSHOP.LABEL_SUGGESTIONS.PATIO",e.POOL="WORKSHOP.LABEL_SUGGESTIONS.POOL",e.PRIMARY_BATHROOM="WORKSHOP.LABEL_SUGGESTIONS.PRIMARY_BATHROOM",e.PRIMARY_BEDROOM="WORKSHOP.LABEL_SUGGESTIONS.PRIMARY_BEDROOM",e.RECEPTION="WORKSHOP.LABEL_SUGGESTIONS.RECEPTION",e.SAUNA="WORKSHOP.LABEL_SUGGESTIONS.SAUNA",e.SPA="WORKSHOP.LABEL_SUGGESTIONS.SPA",e.STAIRCASE="WORKSHOP.LABEL_SUGGESTIONS.STAIRCASE",e.STAIRWAY="WORKSHOP.LABEL_SUGGESTIONS.STAIRWAY",e.STORAGE="WORKSHOP.LABEL_SUGGESTIONS.STORAGE",e.STUDY="WORKSHOP.LABEL_SUGGESTIONS.STUDY",e.UNFURNISHED="WORKSHOP.LABEL_SUGGESTIONS.UNFURNISHED",e.UTILITY_ROOM="WORKSHOP.LABEL_SUGGESTIONS.UTILITY_ROOM",e.VOID="WORKSHOP.LABEL_SUGGESTIONS.VOID",e.WORKSHOP_ROOM="WORKSHOP.LABEL_SUGGESTIONS.WORKSHOP_ROOM"}(c=e.LABEL_SUGGESTIONS||(e.LABEL_SUGGESTIONS={})),function(e){e.ADD_LAYER_BUTTON_LABEL="WORKSHOP.LAYERS.ADD_LAYER_BUTTON_LABEL",e.ADD_VIEW_ITEM="WORKSHOP.LAYERS.ADD_VIEW_ITEM",e.ADD_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.ADD_VIEW_MODAL_TITLE",e.APPLY_TO_ALL_VIEWS_BLURS="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_BLURS",e.APPLY_TO_ALL_VIEWS_SCANS_3D="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_SCANS_3D",e.APPLY_TO_ALL_VIEWS_TRIM="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_TRIM",e.APPLY_TO_ALL_VIEWS_VIEW_360="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_VIEW_360",e.BATCH_NEW_LAYER="WORKSHOP.LAYERS.BATCH_NEW_LAYER",e.COMMON_LAYER="WORKSHOP.LAYERS.COMMON_LAYER",e.COMMON_LAYER_DESCRIPTION="WORKSHOP.LAYERS.COMMON_LAYER_DESCRIPTION",e.COMMON_LAYER_ITEM="WORKSHOP.LAYERS.COMMON_LAYER_ITEM",e.COPY_LAYER_ITEM="WORKSHOP.LAYERS.COPY_LAYER_ITEM",e.DEDICATED_LAYER="WORKSHOP.LAYERS.DEDICATED_LAYER",e.DEDICATED_LAYER_DESCRIPTION="WORKSHOP.LAYERS.DEDICATED_LAYER_DESCRIPTION",e.DEDICATED_LAYER_ITEM="WORKSHOP.LAYERS.DEDICATED_LAYER_ITEM",e.DEFAULT_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_VIEW_NAME",e.DEFAULT_INSIGHTS_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_INSIGHTS_VIEW_NAME",e.DEFAULT_TRUEPLAN_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_TRUEPLAN_VIEW_NAME",e.DEFAULT_DIGIPRO_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_DIGIPRO_VIEW_NAME",e.DEFAULT_DEFURNISH_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_DEFURNISH_VIEW_NAME",e.DELETE_COMMON_LAYER_CONFIRMATION_MESSAGE="WORKSHOP.LAYERS.DELETE_COMMON_LAYER_CONFIRMATION_MESSAGE",e.DELETE_COMMON_LAYER_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_COMMON_LAYER_MODAL_TITLE",e.DELETE_LAYER_CONFIRMATION_MESSAGE="WORKSHOP.LAYERS.DELETE_LAYER_CONFIRMATION_MESSAGE",e.DELETE_LAYER_ITEM="WORKSHOP.LAYERS.DELETE_LAYER_ITEM",e.DELETE_LAYER_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_LAYER_MODAL_TITLE",e.DELETE_VIEW_ITEM="WORKSHOP.LAYERS.DELETE_VIEW_ITEM",e.DELETE_VIEW_MODAL_MESSAGE="WORKSHOP.LAYERS.DELETE_VIEW_MODAL_MESSAGE",e.DELETE_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_VIEW_MODAL_TITLE",e.DUPLICATE_LAYER_ITEM="WORKSHOP.LAYERS.DUPLICATE_LAYER_ITEM",e.DUPLICATE_LAYER_PLACEHOLDER="WORKSHOP.LAYERS.DUPLICATE_LAYER_PLACEHOLDER",e.DUPLICATE_LAYER_TITLE="WORKSHOP.LAYERS.DUPLICATE_LAYER_TITLE",e.DUPLICATE_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.DUPLICATE_VIEW_MODAL_TITLE",e.EDIT_LAYER_TITLE="WORKSHOP.LAYERS.EDIT_LAYER_TITLE",e.EDIT_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.EDIT_VIEW_MODAL_TITLE",e.HIDDEN_LAYER_ITEM_TOOLTIP="WORKSHOP.LAYERS.HIDDEN_LAYER_ITEM_TOOLTIP",e.HIDE_LAYER="WORKSHOP.LAYERS.HIDE_LAYER",e.LAYER_ADDING_TO_CHOICE_LABEL="WORKSHOP.LAYERS.LAYER_ADDING_TO_CHOICE_LABEL",e.LAYER_ADDING_TO_LABEL="WORKSHOP.LAYERS.LAYER_ADDING_TO_LABEL",e.LAYER_TYPE_LABEL="WORKSHOP.LAYERS.LAYER_TYPE_LABEL",e.LAYER_NAME_PLACEHOLDER="WORKSHOP.LAYERS.LAYER_NAME_PLACEHOLDER",e.MOVE_LAYER_ITEM="WORKSHOP.LAYERS.MOVE_LAYER_ITEM",e.NEW_LAYER_LABEL="WORKSHOP.LAYERS.NEW_LAYER_LABEL",e.NEW_LAYER_TITLE="WORKSHOP.LAYERS.NEW_LAYER_TITLE",e.NEW_VIEW_NAME_PLACEHOLDER="WORKSHOP.LAYERS.NEW_VIEW_NAME_PLACEHOLDER",e.SHARE_THIS_VIEW="WORKSHOP.LAYERS.SHARE_THIS_VIEW",e.SHARED_ENABLED_VIEWS="WORKSHOP.LAYERS.SHARED_ENABLED_VIEWS",e.SHOW_LAYER="WORKSHOP.LAYERS.SHOW_LAYER",e.SWITCH_TO_VIEWS_LEARN_MORE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LEARN_MORE",e.SWITCH_TO_VIEWS_LIST_HEADER="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_HEADER",e.SWITCH_TO_VIEWS_LIST_ITEM_1="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_1",e.SWITCH_TO_VIEWS_LIST_ITEM_2="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_2",e.SWITCH_TO_VIEWS_LIST_ITEM_3="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_3",e.SWITCH_TO_VIEWS_LIST_ITEM_4="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_4",e.SWITCH_TO_VIEWS_TITLE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_TITLE",e.SWITCH_TO_VIEWS_USE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_USE",e.SELECTED_ITEMS="WORKSHOP.LAYERS.SELECTED_ITEMS",e.UNLAYERED_LAYER_LABEL="WORKSHOP.LAYERS.UNLAYERED_LAYER_LABEL",e.TRUEPLAN_LAYER_LABEL="WORKSHOP.LAYERS.TRUEPLAN_LAYER_LABEL",e.UNTITLED_LAYER_PLACEHOLDER="WORKSHOP.LAYERS.UNTITLED_LAYER_PLACEHOLDER",e.VIEW_DISABLED_MESSAGE="WORKSHOP.LAYERS.VIEW_DISABLED_MESSAGE",e.VIEW_DUPLICATE="WORKSHOP.LAYERS.VIEW_DUPLICATE",e.VIEW_DUPLICATE_NAME_SUFFIX="WORKSHOP.LAYERS.VIEW_DUPLICATE_NAME_SUFFIX",e.VIEW_ENABLED_MESSAGE="WORKSHOP.LAYERS.VIEW_ENABLED_MESSAGE",e.VIEW_HIDE_MESSAGE="WORKSHOP.LAYERS.VIEW_HIDE_MESSAGE",e.VIEW_PLACEHOLDER="WORKSHOP.LAYERS.VIEW_PLACEHOLDER",e.VIEW_PREVIEW="WORKSHOP.LAYERS.VIEW_PREVIEW",e.VIEW_PREVIEW_NARROW="WORKSHOP.LAYERS.VIEW_PREVIEW_NARROW",e.VIEW_SET_AS_DEFAULT="WORKSHOP.LAYERS.VIEW_SET_AS_DEFAULT",e.VIEW_IS_DEFAULT="WORKSHOP.LAYERS.VIEW_IS_DEFAULT",e.VIEW_RENAME="WORKSHOP.LAYERS.VIEW_RENAME",e.VIEW_SHOW_MESSAGE="WORKSHOP.LAYERS.VIEW_SHOW_MESSAGE",e.VIEWS_HELP="WORKSHOP.LAYERS.VIEWS_HELP"}(u=e.LAYERS||(e.LAYERS={})),function(e){e.ADD="WORKSHOP.MATTERTAGS.ADD",e.ADD_FILE="WORKSHOP.MATTERTAGS.ADD_FILE",e.ADD_MATTERTAG_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.ADD_MATTERTAG_TOOLTIP_MESSAGE",e.ADD_TAG_NUDGE="WORKSHOP.MATTERTAGS.ADD_TAG_NUDGE",e.ADD_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.ADD_TAG_TOOLTIP",e.ATTACHMENTS_LABEL="WORKSHOP.MATTERTAGS.ATTACHMENTS_LABEL",e.APPEARANCE_LABEL="WORKSHOP.MATTERTAGS.APPEARANCE_LABEL",e.BACK="WORKSHOP.MATTERTAGS.BACK",e.CANCEL_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.CANCEL_TAG_TOOLTIP",e.COLOR_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.COLOR_TOOLTIP_MESSAGE",e.DEFAULT_LIST_ITEM_TEXT="WORKSHOP.MATTERTAGS.DEFAULT_LIST_ITEM_TEXT",e.DEFAULT_TAG_TITLE="WORKSHOP.MATTERTAGS.DEFAULT_TAG_TITLE",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.MATTERTAGS.DELETE_LIST_ITEM_OPTION_CTA",e.DELETE_MATTERTAGS_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DELETE_MATTERTAGS_MODAL_MESSAGE",e.DELETE_MATTERTAGS_MODAL_TITLE="WORKSHOP.MATTERTAGS.DELETE_MATTERTAGS_MODAL_TITLE",e.DELETE_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.DELETE_TAG_TOOLTIP",e.DELETE_TAGS_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DELETE_TAGS_MODAL_MESSAGE",e.DELETE_TAGS_MODAL_TITLE="WORKSHOP.MATTERTAGS.DELETE_TAGS_MODAL_TITLE",e.DESCRIPTION_PLACEHOLDER="WORKSHOP.MATTERTAGS.DESCRIPTION_PLACEHOLDER",e.DISCARD_MATTERTAG_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DISCARD_MATTERTAG_MODAL_MESSAGE",e.DISCARD_MATTERTAG_MODAL_TITLE="WORKSHOP.MATTERTAGS.DISCARD_MATTERTAG_MODAL_TITLE",e.DROP_FILES_MESSAGE="WORKSHOP.MATTERTAGS.DROP_FILES_MESSAGE",e.EDIT_BILLBOARD_CANCEL_CTA="WORKSHOP.MATTERTAGS.EDIT_BILLBOARD_CANCEL_CTA",e.EDIT_BILLBOARD_DONE_CTA="WORKSHOP.MATTERTAGS.EDIT_BILLBOARD_DONE_CTA",e.EDIT_LIST_ITEM_OPTION_CTA="WORKSHOP.MATTERTAGS.EDIT_LIST_ITEM_OPTION_CTA",e.EDIT_TAG_TOOLTIP="WORKSHOP.MATTERTAGS.EDIT_TAG_TOOLTIP",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.HIDE_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.HIDE_TOOLTIP_MESSAGE",e.KEYWORDS_HELP_MESSAGE="WORKSHOP.MATTERTAGS.KEYWORDS_HELP_MESSAGE",e.KEYWORDS_LABEL="WORKSHOP.MATTERTAGS.KEYWORDS_LABEL",e.KEYWORDS_MAXIMUM_TOKENS_MESSAGE="WORKSHOP.MATTERTAGS.KEYWORDS_MAXIMUM_TOKENS_MESSAGE",e.KEYWORDS_PLACEHOLDER="WORKSHOP.MATTERTAGS.KEYWORDS_PLACEHOLDER",e.LINK_DISABLED_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.LINK_DISABLED_TOOLTIP_MESSAGE",e.LINK_EDITOR_APPLY_CTA="WORKSHOP.MATTERTAGS.LINK_EDITOR_APPLY_CTA",e.LINK_EDITOR_INVALID_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_INVALID_TIP",e.LINK_EDITOR_LINK_ADD_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_LINK_ADD_LABEL",e.LINK_EDITOR_LINK_EDIT_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_LINK_EDIT_LABEL",e.LINK_EDITOR_MAX_LENGTH_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_MAX_LENGTH_TIP",e.LINK_EDITOR_PREVIEW_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_PREVIEW_TIP",e.LINK_EDITOR_REMOVE_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_REMOVE_TIP",e.LINK_EDITOR_TEXT_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_TEXT_LABEL",e.LINK_EDITOR_TEXT_PLACEHOLDER="WORKSHOP.MATTERTAGS.LINK_EDITOR_TEXT_PLACEHOLDER",e.LINK_EDITOR_TIP_TEXT="WORKSHOP.MATTERTAGS.LINK_EDITOR_TIP_TEXT",e.LINK_EDITOR_URL_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_URL_LABEL",e.LINK_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.LINK_TOOLTIP_MESSAGE",e.LIST_BY_FLOOR_ALPHABETICAL_LABEL="WORKSHOP.MATTERTAGS.LIST_BY_FLOOR_ALPHABETICAL_LABEL",e.LIST_BY_FLOOR_ORDERED_LABEL="WORKSHOP.MATTERTAGS.LIST_BY_FLOOR_ORDERED_LABEL",e.LIST_IN_TAG_ORDER_LABEL="WORKSHOP.MATTERTAGS.LIST_IN_TAG_ORDER_LABEL",e.LIST_IN_TAG_TITLE_ORDER_LABEL="WORKSHOP.MATTERTAGS.LIST_IN_TAG_TITLE_ORDER_LABEL",e.LIST_SORT_TAG_ORDER="WORKSHOP.MATTERTAGS.LIST_SORT_TAG_ORDER",e.LIST_SORT_TAG_TITLE="WORKSHOP.MATTERTAGS.LIST_SORT_TAG_TITLE",e.MAX_ATTACHMENTS_MESSAGE="WORKSHOP.MATTERTAGS.MAX_ATTACHMENTS_MESSAGE",e.MEDIA_LINK_APPLY_CTA="WORKSHOP.MATTERTAGS.MEDIA_LINK_APPLY_CTA",e.MEDIA_LINK_ERROR_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_ERROR_MESSAGE",e.MEDIA_LINK_HELP_LINK="WORKSHOP.MATTERTAGS.MEDIA_LINK_HELP_LINK",e.MEDIA_LINK_INVALID_URL_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_INVALID_URL_MESSAGE",e.MEDIA_LINK_LABEL="WORKSHOP.MATTERTAGS.MEDIA_LINK_LABEL",e.MEDIA_LINK_LOADING_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_LOADING_MESSAGE",e.MEDIA_LINK_SUPPORTED_FORMATS_LINK="WORKSHOP.MATTERTAGS.MEDIA_LINK_SUPPORTED_FORMATS_LINK",e.MEDIA_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_TOOLTIP_MESSAGE",e.MOBILE_OVERLAY_MESSAGE="WORKSHOP.MATTERTAGS.MOBILE_OVERLAY_MESSAGE",e.MOBILE_REORDER_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.MOBILE_REORDER_MODAL_MESSAGE",e.MOBILE_REORDER_MODAL_TITLE="WORKSHOP.MATTERTAGS.MOBILE_REORDER_MODAL_TITLE",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.MATTERTAGS.MULTI_FLOOR_EMPTY_MESSAGE",e.NUM_TYPE="WORKSHOP.MATTERTAGS.NUM_TYPE",e.SAVE="WORKSHOP.MATTERTAGS.SAVE",e.SAVE_PROCESSING="WORKSHOP.MATTERTAGS.SAVE_PROCESSING",e.SAVE_INVALID="WORKSHOP.MATTERTAGS.SAVE_INVALID",e.SELECTED_TAGS="WORKSHOP.MATTERTAGS.SELECTED_TAGS",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_STEM_LABEL="WORKSHOP.MATTERTAGS.SHOW_STEM_LABEL",e.SHOW_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.SHOW_TOOLTIP_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.MATTERTAGS.SINGLE_FLOOR_EMPTY_MESSAGE",e.STEM_SLIDER_RESET_CTA="WORKSHOP.MATTERTAGS.STEM_SLIDER_RESET_CTA",e.STEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.STEM_TOOLTIP_MESSAGE",e.SUPPORTED_FORMATS_MESSAGE="WORKSHOP.MATTERTAGS.SUPPORTED_FORMATS_MESSAGE",e.TAG_NUM_TYPE="WORKSHOP.MATTERTAGS.TAG_NUM_TYPE",e.TAG_REORDER_ENTER_LABEL="WORKSHOP.MATTERTAGS.TAG_REORDER_ENTER_LABEL",e.TAG_REORDER_EXIT_LABEL="WORKSHOP.MATTERTAGS.TAG_REORDER_EXIT_LABEL",e.TAG_RESET_ORDER="WORKSHOP.MATTERTAGS.TAG_RESET_ORDER",e.TAG_TYPE="WORKSHOP.MATTERTAGS.TAG_TYPE",e.TAGS_EMPTY_MULTI_FLOOR_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_EMPTY_MULTI_FLOOR_MESSAGE",e.TAGS_EMPTY_SINGLE_FLOOR_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_EMPTY_SINGLE_FLOOR_MESSAGE",e.TAGS_HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.TAGS_ORDERED_BY_CUSTOM_LABEL="WORKSHOP.MATTERTAGS.TAGS_ORDERED_BY_CUSTOM_LABEL",e.TAGS_ORDERED_BY_LOCATION_LABEL="WORKSHOP.MATTERTAGS.TAGS_ORDERED_BY_LOCATION_LABEL",e.TAGS_RESET_MODAL_BODY="WORKSHOP.MATTERTAGS.TAGS_RESET_MODAL_BODY",e.TAGS_RESET_MODAL_TITLE="WORKSHOP.MATTERTAGS.TAGS_RESET_MODAL_TITLE",e.TAGS_SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.TITLE_DESC_LABEL="WORKSHOP.MATTERTAGS.TITLE_DESC_LABEL",e.TITLE_PLACEHOLDER="WORKSHOP.MATTERTAGS.TITLE_PLACEHOLDER",e.TYPE="WORKSHOP.MATTERTAGS.TYPE",e.UPLOAD_FILE="WORKSHOP.MATTERTAGS.UPLOAD_FILE",e.UPLOAD_IN_PROGRESS="WORKSHOP.MATTERTAGS.UPLOAD_IN_PROGRESS"}(d=e.MATTERTAGS||(e.MATTERTAGS={})),function(e){e.TYPE="WORKSHOP.MEASUREMENTS.TYPE",e.NUM_TYPE="WORKSHOP.MEASUREMENTS.NUM_TYPE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.OTHER_GROUP_LABEL="WORKSHOP.MEASUREMENTS.OTHER_GROUP_LABEL",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.MEASUREMENTS.RENAME_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.MEASUREMENTS.DELETE_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.MEASUREMENTS.LIST_ITEM_INPUT_PLACEHOLDER",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.MEASUREMENTS.MULTI_FLOOR_EMPTY_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.MEASUREMENTS.SINGLE_FLOOR_EMPTY_MESSAGE",e.SELECTED_MEASUREMENTS="WORKSHOP.MEASUREMENTS.SELECTED_MEASUREMENTS",e.GROSS_AREA_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.GROSS_AREA_TOOLTIP_MESSAGE"}(h=e.MEASUREMENTS||(e.MEASUREMENTS={})),function(e){e.ERROR_TITLE="WORKSHOP.MODAL.ERROR_TITLE",e.SAVING_ERROR_TITLE="WORKSHOP.MODAL.SAVING_ERROR_TITLE",e.SAVING_ERROR_MESSAGE="WORKSHOP.MODAL.SAVING_ERROR_MESSAGE",e.NO="WORKSHOP.MODAL.NO",e.YES="WORKSHOP.MODAL.YES",e.CANCEL="WORKSHOP.MODAL.CANCEL",e.OK="WORKSHOP.MODAL.OK",e.DISCARD="WORKSHOP.MODAL.DISCARD",e.DELETE="WORKSHOP.MODAL.DELETE",e.SAVE="WORKSHOP.MODAL.SAVE"}(p=e.MODAL||(e.MODAL={})),function(e){e.HAPPINESS_TITLE="WORKSHOP.MODEL_RATING.HAPPINESS_TITLE",e.HAPPINESS_BODY="WORKSHOP.MODEL_RATING.HAPPINESS_BODY",e.QUALITY_ISSUES_TITLE="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_TITLE",e.QUALITY_ISSUES_LIGHTING="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_LIGHTING",e.QUALITY_ISSUES_3D_MESH="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_3D_MESH",e.QUALITY_ISSUES_COLORING="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_COLORING",e.QUALITY_ISSUES_IMAGE_QUALITY="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_IMAGE_QUALITY",e.NAVIGATION_ISSUES_TITLE="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_TITLE",e.NAVIGATION_ISSUES_BLOCKED_DOORWAYS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_BLOCKED_DOORWAYS",e.NAVIGATION_ISSUES_OBSTRUCTIONS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_OBSTRUCTIONS",e.NAVIGATION_ISSUES_MISALIGNED_SCANS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_MISALIGNED_SCANS",e.NAVIGATION_ISSUES_FLOOR_SEPARATION="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_FLOOR_SEPARATION",e.NAVIGATION_ISSUES_DISAPPEARING_FLOORS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_DISAPPEARING_FLOORS",e.FEEDBACK_TITLE="WORKSHOP.MODEL_RATING.FEEDBACK_TITLE",e.FEEDBACK_LABEL="WORKSHOP.MODEL_RATING.FEEDBACK_LABEL",e.THANK_YOU_HEADING="WORKSHOP.MODEL_RATING.THANK_YOU_HEADING",e.THANK_YOU_BODY="WORKSHOP.MODEL_RATING.THANK_YOU_BODY",e.THANK_YOU_CTA="WORKSHOP.MODEL_RATING.THANK_YOU_CTA",e.THANK_YOU_CTA_LINK_TEXT="WORKSHOP.MODEL_RATING.THANK_YOU_CTA_LINK_TEXT",e.SAVE="WORKSHOP.MODEL_RATING.SAVE",e.NEXT="WORKSHOP.MODEL_RATING.NEXT",e.PROGRESS="WORKSHOP.MODEL_RATING.PROGRESS"}(f=e.MODEL_RATING||(e.MODEL_RATING={})),function(e){e.SEARCH_GROUP_HEADER="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_HEADER",e.SEARCH_GROUP_HIDE_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_HIDE_ALL",e.SEARCH_GROUP_SHOW_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_SHOW_ALL",e.SEARCH_GROUP_DELETE_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_DELETE_ALL",e.SEARCH_ITEM_HIDE_TOOLTIP="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_HIDE_TOOLTIP",e.SEARCH_ITEM_SHOW_TOOLTIP="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_SHOW_TOOLTIP",e.SEARCH_ITEM_EDIT="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_EDIT",e.SEARCH_ITEM_DELETE="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_DELETE",e.SHOW_ONLY_IN_SEARCH="WORKSHOP.OBJECT_TAG_SUGGESTION.SHOW_ONLY_IN_SEARCH"}(m=e.OBJECT_TAG_SUGGESTION||(e.OBJECT_TAG_SUGGESTION={})),function(e){e.TYPE="WORKSHOP.PHOTOS.TYPE",e.NUM_TYPE="WORKSHOP.PHOTOS.NUM_TYPE",e.ADD_PHOTOS_CTA="WORKSHOP.PHOTOS.ADD_PHOTOS_CTA",e.ADDING_PHOTOS_CTA="WORKSHOP.PHOTOS.ADDING_PHOTOS_CTA",e.CATURE_PHOTO="WORKSHOP.PHOTOS.CATURE_PHOTO",e.BACK_TO_PHOTOS="WORKSHOP.PHOTOS.BACK_TO_PHOTOS",e.MODAL_TITLE="WORKSHOP.PHOTOS.MODAL_TITLE",e.NUM_SELECTED="WORKSHOP.PHOTOS.NUM_SELECTED",e.SELECT_ALL_CTA="WORKSHOP.PHOTOS.SELECT_ALL_CTA",e.UNSELECT_ALL_CTA="WORKSHOP.PHOTOS.UNSELECT_ALL_CTA",e.UPDATED_TOAST_MESSAGE="WORKSHOP.PHOTOS.UPDATED_TOAST_MESSAGE",e.SAVING_TOAST_MESSAGE="WORKSHOP.PHOTOS.SAVING_TOAST_MESSAGE",e.SAVED_TOAST_MESSAGE="WORKSHOP.PHOTOS.SAVED_TOAST_MESSAGE",e.SAVED_TOAST_CTA="WORKSHOP.PHOTOS.SAVED_TOAST_CTA",e.ERROR_MODAL_TITLE="WORKSHOP.PHOTOS.ERROR_MODAL_TITLE",e.ERROR_MODAL_MESSAGE="WORKSHOP.PHOTOS.ERROR_MODAL_MESSAGE",e.CAMERA_PITCH_RESET_MESSAGE="WORKSHOP.PHOTOS.CAMERA_PITCH_RESET_MESSAGE",e.ZOOM_RESET_MESSAGE="WORKSHOP.PHOTOS.ZOOM_RESET_MESSAGE",e.ZOOM_IN_MESSAGE="WORKSHOP.PHOTOS.ZOOM_IN_MESSAGE",e.ZOOM_OUT_MESSAGE="WORKSHOP.PHOTOS.ZOOM_OUT_MESSAGE",e.CANNOT_SAVE_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_MESSAGE",e.CANNOT_SAVE_SCAN_NUMBER_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_SAVE_SCAN_NUMBER_TOOLTIP_MESSAGE",e.CANNOT_SAVE_TOOLTIP_TITLE="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_TITLE",e.CANNOT_SAVE_TOOLTIP_CTA="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_CTA",e.SETTINGS_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.SETTINGS_TOOLTIP_MESSAGE",e.ASSETS_SETTING_LABEL="WORKSHOP.PHOTOS.ASSETS_SETTING_LABEL",e.SHOW_GRID_SETTING_LABEL="WORKSHOP.PHOTOS.SHOW_GRID_SETTING_LABEL",e.SNAPSHOT_ERROR_TOAST_MESSAGE="WORKSHOP.PHOTOS.SNAPSHOT_ERROR_TOAST_MESSAGE",e.SNAPSHOT_ERROR_TOAST_CTA="WORKSHOP.PHOTOS.SNAPSHOT_ERROR_TOAST_CTA",e.PHOTO_VIEWER="WORKSHOP.PHOTOS.PHOTO_VIEWER",e.PHOTO_MODES="WORKSHOP.PHOTOS.PHOTO_MODES",e.NO_PHOTOS="WORKSHOP.PHOTOS.NO_PHOTOS",e.VIEW_PHOTOS="WORKSHOP.PHOTOS.VIEW_PHOTOS",e.UPDATE_NAME="WORKSHOP.PHOTOS.UPDATE_NAME",e.PHOTO_NAME="WORKSHOP.PHOTOS.PHOTO_NAME"}(g=e.PHOTOS||(e.PHOTOS={})),function(e){e.COLOR_NO_SELECTION_TEXT="WORKSHOP.PINS.COLOR_NO_SELECTION_TEXT",e.COLOR_STEM_EDITOR_TITLE="WORKSHOP.PINS.COLOR_STEM_EDITOR_TITLE",e.ICON_GROUP_RECENT="WORKSHOP.PINS.ICON_GROUP_RECENT",e.ICON_GROUP_IN_SPACE="WORKSHOP.PINS.ICON_GROUP_IN_SPACE",e.ICON_GROUP_PEOPLE="WORKSHOP.PINS.ICON_GROUP_PEOPLE",e.ICON_GROUP_FURNITURE="WORKSHOP.PINS.ICON_GROUP_FURNITURE",e.ICON_GROUP_BUILDINGS="WORKSHOP.PINS.ICON_GROUP_BUILDINGS",e.ICON_GROUP_OBJECTS="WORKSHOP.PINS.ICON_GROUP_OBJECTS",e.ICON_GROUP_SYMBOLS="WORKSHOP.PINS.ICON_GROUP_SYMBOLS",e.ICON_GROUP_CHARACTERS="WORKSHOP.PINS.ICON_GROUP_CHARACTERS",e.ICON_PLACEHOLDER="WORKSHOP.PINS.ICON_PLACEHOLDER",e.SEARCH_NO_RESULTS="WORKSHOP.PINS.SEARCH_NO_RESULTS",e.SEARCH_PLACEHOLDER="WORKSHOP.PINS.SEARCH_PLACEHOLDER"}(v=e.PINS||(e.PINS={})),function(e){e.NUM_TYPE="WORKSHOP.PLUGINS.NUM_TYPE",e.PANEL_TITLE="WORKSHOP.PLUGINS.PANEL_TITLE",e.SAVE_CONFIG="WORKSHOP.PLUGINS.SAVE_CONFIG",e.BACK_TO_ALL="WORKSHOP.PLUGINS.BACK_TO_ALL",e.ENABLED="WORKSHOP.PLUGINS.ENABLED",e.SAVE="WORKSHOP.PLUGINS.SAVE",e.CLOSE="WORKSHOP.PLUGINS.CLOSE"}(y=e.PLUGINS||(e.PLUGINS={})),function(e){e.ADD_LABEL="WORKSHOP.ROOMS.ADD_LABEL",e.APPLY_TO_ALL_VIEWS_ROOMS="WORKSHOP.ROOMS.APPLY_TO_ALL_VIEWS_ROOMS",e.DELETE="WORKSHOP.ROOMS.DELETE",e.AREA_IS_OUTDOORS="WORKSHOP.ROOMS.AREA_IS_OUTDOORS",e.AREA_IS_OUTDOORS_TOOLTIP="WORKSHOP.ROOMS.AREA_IS_OUTDOORS_TOOLTIP",e.ROOM_BOUNDS_SETTINGS="WORKSHOP.ROOMS.ROOM_BOUNDS_SETTINGS",e.ROOM_INACCESSIBLE_INFO="WORKSHOP.ROOMS.ROOM_INACCESSIBLE_INFO",e.ROOM_INCLUDE_IN_AREA="WORKSHOP.ROOMS.ROOM_INCLUDE_IN_AREA",e.ROOM_INCLUDE_IN_AREA_TOOLTIP="WORKSHOP.ROOMS.ROOM_INCLUDE_IN_AREA_TOOLTIP",e.ROOM_MISSING_DIMENSIONS="WORKSHOP.ROOMS.ROOM_MISSING_DIMENSIONS",e.ROOM_MISSING_HEIGHT="WORKSHOP.ROOMS.ROOM_MISSING_HEIGHT",e.DOOR_MISSING_HEIGHT="WORKSHOP.ROOMS.DOOR_MISSING_HEIGHT",e.ROOM_MISSING_INFO="WORKSHOP.ROOMS.ROOM_MISSING_INFO",e.LABEL="WORKSHOP.ROOMS.LABEL",e.RESET_TO_DEFAULT="WORKSHOP.ROOMS.RESET_TO_DEFAULT",e.SELECT="WORKSHOP.ROOMS.SELECT",e.UNDO="WORKSHOP.ROOMS.UNDO",e.NOT_AVAILABLE="WORKSHOP.ROOMS.NOT_AVAILABLE",e.NOT_SET="WORKSHOP.ROOMS.NOT_SET"}(E=e.ROOMS||(e.ROOMS={})),function(e){e.TYPE="WORKSHOP.SCANS.TYPE",e.NUM_TYPE="WORKSHOP.SCANS.NUM_TYPE",e.BATCH_SHOW_CTA="WORKSHOP.SCANS.BATCH_SHOW_CTA",e.BATCH_HIDE_CTA="WORKSHOP.SCANS.BATCH_HIDE_CTA",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.LIST_ITEM_TEXT="WORKSHOP.SCANS.LIST_ITEM_TEXT",e.FLOOR_EMPTY_MESSAGE="WORKSHOP.SCANS.FLOOR_EMPTY_MESSAGE",e.NO_HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.NO_HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.HLR_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.HLR_LIST_ITEM_TOOLTIP_MESSAGE",e.HLR_IN_OTHER_VIEWS="WORKSHOP.SCANS.HLR_IN_OTHER_VIEWS",e.START_LOCATION_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.START_LOCATION_LIST_ITEM_TOOLTIP_MESSAGE",e.START_LOCATION_SCAN_IN_OTHER_VIEWS="WORKSHOP.SCANS.START_LOCATION_SCAN_IN_OTHER_VIEWS",e.OVERLAY_HIDE_CTA="WORKSHOP.SCANS.OVERLAY_HIDE_CTA",e.OVERLAY_SHOW_CTA="WORKSHOP.SCANS.OVERLAY_SHOW_CTA",e.OVERLAY_HIDE_SCAN_CTA="WORKSHOP.SCANS.OVERLAY_HIDE_SCAN_CTA",e.OVERLAY_SHOW_SCAN_CTA="WORKSHOP.SCANS.OVERLAY_SHOW_SCAN_CTA",e.OVERLAY_PANORAMA_INFO="WORKSHOP.SCANS.OVERLAY_PANORAMA_INFO",e.OVERLAY_INFO="WORKSHOP.SCANS.OVERLAY_INFO",e.START_LOCATION_TOOLTIP_TITLE="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_TITLE",e.START_LOCATION_TOOLTIP_MESSAGE="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_MESSAGE",e.START_LOCATION_TOOLTIP_CTA="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_CTA",e.REMOVE_HLR_MODAL_TITLE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_TITLE",e.REMOVE_HLR_MODAL_MESSAGE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_MESSAGE",e.REMOVE_HLR_MODAL_BATCH_MESSAGE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_BATCH_MESSAGE",e.REMOVE_HLR_MODAL_WARNING="WORKSHOP.SCANS.REMOVE_HLR_MODAL_WARNING",e.REMOVE_SCANS_FROM_HLR_MODAL_TITLE="WORKSHOP.SCANS.REMOVE_SCANS_FROM_HLR_MODAL_TITLE",e.REMOVE_SCAN_FROM_HLR_MODAL_MESSAGE="WORKSHOP.SCANS.REMOVE_SCAN_FROM_HLR_MODAL_MESSAGE",e.REMOVE_BATCH_FROM_HLR_MODAL_SCANS_MESSAGE="WORKSHOP.SCANS.REMOVE_BATCH_FROM_HLR_MODAL_SCANS_MESSAGE",e.REMOVE_BATCH_FROM_HLR_MODAL_HIGHLIGHTS_MESSAGE="WORKSHOP.SCANS.REMOVE_BATCH_FROM_HLR_MODAL_HIGHLIGHTS_MESSAGE"}(S=e.SCANS||(e.SCANS={})),function(e){e.ADVANCED_SPACE_SEARCH_LABEL="WORKSHOP.SETTINGS.ADVANCED_SPACE_SEARCH_LABEL",e.ADVANCED_SPACE_SEARCH_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_SPACE_SEARCH_MESSAGE",e.ADVANCED_DOLLHOUSE_LABEL="WORKSHOP.SETTINGS.ADVANCED_DOLLHOUSE_LABEL",e.ADVANCED_DOLLHOUSE_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_DOLLHOUSE_MESSAGE",e.ADVANCED_FLOORPLAN_LABEL="WORKSHOP.SETTINGS.ADVANCED_FLOORPLAN_LABEL",e.ADVANCED_FLOORPLAN_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_FLOORPLAN_MESSAGE",e.ADVANCED_FLOOR_SELECTION_LABEL="WORKSHOP.SETTINGS.ADVANCED_FLOOR_SELECTION_LABEL",e.ADVANCED_FLOOR_SELECTION_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_FLOOR_SELECTION_MESSAGE",e.ADVANCED_HEADER="WORKSHOP.SETTINGS.ADVANCED_HEADER",e.ADVANCED_MEASUREMENT_MODE_LABEL="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_LABEL",e.ADVANCED_MEASUREMENT_MODE_MENU_LABEL="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_MENU_LABEL",e.ADVANCED_MEASUREMENT_MODE_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_MESSAGE",e.ADVANCED_ROOM_LABELS_LABEL="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_LABEL",e.ADVANCED_ROOM_LABELS_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_MESSAGE",e.ADVANCED_ROOM_LABELS_MENU_LABEL="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_MENU_LABEL",e.HIDE_LABELS_IN_DOLLHOUSE_OPTION="WORKSHOP.SETTINGS.HIDE_LABELS_IN_DOLLHOUSE_OPTION",e.HIDE_SAVED_MEASUREMENTS_OPTION="WORKSHOP.SETTINGS.HIDE_SAVED_MEASUREMENTS_OPTION",e.HLR_OPTION_LABEL="WORKSHOP.SETTINGS.HLR_OPTION_LABEL",e.HLR_OPTION_MESSAGE="WORKSHOP.SETTINGS.HLR_OPTION_MESSAGE",e.NAV_OPTION_ADVANCED="WORKSHOP.SETTINGS.NAV_OPTION_ADVANCED",e.NAV_OPTION_PRESENTATION="WORKSHOP.SETTINGS.NAV_OPTION_PRESENTATION",e.NAV_OPTION_TOUR_HLR="WORKSHOP.SETTINGS.NAV_OPTION_TOUR_HLR",e.NAV_OPTION_UNITS="WORKSHOP.SETTINGS.NAV_OPTION_UNITS",e.SHOW_SAVED_MEASUREMENTS_OPTION="WORKSHOP.SETTINGS.SHOW_SAVED_MEASUREMENTS_OPTION",e.SHOW_LABELS_IN_DOLLHOUSE_OPTION="WORKSHOP.SETTINGS.SHOW_LABELS_IN_DOLLHOUSE_OPTION",e.PRESENTATION_BACKGROUND_BLACK_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_BLACK_LABEL",e.PRESENTATION_BACKGROUND_GREY_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_GREY_LABEL",e.PRESENTATION_BACKGROUND_HEADER="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_HEADER",e.PRESENTATION_BACKGROUND_SUBHEADER="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_SUBHEADER",e.PRESENTATION_BACKGROUND_WHITE_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_WHITE_LABEL",e.PRESENTATION_HEADER="WORKSHOP.SETTINGS.PRESENTATION_HEADER",e.PRESENTATION_INFORMATION_EVERYTHING_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_EVERYTHING_LABEL",e.PRESENTATION_INFORMATION_EVERYTHING_MESSAGE="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_EVERYTHING_MESSAGE",e.PRESENTATION_INFORMATION_COMPACT_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_COMPACT_LABEL",e.PRESENTATION_INFORMATION_COMPACT_MESSAGE="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_COMPACT_MESSAGE",e.PRESENTATION_INFORMATION_HEADER="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_HEADER",e.PRESENTATION_INFORMATION_NONE_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_NONE_LABEL",e.ROOM_BOUNDS_TOGGLE_LABEL="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_LABEL",e.ROOM_BOUNDS_TOGGLE_MESSAGE_INFO="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_MESSAGE_INFO",e.ROOM_BOUNDS_TOGGLE_MESSAGE_DISCOVER="WORKSHOP.SETTINGS.ROOM_BOUNDS_TOGGLE_MESSAGE_DISCOVER",e.ROOM_BOUND_TOGGLE_IN_TOOL="WORKSHOP.SETTINGS.ROOM_BOUND_TOGGLE_IN_TOOL",e.TOUR_AND_HLR_HEADER="WORKSHOP.SETTINGS.TOUR_AND_HLR_HEADER",e.TOUR_DEFAULT_SETTING_LOCATION="WORKSHOP.SETTINGS.TOUR_DEFAULT_SETTING_LOCATION",e.TOUR_MODE_LEGACY_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_LEGACY_LABEL",e.TOUR_MODE_LEGACY_MESSAGE="WORKSHOP.SETTINGS.TOUR_MODE_LEGACY_MESSAGE",e.TOUR_MODE_NONE_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_NONE_LABEL",e.TOUR_MODE_STORY_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_STORY_LABEL",e.TOUR_MODE_STORY_MESSAGE="WORKSHOP.SETTINGS.TOUR_MODE_STORY_MESSAGE",e.TOUR_OPTION_LABEL="WORKSHOP.SETTINGS.TOUR_OPTION_LABEL",e.TOUR_OPTION_MESSAGE="WORKSHOP.SETTINGS.TOUR_OPTION_MESSAGE",e.UNITS_HEADER="WORKSHOP.SETTINGS.UNITS_HEADER",e.UNITS_SUBHEADER="WORKSHOP.SETTINGS.UNITS_SUBHEADER"}(b=e.SETTINGS||(e.SETTINGS={})),function(e){e.ENABLED_TOOLTIP_TITLE="WORKSHOP.START_LOCATION.ENABLED_TOOLTIP_TITLE",e.DISABLED_TOOLTIP_TITLE="WORKSHOP.START_LOCATION.DISABLED_TOOLTIP_TITLE",e.HIDDEN_SWEEP_MESSAGE="WORKSHOP.START_LOCATION.HIDDEN_SWEEP_MESSAGE",e.UNPLACED_360_MESSAGE="WORKSHOP.START_LOCATION.UNPLACED_360_MESSAGE",e.ENABLED_MESSAGE="WORKSHOP.START_LOCATION.ENABLED_MESSAGE",e.TOOLTIP_CTA="WORKSHOP.START_LOCATION.TOOLTIP_CTA",e.SET_NEW_LOCATION_CTA="WORKSHOP.START_LOCATION.SET_NEW_LOCATION_CTA",e.SETTING_NEW_LOCATION_CTA="WORKSHOP.START_LOCATION.SETTING_NEW_LOCATION_CTA",e.THUMBNAIL_PREVIEW_CTA="WORKSHOP.START_LOCATION.THUMBNAIL_PREVIEW_CTA",e.TAG_ORDER_RESET_TITLE="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_TITLE",e.TAG_ORDER_RESET_MESSAGE="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_MESSAGE",e.TAG_ORDER_RESET_HELP_LINK="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_HELP_LINK",e.TAG_ORDER_RESET_CONFIRM="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_CONFIRM",e.TAG_ORDER_RESET_CANCEL="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_CANCEL"}(O=e.START_LOCATION||(e.START_LOCATION={})),function(e){e.NUM_TYPE="WORKSHOP.TRIM.NUM_TYPE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.TRIM.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.TRIM.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.TRIM.DELETE_LIST_ITEM_OPTION_CTA",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.TRIM.RENAME_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.TRIM.LIST_ITEM_INPUT_PLACEHOLDER",e.DEFAULT_NAME="WORKSHOP.TRIM.DEFAULT_NAME",e.ALL_FLOORS="WORKSHOP.TRIM.ALL_FLOORS",e.EMPTY_FLOOR_MESSAGE="WORKSHOP.TRIM.EMPTY_FLOOR_MESSAGE",e.SIDE_POSE_CTA="WORKSHOP.TRIM.SIDE_POSE_CTA",e.TOP_POSE_CTA="WORKSHOP.TRIM.TOP_POSE_CTA",e.PERSPECTIVE_POSE_CTA="WORKSHOP.TRIM.PERSPECTIVE_POSE_CTA",e.SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.SIDE_POSE_TOOLTIP",e.LEFT_SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.LEFT_SIDE_POSE_TOOLTIP",e.RIGHT_SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.RIGHT_SIDE_POSE_TOOLTIP",e.TOP_POSE_TOOLTIP="WORKSHOP.TRIM.TOP_POSE_TOOLTIP",e.PERSPECTIVE_POSE_TOOLTIP="WORKSHOP.TRIM.PERSPECTIVE_POSE_TOOLTIP",e.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE="WORKSHOP.TRIM.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE",e.ADD_INDIVIDUAL_FLOOR_TRIM_TOOLTIP="WORKSHOP.TRIM.ADD_INDIVIDUAL_FLOOR_TRIM_TOOLTIP",e.ADD_ALL_FLOORS_TRIM_TOOLTIP="WORKSHOP.TRIM.ADD_ALL_FLOORS_TRIM_TOOLTIP",e.MAX_INDIVIDUAL_FLOOR_TRIMS_TOOLTIP="WORKSHOP.TRIM.MAX_INDIVIDUAL_FLOOR_TRIMS_TOOLTIP",e.MAX_ALL_FLOORS_TRIMS_TOOLTIP="WORKSHOP.TRIM.MAX_ALL_FLOORS_TRIMS_TOOLTIP",e.MAX_TRIMS_ERROR_MESSAGE="WORKSHOP.TRIM.MAX_TRIMS_ERROR_MESSAGE",e.KEEP_TOGGLE="WORKSHOP.TRIM.KEEP_TOGGLE",e.REMOVE_TOGGLE="WORKSHOP.TRIM.REMOVE_TOGGLE",e.TOOL_ROTATION_CTA="WORKSHOP.TRIM.TOOL_ROTATION_CTA",e.TOOL_POSITION_CTA="WORKSHOP.TRIM.TOOL_POSITION_CTA",e.TOOL_SCALE_CTA="WORKSHOP.TRIM.TOOL_SCALE_CTA",e.TOOL_ROTATION_TOOLTIP="WORKSHOP.TRIM.TOOL_ROTATION_TOOLTIP",e.TOOL_POSITION_TOOLTIP="WORKSHOP.TRIM.TOOL_POSITION_TOOLTIP",e.TOOL_SCALE_TOOLTIP="WORKSHOP.TRIM.TOOL_SCALE_TOOLTIP",e.DELETE_TRIM="WORKSHOP.TRIM.DELETE_TRIM",e.COMPLETE_TRIM="WORKSHOP.TRIM.COMPLETE_TRIM",e.ADD_TRIM="WORKSHOP.TRIM.ADD_TRIM",e.RESET_ROTATION="WORKSHOP.TRIM.RESET_ROTATION",e.HIDE_PANO_LIST_ITEM_TOOLTIP="WORKSHOP.TRIM.HIDE_PANO_LIST_ITEM_TOOLTIP",e.SHOW_PANO_LIST_ITEM_TOOLTIP="WORKSHOP.TRIM.SHOW_PANO_LIST_ITEM_TOOLTIP",e.MOVE_TRIM_ALL_FLOORS="WORKSHOP.TRIM.MOVE_TRIM_ALL_FLOORS"}(_=e.TRIM||(e.TRIM={})),function(e){e.NUM_TYPE="WORKSHOP.VIEWS_360.NUM_TYPE",e.START_LOCATION_REMOVAL_MESSAGE="WORKSHOP.VIEWS_360.START_LOCATION_REMOVAL_MESSAGE",e.START_LOCATION_MARKER_MESSAGE="WORKSHOP.VIEWS_360.START_LOCATION_MARKER_MESSAGE",e.START_LOCATION_IN_OTHER_VIEWS="WORKSHOP.VIEWS_360.START_LOCATION_IN_OTHER_VIEWS",e.DEFAULT_NAME="WORKSHOP.VIEWS_360.DEFAULT_NAME",e.OVERLAY_MESSAGE="WORKSHOP.VIEWS_360.OVERLAY_MESSAGE",e.OVERLAY_INFO_MISSING_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_MISSING_SWEEP",e.OVERLAY_INFO_CURRENT_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_CURRENT_SWEEP",e.OVERLAY_INFO_SELECTED_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_SELECTED_SWEEP",e.ROTATE_TOOLTIP_TITLE="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_TITLE",e.ROTATE_TOOLTIP_MESSAGE="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_MESSAGE",e.ROTATE_TOOLTIP_CTA="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_CTA",e.UNPLACED_CARD_MESSAGE="WORKSHOP.VIEWS_360.UNPLACED_CARD_MESSAGE",e.RENAME_ITEM_OPTION_CTA="WORKSHOP.VIEWS_360.RENAME_ITEM_OPTION_CTA",e.REMOVE_ITEM_OPTION_CTA="WORKSHOP.VIEWS_360.REMOVE_ITEM_OPTION_CTA",e.NO_VIEWS_MESSAGE="WORKSHOP.VIEWS_360.NO_VIEWS_MESSAGE"}(T=e.VIEWS_360||(e.VIEWS_360={})),function(e){e.TOAST_MESSAGE="WORKSHOP.VR.TOAST_MESSAGE",e.TOAST_CTA="WORKSHOP.VR.TOAST_CTA"}(A=e.VR||(e.VR={})),function(e){e.DEFURN_BULLET1="DEFURN_BULLET1",e.DEFURN_BULLET2="DEFURN_BULLET2",e.DEFURN_BULLET3="DEFURN_BULLET3",e.DEFURN_BULLET4="DEFURN_BULLET4",e.DEFURN_COMPLETE_TEXT1="DEFURN_COMPLETE_TEXT1",e.DEFURN_COMPLETE_TEXT2="DEFURN_COMPLETE_TEXT2",e.DEFURN_COMPLETE_TITLE="DEFURN_COMPLETE_TITLE",e.DEFURN_CONTACT_SUPPORT="DEFURN_CONTACT_SUPPORT",e.DEFURN_ERR_CONTACT="DEFURN_ERR_CONTACT",e.DEFURN_ERR_PERMS="DEFURN_ERR_PERMS",e.DEFURN_ERR_QUOTA="DEFURN_ERR_QUOTA",e.DEFURN_ERR_SETTINGS="DEFURN_ERR_SETTINGS",e.DEFURN_ERR_TITLE="DEFURN_ERR_TITLE",e.DEFURN_ERR_UNKNOWN="DEFURN_ERR_UNKNOWN",e.DEFURN_ERR_MODEL_VERSION_UNSUPPORTED="DEFURN_ERR_MODEL_VERSION_UNSUPPORTED",e.DEFURN_FEEDBACK="DEFURN_FEEDBACK",e.DEFURN_RATING_TITLE="DEFURN_RATING_TITLE",e.DEFURN_RATING_CONTENT="DEFURN_RATING_CONTENT",e.DEFURN_LOCKED_CTA="DEFURN_LOCKED_CTA",e.DEFURN_LOCKED_QUOTA="DEFURN_LOCKED_QUOTA",e.DEFURN_LOCKED_QUOTA2="DEFURN_LOCKED_QUOTA2",e.DEFURN_MODE_BUTTON="DEFURN_MODE_BUTTON",e.DEFURN_MODE_BUTTON_ACTIVE="DEFURN_MODE_BUTTON_ACTIVE",e.DEFURN_MORE="DEFURN_MORE",e.DEFURN_NEXT_TEXT1="DEFURN_NEXT_TEXT1",e.DEFURN_NEXT_TEXT2="DEFURN_NEXT_TEXT2",e.DEFURN_NEXT_TEXT3="DEFURN_NEXT_TEXT3",e.DEFURN_NEXT_TEXT4="DEFURN_NEXT_TEXT4",e.DEFURN_NEXT_TEXT5="DEFURN_NEXT_TEXT5",e.DEFURN_NEXT_TITLE="DEFURN_NEXT_TITLE",e.DEFURN_NUDGE_NEW="DEFURN_NUDGE_NEW",e.DEFURN_NUDGE_TEXT="DEFURN_NUDGE_TEXT",e.DEFURN_NUDGE_TITLE="DEFURN_NUDGE_TITLE",e.DEFURN_SETTINGS="DEFURN_SETTINGS",e.DEFURN_SETTINGS_VIEW="DEFURN_SETTINGS_VIEW",e.DEFURN_SETTINGS_DEFAULT_VIEW="DEFURN_SETTINGS_DEFAULT_VIEW",e.DEFURN_TEXT1="DEFURN_TEXT1",e.DEFURN_TEXT2="DEFURN_TEXT2",e.DEFURN_TITLE="DEFURN_TITLE",e.DEFURN_TOOL_HEADER="DEFURN_TOOL_HEADER",e.DEFURN_UNLOCKED_CANCEL="DEFURN_UNLOCKED_CANCEL",e.DEFURN_UNLOCKED_CTA="DEFURN_UNLOCKED_CTA",e.DEFURN_UNLOCKED_NOTIFY="DEFURN_UNLOCKED_NOTIFY"}(w=e.DEFURNISH||(e.DEFURNISH={}))}(m=e.WORKSHOP||(e.WORKSHOP={}))}(i||(i={}));const r=i},23339:(e,t,n)=>{"use strict";var i;function r(e){return e.match(/us|mm|lr$/i)?i.IMPERIAL:i.METRIC}n.d(t,{B:()=>r,t:()=>i}),function(e){e.IMPERIAL="imperial",e.METRIC="metric"}(i||(i={}))},72347:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,z:()=>r});var i=n(43306);function r(e){if(!e)return i.Nm;if(o(e))return e;const t=e.toLocaleLowerCase();if(t in i.e4)return i.e4[t];const[n]=t.split("-");return n in i.e4?i.e4[n]:(i.Fc.find((e=>e.startsWith(t))),i.Nm)}function o(e){return i.Fc.includes(e)}},39869:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var i=n(96540),r=n(77570);function o(){return(0,i.useContext)(r.B).locale}},95404:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n(75578),r=n(90082),o=n(14682),s=n.n(o),a=n(43306);async function l(e,t,n="./",i="json"){const r=function(e,t="./",n="json"){return e===a.Nm?`${t}locale/strings.${n}`:`${t}locale/messages/strings_${e}.${n}`}(e,n,i),o=await t.get(r);if("json"===i)return JSON.parse(o);throw new Error(`${i} not implemented`)}var c=n(64491),u=n(91669),d=n(75778),h=n(72347);var p=n(25316);var f=n(93818),m=n(56147),g=n(10843);const v=e=>e.replace(/-/g,"_").toUpperCase();class y extends i.n{constructor(){super(...arguments),this.name="locale"}async init(e,t){const n=await t.market.waitForData(p.o);this._languageCode=function(e,t=(0,d.P3)("lang","")){const n=(0,c.Ul)(),i=(0,u.G)("SESSvl",""),r=null!=i?i:"",o=""===r||-1!==r.search(/^en/),s=t||(e?o?n:r:n);return(0,h.z)(s)}(e.isLoggedIn,n.getOverrideParam("lang",""));const i=this._languageCode.substr(0,2);this.polyglot=new(s())({locale:i,interpolation:{prefix:"%{",suffix:"}"},onMissingKey:e=>(g.Ay.for(this).warn("Missing phrase key:"+e),y.missingPrefix+e)});const o=(await t.getModuleBySymbol(r.ZF)).getProperty("assetBasePath"),f=await async function(e,t,n="./",i="json"){const r=await l(e,t,n,i);if(e===a.Nm)return r;const o=await l(a.Nm,t,n,i);return Object.assign(Object.assign({},o),r)}(this._languageCode,e.queue,o);this.polyglot.extend(f),this.localizeUnitsDisplay(),this.registerSettings(t)}t(e,t){return this.polyglot.t(e,t)}T(e,t,n="PLUGIN_KEYS",i){const r=t?`${n}.${v(t)}.${e}`:`${n}.${v(e)}`;return this.has(r)?this.t(r,i):t?t.replace(/-/g," ").split(" ").filter((e=>e.length>0)).map((e=>e[0].toUpperCase()+e.substr(1).toLowerCase())).join(" "):this.t(r,i)}has(e){return this.polyglot.has(e)}get languageCode(){return this._languageCode}localizeUnitsDisplay(){(0,f.LB)({unitsDisplayFeetSymbol:this.t(m.A.UNITS_DISPLAY.FEET_SYMBOL),unitsDisplayInchesSymbol:this.t(m.A.UNITS_DISPLAY.INCHES_SYMBOL),unitsDisplayHalfSpace:this.t(m.A.UNITS_DISPLAY.HALF_SPACE),unitsDisplayFeet:this.t(m.A.UNITS_DISPLAY.FEET),unitsDisplayInches:this.t(m.A.UNITS_DISPLAY.INCHES),unitsDisplayMeters:this.t(m.A.UNITS_DISPLAY.METERS),unitsDisplaySquareFeet:this.t(m.A.UNITS_DISPLAY.SQUARE_FEET),unitsDisplaySquareMeters:this.t(m.A.UNITS_DISPLAY.SQUARE_METERS),dimensionsSeparator:this.t(m.A.UNITS_DISPLAY.DIMENSIONS_SEPARATOR)})}async registerSettings(e){(await e.getModuleBySymbol(r.ZF)).registerSetting("Locale",a.cU,this.languageCode,!1)}}y.missingPrefix="FIX-"},43306:(e,t,n)=>{"use strict";n.d(t,{Fc:()=>i,Nm:()=>r,cU:()=>s,e4:()=>o});const i=["en-US","es","fr","de","ru","ja","zh-CN","zh-TW","ko","nl","it","pt"],r="en-US",o=Object.assign(Object.assign({},i.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.toLowerCase()]:t})),{})),{en:"en-US",zh:"zh-CN",cn:"zh-CN",jp:"ja"}),s="language_code"},26655:(e,t,n)=>{"use strict";var i;n.d(t,{J:()=>i}),function(e){e[e.NAVIGATION=0]="NAVIGATION",e[e.MODEL=1]="MODEL",e[e.EXT_LINK=2]="EXT_LINK"}(i||(i={}));i.NAVIGATION,i.MODEL,i.EXT_LINK},35956:(e,t,n)=>{"use strict";n.d(t,{Q:()=>u});var i=n(68909),r=n(38069),o=n(50636),s=n(26348),a=n(85616),l=n(12554),c=n(57416);class u extends a.v{constructor(e){super(),this.sid="",this.layerId="",this.created=new Date,this.modified=new Date,this.enabled=!0,this.label="",this.description="",this.parsedDescription=[],this.anchorPosition=new i.Vector3,this.anchorNormal=new i.Vector3(0,1,0),this.stemVector=new i.Vector3(0,0,(0,s.hV)(1)),this.stemHeight=(0,s.hV)(1),this.stemVisible=!0,this.fileAttachments=new l.X,this.externalAttachments=new l.X,this.sandboxAttachments=new l.X,this.color=(new c.I).setFromLinearColor(r.V.MATTERTAG_BLUE),this.mediaType=o.q.none,this.mediaSrc="",this.keywords=new l.X,e&&Object.assign(this,e)}copy(e){var t;this.anchorNormal.copy(e.anchorNormal),this.anchorPosition.copy(e.anchorPosition),this.color.copy(e.color),this.created.setTime(e.created.getTime()),this.description=e.description,this.enabled=e.enabled,this.layerId=e.layerId,this.floorId=e.floorId,this.roomId=e.roomId,this.label=e.label,this.mediaType=e.mediaType,this.mediaSrc=e.mediaSrc,this.modified.setTime(e.modified.getTime()),this.sid=e.sid,this.stemVector.copy(e.stemVector),this.stemHeight=e.stemHeight,this.stemVisible=e.stemVisible,this.fileAttachments=e.fileAttachments,this.externalAttachments=e.externalAttachments,this.sandboxAttachments=e.sandboxAttachments,this.objectAnnotationId=e.objectAnnotationId,this.keywords.replace(e.keywords.values()),this.icon=e.icon,this.scanLinks=null===(t=e.scanLinks)||void 0===t?void 0:t.slice(),this.parsedDescription=[];for(const t of e.parsedDescription)this.parsedDescription.push({link:t.link&&{label:t.link.label.slice(),url:t.link.url.slice(),type:t.link.type,navigationData:t.link.navigationData&&{floorVisibility:t.link.navigationData.floorVisibility,mode:t.link.navigationData.mode,sweepIndex:t.link.navigationData.sweepIndex,panoId:t.link.navigationData.panoId,position:t.link.navigationData.position&&t.link.navigationData.position.clone(),quaternion:t.link.navigationData.quaternion.clone(),zoom:t.link.navigationData.zoom}},text:t.text,type:t.type});return this.commit(),this}clone(){return(new u).copy(this)}refresh(e){this.fileAttachments.forEach((t=>{var n,i;const r=e[t.id];r&&(null===(n=t.thumbnailUrl)||void 0===n||n.refreshFrom(r.thumbnailUrl),t.url.refreshFrom(r.url),null===(i=t.downloadUrl)||void 0===i||i.refreshFrom(r.downloadUrl))}))}getPin(){const{anchorPosition:e,color:t,stemVisible:n,floorId:i,roomId:r,layerId:o,stemVector:s,stemHeight:a,icon:l}=this;return{anchorPosition:e,color:t.getHexString(),icon:l,layerId:o,floorId:i,roomId:r,stemEnabled:n,stemNormal:s,stemLength:a}}updateFromOptions(e,t,n){void 0!==e.color&&(this.color=(new c.I).copy(e.color)),void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.stemHeight&&(this.stemHeight=e.stemHeight,this.stemVector.copy(this.anchorNormal).setLength(e.stemHeight)),void 0!==e.stemVisible&&(this.stemVisible=e.stemVisible),void 0!==e.label&&(this.label=e.label.slice()),void 0!==e.description&&(this.description=e.description,this.parsedDescription=t.parse(this.description,n)),void 0!==e.floorId&&(this.floorId=e.floorId),void 0!==e.roomId&&(this.roomId=e.roomId),void 0!==e.normal&&(this.anchorNormal.copy(e.normal).normalize(),this.stemVector.copy(e.normal).setLength(this.stemHeight)),void 0!==e.position&&this.anchorPosition.copy(e.position),void 0!==e.keywords&&this.keywords.replace(e.keywords),Object.prototype.hasOwnProperty.call(e,"icon")&&(this.icon=e.icon),void 0!==e.objectAnnotationId&&(this.objectAnnotationId=e.objectAnnotationId)}}},50636:(e,t,n)=>{"use strict";var i;n.d(t,{q:()=>i}),function(e){e.text="text",e.link="link",e.photo="photo",e.video="video",e.rich="rich",e.none="none",e.error="error"}(i||(i={})),function(e){e.parse=t=>null!==t&&t in e?e[t]:e.none}(i||(i={}))},96437:(e,t,n)=>{"use strict";n.d(t,{Ee:()=>c,HI:()=>r,aw:()=>o,l:()=>s,nO:()=>l,rn:()=>a,vZ:()=>u});var i=n(55141);class r extends i.u{constructor(e){super(),this.payload={tags:e}}}r.id="MATTERTAG_DISC_POSITIONS";class o extends i.u{constructor(e){super(),this.payload=e}}o.id="ADD_MATTERTAG";class s extends i.u{constructor(e){super(),this.payload={sid:e}}}s.id="DELETE_MATTERTAG";class a extends i.u{constructor(e,t,n,i){super(),this.payload={sid:e,standardOptions:t,mediaOptions:n,positionOptions:i}}}a.id="MATTERTAG_EDIT";class l extends i.u{constructor(e,t,n){super(),this.payload={sid:e,attachmentOptions:t,operation:n}}}l.id="MATTERTAG_EDIT_ATTACHMENTS",function(e){let t;!function(e){e[e.ADD=1]="ADD",e[e.REPLACE=2]="REPLACE"}(t=e.Operation||(e.Operation={}))}(l||(l={}));class c extends i.u{constructor(e,t,n=[],i){super(),this.payload={id:e,properties:t,fileAttachments:n,embed:i}}}c.id="MATTERTAG_NEW_SAVE";class u extends i.u{constructor(e,t,n=[],i=[],r){super(),this.payload={id:e,properties:t,pendingAttachments:n,removedAttachments:i,embed:r}}}u.id="MATTERTAG_SAVE"},29479:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var i=n(84710),r=n(56413),o=n(2803);class s extends i.B{constructor(e){if(super(),this.name="tag",this.mattertags=(0,r.y)(),e)for(const t of e)this.mattertags.set(t.sid,t);this.commit()}clear(){for(const e of this.mattertags.keys)this.removeTag(e)}clone(){return(new s).copy(this)}copy(e){return s.copyTagCollection(this,e),this}static copyTagCollection(e,t){const n=e.mattertags,i=t.mattertags;for(const t of n.keys)i.has(t)||e.removeTag(t);for(const t of i)e.addTag(t)}get collection(){return this.mattertags}addTag(e){this.mattertags.has(e.sid)?this.mattertags.get(e.sid).copy(e):this.mattertags.set(e.sid,e.clone())}removeTag(e){return this.mattertags.delete(e)}getTag(e){return this.mattertags.get(e)}getTagList(){return this.mattertags.keys}getTagCount(){return this.mattertags.length}getTagKeywords(){let e=[];return this.iterate((t=>{t.enabled&&t.keywords.length&&(e=e.concat(t.keywords.values()))})),e}iterate(e){for(const t of this.mattertags)e(t)}*[Symbol.iterator](){for(const e of this.mattertags)yield e}set onStale(e){this.hydrate=e}updateOnStaleCallbacks(e){if(!this.hydrate)return;const t=e?this.getTag(e):this.mattertags;(0,o._)(t,(async()=>{const e=await this.hydrate();this.iterate((t=>{t.refresh(e)}))}))}}},80419:(e,t,n)=>{"use strict";n.d(t,{Qn:()=>o,T8:()=>s,Yt:()=>r});var i=n(89103);class r extends i.QB{constructor(e){super(),this.sid=e}}class o extends i.QB{constructor(e){super(),this.url=e}}class s extends i.QB{constructor(e,t){super(),this.sid=e,this.view=t}}},75522:(e,t,n)=>{"use strict";n.d(t,{qE:()=>i,vg:()=>r});const i="features/mattertags",r="embedlyKey"},57416:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var i=n(3249),r=n(68909);const o=new r.Color;class s{constructor(e=0,t=0,n=0){this.r=e,this.g=t,this.b=n}set(e,t,n){return this.r=e,this.g=n,this.b=t,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setHexString(e){if("string"!=typeof(t=e)||4!==t.length&&7!==t.length||!/^#([0-9a-f]{3}){1,2}$/i.test(t))throw new Error("Invalid hex color");var t;const n=e.substring(1);return 3===n.length?this.set(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15):6===n.length?this.setHex(parseInt(n,16)):this}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}getHexString(){return"#"+("000000"+this.getHex().toString(16)).slice(-6)}getHex(){return 65536*Math.round((0,i.qE)(255*this.r,0,255))+256*Math.round((0,i.qE)(255*this.g,0,255))+Math.round((0,i.qE)(255*this.b,0,255))}setFromLinearColor(e){return o.copy(e).convertLinearToSRGB(),this.r=o.r,this.g=o.g,this.b=o.b,this}}},81483:(e,t,n)=>{"use strict";n.d(t,{P:()=>m,V:()=>g});var i=n(74381),r=n(81587),o=n(10843),s=n(86866),a=n(68909),l=n(24675),c=n(35956),u=n(25481),d=n(44094),h=n(85275),p=n(87314);const f=new o.Ay("mds-mattertag-serializer");class m{constructor(e,t){this.fileAttachmentDeserializer=e,this.externalAttachmentDeserializer=t}deserialize(e){var t,n;if(!e||!this.validate(e))return f.debug("Deserialized invalid Mattertag data from MDS",e),null;const i=e.anchorPosition?s.U$.fromVisionVector(e.anchorPosition):void 0,o=e.stemNormal?s.U$.fromVisionVector(e.stemNormal):void 0,h=new c.Q;if(h.sid=e.id,h.layerId=(null===(t=e.layer)||void 0===t?void 0:t.id)||"",h.label=e.label||"",h.description=e.description||"",h.enabled=!!e.enabled,e.color&&h.color.setHexString(e.color),h.created=(0,r.X)(e.created),h.modified=(0,r.X)(e.modified),e.floor&&e.floor.id&&(h.floorId=e.floor.id),e.room&&e.room.id&&(h.roomId=e.room.id),i&&(h.anchorPosition=i),e.media&&(h.mediaSrc=e.media),e.mediaType&&(h.mediaType=(0,l.og)(e.mediaType)),h.fileAttachments.replace(this.getFileAttachments(h,e)),h.externalAttachments.replace(this.getExternalAttachments(h,e)),(0,u.Et)(e.stemLength)&&(h.stemHeight=e.stemLength),o&&o instanceof a.Vector3){const t=o.clone().setLength(h.stemHeight);h.anchorNormal=o,h.stemVector=t,h.stemVisible=!!e.stemEnabled}else h.stemVector=new a.Vector3(0,0,0),h.stemVisible=!!e.stemEnabled;return h.objectAnnotationId=null===(n=e.objectAnnotation)||void 0===n?void 0:n.id,h.keywords.replace(e.keywords||[]),(0,d.s)(e.icon)&&(h.icon=e.icon),h}validate(e){if(!e)return!1;return["id","created","modified","enabled"].every((t=>t in e))}getFileAttachments(e,t){return this.fileAttachmentDeserializer?this.deserializeFileAttachments(t).sort(((e,t)=>e.created.getTime()-t.created.getTime())):[]}getExternalAttachments(e,t){if(!this.externalAttachmentDeserializer)return[];const n=this.deserializeExternalAttachments(t);if(t.media&&t.mediaType){const i=(0,l.sM)(e.sid,t.media,t.mediaType);i&&n.push(i)}return n.sort(((e,t)=>e.created.getTime()-t.created.getTime()))}deserializeExternalAttachments(e){const t=e.externalAttachments||[],n=[];return t.forEach((t=>{var r;const o=null===(r=this.externalAttachmentDeserializer)||void 0===r?void 0:r.deserialize(t);o&&(o.parentId=e.id,o.parentType=i.pi.MATTERTAG,n.push(o))})),n}deserializeFileAttachments(e){const t=e.fileAttachments||[],n=[];return t.forEach((t=>{var r;const o=null===(r=this.fileAttachmentDeserializer)||void 0===r?void 0:r.deserialize(t);o&&(o.parentId=e.id,o.parentType=i.pi.MATTERTAG,n.push(o))})),n}}const g=function(){const e=(0,h.V)(),t=(0,p.Y)();return new m(e,t)}},24675:(e,t,n)=>{"use strict";n.d(t,{KP:()=>u,n4:()=>d,og:()=>c,sM:()=>p});var i=n(50636),r=n(3795),o=n(30740),s=n(25712),a=n(2803),l=n(61430);function c(e){const t={[l.yg.VIDEO]:i.q.video,[l.yg.PHOTO]:i.q.photo,[l.yg.RICH]:i.q.rich};return e in t?t[e]:i.q.none}function u(e){switch(e){case r.zu.VIDEO:return i.q.video;case r.zu.IMAGE:return i.q.photo;case r.zu.RICH:return i.q.rich}return i.q.none}function d(e){switch(e){case i.q.video:return l.yg.VIDEO;case i.q.photo:return l.yg.PHOTO;case i.q.rich:return l.yg.RICH}return null}function h(e){return{[l.yg.VIDEO]:r.zu.VIDEO,[l.yg.PHOTO]:r.zu.IMAGE,[l.yg.RICH]:r.zu.RICH}[e]}function p(e,t,n){return t?new o.o({id:(0,s.W0)(),created:new Date,parentId:e,parentType:l.pi.MATTERTAG,mediaType:h(n),src:t,url:new a.f(t,null),thumbnailUrl:new a.f(t,null),category:r._A.EXTERNAL}):null}},28454:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var i=n(84710),r=n(41535),o=n(95330),s=n(3066);class a extends i.B{constructor(){super(...arguments),this.name="measure-mode",this._groups=[],this._groupMap={},this.onDataChangedCallbacks=new Set,this._editingGroupId=null,this._creatingGroupId=null,this.phase=r.hb.CLOSED,this.pressProgress=-1,this.selectedGroupIndexObservable=new o.L(-1),this.pointPositionObservable=new o.L(null),this.idVisibility=new Set}onPhaseChanged(e){return this.onPropertyChanged("phase",e)}onDataChanged(e){return(0,s.Sh)((()=>this.onDataChangedCallbacks.add(e)),(()=>this.onDataChangedCallbacks.delete(e)),!0)}onPointPositionChanged(e){return this.pointPositionObservable.onChanged(e)}onSelectedGroupIndexChanged(e){return this.selectedGroupIndexObservable.onChanged(e)}modeActive(){return this.phase!==r.hb.CLOSED}isEditingOrCreating(){return this.phase>=r.hb.EDITING}*groups(){for(const e of this._groups)yield e}get selectedGroupSid(){const e=this.selectedGroupInfo;return e&&e.info.sid?e.info.sid:null}get selectedGroupInfo(){return-1===this.selectedGroupIndex?null:this.getGroupInfo(this.selectedGroupIndex)}get creatingGroupId(){return this._creatingGroupId}set creatingGroupId(e){this._creatingGroupId=e}get editingGroupId(){return this._editingGroupId}set editingGroupId(e){this._editingGroupId=e}get groupCount(){return this._groups.length}get pointPosition(){return this.pointPositionObservable.value}get selectedGroupIndex(){return this.selectedGroupIndexObservable.value}getGroupInfo(e){return e<0||e>=this._groups.length?null:this._groups[e]}getGroupInfoBySid(e){return e?this._groupMap[e]:null}setPhase(e){this.phase!==e&&(this.phase=e,this.commit())}notifyDataChanged(){this.onDataChangedCallbacks.forEach((e=>e()))}setPointPosition(e){this.pointPositionObservable.value=e}setSelectedGroupIndex(e){this.selectedGroupIndexObservable.value=e}repopulate(e){this.clear();for(const t of e){const e=t.clone();this._groups.push(e),this._groupMap[t.info.sid]=e}this.notifyDataChanged()}clear(){this._groups=[],this._groupMap={}}}},41535:(e,t,n)=>{"use strict";var i;n.d(t,{TI:()=>r,Vk:()=>o,hb:()=>i,nm:()=>a,y_:()=>s}),function(e){e[e.CLOSED=0]="CLOSED",e[e.IDLE=1]="IDLE",e[e.EDITING=2]="EDITING",e[e.CREATING=3]="CREATING",e[e.POINT_PLACED=4]="POINT_PLACED",e[e.CREATING_NEXT_POINT=5]="CREATING_NEXT_POINT",e[e.CONFIRMING_POINT=6]="CONFIRMING_POINT"}(i||(i={}));const r={mobile:{[i.POINT_PLACED]:!0,[i.EDITING]:!0},desktop:{[i.CREATING]:!0,[i.CREATING_NEXT_POINT]:!0,[i.EDITING]:!0}},o={mobile:{[i.CREATING_NEXT_POINT]:!0,[i.POINT_PLACED]:!0,[i.EDITING]:!0},desktop:{[i.CREATING]:!0,[i.CREATING_NEXT_POINT]:!0,[i.EDITING]:!0}},s={[i.IDLE]:!0,[i.EDITING]:!0},a={[i.IDLE]:!0,[i.EDITING]:!0}},98159:(e,t,n)=>{"use strict";n.d(t,{CN:()=>s,SH:()=>r,tm:()=>o});var i=n(55141);class r extends i.u{}r.id="MEASUREMENT_DELETE_SELECTED";class o extends i.u{constructor(e){super(),this.payload={index:e}}}o.id="MEASUREMENT_DELETE";class s extends i.u{constructor(...e){super(),this.payload={sids:e}}}s.id="MEASUREMENT_LIST_DELETION"},3071:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var i=n(55141);class r extends i.u{constructor(e,t,n=!0){super(),this.payload={on:e,dimWhileActive:void 0!==t?t:e,editable:n}}}r.id="MEASURE_MODE_TOGGLE"},8774:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var i=n(55141);class r extends i.u{}r.id="MEASURE_START"},87951:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var i=n(55141);class r extends i.u{constructor(e){super(),this.payload={index:e}}}r.id="MEASUREMENT_SELECT"},5320:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var i=n(55141);class r extends i.u{}r.id="MEASURE_STOP"},95221:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var i=n(98236),r=n(28454);const o=(0,i.v)(r.s)},95846:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var i=n(96540),r=n(95221);function o(e){const t=(0,r.g)(),[n,o]=(0,i.useState)((null==t?void 0:t.getGroupInfoBySid(e))||null);return(0,i.useEffect)((()=>{if(!t)return()=>{};function n(){o((null==t?void 0:t.getGroupInfoBySid(e))||null)}const i=t.onDataChanged(n);return n(),()=>i.cancel()}),[t,e]),n}},89395:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var i=n(96540),r=n(95221);function o(){const e=(0,r.g)(),[t,n]=(0,i.useState)(e?e.selectedGroupSid:null);return(0,i.useEffect)((()=>{if(!e)return()=>{};function t(){e&&n(e.selectedGroupSid)}const i=e.onSelectedGroupIndexChanged(t);return t(),()=>i.cancel()}),[e]),t}},38039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i="features/measurements-nudge"},94:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(89103);class r extends i.QB{constructor(e,t){super(),this.sid=e,this.vrSupported=t}}},55057:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var i=n(84710),r=n(56413);class o extends i.B{constructor(){super(),this.name="model",this.assetsMap=new r.E}get model(){return this._model}setModel(e){this._model=e}addModelAssets(e,t){this.activeAssetsId||(this.activeAssetsId=e),this.assetsMap.set(e,t)}getModelAssets(e=this.activeAssetsId){return this.assetsMap.get(e)}hasModelAssets(e){return this.assetsMap.has(e)}}},35404:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>o,k5:()=>c,ov:()=>a,qu:()=>s,tQ:()=>u,wD:()=>r,wx:()=>l});var i=n(75778);const r="social_sharing",o="branding_enabled",s="presentation_mls_mode",a="presentation_title",l="presentation_about",c="discover_space_url",u={urlTemplateToken:"<file>",urlTemplateOverride:(0,i.P3)("tiledtemplate",null)}},5984:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var i=n(37458),r=n(68909);class o extends r.Mesh{constructor(){super(...arguments),this.isModelMesh=!0,this.raycastEnabled=!0}get picking2DPriority(){return i.X.default}}},90572:(e,t,n)=>{"use strict";var i;n.d(t,{R:()=>i}),function(e){e[e.NONE=0]="NONE",e[e.RAYCAST=1]="RAYCAST"}(i||(i={}))},22278:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var i=n(68909),r=n(84710);const o=[-5,-5,-5,5,5,5];class s extends r.B{get meshGroups(){return this._meshGroups}constructor(e=o,t=o,n=new i.Vector3){super(),this.name="mesh-data",this.extendedBounds=new i.Box3,this.extendedSize=new i.Vector3,this.meshBounds=new i.Box3,this.meshCenter=new i.Vector3,this.centerOfMass=new i.Vector3,this.meshSize=new i.Vector3,this.meshRadius=0,this.maxPlacementRadius=0,this._meshGroups={floors:new Map,rooms:new Map,roomsByFloor:new Map},this.meshSubGroupsFromPoint=e=>{const t=[];for(const[n,i]of this.meshGroups.rooms)i.boundingBox.containsPoint(e)&&t.push(n);return t},this.meshBounds.setFromArray(e),this.meshBounds.getCenter(this.meshCenter),this.meshBounds.getSize(this.meshSize),this.meshRadius=this.meshSize.clone().multiplyScalar(.5).length(),this.maxPlacementRadius=3*this.meshRadius,this.extendedBounds.setFromArray(t),this.extendedBounds.getSize(this.extendedSize),this.centerOfMass.copy(n)}}},596:(e,t,n)=>{"use strict";var i;n.d(t,{M:()=>i}),function(e){e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.HIGH=3]="HIGH",e[e.ULTRA=4]="ULTRA"}(i||(i={}))},44345:(e,t,n)=>{"use strict";n.d(t,{EX:()=>r,Gf:()=>s,Ny:()=>a,qZ:()=>o});var i=n(89103);class r extends i.QB{constructor(e,t){super(),this.loaded=e,this.total=t}}class o extends i.QB{}class s extends i.QB{}class a extends i.QB{}},47299:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o,Vp:()=>l,_Z:()=>s,lg:()=>c,sz:()=>a,u7:()=>u,vz:()=>d,xT:()=>r});var i=n(75778);const r={debugLOD:(0,i.P3)("debuglod",!1),debugRttQuality:(0,i.P3)("debugQuality",!1),debugRttScores:(0,i.P3)("debugScores",!1),debugRttClear:(0,i.P3)("debuglodrtt",!0),debugPauseTexStream:(0,i.P3)("textureStreamPause",!1),sightingMaxAge:(0,i.P3)("meshSightingMaxAge",600),textureTileSize:(0,i.P3)("chunkTileSize",512)},o=r,s="wireframeEnabled",a="features/tiled_mesh",l="Trim floor by(%)",c=0,u={FADE_OPAQUE:1,FADE_ABOVE:.05,FADE_BELOW:.2,FADE_TILE_VISIBLE_THRESHOLD:.6,FADE_CLICKABLE_THRESHOLD:.051,FADE_IN_VALUE:.2,FADE_IN_END_ANGLE:55,FADE_IN_START_ANGLE:35,FADE_IN_HOVER_BOOST_VALUE:.3,FADE_BELOW_START:0,FADE_BELOW_MULT:1},d="model-mesh"},77489:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var i=n(84710);class r extends i.B{constructor(){super(),this.name="model-rating-view-data",this.isDialogVisible=!1,this.setDialogVisible=e=>{this.isDialogVisible=void 0!==e?e:!this.isDialogVisible,this.commit()}}}},26432:(e,t,n)=>{"use strict";n.d(t,{c:()=>r,i:()=>o});var i=n(55141);class r extends i.u{constructor(e){super(),this.payload={toVisible:e}}}r.id="TOGGLE_MODEL_RATING_DIALOG";class o extends i.u{constructor(e,t=!1){super(),this.payload={rating:e,didFinish:t}}}o.id="SUBMIT_MODEL_RATING"},57447:(e,t,n)=>{"use strict";n.d(t,{n:()=>i,s:()=>r});const i="features/model-rating-dialog",r="features/model-rating-dialog-prompt"},9997:(e,t,n)=>{"use strict";n.d(t,{Dd:()=>u,E4:()=>a,Jq:()=>r,UZ:()=>c,aj:()=>l,r:()=>d,rH:()=>s,sD:()=>o});var i=n(55141);class r extends i.u{constructor(){super()}}r.id="LOCK_NAVIGATION";class o extends i.u{constructor(){super()}}o.id="UNLOCK_NAVIGATION";class s extends i.u{constructor(e){super(),this.payload=e}}s.id="FOCUS_ON_POINT_INSIDE";class a extends i.u{constructor(e){super(),this.payload=e}}a.id="FOCUS_ON_PIN_INSIDE";class l extends i.u{constructor(e){super(),this.payload=Object.assign({},e)}}l.id="MOVE_TO_SWEEP";class c extends i.u{constructor(e){super(),this.payload=e}}c.id="NAVIGATE_TO_LABEL";class u extends i.u{constructor(e){super(),this.payload={room:e}}}u.id="NAVIGATE_TO_ROOM";class d extends i.u{constructor(e){super(),this.payload={pose:e}}}d.id="NAVIGATE_TO_POSE"},65882:(e,t,n)=>{"use strict";n.d(t,{R:()=>i,U:()=>r});const i="features/ray-neighbors",r={maxDistSameFloor:22,maxDistOtherFloors:6,directionFactor:.65,directionWeight:3,viewDirectionFactor:.85,viewDirectionWeight:1,longerTransitionMaxDist:10,TRANSITION_TIME_DH:650,TRANSITION_TIME_ROOM:800}},87306:(e,t,n)=>{"use strict";n.d(t,{$l:()=>y,C0:()=>l,FV:()=>a,I8:()=>s,IN:()=>O,RJ:()=>o,T0:()=>v,Xc:()=>m,Xt:()=>_,YC:()=>S,dz:()=>f,e3:()=>T,eg:()=>u,er:()=>b,iT:()=>h,kr:()=>g,lf:()=>E,sL:()=>d,up:()=>p,x7:()=>c});var i=n(55141),r=n(13893);class o extends i.u{}o.id="REGISTER_NOTES_TOOLS";class s extends i.u{constructor(e){super(),this.payload={opened:e}}}s.id="NOTES_MODE_TOGGLE";class a extends i.u{constructor(e,t,n,i,o=r.fl.FadeToBlack){super(),this.payload={noteId:e,dock:t,edit:n,commentId:i,transition:o}}}a.id="NOTES_OPEN_NOTE_COMMENT";class l extends i.u{constructor(){super()}}l.id="NOTE_START_ADD";class c extends i.u{constructor(e){super(),this.payload={text:e}}}c.id="NOTE_ADD";class u extends i.u{constructor(){super()}}u.id="NOTE_CANCEL_ADD";class d extends i.u{constructor(){super()}}d.id="NOTE_CLOSE";class h extends i.u{constructor(e,t){super(),this.payload={noteId:e,text:t}}}h.id="NOTE_SAVE_CHANGES";class p extends i.u{}p.id="COMMENT_CANCEL_CHANGES";class f extends i.u{constructor(e){super(),this.payload={opened:e}}}f.id="NOTE_POPUP_EDITOR_TOGGLE";class m extends i.u{constructor(e,t){super(),this.payload={noteId:e,properties:t}}}m.id="NOTE_APPEARANCE_SAVE";class g extends i.u{constructor(e,t){super(),this.payload={noteId:e,resolved:t}}}g.id="NOTE_RESOLVE";class v extends i.u{constructor(e){super(),this.payload={noteId:e}}}v.id="NOTE_DELETE";class y extends i.u{constructor(e,t){super(),this.payload={filter:e,enabled:t}}}y.id="NOTES_TOGGLE_FILTER";class E extends i.u{constructor(e){super(),this.payload={id:e}}}E.id="NOTE_COMMENT_EDIT";class S extends i.u{constructor(e,t,n){super(),this.payload={noteId:e,text:t,replyId:n}}}S.id="COMMENT_ADD";class b extends i.u{constructor(e,t,n){super(),this.payload={noteId:e,commentId:t,text:n}}}b.id="COMMENT_UPDATE";class O extends i.u{constructor(e,t){super(),this.payload={noteId:e,commentId:t}}}O.id="COMMENT_DELETE";class _ extends i.u{constructor(e){super(),this.payload={ids:e}}}_.id="FILTER_VISIBLE_NOTES_COMMAND";class T extends i.u{constructor(e){super(),this.payload={enabled:e}}}T.id="NOTES_VISIBILITY_FILTER_ENABLED"},85204:(e,t,n)=>{"use strict";n.d(t,{nc:()=>r,uV:()=>s});var i=n(53641);const r="features/notes-mode",o="spaces.notes";function s(e,t,n,s,a){if(!e)return!1;let l=!1;const c=t.hasPolicy(o),u=t.hasPolicy(i.tG);return l=c&&u,l&&(s.setProperty(r,l),s.setProperty(i.nH,l)),l}},53641:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>f,Jz:()=>p,KZ:()=>d,NB:()=>u,O7:()=>s,RU:()=>l,_d:()=>c,nH:()=>r,tG:()=>o,u4:()=>h,xB:()=>a});var i=n(74381);const r="features/notes",o="perm.spaces.notes.view",s="perm.spaces.notes.edit",a="perm.spaces.notes.delete",l=30,c=15,u=i.OQ.VIEWER,d=500,h=500,p="#5c7fff",f=Object.freeze({noteMesh:{scale:{nearBound:1.5,farBound:4.8,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100}},colors:["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#5c7fff","#03a9f4","#417505","#00bcd4","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"],stem:{length:.23,width:1,opacity:1,transparent:!1,color:"white",alphaTest:.05},anchor:{size:.1},navigation:{anyDistance:!0,visibleDistance:8,cameraClearance:.1,tiltTolerance:25}})},62876:(e,t,n)=>{"use strict";n.d(t,{FZ:()=>a,_H:()=>r});var i=n(40186);const r="object-insights-feature",o="showcase/objects_beta_access",s="objectAnnotations";function a(e,t,n,a){const l=t.getModelOrganizationId(),c=(0,i.NW)(n),u=(0,i.LT)(e,null!=l?l:null),d=!!l&&e.hasMembershipFlag(l,o),h=a.getOverrideParam(s,-1),p=!(0===h)&&(c&&u&&d||1===h);return a.setProperty(r,p),p}},71828:(e,t,n)=>{"use strict";n.d(t,{$6:()=>m,Dw:()=>s,SO:()=>c,Tv:()=>f,WU:()=>u,aY:()=>p,b7:()=>l,bI:()=>a,g1:()=>o,mK:()=>h,pz:()=>d,qD:()=>r});var i=n(64491);const r=1e3/60,o=.05,s=.1/60,a=.02,l=25,c=3,u=3,d=.16,h=(0,i.cX)()?45:(0,i.Zm)()?20:35,p=.01,f=2,m=Math.PI/2/1e3},51274:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var i=n(37458),r=n(10843),o=n(68909),s=n(17340),a=n(86224);const l=new r.Ay("InstancedPinHeads");class c extends o.InstancedMesh{constructor(e,t,n,r){const l=new o.PlaneGeometry(a.N,a.N),c=new o.InstancedBufferAttribute(new Float32Array(e),1);l.setAttribute("instanceAlpha",c);const u=new o.InstancedBufferAttribute(new Float32Array(4*e),4),d=new o.InstancedBufferAttribute(new Float32Array(e),1);l.setAttribute("instanceMaskRect",u),l.setAttribute("instanceStrokeWidth",d);const h=r&&n?new s.ce(t,n):new s.GS(t,!0);super(l,h,e),this.updateMaskTexture=e=>{if(this.material&&this.material instanceof s.ce){const t=this.material.uniforms;t.mask.value!==e&&(t.mask.value=e,this.material.uniformsNeedUpdate=!0)}},this.material=h,this.maxCount=e,this.opacityAttrib=c,this.maskRectAttrib=u,this.strokeWidthAttrib=d,this.setColorAt(0,new o.Color),this.renderedPins=[],this.renderOrder=i.X.pins}update(e){let t=0;this.renderedPins.length=0;for(const n of e){if(!n.visible)continue;if(t>=this.maxCount){l.error("Instance count is too small!");continue}this.setMatrixAt(t,n.pinHeadMatrix),this.setColorAt(t,n.pinColor),this.opacityAttrib.setX(t,n.opacity*n.opacityAnimation.value*n.opacityScale),this.strokeWidthAttrib.setX(t,n.pinStrokeWidth);const e=n.pinIconUVRect;e&&this.maskRectAttrib.setXYZW(t,e.minU,e.minV,e.maxU,e.maxV),t++,this.renderedPins.push(n)}this.count=t,this.visible=this.count>0,this.instanceMatrix.needsUpdate=!0,this.opacityAttrib.needsUpdate=!0,this.maskRectAttrib.needsUpdate=!0,this.strokeWidthAttrib.needsUpdate=!0,this.instanceColor?(this.instanceColor.needsUpdate=!0,this.computeBoundingSphere()):l.error("Instance color should be defined")}}},65425:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var i=n(37458),r=n(68909),o=n(86224),s=n(68062);class a extends r.Mesh{constructor(e,t,n,o){super(t,n),this.geomScale=new r.Vector3(1,1,1),this.userData.sid=e,this.worldPosition=new r.Vector3,this.layers.mask=o.mask,this.renderOrder=i.X.pins,this.scale.set(.01,.01,.01)}dispose(){this.material.dispose(),this.geometry.dispose()}updatePosition(e){this.position.copy(e.stemNormal).setLength(Math.max(e.stemLength,.01))}update(e,t,n){this.quaternion.copy(e.quaternion);const i=o.A.pinHeadMesh.scale;this.getWorldPosition(this.worldPosition);const r=(0,s.cv)(this.worldPosition,e,t,n,i);this.scale.set(r*this.geomScale.x,r*this.geomScale.y,r*this.geomScale.z)}}},17340:(e,t,n)=>{"use strict";n.d(t,{ce:()=>S,Zo:()=>E,GS:()=>b,Kg:()=>O});var i=n(68909),r=n(86224),o=n(59039),s=n.n(o),a=n(94857),l=n.n(a),c=n(65388),u=n.n(c),d=n(2834),h=n.n(d),p=n(98840),f=n.n(p),m=n(45550),g=n.n(m);const v={pinHead:{uniforms:{alpha:{value:1},color:{value:new i.Color},bg:{value:null},mask:{value:null}},vertexShader:s(),fragmentShader:l()},pinStem:{uniforms:{pinHeadMatrix:{value:new i.Matrix4},resolution:{value:new i.Vector2},alpha:{value:1}},vertexShader:u(),fragmentShader:h()},pinSelected:{uniforms:{},vertexShader:f(),fragmentShader:g()}};var y=n(59155);i.ShaderMaterial;i.ShaderMaterial;class E extends i.ShaderMaterial{constructor(){const e=i.UniformsUtils.clone(v.pinStem.uniforms);super({defines:{INSTANCED:!0},fragmentShader:v.pinStem.fragmentShader,vertexShader:v.pinStem.vertexShader,uniforms:e,name:"InstancedPinStemMaterial",linewidth:r.A.stem.width,opacity:r.A.stem.opacity,transparent:r.A.stem.transparent,alphaTest:r.A.stem.opacity*r.A.stem.alphaTest})}}class S extends i.ShaderMaterial{constructor(e,t){const n=i.UniformsUtils.clone(v.pinHead.uniforms);n.bg.value=e,n.mask.value=t,super({defines:{INSTANCED:!0},fragmentShader:v.pinHead.fragmentShader,vertexShader:v.pinHead.vertexShader,uniforms:n,name:"InstancedPinHeadMaterial",transparent:!0})}}class b extends i.ShaderMaterial{constructor(e,t){super({defines:{INSTANCED:t},vertexShader:y.A.basicTextured.vertexShader,fragmentShader:y.A.basicTextured.fragmentShader,uniforms:{alpha:{value:1},tDiffuse:{value:e}},name:"InstancedPinHeadCustomMaterial",transparent:!0})}}class O extends i.ShaderMaterial{constructor(e){super({depthTest:!1,depthWrite:!1,transparent:!0,side:i.DoubleSide,vertexShader:v.pinSelected.vertexShader,fragmentShader:v.pinSelected.fragmentShader,uniforms:{mask:{value:e},maskRect:{value:new i.Vector4},haloWidth:{value:0},strokeWidth:{value:0}}})}}},11416:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var i=n(84710),r=n(95330),o=n(25727),s=n(56413);class a extends i.B{constructor(){super(),this.name="pins-view-data",this.pins=new s.E,this.creatingPin=!1,this.pinEditorStateObservable=(0,r.p)(o.ce.IDLE),this.selectedPinObservable=(0,r.p)(null),this.focusedPinObservable=(0,r.p)(null),this.editableObservable=(0,r.p)(!1),this.progressObservable=(0,r.p)(-1),this.screenPositionObservable=(0,r.p)(null),this.canPlaceObservable=(0,r.p)(!0),this.canAddObservable=(0,r.p)(!0),this.iteratePins=e=>{this.pins.forEach(e)}}onPinUpdate(e){return this.pins.onElementChanged(e)}updatePin(e){this.pins.set(e.id,e)}getPin(e){return this.pins.get(e)}removePin(e){this.pins.get(e)&&this.pins.delete(e)}removePinsByType(e){this.pins.forEach(((t,n)=>{t.pinType===e&&this.pins.delete(t.id)}))}get creatingNewPin(){return this.creatingPin}setSelectedPinId(e){this.selectedPinObservable.value=e}get selectedPinId(){return this.selectedPinObservable.value}onSelectedPinChanged(e){return this.selectedPinObservable.onChanged(e)}setFocusedPin(e){this.focusedPinObservable.value=e}get focusedPin(){return this.focusedPinObservable.value}onFocusedPinChanged(e){return this.focusedPinObservable.onChanged(e)}setPinEditorState(e){switch(e){case o.ce.IDLE:this.creatingPin=!1;break;case o.ce.CREATING:this.creatingPin=!0}this.pinEditorStateObservable.value=e}get pinEditorState(){return this.pinEditorStateObservable.value}onPinEditorStateChanged(e){return this.pinEditorStateObservable.onChanged(e)}setProgress(e){this.progressObservable.value=e}get progress(){return this.progressObservable.value}onProgressChanged(e){const t=this.progressObservable.onChanged(e);return t.renew(),t}get screenPosition(){return this.screenPositionObservable.value}setScreenPosition(e){this.screenPositionObservable.value=e}onScreenPositionChanged(e){return this.screenPositionObservable.onChanged(e)}get isPinEditable(){return this.editableObservable.value}setEditablePin(e){this.editableObservable.value=e}onPinEditableChanged(e){return this.editableObservable.onChanged(e)}get canAdd(){return this.canAddObservable.value}setCanAdd(e){this.canAddObservable.value=e}onCanAddChanged(e){return this.canAddObservable.onChanged(e)}get canPlace(){return this.canPlaceObservable.value}setCanPlace(e){this.canPlaceObservable.value=e}onCanPlaceChanged(e){return this.canPlaceObservable.onChanged(e)}}},33699:(e,t,n)=>{"use strict";n.d(t,{Ct:()=>v,FI:()=>y,HR:()=>p,Mx:()=>O,Ni:()=>u,Rg:()=>o,Zs:()=>a,f5:()=>f,fZ:()=>r,g4:()=>m,gx:()=>h,hd:()=>l,mP:()=>s,mf:()=>E,uf:()=>g,wd:()=>S,wn:()=>d,yq:()=>b,z5:()=>c});var i=n(55141);class r extends i.u{constructor(e){super(),this.payload={enabled:e}}}r.id="ENABLE_PIN_CREATION";class o extends i.u{constructor(e,t,n){super(),this.payload={id:e,pinType:t,editable:n}}}o.id="SELECT_PIN";class s extends i.u{constructor(e,t){super(),this.payload={id:e,pinType:t}}}s.id="UNSELECT_PIN";class a extends i.u{constructor(e,t,n,i){super(),this.payload={id:e,pin:t,pinType:n,backgroundTexture:i}}}a.id="CREATE_PIN";class l extends i.u{constructor(e,t){super(),this.payload={id:e,pinType:t}}}l.id="PIN_CREATION_CANCEL";class c extends i.u{constructor(e,t){super(),this.payload={id:e,pinType:t}}}c.id="REMOVE_PIN";class u extends i.u{constructor(e){super(),this.payload={pinType:e}}}u.id="REMOVE_PIN_TYPE";class d extends i.u{constructor(e){super(),this.payload={pinViews:e}}}d.id="UPDATE_PIN_VIEWS";class h extends i.u{constructor(e,t,n){super(),this.payload={id:e,pinType:t,properties:n}}}h.id="UPDATE_PIN";class p extends i.u{constructor(e,t=!1){super(),this.payload={id:e,editable:t}}}p.id="TOGGLE_PIN_EDITING";class f extends i.u{constructor(e,t,n){super(),this.payload={id:e,pinType:t,visible:n}}}f.id="CHANGE_PIN_VISIBILITY";class m extends i.u{constructor(e,t){super(),this.payload={pinType:e,visible:t}}}m.id="CHANGE_PIN_TYPE_VISIBILITY";class g extends i.u{constructor(e,t,n){super(),this.payload={id:e,pinType:t,opacity:n}}}g.id="CHANGE_PIN_OPACITY";class v extends i.u{constructor(e,t,n){super(),this.payload={id:e,pinType:t,scale:n}}}v.id="CHANGE_PIN_OPACITY_SCALE";class y extends i.u{constructor(e,t,n=[]){super(),this.payload={pinType:e,opacity:t,skipIds:n}}}y.id="CHANGE_PIN_TYPE_OPACITY";class E extends i.u{}E.id="PIN_SELECTION_CLEAR";class S extends i.u{constructor(){super()}}S.id="PIN_CLICK_ELSEWHERE";class b extends i.u{constructor(){super()}}b.id="PLACE_PIN";class O extends i.u{constructor(e,t,n){super(),this.payload={id:e,pos:t,previousPos:n}}}O.id="MOVE_PIN"},25727:(e,t,n)=>{"use strict";var i;n.d(t,{DH:()=>a,ce:()=>s,ob:()=>o,tf:()=>r,yY:()=>i}),function(e){e.MATTERTAG="mattertag",e.NOTE="note",e.OBJECT="object"}(i||(i={}));const r={[i.MATTERTAG]:"simple-tag-pin",[i.NOTE]:"comment-large",[i.OBJECT]:"simple-tag-small"};var o,s,a;!function(e){e.DEFAULT="default",e.HIGHLIGHTED="highlighted",e.DIMMED="dimmed"}(o||(o={})),function(e){e.IDLE="idle",e.CREATING="creating",e.PRESSING="pressing",e.PLACING="placing",e.PLACED="placed"}(s||(s={})),function(e){e.UP="up",e.UP_LEFT="up-left",e.UP_RIGHT="up-right",e.DOWN="down",e.DOWN_LEFT="down-left",e.DOWN_RIGHT="down-right",e.LEFT="left",e.RIGHT="right"}(a||(a={}))},79457:(e,t,n)=>{"use strict";n.d(t,{RG:()=>r,cC:()=>c,fD:()=>l,lY:()=>u,oX:()=>o,wk:()=>a,yi:()=>s});var i=n(89103);class r extends i.QB{constructor(e,t,n){super(),this.id=e,this.hovering=t,this.pinType=n}}class o extends i.QB{constructor(e,t){super(),this.id=e,this.pinType=t}}class s extends i.QB{constructor(e,t,n){super(),this.id=e,this.pinType=t,this.pinPos=n}}class a extends i.QB{}class l extends i.QB{}class c extends i.QB{constructor(e,t,n,i){super(),this.id=e,this.pinType=t,this.pinPos=n,this.previousPos=i}}class u extends i.QB{constructor(e,t){super(),this.id=e,this.pinType=t}}},86224:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,N:()=>i});const i=1,r=Object.freeze({anchor:{size:1},selection:{size:1,haloWidth:.2,haloAnimDuration:300},stem:{length:.23,width:1,opacity:1,transparent:!0,color:"white",alphaTest:.05},pinHeadMesh:{scale:{nearBound:1.5,farBound:4.8,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100},strokeWidth:.06}})},13586:(e,t,n)=>{"use strict";var i;n.d(t,{D:()=>i}),function(e){e[e.None=0]="None",e[e.AnonymousFetch=1]="AnonymousFetch",e[e.UserFetch=2]="UserFetch"}(i||(i={}))},56846:(e,t,n)=>{"use strict";n.d(t,{L$:()=>v,Y7:()=>y,TR:()=>g});var i=n(95330),r=n(12554),o=n(56413),s=n(84710),a=n(20968),l=n(9192),c=n(85275);const u=new(n(10843).Ay)("mds-plugin-config-deserializer");class d{constructor(){this.fileAttachmentDeserializer=new c.x}deserialize(e){if(!e)return u.debug("Deserialized invalid Plugin data from MDS",e),null;const t=e.fileAttachments.map((e=>this.fileAttachmentDeserializer.deserialize(e))).filter((e=>null!==e));return{name:e.name,id:e.id,attachments:t}}}class h extends a.g{constructor(e){super(e),this.deserializer=new d}async read(e){const t={modelId:this.getViewId(),prefetchKey:this.prefetchKey,includeLayers:this.readLayerId()};return this.query(l.GetPlugins,t,e).then((e=>{var t,n;const i=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.model)||void 0===n?void 0:n.sdkPlugins;if(!i||!Array.isArray(i))return[];return i.map((e=>this.deserializer.deserialize(e))).filter((e=>null!==e))}))}async update(e){const t={};void 0!==e.version&&(t.currentVersion=e.version),void 0!==e.attachments&&(t.fileAttachments=e.attachments);const n={modelId:this.getViewId(),name:e.name,patch:t};await this.mutate(l.UpdatePlugin,n).catch((e=>{e.message.includes("Version for plugin does not exist")}))}async delete(e){if(!e)return;const t={modelId:this.getViewId(),name:e};return this.mutate(l.DeletePlugin,t).then((()=>{}))}}var p=n(75778),f=n(31093),m=n(13586);const g="/api/v1/plugins",v="listEditOnly";class y extends s.B{get mdsIsSetup(){return this._isSetup}constructor(){super(),this.name="available-plugin-data",this.availablePlugins=new o.E,this.lastSavedConfiguration=new r.X,this.currentlyConfiguring=new i.L(null),this.pluginConfigReady=new f.i,this.defaultStrict=(0,p.P3)("sesStrict",null,"boolean"),this.defaultFetchLevel=m.D.None,this.disabled=(0,p.P3)("noPlugins",!1),this.defaultLoadEarly=!1,this.manifestUrl=(0,p.P3)("manifestUrl"),this.pluginVersion=(0,p.P3)("pluginVersion"),this.preventLiveEdit=(0,p.P3)("preventWorkshopPluginPreview",!1),this.eventTarget=new o.E,this._isSetup=!1}add(e){this.availablePlugins.set(e.name,e)}setupConfigStore(e,t,n){this._mdsStore=new h({context:e,readonly:t,includeDisabled:!t,baseUrl:n}),this._isSetup=!0,this.commit()}getMdsResult(){var e,t;return null!==(t=null===(e=this._mdsStore)||void 0===e?void 0:e.read())&&void 0!==t?t:Promise.resolve([])}updateMds(e){var t;null===(t=this._mdsStore)||void 0===t||t.update(e)}deleteMdsById(e){var t;null===(t=this._mdsStore)||void 0===t||t.delete(e)}}},87766:(e,t,n)=>{"use strict";n.d(t,{XX:()=>i,_x:()=>o,eV:()=>s,p_:()=>r});const i="spaces.plugins",r="spaces.plugins.config",o="spaces.plugins.debug",s="spaces.plugins.groups"},48791:(e,t,n)=>{"use strict";n.d(t,{kR:()=>V});var i=n(84710),r=n(56413),o=n(10843),s=n(68593),a=n(58749),l=n(40961),c=n(96540);function u(e,t){return(0,c.createElement)("span",{className:e+"-slot-wrapper",ref:e=>null==e?void 0:e.appendChild(t),key:e})}class d{constructor(e,t="closed",n=document.createElement("div"),i=u(e,n),r=null){this.slotType=e,this.shadowRootMode=t,this.rawNode=n,this.reactNode=i,this.shadowRoot=r}getOrCreateShadowRoot(){return this.shadowRoot||(this.shadowRoot=this.rawNode.attachShadow({mode:this.shadowRootMode})),this.shadowRoot}hasShadowRoot(){return!!this.shadowRoot}clear(){return(0,l.unmountComponentAtNode)(this.rawNode),this.rawNode.remove(),this.rawNode=document.createElement("div"),this.shadowRoot=null,this.reactNode=u(this.slotType,this.rawNode),this}}var h=n(43591);class p{static getElements(e,t=document){if("string"==typeof e){const n="getElementById"in t?t:void 0;if(n&&!isNaN(+e[0])){const t=n.getElementById(e);return t?[t]:[]}let i=t.querySelectorAll(e);return i.length||"."===e[0]||"#"===e[0]||(i=t.querySelectorAll("."+e),i.length||(i=t.querySelectorAll("#"+e))),Array.from(i)}return[e]}static getElement(e,t=document){if("string"==typeof e){const n="getElementById"in t?t:void 0;if(!e.length)return null;if(n&&"#"===e[0])return n.getElementById(e.substring(1));if("#"===e[0]||"."===e[0]||"["===e[0])return t.querySelector(e);if(n&&!isNaN(+e[0]))return n.getElementById(e);let i=t.querySelector(e);return n&&!i&&(i=n.getElementById(e)),i||(i=t.querySelector("."+e)),i}return e}static shouldSizeToContent(e,t=!1){return e?.grid&&(t?!0===e.sizeToContent||!0===e.grid.opts.sizeToContent&&void 0===e.sizeToContent:!!e.sizeToContent||e.grid.opts.sizeToContent&&!1!==e.sizeToContent)}static isIntercepted(e,t){return!(e.y>=t.y+t.h||e.y+e.h<=t.y||e.x+e.w<=t.x||e.x>=t.x+t.w)}static isTouching(e,t){return p.isIntercepted(e,{x:t.x-.5,y:t.y-.5,w:t.w+1,h:t.h+1})}static areaIntercept(e,t){let n=e.x>t.x?e.x:t.x,i=e.x+e.w<t.x+t.w?e.x+e.w:t.x+t.w;if(i<=n)return 0;let r=e.y>t.y?e.y:t.y,o=e.y+e.h<t.y+t.h?e.y+e.h:t.y+t.h;return o<=r?0:(i-n)*(o-r)}static area(e){return e.w*e.h}static sort(e,t=1){const n=1e4;return e.sort(((e,i)=>{let r=t*((e.y??n)-(i.y??n));return 0===r?t*((e.x??n)-(i.x??n)):r}))}static find(e,t){return t?e.find((e=>e.id===t)):void 0}static createStylesheet(e,t,n){let i=document.createElement("style");const r=n?.nonce;return r&&(i.nonce=r),i.setAttribute("type","text/css"),i.setAttribute("gs-style-id",e),i.styleSheet?i.styleSheet.cssText="":i.appendChild(document.createTextNode("")),t?t.insertBefore(i,t.firstChild):(t=document.getElementsByTagName("head")[0]).appendChild(i),i.sheet}static removeStylesheet(e,t){let n=(t||document).querySelector("STYLE[gs-style-id="+e+"]");n&&n.parentNode&&n.remove()}static addCSSRule(e,t,n){"function"==typeof e.addRule?e.addRule(t,n):"function"==typeof e.insertRule&&e.insertRule(`${t}{${n}}`)}static toBool(e){return"boolean"==typeof e?e:"string"==typeof e?!(""===(e=e.toLowerCase())||"no"===e||"false"===e||"0"===e):Boolean(e)}static toNumber(e){return null===e||0===e.length?void 0:Number(e)}static parseHeight(e){let t,n="px";if("string"==typeof e)if("auto"===e||""===e)t=0;else{let i=e.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%|cm|mm)?$/);if(!i)throw new Error(`Invalid height val = ${e}`);n=i[2]||"px",t=parseFloat(i[1])}else t=e;return{h:t,unit:n}}static defaults(e,...t){return t.forEach((t=>{for(const n in t){if(!t.hasOwnProperty(n))return;null===e[n]||void 0===e[n]?e[n]=t[n]:"object"==typeof t[n]&&"object"==typeof e[n]&&this.defaults(e[n],t[n])}})),e}static same(e,t){if("object"!=typeof e)return e==t;if(typeof e!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static copyPos(e,t,n=!1){return void 0!==t.x&&(e.x=t.x),void 0!==t.y&&(e.y=t.y),void 0!==t.w&&(e.w=t.w),void 0!==t.h&&(e.h=t.h),n&&(t.minW&&(e.minW=t.minW),t.minH&&(e.minH=t.minH),t.maxW&&(e.maxW=t.maxW),t.maxH&&(e.maxH=t.maxH)),e}static samePos(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&(e.w||1)===(t.w||1)&&(e.h||1)===(t.h||1)}static sanitizeMinMax(e){e.minW||delete e.minW,e.minH||delete e.minH,e.maxW||delete e.maxW,e.maxH||delete e.maxH}static removeInternalAndSame(e,t){if("object"==typeof e&&"object"==typeof t)for(let n in e){const i=e[n],r=t[n];"_"===n[0]||i===r?delete e[n]:i&&"object"==typeof i&&void 0!==r&&(p.removeInternalAndSame(i,r),Object.keys(i).length||delete e[n])}}static removeInternalForSave(e,t=!0){for(let t in e)"_"!==t[0]&&null!==e[t]&&void 0!==e[t]||delete e[t];delete e.grid,t&&delete e.el,e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,e.locked||delete e.locked,1!==e.w&&e.w!==e.minW||delete e.w,1!==e.h&&e.h!==e.minH||delete e.h}static throttle(e,t){let n=!1;return(...i)=>{n||(n=!0,setTimeout((()=>{e(...i),n=!1}),t))}}static removePositioningStyles(e){let t=e.style;t.position&&t.removeProperty("position"),t.left&&t.removeProperty("left"),t.top&&t.removeProperty("top"),t.width&&t.removeProperty("width"),t.height&&t.removeProperty("height")}static getScrollElement(e){if(!e)return document.scrollingElement||document.documentElement;const t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowY)?e:this.getScrollElement(e.parentElement)}static updateScrollPosition(e,t,n){let i=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight;if(i.top<0||i.bottom>r){let o=i.bottom-r,s=i.top,a=this.getScrollElement(e);if(null!==a){let l=a.scrollTop;i.top<0&&n<0?e.offsetHeight>r?a.scrollTop+=n:a.scrollTop+=Math.abs(s)>Math.abs(n)?n:s:n>0&&(e.offsetHeight>r?a.scrollTop+=n:a.scrollTop+=o>n?n:o),t.top+=a.scrollTop-l}}}static updateScrollResize(e,t,n){const i=this.getScrollElement(t),r=i.clientHeight,o=i===this.getScrollElement()?0:i.getBoundingClientRect().top,s=e.clientY-o,a=s>r-n;s<n?i.scrollBy({behavior:"smooth",top:s-n}):a&&i.scrollBy({behavior:"smooth",top:n-(r-s)})}static clone(e){return null==e||"object"!=typeof e?e:e instanceof Array?[...e]:{...e}}static cloneDeep(e){const t=["parentGrid","el","grid","subGrid","engine"],n=p.clone(e);for(const i in n)n.hasOwnProperty(i)&&"object"==typeof n[i]&&"__"!==i.substring(0,2)&&!t.find((e=>e===i))&&(n[i]=p.cloneDeep(e[i]));return n}static cloneNode(e){const t=e.cloneNode(!0);return t.removeAttribute("id"),t}static appendTo(e,t){let n;n="string"==typeof t?p.getElement(t):t,n&&n.appendChild(e)}static addElStyles(e,t){if(t instanceof Object)for(const n in t)t.hasOwnProperty(n)&&(Array.isArray(t[n])?t[n].forEach((t=>{e.style[n]=t})):e.style[n]=t[n])}static initEvent(e,t){const n={type:t.type},i={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:t.target?t.target:e.target};return["altKey","ctrlKey","metaKey","shiftKey"].forEach((t=>n[t]=e[t])),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach((t=>n[t]=e[t])),{...n,...i}}static simulateMouseEvent(e,t,n){const i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,e.target),(n||e.target).dispatchEvent(i)}static getValuesFromTransformedElement(e){const t=document.createElement("div");p.addElStyles(t,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),e.appendChild(t);const n=t.getBoundingClientRect();return e.removeChild(t),t.remove(),{xScale:1/n.width,yScale:1/n.height,xOffset:n.left,yOffset:n.top}}static swap(e,t,n){if(!e)return;const i=e[t];e[t]=e[n],e[n]=i}static canBeRotated(e){return!(!e||e.w===e.h||e.locked||e.noResize||e.grid?.opts.disableResize||e.minW&&e.minW===e.maxW||e.minH&&e.minH===e.maxH)}}class f{constructor(e={}){this.addedNodes=[],this.removedNodes=[],this.column=e.column||12,this.maxRow=e.maxRow,this._float=e.float,this.nodes=e.nodes||[],this.onChange=e.onChange}batchUpdate(e=!0,t=!0){return!!this.batchMode===e||(this.batchMode=e,e?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,t&&this._packNodes(),this._notify())),this}_useEntireRowArea(e,t){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!e._moving||e._skipDown||t.y<=e.y)}_fixCollisions(e,t=e,n,i={}){if(this.sortNodes(-1),!(n=n||this.collide(e,t)))return!1;if(e._moving&&!i.nested&&!this.float&&this.swap(e,n))return!0;let r=t;!this._loading&&this._useEntireRowArea(e,t)&&(r={x:0,w:this.column,y:t.y,h:t.h},n=this.collide(e,r,i.skip));let o=!1,s={nested:!0,pack:!1};for(;n=n||this.collide(e,r,i.skip);){let r;if(n.locked||this._loading||e._moving&&!e._skipDown&&t.y>e.y&&!this.float&&(!this.collide(n,{...n,y:e.y},e)||!this.collide(n,{...n,y:t.y-n.h},e))?(e._skipDown=e._skipDown||t.y>e.y,r=this.moveNode(e,{...t,y:n.y+n.h,...s}),(n.locked||this._loading)&&r?p.copyPos(t,e):!n.locked&&r&&i.pack&&(this._packNodes(),t.y=n.y+n.h,p.copyPos(e,t)),o=o||r):r=this.moveNode(n,{...n,y:t.y+t.h,skip:e,...s}),!r)return o;n=void 0}return o}collide(e,t=e,n){const i=e._id,r=n?._id;return this.nodes.find((e=>e._id!==i&&e._id!==r&&p.isIntercepted(e,t)))}collideAll(e,t=e,n){const i=e._id,r=n?._id;return this.nodes.filter((e=>e._id!==i&&e._id!==r&&p.isIntercepted(e,t)))}directionCollideCoverage(e,t,n){if(!t.rect||!e._rect)return;let i,r=e._rect,o={...t.rect};o.y>r.y?(o.h+=o.y-r.y,o.y=r.y):o.h+=r.y-o.y,o.x>r.x?(o.w+=o.x-r.x,o.x=r.x):o.w+=r.x-o.x;let s=.5;for(let e of n){if(e.locked||!e._rect)break;let t=e._rect,n=Number.MAX_VALUE,a=Number.MAX_VALUE;r.y<t.y?n=(o.y+o.h-t.y)/t.h:r.y+r.h>t.y+t.h&&(n=(t.y+t.h-o.y)/t.h),r.x<t.x?a=(o.x+o.w-t.x)/t.w:r.x+r.w>t.x+t.w&&(a=(t.x+t.w-o.x)/t.w);let l=Math.min(a,n);l>s&&(s=l,i=e)}return t.collide=i,i}cacheRects(e,t,n,i,r,o){return this.nodes.forEach((s=>s._rect={y:s.y*t+n,x:s.x*e+o,w:s.w*e-o-i,h:s.h*t-n-r})),this}swap(e,t){if(!t||t.locked||!e||e.locked)return!1;function n(){let n=t.x,i=t.y;return t.x=e.x,t.y=e.y,e.h!=t.h?(e.x=n,e.y=t.y+t.h):e.w!=t.w?(e.x=t.x+t.w,e.y=i):(e.x=n,e.y=i),e._dirty=t._dirty=!0,!0}let i;if(e.w===t.w&&e.h===t.h&&(e.x===t.x||e.y===t.y)&&(i=p.isTouching(e,t)))return n();if(!1!==i){if(e.w===t.w&&e.x===t.x&&(i||(i=p.isTouching(e,t)))){if(t.y<e.y){let n=e;e=t,t=n}return n()}if(!1!==i){if(e.h===t.h&&e.y===t.y&&(i||(i=p.isTouching(e,t)))){if(t.x<e.x){let n=e;e=t,t=n}return n()}return!1}}}isAreaEmpty(e,t,n,i){let r={x:e||0,y:t||0,w:n||1,h:i||1};return!this.collide(r)}compact(e="compact",t=!0){if(0===this.nodes.length)return this;t&&this.sortNodes();const n=this.batchMode;n||this.batchUpdate();const i=this._inColumnResize;i||(this._inColumnResize=!0);let r=this.nodes;return this.nodes=[],r.forEach(((t,n,i)=>{let r;t.locked||(t.autoPosition=!0,"list"===e&&n&&(r=i[n-1])),this.addNode(t,!1,r)})),i||delete this._inColumnResize,n||this.batchUpdate(!1),this}set float(e){this._float!==e&&(this._float=e||!1,e||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(e=1){return this.nodes=p.sort(this.nodes,e),this}_packNodes(){return this.batchMode||(this.sortNodes(),this.float?this.nodes.forEach((e=>{if(e._updating||void 0===e._orig||e.y===e._orig.y)return;let t=e.y;for(;t>e._orig.y;){--t,this.collide(e,{x:e.x,y:t,w:e.w,h:e.h})||(e._dirty=!0,e.y=t)}})):this.nodes.forEach(((e,t)=>{if(!e.locked)for(;e.y>0;){let n=0===t?0:e.y-1;if(!(0===t||!this.collide(e,{x:e.x,y:n,w:e.w,h:e.h})))break;e._dirty=e.y!==n,e.y=n}}))),this}prepareNode(e,t){e._id=e._id??f._idSeq++,void 0!==e.x&&void 0!==e.y&&null!==e.x&&null!==e.y||(e.autoPosition=!0);let n={x:0,y:0,w:1,h:1};return p.defaults(e,n),e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,p.sanitizeMinMax(e),"string"==typeof e.x&&(e.x=Number(e.x)),"string"==typeof e.y&&(e.y=Number(e.y)),"string"==typeof e.w&&(e.w=Number(e.w)),"string"==typeof e.h&&(e.h=Number(e.h)),isNaN(e.x)&&(e.x=n.x,e.autoPosition=!0),isNaN(e.y)&&(e.y=n.y,e.autoPosition=!0),isNaN(e.w)&&(e.w=n.w),isNaN(e.h)&&(e.h=n.h),this.nodeBoundFix(e,t),e}nodeBoundFix(e,t){let n=e._orig||p.copyPos({},e);e.maxW&&(e.w=Math.min(e.w,e.maxW)),e.maxH&&(e.h=Math.min(e.h,e.maxH)),e.minW&&e.minW<=this.column&&(e.w=Math.max(e.w,e.minW)),e.minH&&(e.h=Math.max(e.h,e.minH));if((e.x||0)+(e.w||1)>this.column&&this.column<12&&!this._inColumnResize&&e._id&&-1===this.findCacheLayout(e,12)){let t={...e};t.autoPosition||void 0===t.x?(delete t.x,delete t.y):t.x=Math.min(11,t.x),t.w=Math.min(12,t.w||1),this.cacheOneLayout(t,12)}return e.w>this.column?e.w=this.column:e.w<1&&(e.w=1),this.maxRow&&e.h>this.maxRow?e.h=this.maxRow:e.h<1&&(e.h=1),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.w>this.column&&(t?e.w=this.column-e.x:e.x=this.column-e.w),this.maxRow&&e.y+e.h>this.maxRow&&(t?e.h=this.maxRow-e.y:e.y=this.maxRow-e.h),p.samePos(e,n)||(e._dirty=!0),this}getDirtyNodes(e){return e?this.nodes.filter((e=>e._dirty&&!p.samePos(e,e._orig))):this.nodes.filter((e=>e._dirty))}_notify(e){if(this.batchMode||!this.onChange)return this;let t=(e||[]).concat(this.getDirtyNodes());return this.onChange(t),this}cleanNodes(){return this.batchMode||this.nodes.forEach((e=>{delete e._dirty,delete e._lastTried})),this}saveInitial(){return this.nodes.forEach((e=>{e._orig=p.copyPos({},e),delete e._dirty})),this._hasLocked=this.nodes.some((e=>e.locked)),this}restoreInitial(){return this.nodes.forEach((e=>{p.samePos(e,e._orig)||(p.copyPos(e,e._orig),e._dirty=!0)})),this._notify(),this}findEmptyPosition(e,t=this.nodes,n=this.column,i){let r=!1;for(let o=i?i.y*n+(i.x+i.w):0;!r;++o){let i=o%n,s=Math.floor(o/n);if(i+e.w>n)continue;let a={x:i,y:s,w:e.w,h:e.h};t.find((e=>p.isIntercepted(a,e)))||(e.x===i&&e.y===s||(e._dirty=!0),e.x=i,e.y=s,delete e.autoPosition,r=!0)}return r}addNode(e,t=!1,n){let i,r=this.nodes.find((t=>t._id===e._id));return r||(this._inColumnResize?this.nodeBoundFix(e):this.prepareNode(e),delete e._temporaryRemoved,delete e._removeDOM,e.autoPosition&&this.findEmptyPosition(e,this.nodes,this.column,n)&&(delete e.autoPosition,i=!0),this.nodes.push(e),t&&this.addedNodes.push(e),i||this._fixCollisions(e),this.batchMode||this._packNodes()._notify(),e)}removeNode(e,t=!0,n=!1){return this.nodes.find((t=>t._id===e._id))?(n&&this.removedNodes.push(e),t&&(e._removeDOM=!0),this.nodes=this.nodes.filter((t=>t._id!==e._id)),e._isAboutToRemove||this._packNodes(),this._notify([e]),this):this}removeAll(e=!0,t=!0){if(delete this._layouts,!this.nodes.length)return this;e&&this.nodes.forEach((e=>e._removeDOM=!0));const n=this.nodes;return this.removedNodes=t?n:[],this.nodes=[],this._notify(n)}moveNodeCheck(e,t){if(!this.changedPosConstrain(e,t))return!1;if(t.pack=!0,!this.maxRow)return this.moveNode(e,t);let n,i=new f({column:this.column,float:this.float,nodes:this.nodes.map((t=>t._id===e._id?(n={...t},n):{...t}))});if(!n)return!1;let r=i.moveNode(n,t)&&i.getRow()<=Math.max(this.getRow(),this.maxRow);if(!r&&!t.resizing&&t.collide){let n=t.collide.el.gridstackNode;if(this.swap(e,n))return this._notify(),!0}return!!r&&(i.nodes.filter((e=>e._dirty)).forEach((e=>{let t=this.nodes.find((t=>t._id===e._id));t&&(p.copyPos(t,e),t._dirty=!0)})),this._notify(),!0)}willItFit(e){if(delete e._willFitPos,!this.maxRow)return!0;let t=new f({column:this.column,float:this.float,nodes:this.nodes.map((e=>({...e})))}),n={...e};return this.cleanupNode(n),delete n.el,delete n._id,delete n.content,delete n.grid,t.addNode(n),t.getRow()<=this.maxRow&&(e._willFitPos=p.copyPos({},n),!0)}changedPosConstrain(e,t){return t.w=t.w||e.w,t.h=t.h||e.h,e.x!==t.x||e.y!==t.y||(e.maxW&&(t.w=Math.min(t.w,e.maxW)),e.maxH&&(t.h=Math.min(t.h,e.maxH)),e.minW&&(t.w=Math.max(t.w,e.minW)),e.minH&&(t.h=Math.max(t.h,e.minH)),e.w!==t.w||e.h!==t.h)}moveNode(e,t){if(!e||!t)return!1;let n;void 0!==t.pack||this.batchMode||(n=t.pack=!0),"number"!=typeof t.x&&(t.x=e.x),"number"!=typeof t.y&&(t.y=e.y),"number"!=typeof t.w&&(t.w=e.w),"number"!=typeof t.h&&(t.h=e.h);let i=e.w!==t.w||e.h!==t.h,r=p.copyPos({},e,!0);if(p.copyPos(r,t),this.nodeBoundFix(r,i),p.copyPos(t,r),!t.forceCollide&&p.samePos(e,t))return!1;let o=p.copyPos({},e),s=this.collideAll(e,r,t.skip),a=!0;if(s.length){let i=e._moving&&!t.nested,o=i?this.directionCollideCoverage(e,t,s):s[0];if(i&&o&&e.grid?.opts?.subGridDynamic&&!e.grid._isTemp){let n=p.areaIntercept(t.rect,o._rect),i=p.area(t.rect),r=p.area(o._rect);n/(i<r?i:r)>.8&&(o.grid.makeSubGrid(o.el,void 0,e),o=void 0)}o?a=!this._fixCollisions(e,r,o,t):(a=!1,n&&delete t.pack)}return a&&(e._dirty=!0,p.copyPos(e,r)),t.pack&&this._packNodes()._notify(),!p.samePos(e,o)}getRow(){return this.nodes.reduce(((e,t)=>Math.max(e,t.y+t.h)),0)}beginUpdate(e){return e._updating||(e._updating=!0,delete e._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){let e=this.nodes.find((e=>e._updating));return e&&(delete e._updating,delete e._skipDown),this}save(e=!0,t){let n=this._layouts?.length,i=n&&this.column!==n-1?this._layouts[n-1]:null,r=[];return this.sortNodes(),this.nodes.forEach((n=>{let o=i?.find((e=>e._id===n._id)),s={...n,...o||{}};p.removeInternalForSave(s,!e),t&&t(n,s),r.push(s)})),r}layoutsNodesChange(e){return!this._layouts||this._inColumnResize||this._layouts.forEach(((t,n)=>{if(!t||n===this.column)return this;if(n<this.column)this._layouts[n]=void 0;else{let i=n/this.column;e.forEach((e=>{if(!e._orig)return;let n=t.find((t=>t._id===e._id));n&&(n.y>=0&&e.y!==e._orig.y&&(n.y+=e.y-e._orig.y),e.x!==e._orig.x&&(n.x=Math.round(e.x*i)),e.w!==e._orig.w&&(n.w=Math.round(e.w*i)))}))}})),this}columnChanged(e,t,n="moveScale"){if(!this.nodes.length||!t||e===t)return this;if("none"===n)return this;const i="compact"===n||"list"===n;i&&this.sortNodes(1),t<e&&this.cacheLayout(this.nodes,e),this.batchUpdate();let r=[],o=i?this.nodes:p.sort(this.nodes,-1);if(t>e&&this._layouts){const n=this._layouts[t]||[];let s=this._layouts.length-1;!n.length&&e!==s&&this._layouts[s]?.length&&(e=s,this._layouts[s].forEach((e=>{let t=o.find((t=>t._id===e._id));t&&(i||e.autoPosition||(t.x=e.x??t.x,t.y=e.y??t.y),t.w=e.w??t.w,null!=e.x&&void 0!==e.y||(t.autoPosition=!0))}))),n.forEach((e=>{let t=o.findIndex((t=>t._id===e._id));if(-1!==t){const n=o[t];if(i)return void(n.w=e.w);(e.autoPosition||isNaN(e.x)||isNaN(e.y))&&this.findEmptyPosition(e,r),e.autoPosition||(n.x=e.x??n.x,n.y=e.y??n.y,n.w=e.w??n.w,r.push(n)),o.splice(t,1)}}))}if(i)this.compact(n,!1);else{if(o.length)if("function"==typeof n)n(t,e,r,o);else{let s=i?1:t/e,a="move"===n||"moveScale"===n,l="scale"===n||"moveScale"===n;o.forEach((n=>{n.x=1===t?0:a?Math.round(n.x*s):Math.min(n.x,t-1),n.w=1===t||1===e?1:l?Math.round(n.w*s)||1:Math.min(n.w,t),r.push(n)})),o=[]}r=p.sort(r,-1),this._inColumnResize=!0,this.nodes=[],r.forEach((e=>{this.addNode(e,!1),delete e._orig}))}return this.nodes.forEach((e=>delete e._orig)),this.batchUpdate(!1,!i),delete this._inColumnResize,this}cacheLayout(e,t,n=!1){let i=[];return e.forEach(((e,t)=>{if(void 0===e._id){const t=e.id?this.nodes.find((t=>t.id===e.id)):void 0;e._id=t?._id??f._idSeq++}i[t]={x:e.x,y:e.y,w:e.w,_id:e._id}})),this._layouts=n?[]:this._layouts||[],this._layouts[t]=i,this}cacheOneLayout(e,t){e._id=e._id??f._idSeq++;let n={x:e.x,y:e.y,w:e.w,_id:e._id};(e.autoPosition||void 0===e.x)&&(delete n.x,delete n.y,e.autoPosition&&(n.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[t]=this._layouts[t]||[];let i=this.findCacheLayout(e,t);return-1===i?this._layouts[t].push(n):this._layouts[t][i]=n,this}findCacheLayout(e,t){return this._layouts?.[t]?.findIndex((t=>t._id===e._id))??-1}removeNodeFromLayoutCache(e){if(this._layouts)for(let t=0;t<this._layouts.length;t++){let n=this.findCacheLayout(e,t);-1!==n&&this._layouts[t].splice(n,1)}}cleanupNode(e){for(let t in e)"_"===t[0]&&"_id"!==t&&delete e[t];return this}}f._idSeq=0;const m={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"},g={handle:".grid-stack-item-content",appendTo:"body"};class v{}const y="undefined"!=typeof window&&"undefined"!=typeof document&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);class E{}function S(e,t){if(e.touches.length>1)return;e.cancelable&&e.preventDefault();const n=e.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}function b(e,t){e.cancelable&&e.preventDefault();const n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}function O(e){E.touchHandled||(E.touchHandled=!0,S(e,"mousedown"))}function _(e){E.touchHandled&&S(e,"mousemove")}function T(e){if(!E.touchHandled)return;E.pointerLeaveTimeout&&(window.clearTimeout(E.pointerLeaveTimeout),delete E.pointerLeaveTimeout);const t=!!v.dragElement;S(e,"mouseup"),t||S(e,"click"),E.touchHandled=!1}function A(e){"mouse"!==e.pointerType&&e.target.releasePointerCapture(e.pointerId)}function w(e){v.dragElement&&"mouse"!==e.pointerType&&b(e,"mouseenter")}function N(e){v.dragElement&&"mouse"!==e.pointerType&&(E.pointerLeaveTimeout=window.setTimeout((()=>{delete E.pointerLeaveTimeout,b(e,"mouseleave")}),10))}class I{constructor(e,t,n){this.host=e,this.dir=t,this.option=n,this.moving=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this._init()}_init(){const e=this.el=document.createElement("div");return e.classList.add("ui-resizable-handle"),e.classList.add(`${I.prefix}${this.dir}`),e.style.zIndex="100",e.style.userSelect="none",this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),y&&(this.el.addEventListener("touchstart",O),this.el.addEventListener("pointerdown",A)),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),y&&(this.el.removeEventListener("touchstart",O),this.el.removeEventListener("pointerdown",A)),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(e){this.mouseDownEvent=e,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),y&&(this.el.addEventListener("touchmove",_),this.el.addEventListener("touchend",T)),e.stopPropagation(),e.preventDefault()}_mouseMove(e){let t=this.mouseDownEvent;this.moving?this._triggerEvent("move",e):Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",e),document.addEventListener("keydown",this._keyEvent)),e.stopPropagation()}_mouseUp(e){this.moving&&(this._triggerEvent("stop",e),document.removeEventListener("keydown",this._keyEvent)),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),y&&(this.el.removeEventListener("touchmove",_),this.el.removeEventListener("touchend",T)),delete this.moving,delete this.mouseDownEvent,e.stopPropagation(),e.preventDefault()}_keyEvent(e){"Escape"===e.key&&(this.host.gridstackNode?.grid?.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent))}_triggerEvent(e,t){return this.option[e]&&this.option[e](t),this}}I.prefix="ui-resizable-";class R{constructor(){this._eventRegister={}}get disabled(){return this._disabled}on(e,t){this._eventRegister[e]=t}off(e){delete this._eventRegister[e]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(e,t){if(!this.disabled&&this._eventRegister&&this._eventRegister[e])return this._eventRegister[e](t)}}class k extends R{constructor(e,t={}){super(),this.el=e,this.option=t,this.rectScale={x:1,y:1},this._ui=()=>{const e=this.el.parentElement.getBoundingClientRect(),t={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},n=this.temporalRect||t;return{position:{left:(n.left-e.left)*this.rectScale.x,top:(n.top-e.top)*this.rectScale.y},size:{width:n.width*this.rectScale.x,height:n.height*this.rectScale.y}}},this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this.enable(),this._setupAutoHide(this.option.autoHide),this._setupHandlers()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){super.enable(),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)}destroy(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,super.destroy()}updateOption(e){let t=e.handles&&e.handles!==this.option.handles,n=e.autoHide&&e.autoHide!==this.option.autoHide;return Object.keys(e).forEach((t=>this.option[t]=e[t])),t&&(this._removeHandlers(),this._setupHandlers()),n&&this._setupAutoHide(this.option.autoHide),this}_setupAutoHide(e){return e?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),v.overResizeElement===this&&delete v.overResizeElement),this}_mouseOver(e){v.overResizeElement||v.dragElement||(v.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))}_mouseOut(e){v.overResizeElement===this&&(delete v.overResizeElement,this.el.classList.add("ui-resizable-autohide"))}_setupHandlers(){return this.handlers=this.option.handles.split(",").map((e=>e.trim())).map((e=>new I(this.el,e,{start:e=>{this._resizeStart(e)},stop:e=>{this._resizeStop(e)},move:t=>{this._resizing(t,e)}}))),this}_resizeStart(e){this.sizeToContent=p.shouldSizeToContent(this.el.gridstackNode,!0),this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=p.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=e,this._setupHelper(),this._applyChange();const t=p.initEvent(e,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(t,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",t),this}_resizing(e,t){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(e,t),this._applyChange();const n=p.initEvent(e,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(n,this._ui()),this.triggerEvent("resize",n),this}_resizeStop(e){const t=p.initEvent(e,{type:"resizestop",target:this.el});return this.option.stop&&this.option.stop(t),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",t),this._cleanHelper(),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){this.elOriginStyleVal=k._originStyleProp.map((e=>this.el.style[e])),this.parentOriginStylePosition=this.el.parentElement.style.position;const e=this.el.parentElement,t=p.getValuesFromTransformedElement(e);return this.rectScale={x:t.xScale,y:t.yScale},getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return k._originStyleProp.forEach(((e,t)=>{this.el.style[e]=this.elOriginStyleVal[t]||null})),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(e,t){const n=this.startEvent,i={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},r=e.clientX-n.clientX,o=this.sizeToContent?0:e.clientY-n.clientY;let s,a;t.indexOf("e")>-1?i.width+=r:t.indexOf("w")>-1&&(i.width-=r,i.left+=r,s=!0),t.indexOf("s")>-1?i.height+=o:t.indexOf("n")>-1&&(i.height-=o,i.top+=o,a=!0);const l=this._constrainSize(i.width,i.height,s,a);return Math.round(i.width)!==Math.round(l.width)&&(t.indexOf("w")>-1&&(i.left+=i.width-l.width),i.width=l.width),Math.round(i.height)!==Math.round(l.height)&&(t.indexOf("n")>-1&&(i.top+=i.height-l.height),i.height=l.height),i}_constrainSize(e,t,n,i){const r=this.option,o=(n?r.maxWidthMoveLeft:r.maxWidth)||Number.MAX_SAFE_INTEGER,s=r.minWidth/this.rectScale.x||e,a=(i?r.maxHeightMoveUp:r.maxHeight)||Number.MAX_SAFE_INTEGER,l=r.minHeight/this.rectScale.y||t;return{width:Math.min(o,Math.max(s,e)),height:Math.min(a,Math.max(l,t))}}_applyChange(){let e={left:0,top:0,width:0,height:0};if("absolute"===this.el.style.position){const t=this.el.parentElement,{left:n,top:i}=t.getBoundingClientRect();e={left:n,top:i,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach((t=>{const n=this.temporalRect[t],i="width"===t||"left"===t?this.rectScale.x:"height"===t||"top"===t?this.rectScale.y:1;this.el.style[t]=(n-e[t])*i+"px"})),this):this}_removeHandlers(){return this.handlers.forEach((e=>e.destroy())),delete this.handlers,this}}k._originStyleProp=["width","height","position","left","top","opacity","zIndex"];class L extends R{constructor(e,t={}){super(),this.el=e,this.option=t,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0};const n=t.handle.substring(1),i=e.gridstackNode;this.dragEls=e.classList.contains(n)?[e]:i?.subGrid?[e.querySelector(t.handle)||e]:Array.from(e.querySelectorAll(t.handle)),0===this.dragEls.length&&(this.dragEls=[e]),this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this.enable()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){!1!==this.disabled&&(super.enable(),this.dragEls.forEach((e=>{e.addEventListener("mousedown",this._mouseDown),y&&(e.addEventListener("touchstart",O),e.addEventListener("pointerdown",A))})),this.el.classList.remove("ui-draggable-disabled"))}disable(e=!1){!0!==this.disabled&&(super.disable(),this.dragEls.forEach((e=>{e.removeEventListener("mousedown",this._mouseDown),y&&(e.removeEventListener("touchstart",O),e.removeEventListener("pointerdown",A))})),e||this.el.classList.add("ui-draggable-disabled"))}destroy(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.mouseDownEvent&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(e){return Object.keys(e).forEach((t=>this.option[t]=e[t])),this}_mouseDown(e){if(!v.mouseHandled)return 0!==e.button||!this.dragEls.find((t=>t===e.target))&&e.target.closest('input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle')||this.option.cancel&&e.target.closest(this.option.cancel)||(this.mouseDownEvent=e,delete this.dragging,delete v.dragElement,delete v.dropElement,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),y&&(e.target.addEventListener("touchmove",_),e.target.addEventListener("touchend",T)),e.preventDefault(),document.activeElement&&document.activeElement.blur(),v.mouseHandled=!0),!0}_callDrag(e){if(!this.dragging)return;const t=p.initEvent(e,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(t,this.ui()),this.triggerEvent("drag",t)}_mouseMove(e){let t=this.mouseDownEvent;if(this.lastDrag=e,this.dragging)if(this._dragFollow(e),v.pauseDrag){const t=Number.isInteger(v.pauseDrag)?v.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout((()=>this._callDrag(e)),t)}else this._callDrag(e);else if(Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>3){this.dragging=!0,v.dragElement=this;let t=this.el.gridstackNode?.grid;t?v.dropElement=t.el.ddElement.ddDroppable:delete v.dropElement,this.helper=this._createHelper(e),this._setupHelperContainmentStyle(),this.dragTransform=p.getValuesFromTransformedElement(this.helperContainment),this.dragOffset=this._getDragOffset(e,this.el,this.helperContainment),this._setupHelperStyle(e);const n=p.initEvent(e,{target:this.el,type:"dragstart"});this.option.start&&this.option.start(n,this.ui()),this.triggerEvent("dragstart",n),document.addEventListener("keydown",this._keyEvent)}return!0}_mouseUp(e){if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),y&&(e.target.removeEventListener("touchmove",_,!0),e.target.removeEventListener("touchend",T,!0)),this.dragging){delete this.dragging,delete this.el.gridstackNode?._origRotate,document.removeEventListener("keydown",this._keyEvent),v.dropElement?.el===this.el.parentElement&&delete v.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper===this.el?this._removeHelperStyle():this.helper.remove();const t=p.initEvent(e,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(t),this.triggerEvent("dragstop",t),v.dropElement&&v.dropElement.drop(e)}delete this.helper,delete this.mouseDownEvent,delete v.dragElement,delete v.dropElement,delete v.mouseHandled,e.preventDefault()}_keyEvent(e){const t=this.el.gridstackNode;if(!t?.grid)return;const n=t.grid;if("Escape"===e.key)t._origRotate&&(t._orig=t._origRotate,delete t._origRotate),n.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent);else if("r"===e.key||"R"===e.key){if(!p.canBeRotated(t))return;t._origRotate=t._origRotate||{...t._orig},delete t._moving,n.setAnimation(!1).rotate(t.el,{top:-this.dragOffset.offsetTop,left:-this.dragOffset.offsetLeft}).setAnimation(),t._moving=!0,this.dragOffset=this._getDragOffset(this.lastDrag,t.el,this.helperContainment),this.helper.style.width=this.dragOffset.width+"px",this.helper.style.height=this.dragOffset.height+"px",p.swap(t._orig,"w","h"),delete t._rect,this._mouseMove(this.lastDrag)}}_createHelper(e){let t=this.el;return"function"==typeof this.option.helper?t=this.option.helper(e):"clone"===this.option.helper&&(t=p.cloneNode(this.el)),document.body.contains(t)||p.appendTo(t,"parent"===this.option.appendTo?this.el.parentElement:this.option.appendTo),t===this.el&&(this.dragElementOriginStyle=L.originStyleProp.map((e=>this.el.style[e]))),t}_setupHelperStyle(e){this.helper.classList.add("ui-draggable-dragging");const t=this.helper.style;return t.pointerEvents="none",t.width=this.dragOffset.width+"px",t.height=this.dragOffset.height+"px",t.willChange="left, top",t.position="fixed",this._dragFollow(e),t.transition="none",setTimeout((()=>{this.helper&&(t.transition=null)}),0),this}_removeHelperStyle(){this.helper.classList.remove("ui-draggable-dragging");let e=this.helper?.gridstackNode;if(!e?._isAboutToRemove&&this.dragElementOriginStyle){let e=this.helper,t=this.dragElementOriginStyle.transition||null;e.style.transition=this.dragElementOriginStyle.transition="none",L.originStyleProp.forEach((t=>e.style[t]=this.dragElementOriginStyle[t]||null)),setTimeout((()=>e.style.transition=t),50)}return delete this.dragElementOriginStyle,this}_dragFollow(e){let t=0,n=0;const i=this.helper.style,r=this.dragOffset;i.left=(e.clientX+r.offsetLeft-t)*this.dragTransform.xScale+"px",i.top=(e.clientY+r.offsetTop-n)*this.dragTransform.yScale+"px"}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,"fixed"!==this.helper.style.position&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_getDragOffset(e,t,n){let i=0,r=0;n&&(i=this.dragTransform.xOffset,r=this.dragTransform.yOffset);const o=t.getBoundingClientRect();return{left:o.left,top:o.top,offsetLeft:-e.clientX+o.left-i,offsetTop:-e.clientY+o.top-r,width:o.width*this.dragTransform.xScale,height:o.height*this.dragTransform.yScale}}ui(){const e=this.el.parentElement.getBoundingClientRect(),t=this.helper.getBoundingClientRect();return{position:{top:(t.top-e.top)*this.dragTransform.yScale,left:(t.left-e.left)*this.dragTransform.xScale}}}}L.originStyleProp=["transition","pointerEvents","position","left","top","minWidth","willChange"];class M extends R{constructor(e,t={}){super(),this.el=e,this.option=t,this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this.enable(),this._setupAccept()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){!1!==this.disabled&&(super.enable(),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),y&&(this.el.addEventListener("pointerenter",w),this.el.addEventListener("pointerleave",N)))}disable(e=!1){!0!==this.disabled&&(super.disable(),this.el.classList.remove("ui-droppable"),e||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),y&&(this.el.removeEventListener("pointerenter",w),this.el.removeEventListener("pointerleave",N)))}destroy(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(e){return Object.keys(e).forEach((t=>this.option[t]=e[t])),this._setupAccept(),this}_mouseEnter(e){if(!v.dragElement)return;if(!this._canDrop(v.dragElement.el))return;e.preventDefault(),e.stopPropagation(),v.dropElement&&v.dropElement!==this&&v.dropElement._mouseLeave(e,!0),v.dropElement=this;const t=p.initEvent(e,{target:this.el,type:"dropover"});this.option.over&&this.option.over(t,this._ui(v.dragElement)),this.triggerEvent("dropover",t),this.el.classList.add("ui-droppable-over")}_mouseLeave(e,t=!1){if(!v.dragElement||v.dropElement!==this)return;e.preventDefault(),e.stopPropagation();const n=p.initEvent(e,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(n,this._ui(v.dragElement)),this.triggerEvent("dropout",n),v.dropElement===this&&(delete v.dropElement,!t)){let t,n=this.el.parentElement;for(;!t&&n;)t=n.ddElement?.ddDroppable,n=n.parentElement;t&&t._mouseEnter(e)}}drop(e){e.preventDefault();const t=p.initEvent(e,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(t,this._ui(v.dragElement)),this.triggerEvent("drop",t)}_canDrop(e){return e&&(!this.accept||this.accept(e))}_setupAccept(){return this.option.accept?("string"==typeof this.option.accept?this.accept=e=>e.classList.contains(this.option.accept)||e.matches(this.option.accept):this.accept=this.option.accept,this):this}_ui(e){return{draggable:e.el,...e.ui()}}}class D{static init(e){return e.ddElement||(e.ddElement=new D(e)),e.ddElement}constructor(e){this.el=e}on(e,t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.on(e,t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.on(e,t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.on(e,t),this}off(e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.off(e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.off(e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.off(e),this}setupDraggable(e){return this.ddDraggable?this.ddDraggable.updateOption(e):this.ddDraggable=new L(this.el,e),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(e){return this.ddResizable?this.ddResizable.updateOption(e):this.ddResizable=new k(this.el,e),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(e){return this.ddDroppable?this.ddDroppable.updateOption(e):this.ddDroppable=new M(this.el,e),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}const P=new class{resizable(e,t,n,i){return this._getDDElements(e).forEach((e=>{if("disable"===t||"enable"===t)e.ddResizable&&e.ddResizable[t]();else if("destroy"===t)e.ddResizable&&e.cleanResizable();else if("option"===t)e.setupResizable({[n]:i});else{const n=e.el.gridstackNode.grid;let i=e.el.getAttribute("gs-resize-handles")||n.opts.resizable.handles||"e,s,se";"all"===i&&(i="n,e,s,w,se,sw,ne,nw");const r=!n.opts.alwaysShowResizeHandle;e.setupResizable({...n.opts.resizable,handles:i,autoHide:r,start:t.start,stop:t.stop,resize:t.resize})}})),this}draggable(e,t,n,i){return this._getDDElements(e).forEach((e=>{if("disable"===t||"enable"===t)e.ddDraggable&&e.ddDraggable[t]();else if("destroy"===t)e.ddDraggable&&e.cleanDraggable();else if("option"===t)e.setupDraggable({[n]:i});else{const n=e.el.gridstackNode.grid;e.setupDraggable({...n.opts.draggable,start:t.start,stop:t.stop,drag:t.drag})}})),this}dragIn(e,t){return this._getDDElements(e).forEach((e=>e.setupDraggable(t))),this}droppable(e,t,n,i){return"function"!=typeof t.accept||t._accept||(t._accept=t.accept,t.accept=e=>t._accept(e)),this._getDDElements(e).forEach((e=>{"disable"===t||"enable"===t?e.ddDroppable&&e.ddDroppable[t]():"destroy"===t?e.ddDroppable&&e.cleanDroppable():"option"===t?e.setupDroppable({[n]:i}):e.setupDroppable(t)})),this}isDroppable(e){return!(!(e&&e.ddElement&&e.ddElement.ddDroppable)||e.ddElement.ddDroppable.disabled)}isDraggable(e){return!(!(e&&e.ddElement&&e.ddElement.ddDraggable)||e.ddElement.ddDraggable.disabled)}isResizable(e){return!(!(e&&e.ddElement&&e.ddElement.ddResizable)||e.ddElement.ddResizable.disabled)}on(e,t,n){return this._getDDElements(e).forEach((e=>e.on(t,(e=>{n(e,v.dragElement?v.dragElement.el:e.target,v.dragElement?v.dragElement.helper:null)})))),this}off(e,t){return this._getDDElements(e).forEach((e=>e.off(t))),this}_getDDElements(e,t=!0){let n=p.getElements(e);if(!n.length)return[];let i=n.map((e=>e.ddElement||(t?D.init(e):null)));return t||i.filter((e=>e)),i}};class C{static init(e={},t=".grid-stack"){if("undefined"==typeof document)return null;let n=C.getGridElement(t);return n?(n.gridstack||(n.gridstack=new C(n,p.cloneDeep(e))),n.gridstack):("string"==typeof t?console.error('GridStack.initAll() no grid was found with selector "'+t+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'):console.error("GridStack.init() no grid element was passed."),null)}static initAll(e={},t=".grid-stack"){let n=[];return"undefined"==typeof document||(C.getGridElements(t).forEach((t=>{t.gridstack||(t.gridstack=new C(t,p.cloneDeep(e))),n.push(t.gridstack)})),0===n.length&&console.error('GridStack.initAll() no grid was found with selector "'+t+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.')),n}static addGrid(e,t={}){if(!e)return null;let n=e;if(n.gridstack){const e=n.gridstack;return t&&(e.opts={...e.opts,...t}),void 0!==t.children&&e.load(t.children),e}if(!e.classList.contains("grid-stack")||C.addRemoveCB)if(C.addRemoveCB)n=C.addRemoveCB(e,t,!0,!0);else{let i=document.implementation.createHTMLDocument("");i.body.innerHTML=`<div class="grid-stack ${t.class||""}"></div>`,n=i.body.children[0],e.appendChild(n)}return C.init(t,n)}static registerEngine(e){C.engineClass=e}get placeholder(){if(!this._placeholder){let e=document.createElement("div");e.className="placeholder-content",this.opts.placeholderText&&(e.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,m.itemClass,this.opts.itemClass),this.placeholder.appendChild(e)}return this._placeholder}constructor(e,t={}){this.el=e,this.opts=t,this._gsEventHandler={},this._extraDragRow=0,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0},e.gridstack=this,t=t||{},e.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),t.row&&(t.minRow=t.maxRow=t.row,delete t.row);let n=p.toNumber(e.getAttribute("gs-row"));"auto"===t.column&&delete t.column,void 0!==t.alwaysShowResizeHandle&&(t._alwaysShowResizeHandle=t.alwaysShowResizeHandle);let i=t.columnOpts?.breakpoints;const r=t;if(r.oneColumnModeDomSort&&(delete r.oneColumnModeDomSort,console.log("warning: Gridstack oneColumnModeDomSort no longer supported. Use GridStackOptions.columnOpts instead.")),r.oneColumnSize||!1===r.disableOneColumnMode){const e=r.oneColumnSize||768;delete r.oneColumnSize,delete r.disableOneColumnMode,t.columnOpts=t.columnOpts||{},i=t.columnOpts.breakpoints=t.columnOpts.breakpoints||[];let n=i.find((e=>1===e.c));n?n.w=e:(n={c:1,w:e},i.push(n,{c:12,w:e+1}))}const o=t.columnOpts;o&&(o.columnWidth||o.breakpoints?.length?o.columnMax=o.columnMax||12:(delete t.columnOpts,i=void 0)),i?.length>1&&i.sort(((e,t)=>(t.w||0)-(e.w||0)));let s={...p.cloneDeep(m),column:p.toNumber(e.getAttribute("gs-column"))||m.column,minRow:n||(p.toNumber(e.getAttribute("gs-min-row"))||m.minRow),maxRow:n||(p.toNumber(e.getAttribute("gs-max-row"))||m.maxRow),staticGrid:p.toBool(e.getAttribute("gs-static"))||m.staticGrid,draggable:{handle:(t.handleClass?"."+t.handleClass:t.handle?t.handle:"")||m.draggable.handle},removableOptions:{accept:t.itemClass||m.removableOptions.accept,decline:m.removableOptions.decline}};e.getAttribute("gs-animate")&&(s.animate=p.toBool(e.getAttribute("gs-animate"))),t=p.defaults(t,s),this._initMargin(),this.checkDynamicColumn(),this.el.classList.add("gs-"+t.column),"auto"===t.rtl&&(t.rtl="rtl"===e.style.direction),t.rtl&&this.el.classList.add("grid-stack-rtl");const a=this.el.parentElement?.parentElement;let l=a?.classList.contains(m.itemClass)?a.gridstackNode:void 0;l&&(l.subGrid=this,this.parentGridItem=l,this.el.classList.add("grid-stack-nested"),l.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight="auto"===t.cellHeight,this._isAutoCellHeight||"initial"===t.cellHeight?this.cellHeight(void 0,!1):("number"==typeof t.cellHeight&&t.cellHeightUnit&&t.cellHeightUnit!==m.cellHeightUnit&&(t.cellHeight=t.cellHeight+t.cellHeightUnit,delete t.cellHeightUnit),this.cellHeight(t.cellHeight,!1)),"mobile"===t.alwaysShowResizeHandle&&(t.alwaysShowResizeHandle=y),this._styleSheetClass="gs-id-"+f._idSeq++,this.el.classList.add(this._styleSheetClass),this._setStaticClass();let c=t.engineClass||C.engineClass||f;if(this.engine=new c({column:this.getColumn(),float:t.float,maxRow:t.maxRow,onChange:e=>{let t=0;this.engine.nodes.forEach((e=>{t=Math.max(t,e.y+e.h)})),e.forEach((e=>{let t=e.el;t&&(e._removeDOM?(t&&t.remove(),delete e._removeDOM):this._writePosAttr(t,e))})),this._updateStyles(!1,t)}}),this._updateStyles(!1,0),t.auto&&(this.batchUpdate(),this.engine._loading=!0,this.getGridItems().forEach((e=>this._prepareElement(e))),delete this.engine._loading,this.batchUpdate(!1)),t.children){const e=t.children;delete t.children,e.length&&this.load(e)}this.setAnimation(),t.subGridDynamic&&!v.pauseDrag&&(v.pauseDrag=!0),void 0!==t.draggable?.pause&&(v.pauseDrag=t.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}addWidget(e,t){let n,i;if("string"==typeof e){let t=document.implementation.createHTMLDocument("");t.body.innerHTML=e,n=t.body.children[0]}else if(0===arguments.length||1===arguments.length&&(void 0!==(r=e).el||void 0!==r.x||void 0!==r.y||void 0!==r.w||void 0!==r.h||void 0!==r.content))if(i=t=e,i?.el)n=i.el;else if(C.addRemoveCB)n=C.addRemoveCB(this.el,t,!0,!1);else{let e=t?.content||"",i=document.implementation.createHTMLDocument("");i.body.innerHTML=`<div class="grid-stack-item ${this.opts.itemClass||""}"><div class="grid-stack-item-content">${e}</div></div>`,n=i.body.children[0]}else n=e;var r;if(!n)return;if(i=n.gridstackNode,i&&n.parentElement===this.el&&this.engine.nodes.find((e=>e._id===i._id)))return n;let o=this._readAttr(n);return t=p.cloneDeep(t)||{},p.defaults(t,o),i=this.engine.prepareNode(t),this._writeAttr(n,t),this.el.appendChild(n),this.makeWidget(n,t),n}makeSubGrid(e,t,n,i=!0){let r,o=e.gridstackNode;if(o||(o=this.makeWidget(e).gridstackNode),o.subGrid?.el)return o.subGrid;let s,a=this;for(;a&&!r;)r=a.opts?.subGridOpts,a=a.parentGridItem?.grid;t=p.cloneDeep({...r||{},children:void 0,...t||o.subGridOpts||{}}),o.subGridOpts=t,"auto"===t.column&&(s=!0,t.column=Math.max(o.w||1,n?.w||1),delete t.columnOpts);let l,c,u=o.el.querySelector(".grid-stack-item-content");if(i){if(this._removeDD(o.el),c={...o,x:0,y:0},p.removeInternalForSave(c),delete c.subGridOpts,o.content&&(c.content=o.content,delete o.content),C.addRemoveCB)l=C.addRemoveCB(this.el,c,!0,!1);else{let e=document.implementation.createHTMLDocument("");e.body.innerHTML='<div class="grid-stack-item"></div>',l=e.body.children[0],l.appendChild(u),e.body.innerHTML='<div class="grid-stack-item-content"></div>',u=e.body.children[0],o.el.appendChild(u)}this._prepareDragDropByNode(o)}if(n){let e=s?t.column:o.w,i=o.h+n.h,r=o.el.style;r.transition="none",this.update(o.el,{w:e,h:i}),setTimeout((()=>r.transition=null))}let d=o.subGrid=C.addGrid(u,t);return n?._moving&&(d._isTemp=!0),s&&(d._autoColumn=!0),i&&d.addWidget(l,c),n&&(n._moving?window.setTimeout((()=>p.simulateMouseEvent(n._event,"mouseenter",d.el)),0):d.addWidget(o.el,o)),d}removeAsSubGrid(e){let t=this.parentGridItem?.grid;t&&(t.batchUpdate(),t.removeWidget(this.parentGridItem.el,!0,!0),this.engine.nodes.forEach((e=>{e.x+=this.parentGridItem.x,e.y+=this.parentGridItem.y,t.addWidget(e.el,e)})),t.batchUpdate(!1),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,e&&window.setTimeout((()=>p.simulateMouseEvent(e._event,"mouseenter",t.el)),0))}save(e=!0,t=!1,n=C.saveCB){let i=this.engine.save(e,n);if(i.forEach((i=>{if(e&&i.el&&!i.subGrid&&!n){let e=i.el.querySelector(".grid-stack-item-content");i.content=e?e.innerHTML:void 0,i.content||delete i.content}else if(e||n||delete i.content,i.subGrid?.el){const r=i.subGrid.save(e,t,n);i.subGridOpts=t?r:{children:r},delete i.subGrid}delete i.el})),t){let e=p.cloneDeep(this.opts);e.marginBottom===e.marginTop&&e.marginRight===e.marginLeft&&e.marginTop===e.marginRight&&(e.margin=e.marginTop,delete e.marginTop,delete e.marginRight,delete e.marginBottom,delete e.marginLeft),e.rtl===("rtl"===this.el.style.direction)&&(e.rtl="auto"),this._isAutoCellHeight&&(e.cellHeight="auto"),this._autoColumn&&(e.column="auto");const t=e._alwaysShowResizeHandle;return delete e._alwaysShowResizeHandle,void 0!==t?e.alwaysShowResizeHandle=t:delete e.alwaysShowResizeHandle,p.removeInternalAndSame(e,m),e.children=i,e}return i}load(e,t=C.addRemoveCB||!0){e=p.cloneDeep(e);const n=this.getColumn();e.forEach((e=>{e.w=e.w||1,e.h=e.h||1})),e=p.sort(e);let i=0;e.forEach((e=>{i=Math.max(i,(e.x||0)+e.w)})),i>n&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(e,i,!0));const r=C.addRemoveCB;"function"==typeof t&&(C.addRemoveCB=t);let o=[];this.batchUpdate();const s=!this.engine.nodes.length;if(s&&this.setAnimation(!1),!s&&t){[...this.engine.nodes].forEach((t=>{if(!t.id)return;p.find(e,t.id)||(C.addRemoveCB&&C.addRemoveCB(this.el,t,!1,!1),o.push(t),this.removeWidget(t.el,!0,!1))}))}this.engine._loading=!0;let a=[];return this.engine.nodes=this.engine.nodes.filter((t=>!p.find(e,t.id)||(a.push(t),!1))),e.forEach((e=>{let n=p.find(a,e.id);if(n){if(p.shouldSizeToContent(n)&&(e.h=n.h),this.engine.nodeBoundFix(e),(e.autoPosition||void 0===e.x||void 0===e.y)&&(e.w=e.w||n.w,e.h=e.h||n.h,this.engine.findEmptyPosition(e)),this.engine.nodes.push(n),p.samePos(n,e)&&this.moveNode(n,{...e,forceCollide:!0}),this.update(n.el,e),e.subGridOpts?.children){let t=n.el.querySelector(".grid-stack");t&&t.gridstack&&t.gridstack.load(e.subGridOpts.children)}}else t&&this.addWidget(e)})),delete this.engine._loading,this.engine.removedNodes=o,this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,r?C.addRemoveCB=r:delete C.addRemoveCB,s&&this.opts?.animate&&this.setAnimation(this.opts.animate,!0),this}batchUpdate(e=!0){return this.engine.batchUpdate(e),e||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this}getCellHeight(e=!1){if(this.opts.cellHeight&&"auto"!==this.opts.cellHeight&&(!e||!this.opts.cellHeightUnit||"px"===this.opts.cellHeightUnit))return this.opts.cellHeight;if("rem"===this.opts.cellHeightUnit)return this.opts.cellHeight*parseFloat(getComputedStyle(document.documentElement).fontSize);if("em"===this.opts.cellHeightUnit)return this.opts.cellHeight*parseFloat(getComputedStyle(this.el).fontSize);if("cm"===this.opts.cellHeightUnit)return this.opts.cellHeight*(96/2.54);if("mm"===this.opts.cellHeightUnit)return this.opts.cellHeight*(96/2.54)/10;let t=this.el.querySelector("."+this.opts.itemClass);if(t){let e=p.toNumber(t.getAttribute("gs-h"))||1;return Math.round(t.offsetHeight/e)}let n=parseInt(this.el.getAttribute("gs-current-row"));return n?Math.round(this.el.getBoundingClientRect().height/n):this.opts.cellHeight}cellHeight(e,t=!0){if(t&&void 0!==e&&this._isAutoCellHeight!==("auto"===e)&&(this._isAutoCellHeight="auto"===e,this._updateResizeEvent()),"initial"!==e&&"auto"!==e||(e=void 0),void 0===e){let t=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;e=this.cellWidth()+t}let n=p.parseHeight(e);return this.opts.cellHeightUnit===n.unit&&this.opts.cellHeight===n.h||(this.opts.cellHeightUnit=n.unit,this.opts.cellHeight=n.h,this.resizeToContentCheck(),t&&this._updateStyles(!0)),this}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(e=!1){return e&&this.opts.columnOpts?.breakpointForWindow?window.innerWidth:this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}checkDynamicColumn(){const e=this.opts.columnOpts;if(!e||!e.columnWidth&&!e.breakpoints?.length)return!1;const t=this.getColumn();let n=t;const i=this._widthOrContainer(!0);if(e.columnWidth)n=Math.min(Math.round(i/e.columnWidth)||1,e.columnMax);else{n=e.columnMax;let r=0;for(;r<e.breakpoints.length&&i<=e.breakpoints[r].w;)n=e.breakpoints[r++].c||t}if(n!==t){const t=e.breakpoints?.find((e=>e.c===n));return this.column(n,t?.layout||e.layout),!0}return!1}compact(e="compact",t=!0){return this.engine.compact(e,t),this._triggerChangeEvent(),this}column(e,t="moveScale"){if(!e||e<1||this.opts.column===e)return this;let n=this.getColumn();return this.opts.column=e,this.engine?(this.engine.column=e,this.el.classList.remove("gs-"+n),this.el.classList.add("gs-"+e),this.engine.columnChanged(n,e,t),this._isAutoCellHeight&&this.cellHeight(),this.resizeToContentCheck(!0),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this):this}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter((e=>e.matches("."+this.opts.itemClass)&&!e.matches("."+this.opts.placeholderClass)))}destroy(e=!0){if(this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),e?this.el.parentNode.removeChild(this.el):(this.removeAll(e),this.el.classList.remove(this._styleSheetClass),this.el.removeAttribute("gs-current-row")),this._removeStylesheet(),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(e){return this.opts.float!==e&&(this.opts.float=this.engine.float=e,this._triggerChangeEvent()),this}getFloat(){return this.engine.float}getCellFromPixel(e,t=!1){let n,i=this.el.getBoundingClientRect();n=t?{top:i.top+document.documentElement.scrollTop,left:i.left}:{top:this.el.offsetTop,left:this.el.offsetLeft};let r=e.left-n.left,o=e.top-n.top,s=i.width/this.getColumn(),a=i.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(r/s),y:Math.floor(o/a)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow)}isAreaEmpty(e,t,n,i){return this.engine.isAreaEmpty(e,t,n,i)}makeWidget(e,t){let n=C.getElement(e);this._prepareElement(n,!0,t);const i=n.gridstackNode;return this._updateContainerHeight(),i.subGridOpts&&this.makeSubGrid(n,i.subGridOpts,void 0,!1),1===this.opts.column&&(this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,n}on(e,t){if(-1!==e.indexOf(" ")){return e.split(" ").forEach((e=>this.on(e,t))),this}if("change"===e||"added"===e||"removed"===e||"enable"===e||"disable"===e){let n="enable"===e||"disable"===e;this._gsEventHandler[e]=n?e=>t(e):e=>t(e,e.detail),this.el.addEventListener(e,this._gsEventHandler[e])}else"drag"===e||"dragstart"===e||"dragstop"===e||"resizestart"===e||"resize"===e||"resizestop"===e||"dropped"===e||"resizecontent"===e?this._gsEventHandler[e]=t:console.error("GridStack.on("+e+") event not supported");return this}off(e){if(-1!==e.indexOf(" ")){return e.split(" ").forEach((e=>this.off(e))),this}return"change"!==e&&"added"!==e&&"removed"!==e&&"enable"!==e&&"disable"!==e||this._gsEventHandler[e]&&this.el.removeEventListener(e,this._gsEventHandler[e]),delete this._gsEventHandler[e],this}offAll(){return Object.keys(this._gsEventHandler).forEach((e=>this.off(e))),this}removeWidget(e,t=!0,n=!0){return C.getElements(e).forEach((e=>{if(e.parentElement&&e.parentElement!==this.el)return;let i=e.gridstackNode;i||(i=this.engine.nodes.find((t=>e===t.el))),i&&(t&&C.addRemoveCB&&C.addRemoveCB(this.el,i,!1,!1),delete e.gridstackNode,this._removeDD(e),this.engine.removeNode(i,t,n),t&&e.parentElement&&e.remove())})),n&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this}removeAll(e=!0,t=!0){return this.engine.nodes.forEach((t=>{e&&C.addRemoveCB&&C.addRemoveCB(this.el,t,!1,!1),delete t.el.gridstackNode,this.opts.staticGrid||this._removeDD(t.el)})),this.engine.removeAll(e,t),t&&this._triggerRemoveEvent(),this}setAnimation(e=this.opts.animate,t){return t?setTimeout((()=>{this.opts&&this.setAnimation(e)})):e?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}hasAnimationCSS(){return this.el.classList.contains("grid-stack-animate")}setStatic(e,t=!0,n=!0){return!!this.opts.staticGrid===e||(e?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach((i=>{this._prepareDragDropByNode(i),i.subGrid&&n&&i.subGrid.setStatic(e,t,n)})),t&&this._setStaticClass()),this}update(e,t){if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");let n=arguments,i=1;return t={x:n[i++],y:n[i++],w:n[i++],h:n[i++]},this.update(e,t)}return C.getElements(e).forEach((e=>{let n=e?.gridstackNode;if(!n)return;let i=p.cloneDeep(t);this.engine.nodeBoundFix(i),delete i.autoPosition,delete i.id;let r,o=["x","y","w","h"];if(o.some((e=>void 0!==i[e]&&i[e]!==n[e]))&&(r={},o.forEach((e=>{r[e]=void 0!==i[e]?i[e]:n[e],delete i[e]}))),!r&&(i.minW||i.minH||i.maxW||i.maxH)&&(r={}),void 0!==i.content){const t=e.querySelector(".grid-stack-item-content");t&&t.innerHTML!==i.content&&(t.innerHTML=i.content,n.subGrid?.el&&(t.appendChild(n.subGrid.el),n.subGrid.opts.styleInHead||n.subGrid._updateStyles(!0))),delete i.content}let s=!1,a=!1;for(const e in i)"_"!==e[0]&&n[e]!==i[e]&&(n[e]=i[e],s=!0,a=a||!this.opts.staticGrid&&("noResize"===e||"noMove"===e||"locked"===e));if(p.sanitizeMinMax(n),r){const e=void 0!==r.w&&r.w!==n.w;this.moveNode(n,r),this.resizeToContentCheck(e,n),delete n._orig}(r||s)&&this._writeAttr(e,n),a&&this._prepareDragDropByNode(n)})),this}moveNode(e,t){const n=e._updating;n||this.engine.cleanNodes().beginUpdate(e),this.engine.moveNode(e,t),this._updateContainerHeight(),n||(this._triggerChangeEvent(),this.engine.endUpdate())}resizeToContent(e){if(!e)return;if(e.classList.remove("size-to-content-max"),!e.clientHeight)return;const t=e.gridstackNode;if(!t)return;const n=t.grid;if(!n||e.parentElement!==n.el)return;const i=n.getCellHeight(!0);if(!i)return;let r,o=t.h?t.h*i:e.clientHeight;if(t.resizeToContentParent&&(r=e.querySelector(t.resizeToContentParent)),r||(r=e.querySelector(C.resizeToContentParent)),!r)return;const s=e.clientHeight-r.clientHeight,a=t.h?t.h*i-s:r.clientHeight;let l;if(t.subGrid)l=t.subGrid.getRow()*t.subGrid.getCellHeight(!0);else{if(t.subGridOpts?.children?.length)return;{const e=r.firstElementChild;if(!e)return void console.error(`Error: GridStack.resizeToContent() widget id:${t.id} '${C.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);l=e.getBoundingClientRect().height||a}}if(a===l)return;o+=l-a;let c=Math.ceil(o/i);const u=Number.isInteger(t.sizeToContent)?t.sizeToContent:0;u&&c>u&&(c=u,e.classList.add("size-to-content-max")),t.minH&&c<t.minH?c=t.minH:t.maxH&&c>t.maxH&&(c=t.maxH),c!==t.h&&(n._ignoreLayoutsNodeChange=!0,n.moveNode(t,{h:c}),delete n._ignoreLayoutsNodeChange)}resizeToContentCBCheck(e){C.resizeToContentCB?C.resizeToContentCB(e):this.resizeToContent(e)}rotate(e,t){return C.getElements(e).forEach((e=>{let n=e.gridstackNode;if(!p.canBeRotated(n))return;const i={w:n.h,h:n.w,minH:n.minW,minW:n.minH,maxH:n.maxW,maxW:n.maxH};if(t){let e=t.left>0?Math.floor(t.left/this.cellWidth()):0,r=t.top>0?Math.floor(t.top/this.opts.cellHeight):0;i.x=n.x+e-(n.h-(r+1)),i.y=n.y+r-e}Object.keys(i).forEach((e=>{void 0===i[e]&&delete i[e]}));const r=n._orig;this.update(e,i),n._orig=r})),this}margin(e){if(!("string"==typeof e&&e.split(" ").length>1)){let t=p.parseHeight(e);if(this.opts.marginUnit===t.unit&&this.opts.margin===t.h)return}return this.opts.margin=e,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this}getMargin(){return this.opts.margin}willItFit(e){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");let e=arguments,t=0,n={x:e[t++],y:e[t++],w:e[t++],h:e[t++],autoPosition:e[t++]};return this.willItFit(n)}return this.engine.willItFit(e)}_triggerChangeEvent(){if(this.engine.batchMode)return this;let e=this.engine.getDirtyNodes(!0);return e&&e.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(e),this._triggerEvent("change",e)),this.engine.saveInitial(),this}_triggerAddEvent(){if(this.engine.batchMode)return this;if(this.engine.addedNodes?.length){this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach((e=>{delete e._dirty}));const e=[...this.engine.addedNodes];this.engine.addedNodes=[],this._triggerEvent("added",e)}return this}_triggerRemoveEvent(){if(this.engine.batchMode)return this;if(this.engine.removedNodes?.length){const e=[...this.engine.removedNodes];this.engine.removedNodes=[],this._triggerEvent("removed",e)}return this}_triggerEvent(e,t){let n=t?new CustomEvent(e,{bubbles:!1,detail:t}):new Event(e);return this.el.dispatchEvent(n),this}_removeStylesheet(){if(this._styles){const e=this.opts.styleInHead?void 0:this.el.parentNode;p.removeStylesheet(this._styleSheetClass,e),delete this._styles}return this}_updateStyles(e=!1,t){if(e&&this._removeStylesheet(),void 0===t&&(t=this.getRow()),this._updateContainerHeight(),0===this.opts.cellHeight)return this;let n=this.opts.cellHeight,i=this.opts.cellHeightUnit,r=`.${this._styleSheetClass} > .${this.opts.itemClass}`;if(!this._styles){const e=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=p.createStylesheet(this._styleSheetClass,e,{nonce:this.opts.nonce}),!this._styles)return this;this._styles._max=0,p.addCSSRule(this._styles,r,`height: ${n}${i}`);let t=this.opts.marginTop+this.opts.marginUnit,o=this.opts.marginBottom+this.opts.marginUnit,s=this.opts.marginRight+this.opts.marginUnit,a=this.opts.marginLeft+this.opts.marginUnit,l=`${r} > .grid-stack-item-content`,c=`.${this._styleSheetClass} > .grid-stack-placeholder > .placeholder-content`;p.addCSSRule(this._styles,l,`top: ${t}; right: ${s}; bottom: ${o}; left: ${a};`),p.addCSSRule(this._styles,c,`top: ${t}; right: ${s}; bottom: ${o}; left: ${a};`),p.addCSSRule(this._styles,`${r} > .ui-resizable-n`,`top: ${t};`),p.addCSSRule(this._styles,`${r} > .ui-resizable-s`,`bottom: ${o}`),p.addCSSRule(this._styles,`${r} > .ui-resizable-ne`,`right: ${s}`),p.addCSSRule(this._styles,`${r} > .ui-resizable-e`,`right: ${s}`),p.addCSSRule(this._styles,`${r} > .ui-resizable-se`,`right: ${s}; bottom: ${o}`),p.addCSSRule(this._styles,`${r} > .ui-resizable-nw`,`left: ${a}`),p.addCSSRule(this._styles,`${r} > .ui-resizable-w`,`left: ${a}`),p.addCSSRule(this._styles,`${r} > .ui-resizable-sw`,`left: ${a}; bottom: ${o}`)}if((t=t||this._styles._max)>this._styles._max){let e=e=>n*e+i;for(let n=this._styles._max+1;n<=t;n++)p.addCSSRule(this._styles,`${r}[gs-y="${n}"]`,`top: ${e(n)}`),p.addCSSRule(this._styles,`${r}[gs-h="${n+1}"]`,`height: ${e(n+1)}`);this._styles._max=t}return this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;const e=this.parentGridItem;let t=this.getRow()+this._extraDragRow;const n=this.opts.cellHeight,i=this.opts.cellHeightUnit;if(!n)return this;if(!e){const e=p.parseHeight(getComputedStyle(this.el).minHeight);if(e.h>0&&e.unit===i){const i=Math.floor(e.h/n);t<i&&(t=i)}}return this.el.setAttribute("gs-current-row",String(t)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),t&&(this.el.style[e?"minHeight":"height"]=t*n+i),e&&!e.grid.engine.batchMode&&p.shouldSizeToContent(e)&&e.grid.resizeToContentCBCheck(e.el),this}_prepareElement(e,t=!1,n){n=n||this._readAttr(e),e.gridstackNode=n,n.el=e,n.grid=this,n=this.engine.addNode(n,t),this._writeAttr(e,n),e.classList.add(m.itemClass,this.opts.itemClass);const i=p.shouldSizeToContent(n);return i?e.classList.add("size-to-content"):e.classList.remove("size-to-content"),i&&this.resizeToContentCheck(!1,n),this._prepareDragDropByNode(n),this}_writePosAttr(e,t){return void 0!==t.x&&null!==t.x&&e.setAttribute("gs-x",String(t.x)),void 0!==t.y&&null!==t.y&&e.setAttribute("gs-y",String(t.y)),t.w>1?e.setAttribute("gs-w",String(t.w)):e.removeAttribute("gs-w"),t.h>1?e.setAttribute("gs-h",String(t.h)):e.removeAttribute("gs-h"),this}_writeAttr(e,t){if(!t)return this;this._writePosAttr(e,t);let n={autoPosition:"gs-auto-position",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id"};for(const i in n)t[i]?e.setAttribute(n[i],String(t[i])):e.removeAttribute(n[i]);return this}_readAttr(e,t=!0){let n={};n.x=p.toNumber(e.getAttribute("gs-x")),n.y=p.toNumber(e.getAttribute("gs-y")),n.w=p.toNumber(e.getAttribute("gs-w")),n.h=p.toNumber(e.getAttribute("gs-h")),n.autoPosition=p.toBool(e.getAttribute("gs-auto-position")),n.noResize=p.toBool(e.getAttribute("gs-no-resize")),n.noMove=p.toBool(e.getAttribute("gs-no-move")),n.locked=p.toBool(e.getAttribute("gs-locked")),n.id=e.getAttribute("gs-id"),n.maxW=p.toNumber(e.getAttribute("gs-max-w")),n.minW=p.toNumber(e.getAttribute("gs-min-w")),n.maxH=p.toNumber(e.getAttribute("gs-max-h")),n.minH=p.toNumber(e.getAttribute("gs-min-h")),t&&(1===n.w&&e.removeAttribute("gs-w"),1===n.h&&e.removeAttribute("gs-h"),n.maxW&&e.removeAttribute("gs-max-w"),n.minW&&e.removeAttribute("gs-min-w"),n.maxH&&e.removeAttribute("gs-max-h"),n.minH&&e.removeAttribute("gs-min-h"));for(const e in n){if(!n.hasOwnProperty(e))return;n[e]||0===n[e]||delete n[e]}return n}_setStaticClass(){let e=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...e),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...e),this.el.removeAttribute("gs-static")),this}onResize(){if(!this.el?.clientWidth)return;if(this.prevWidth===this.el.clientWidth)return;this.prevWidth=this.el.clientWidth,this.batchUpdate();let e=!1;return this._autoColumn&&this.parentGridItem?this.opts.column!==this.parentGridItem.w&&(this.column(this.parentGridItem.w,"none"),e=!0):e=this.checkDynamicColumn(),this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach((e=>{e.subGrid&&e.subGrid.onResize()})),this._skipInitialResize||this.resizeToContentCheck(e),delete this._skipInitialResize,this.batchUpdate(!1),this}resizeToContentCheck(e=!1,t=void 0){if(this.engine){if(e&&this.hasAnimationCSS())return setTimeout((()=>this.resizeToContentCheck(!1,t)),310);if(t)p.shouldSizeToContent(t)&&this.resizeToContentCBCheck(t.el);else if(this.engine.nodes.some((e=>p.shouldSizeToContent(e)))){const e=[...this.engine.nodes];this.batchUpdate(),e.forEach((e=>{p.shouldSizeToContent(e)&&this.resizeToContentCBCheck(e.el)})),this.batchUpdate(!1)}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,t?[t]:this.engine.nodes)}}_updateResizeEvent(e=!1){const t=!this.parentGridItem&&(this._isAutoCellHeight||this.opts.sizeToContent||this.opts.columnOpts||this.engine.nodes.find((e=>e.sizeToContent)));return e||!t||this.resizeObserver?!e&&t||!this.resizeObserver||(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle):(this._sizeThrottle=p.throttle((()=>this.onResize()),this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver((()=>this._sizeThrottle())),this.resizeObserver.observe(this.el),this._skipInitialResize=!0),this}static getElement(e=".grid-stack-item"){return p.getElement(e)}static getElements(e=".grid-stack-item"){return p.getElements(e)}static getGridElement(e){return C.getElement(e)}static getGridElements(e){return p.getElements(e)}_initMargin(){let e,t=0,n=[];return"string"==typeof this.opts.margin&&(n=this.opts.margin.split(" ")),2===n.length?(this.opts.marginTop=this.opts.marginBottom=n[0],this.opts.marginLeft=this.opts.marginRight=n[1]):4===n.length?(this.opts.marginTop=n[0],this.opts.marginRight=n[1],this.opts.marginBottom=n[2],this.opts.marginLeft=n[3]):(e=p.parseHeight(this.opts.margin),this.opts.marginUnit=e.unit,t=this.opts.margin=e.h),void 0===this.opts.marginTop?this.opts.marginTop=t:(e=p.parseHeight(this.opts.marginTop),this.opts.marginTop=e.h,delete this.opts.margin),void 0===this.opts.marginBottom?this.opts.marginBottom=t:(e=p.parseHeight(this.opts.marginBottom),this.opts.marginBottom=e.h,delete this.opts.margin),void 0===this.opts.marginRight?this.opts.marginRight=t:(e=p.parseHeight(this.opts.marginRight),this.opts.marginRight=e.h,delete this.opts.margin),void 0===this.opts.marginLeft?this.opts.marginLeft=t:(e=p.parseHeight(this.opts.marginLeft),this.opts.marginLeft=e.h,delete this.opts.margin),this.opts.marginUnit=e.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}static getDD(){return P}static setupDragIn(e,t,n=document){void 0!==t?.pause&&(v.pauseDrag=t.pause),t={...g,...t||{}};let i="string"==typeof e?p.getElements(e,n):e;i.length&&i?.forEach((e=>{P.isDraggable(e)||P.dragIn(e,t)}))}movable(e,t){return this.opts.staticGrid||C.getElements(e).forEach((e=>{const n=e.gridstackNode;n&&(t?delete n.noMove:n.noMove=!0,this._prepareDragDropByNode(n))})),this}resizable(e,t){return this.opts.staticGrid||C.getElements(e).forEach((e=>{let n=e.gridstackNode;n&&(t?delete n.noResize:n.noResize=!0,this._prepareDragDropByNode(n))})),this}disable(e=!0){if(!this.opts.staticGrid)return this.enableMove(!1,e),this.enableResize(!1,e),this._triggerEvent("disable"),this}enable(e=!0){if(!this.opts.staticGrid)return this.enableMove(!0,e),this.enableResize(!0,e),this._triggerEvent("enable"),this}enableMove(e,t=!0){return this.opts.staticGrid||(e?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach((n=>{this._prepareDragDropByNode(n),n.subGrid&&t&&n.subGrid.enableMove(e,t)}))),this}enableResize(e,t=!0){return this.opts.staticGrid||(e?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach((n=>{this._prepareDragDropByNode(n),n.subGrid&&t&&n.subGrid.enableResize(e,t)}))),this}_removeDD(e){return P.draggable(e,"destroy").resizable(e,"destroy"),e.gridstackNode&&delete e.gridstackNode._initDD,delete e.ddElement,this}_setupAcceptWidget(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return P.droppable(this.el,"destroy"),this;let e,t,n=(n,i,r)=>{let o=i.gridstackNode;if(!o)return;if(r=r||i,!o.grid?.el){r.style.transform=`scale(${1/this.dragTransform.xScale},${1/this.dragTransform.yScale})`;const e=r.getBoundingClientRect();r.style.left=e.x+(this.dragTransform.xScale-1)*(n.clientX-e.x)/this.dragTransform.xScale+"px",r.style.top=e.y+(this.dragTransform.yScale-1)*(n.clientY-e.y)/this.dragTransform.yScale+"px",r.style.transformOrigin="0px 0px"}let s=this.el.getBoundingClientRect(),{top:a,left:l}=r.getBoundingClientRect();l-=s.left,a-=s.top;let c={position:{top:a*this.dragTransform.xScale,left:l*this.dragTransform.yScale}};if(o._temporaryRemoved){if(o.x=Math.max(0,Math.round(l/t)),o.y=Math.max(0,Math.round(a/e)),delete o.autoPosition,this.engine.nodeBoundFix(o),!this.engine.willItFit(o)){if(o.autoPosition=!0,!this.engine.willItFit(o))return void P.off(i,"drag");o._willFitPos&&(p.copyPos(o,o._willFitPos),delete o._willFitPos)}this._onStartMoving(r,n,c,o,t,e)}else this._dragOrResize(r,n,c,o,t,e)};return P.droppable(this.el,{accept:e=>{let t=e.gridstackNode||this._readAttr(e,!1);if(t?.grid===this)return!0;if(!this.opts.acceptWidgets)return!1;let n=!0;if("function"==typeof this.opts.acceptWidgets)n=this.opts.acceptWidgets(e);else{let t=!0===this.opts.acceptWidgets?".grid-stack-item":this.opts.acceptWidgets;n=e.matches(t)}if(n&&t&&this.opts.maxRow){let e={w:t.w,h:t.h,minW:t.minW,minH:t.minH};n=this.engine.willItFit(e)}return n}}).on(this.el,"dropover",((i,r,o)=>{let s=r.gridstackNode;if(s?.grid===this&&!s._temporaryRemoved)return!1;if(s?.grid&&s.grid!==this&&!s._temporaryRemoved){s.grid._leave(r,o)}t=this.cellWidth(),e=this.getCellHeight(!0),s||(s=this._readAttr(r,!1)),s.grid||(s._isExternal=!0,r.gridstackNode=s),o=o||r;let a=s.w||Math.round(o.offsetWidth/t)||1,l=s.h||Math.round(o.offsetHeight/e)||1;return s.grid&&s.grid!==this?(r._gridstackNodeOrig||(r._gridstackNodeOrig=s),r.gridstackNode=s={...s,w:a,h:l,grid:this},delete s.x,delete s.y,this.engine.cleanupNode(s).nodeBoundFix(s),s._initDD=s._isExternal=s._temporaryRemoved=!0):(s.w=a,s.h=l,s._temporaryRemoved=!0),C._itemRemoving(s.el,!1),P.on(r,"drag",n),n(i,r,o),!1})).on(this.el,"dropout",((e,t,n)=>{let i=t.gridstackNode;return!!i&&(i.grid&&i.grid!==this||(this._leave(t,n),this._isTemp&&this.removeAsSubGrid(i)),!1)})).on(this.el,"drop",((e,t,n)=>{let i=t.gridstackNode;if(i?.grid===this&&!i._isExternal)return!1;const r=!!this.placeholder.parentElement;this.placeholder.remove();const o=r&&this.opts.animate;o&&this.setAnimation(!1);let s=t._gridstackNodeOrig;if(delete t._gridstackNodeOrig,r&&s?.grid&&s.grid!==this){let e=s.grid;e.engine.removeNodeFromLayoutCache(s),e.engine.removedNodes.push(s),e._triggerRemoveEvent()._triggerChangeEvent(),e.parentGridItem&&!e.engine.nodes.length&&e.opts.subGridDynamic&&e.removeAsSubGrid()}if(!i)return!1;if(r&&(this.engine.cleanupNode(i),i.grid=this),delete i.grid?._isTemp,P.off(t,"drag"),n!==t?(n.remove(),t.gridstackNode=s,r&&(t=t.cloneNode(!0))):(t.remove(),this._removeDD(t)),!r)return!1;t.gridstackNode=i,i.el=t;let a=i.subGrid?.el?.gridstack;return p.copyPos(i,this._readAttr(this.placeholder)),p.removePositioningStyles(t),this.el.appendChild(t),this._prepareElement(t,!0,i),a&&(a.parentGridItem=i,a.opts.styleInHead||a._updateStyles(!0)),this._updateContainerHeight(),this.engine.addedNodes.push(i),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped({...e,type:"dropped"},s&&s.grid?s:void 0,i),o&&this.setAnimation(this.opts.animate,!0),!1})),this}static _itemRemoving(e,t){const n=e?e.gridstackNode:void 0;n?.grid&&!e.classList.contains(n.grid.opts.removableOptions.decline)&&(t?n._isAboutToRemove=!0:delete n._isAboutToRemove,t?e.classList.add("grid-stack-item-removing"):e.classList.remove("grid-stack-item-removing"))}_setupRemoveDrop(){if("string"!=typeof this.opts.removable)return this;let e=document.querySelector(this.opts.removable);return e?(this.opts.staticGrid||P.isDroppable(e)||P.droppable(e,this.opts.removableOptions).on(e,"dropover",((e,t)=>C._itemRemoving(t,!0))).on(e,"dropout",((e,t)=>C._itemRemoving(t,!1))),this):this}_prepareDragDropByNode(e){let t=e.el;const n=e.noMove||this.opts.disableDrag,i=e.noResize||this.opts.disableResize;if(this.opts.staticGrid||n&&i)return e._initDD&&(this._removeDD(t),delete e._initDD),t.classList.add("ui-draggable-disabled","ui-resizable-disabled"),this;if(!e._initDD){let n,i,r=(r,o)=>{this._gsEventHandler[r.type]&&this._gsEventHandler[r.type](r,r.target),n=this.cellWidth(),i=this.getCellHeight(!0),this._onStartMoving(t,r,o,e,n,i)},o=(r,o)=>{this._dragOrResize(t,r,o,e,n,i)},s=n=>{this.placeholder.remove(),delete e._moving,delete e._event,delete e._lastTried;const i=e.w!==e._orig.w;let r=n.target;if(r.gridstackNode&&r.gridstackNode.grid===this){if(e.el=r,e._isAboutToRemove){let i=t.gridstackNode.grid;i._gsEventHandler[n.type]&&i._gsEventHandler[n.type](n,r),i.engine.nodes.push(e),i.removeWidget(t,!0,!0)}else p.removePositioningStyles(r),e._temporaryRemoved?(p.copyPos(e,e._orig),this._writePosAttr(r,e),this.engine.addNode(e)):this._writePosAttr(r,e),this._gsEventHandler[n.type]&&this._gsEventHandler[n.type](n,r);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),"resizestop"===n.type&&(Number.isInteger(e.sizeToContent)&&(e.sizeToContent=e.h),this.resizeToContentCheck(i,e))}};P.draggable(t,{start:r,stop:s,drag:o}).resizable(t,{start:r,stop:s,resize:o}),e._initDD=!0}return P.draggable(t,n?"disable":"enable").resizable(t,i?"disable":"enable"),this}_onStartMoving(e,t,n,i,r,o){if(this.engine.cleanNodes().beginUpdate(i),this._writePosAttr(this.placeholder,i),this.el.appendChild(this.placeholder),this.placeholder.gridstackNode=i,i.grid?.el)this.dragTransform=p.getValuesFromTransformedElement(e);else if(this.placeholder&&this.placeholder.closest(".grid-stack")){const e=this.placeholder.closest(".grid-stack");this.dragTransform=p.getValuesFromTransformedElement(e)}else this.dragTransform={xScale:1,xOffset:0,yScale:1,yOffset:0};if(i.el=this.placeholder,i._lastUiPosition=n.position,i._prevYPix=n.position.top,i._moving="dragstart"===t.type,delete i._lastTried,"dropover"===t.type&&i._temporaryRemoved&&(this.engine.addNode(i),i._moving=!0),this.engine.cacheRects(r,o,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),"resizestart"===t.type){const t=this.getColumn()-i.x,n=(this.opts.maxRow||Number.MAX_SAFE_INTEGER)-i.y;P.resizable(e,"option","minWidth",r*Math.min(i.minW||1,t)).resizable(e,"option","minHeight",o*Math.min(i.minH||1,n)).resizable(e,"option","maxWidth",r*Math.min(i.maxW||Number.MAX_SAFE_INTEGER,t)).resizable(e,"option","maxWidthMoveLeft",r*Math.min(i.maxW||Number.MAX_SAFE_INTEGER,i.x+i.w)).resizable(e,"option","maxHeight",o*Math.min(i.maxH||Number.MAX_SAFE_INTEGER,n)).resizable(e,"option","maxHeightMoveUp",o*Math.min(i.maxH||Number.MAX_SAFE_INTEGER,i.y+i.h))}}_dragOrResize(e,t,n,i,r,o){let s,a={...i._orig},l=this.opts.marginLeft,c=this.opts.marginRight,u=this.opts.marginTop,d=this.opts.marginBottom,h=Math.round(.1*o),f=Math.round(.1*r);if(l=Math.min(l,f),c=Math.min(c,f),u=Math.min(u,h),d=Math.min(d,h),"drag"===t.type){if(i._temporaryRemoved)return;let t=n.position.top-i._prevYPix;i._prevYPix=n.position.top,!1!==this.opts.draggable.scroll&&p.updateScrollPosition(e,n.position,t);let s=n.position.left+(n.position.left>i._lastUiPosition.left?-c:l),h=n.position.top+(n.position.top>i._lastUiPosition.top?-d:u);a.x=Math.round(s/r),a.y=Math.round(h/o);let f=this._extraDragRow;if(this.engine.collide(i,a)){let e=this.getRow(),t=Math.max(0,a.y+i.h-e);this.opts.maxRow&&e+t>this.opts.maxRow&&(t=Math.max(0,this.opts.maxRow-e)),this._extraDragRow=t}else this._extraDragRow=0;if(this._extraDragRow!==f&&this._updateContainerHeight(),i.x===a.x&&i.y===a.y)return}else if("resize"===t.type){if(a.x<0)return;if(p.updateScrollResize(t,e,o),a.w=Math.round((n.size.width-l)/r),a.h=Math.round((n.size.height-u)/o),i.w===a.w&&i.h===a.h)return;if(i._lastTried&&i._lastTried.w===a.w&&i._lastTried.h===a.h)return;let c=n.position.left+l,d=n.position.top+u;a.x=Math.round(c/r),a.y=Math.round(d/o),s=!0}i._event=t,i._lastTried=a;let m={x:n.position.left+l,y:n.position.top+u,w:(n.size?n.size.width:i.w*r)-l-c,h:(n.size?n.size.height:i.h*o)-u-d};if(this.engine.moveNodeCheck(i,{...a,cellWidth:r,cellHeight:o,rect:m,resizing:s})){i._lastUiPosition=n.position,this.engine.cacheRects(r,o,u,c,d,l),delete i._skipDown,s&&i.subGrid&&i.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();let e=t.target;this._writePosAttr(e,i),this._gsEventHandler[t.type]&&this._gsEventHandler[t.type](t,e)}}_leave(e,t){let n=e.gridstackNode;n&&((t=t||e).style.transform="scale(1)",P.off(e,"drag"),n._temporaryRemoved||(n._temporaryRemoved=!0,this.engine.removeNode(n),n.el=n._isExternal&&t?t:e,!0===this.opts.removable&&C._itemRemoving(e,!0),e._gridstackNodeOrig?(e.gridstackNode=e._gridstackNodeOrig,delete e._gridstackNodeOrig):n._isExternal&&(delete n.el,delete e.gridstackNode,this.engine.restoreInitial())))}commit(){return function(e,t,n,i,r){let o=(...o)=>(console.warn("gridstack.js: Function `"+n+"` is deprecated in "+r+" and has been replaced with `"+i+"`. It will be **removed** in a future release"),t.apply(e,o));o.prototype=t.prototype}(this,this.batchUpdate(!1),"commit","batchUpdate","5.2"),this}}C.resizeToContentParent=".grid-stack-item-content",C.Utils=p,C.Engine=f,C.GDRev="10.3.1";var x=n(64491);const U=new o.Ay("plugin-overlay-manager");class j{constructor(e,t="closed"){var n;this.parentMainDiv=e,this.shadowRootMode=t,this.overlayRoot=document.createElement("div"),this.pluginOverlayElements=new r.E,this.overlayRootAppended=!1,this.subs=[],this.mobile=(0,x.Fr)(),this.initOverlayRoot=()=>{this.overlayRootAppended||(this.parentMainDiv.appendChild(this.overlayRoot),this.overlayRootAppended=!0,this.grid=C.init({column:16,margin:0,float:!0,animate:!1,row:16,alwaysShowResizeHandle:!0,resizable:{handles:"se, sw"},children:[{x:0,y:0,w:4,h:2,locked:!0,noMove:!0,noResize:!0}]},this.overlayRoot),this.resizeObserver=new h.A(this.resizeHandler),this.resizeObserver.observe(this.watchedElement))},this.watchedElement=null!==(n=this.parentMainDiv.getElementsByTagName("canvas")[0])&&void 0!==n?n:this.parentMainDiv,U.debug("PluginOverlayManager loaded"),this.overlayRoot.classList.add("plugin-root-element","grid-stack"),this.initOverlayListeners(),this.resizeHandler=this.handleResize.bind(this)}handleResize(e=[]){if(!e.length)return;const t=Math.floor(this.overlayRoot.clientHeight/16);this.grid.cellHeight(t),this.overlayRoot.style.width=`${this.watchedElement.clientWidth}px`}registerOverlay(e,t,n){this.pluginOverlayElements.set(e,t),n&&(this.grid?this.grid.addWidget(t):U.warn("tried to register an overlay, but gridstack not initialized yet"))}createOverlay(e,t=!1){const n=document.createElement("div");return n.classList.add("plugin-overlay"),n.classList.add(e),t&&(n.classList.add("grid-stack-item"),n.setAttribute("gs-min-w",this.mobile?"2":"1"),n.setAttribute("gs-min-h",this.mobile?"2":"1")),this.registerOverlay(e,n,t),n}replaceOrCreateOverlay(e,t){let n=this.pluginOverlayElements.get(e);if(n&&(n.remove(),this.grid?this.grid.removeWidget(n):U.warn("[replaceOrCreate] tried to remove an overlay, but gridstack not initialized yet")),n=this.createOverlay(e,t),t){const e=document.createElement("span");return e.classList.add("grid-stack-item-content"),n.appendChild(e),e}return n}createOverlayRoot(e,t){const n=this.replaceOrCreateOverlay(e,t.canPlaceInGrid);return new d(a.nT.OVERLAY,this.shadowRootMode,n)}initOverlayListeners(){U.info("init plugin UI overlay"),this.subs.push(this.pluginOverlayElements.onElementChanged({onAdded:(e,t)=>{U.debug("added plugin overlay",t),this.initOverlayRoot(),e&&this.overlayRoot.appendChild(e)},onRemoved:(e,t)=>{U.debug("removed plugin overlay",t),e&&e.remove()}}))}dispose(){var e,t;this.subs.forEach((e=>e.cancel())),this.subs=[],null===(e=this.grid)||void 0===e||e.destroy(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.overlayRootAppended=!1,this.overlayRoot.remove()}}const F=new o.Ay("plugin-embedded-manager");class H{constructor(e="closed"){this.shadowRootMode=e,this.pluginEmbeddedElements={[a.nT.TAG_OVERLAY]:{},[a.nT.TAG_PANEL]:{},[a.nT.TAG_HEADER]:{},[a.nT.OVERLAY]:{}},F.debug("PluginEmbeddedManager loaded")}getEmbeddable(e){const t=this.pluginEmbeddedElements[e];return Object.values(t).filter((e=>e.hasShadowRoot())).map((e=>e.reactNode))}createEmbeddedUi(e,t){return this.pluginEmbeddedElements[t][e]=new d(t,this.shadowRootMode)}getOrCreateEmbeddedUi(e,t,n){let i=this.pluginEmbeddedElements[t][e];return i||(i=this.createEmbeddedUi(e,t)),i.rawNode.classList.add(e),n||i.rawNode.classList.add("constrain-height"),i}createRoot(e,t,{expandOverlay:n=!1}={}){return this.getOrCreateEmbeddedUi(e,t,n)}disposeEmbeddedElements(e){Object.values(this.pluginEmbeddedElements).forEach((t=>{var n;null===(n=t[e])||void 0===n||n.clear()}))}dispose(){Object.values(this.pluginEmbeddedElements).forEach((e=>{Object.values(e).forEach((e=>e.clear()))}))}}const G=new o.Ay("plugin-ui-data");const B={"salesperson-info":"bottom-right","quick-link":"bottom-left"};class V extends i.B{constructor(e,t,n="closed"){super(),this.commandBinder=t,this.name="plugin-ui-data",this.separator="",this.visibilityData=new r.E,this.pluginIdSet=new Set,this.initOverlayRoot=()=>{this.overlayManager.initOverlayRoot()},G.debug("PluginUIData loaded"),this.overlayManager=new j(e,n),this.embeddedManager=new H(n)}get overlayRoot(){return this.overlayManager.overlayRoot}get pluginOverlayElements(){return this.overlayManager.pluginOverlayElements}getEmbeddable(e){return this.embeddedManager.getEmbeddable(e)}createRoots(e,t){this.pluginIdSet.add(e);return{[a.nT.OVERLAY]:this.overlayManager.createOverlayRoot(e,t),[a.nT.TAG_PANEL]:this.embeddedManager.createRoot(e,a.nT.TAG_PANEL),[a.nT.TAG_HEADER]:this.embeddedManager.createRoot(e,a.nT.TAG_HEADER),[a.nT.TAG_OVERLAY]:this.embeddedManager.createRoot(e,a.nT.TAG_OVERLAY,{expandOverlay:!0})}}getVisibility(e){var t;return(null===(t=this.visibilityData.get(e))||void 0===t?void 0:t.visible)||!1}setVisibility(e,t){Array.isArray(e)?e.forEach((e=>this._setVisibility(e,t))):this._setVisibility(e,t)}_setVisibility(e,t,n){var i;const r=this.visibilityData.get(e);this.visibilityData.set(e,{visible:t,configPosition:n||(null==r?void 0:r.configPosition)||B[e]||"any"}),null===(i=this.pluginOverlayElements.get(e))||void 0===i||i.classList.toggle("hidden",!t),this.commandBinder.issueCommand(new s.b(e,t))}initVisibilityData(e,t,n){this.pluginOverlayElements.set(e,t);const i=(null==n?void 0:n.config.position)||B[e]||"any";o.Ay.for(this).debugWarn(`Setting visibility for plugin ${e} with position ${i}`),this.setVisibilityWithPosition(e,!0,i)}setVisibilityWithPosition(e,t,n){this._setVisibility(e,t,n)}toggleByPosition(e=a.FT.ALL,t){this.visibilityData.forEach(((n,i)=>{var r;"none"===n.configPosition||e!==a.FT.ALL&&!(null===(r=a.bu[n.configPosition])||void 0===r?void 0:r.includes(e))||this._setVisibility(i,null!=t?t:!n.visible)}))}restoreVisibility(e){var t;const n=this.visibilityData.get(e);n?null===(t=this.pluginOverlayElements.get(e))||void 0===t||t.classList.toggle("hidden",!n.visible):G.warn(`No visibility data found for plugin ID: ${e}`)}restoreAllVisibility(e){this.visibilityData.forEach(((t,n)=>{var i;e.includes(n)?this.visibilityData.delete(n):null===(i=this.pluginOverlayElements.get(n))||void 0===i||i.classList.toggle("hidden",!t.visible)}))}setupVisibilityEvents(e){const t=async(e,t)=>{"_CLOSE_"===e.name&&this.setVisibility(t,!1)};return e.onElementChanged({onAdded:t,onUpdated:t})}disposeByKey(e){this.pluginOverlayElements.delete(e),this.embeddedManager.disposeEmbeddedElements(e),this.pluginIdSet.delete(e)}dispose(){this.pluginIdSet.forEach((e=>{this.disposeByKey(e)})),this.overlayManager.dispose(),this.embeddedManager.dispose()}}},58749:(e,t,n)=>{"use strict";var i;n.d(t,{FT:()=>i,bu:()=>r,nT:()=>o}),function(e){e.TOP="TOP",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.RIGHT="RIGHT",e.ALL="ALL"}(i||(i={}));const r={"top-right":[i.TOP,i.RIGHT],"bottom-right":[i.BOTTOM,i.RIGHT],"top-left":[i.TOP,i.LEFT],"bottom-left":[i.BOTTOM,i.LEFT],any:[i.TOP,i.BOTTOM,i.LEFT,i.RIGHT],none:[]};var o;!function(e){e.OVERLAY="overlay",e.TAG_PANEL="tag-panel",e.TAG_HEADER="tag-header",e.TAG_OVERLAY="tag-overlay"}(o||(o={}))},32948:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var i=n(84710),r=n(56413);const o=function(e){return`${e.applicationKey}.${e.id}`};class s extends i.B{constructor(){super(),this.name="plugin-runtime-data",this.plugins=(0,r.y)()}get(e){const t=o(e);return this.plugins.get(t)}set(e,t,n){const i=o(e);this.plugins.set(i,{applicationKey:e.applicationKey,module:t,id:e.id,dispose:n})}delete(e){const t=o(e);this.plugins.delete(t)}}},49953:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var i=n(84710);class r extends i.B{constructor(e=[]){super(),this.policies=e,this.name="policy-data"}hasPolicy(e){return!!this.getPolicy(e)}getPolicy(e){return this.policies.find((t=>t.name===e))||null}}},5013:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var i=n(98236),r=n(49953);const o=(0,i.v)(r.L)},40186:(e,t,n)=>{"use strict";n.d(t,{LT:()=>a,NW:()=>s,n3:()=>l});const i="spaces.elements",r="cloud_ui/elements_beta_access",o="elements";function s(e){return!!e.getPolicy(i)}function a(e,t){return!!t&&e.hasMembershipFlag(t,r)}function l(e,t){e.trackFeatures(`${o}:${s(t)}`)}},5243:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,t:()=>s});var i=n(68909),r=n(84710);class o extends r.B{constructor(){super(...arguments),this.name="pointer",this.hit=null,this.hits=[],this.pointerNdcPosition=new i.Vector2,this.pointerScreenPosition=new i.Vector2,this.pointerOrigin=new i.Vector3,this.pointerDirection=new i.Vector3,this.pointerRay=new i.Ray}}class s{constructor(e,t,n,i){this.point=e,this.normal=t,this.object=n,this.intersection=i,this.face={normal:t}}}},18821:(e,t,n)=>{"use strict";n.d(t,{Is:()=>s,X7:()=>o,aD:()=>a,cl:()=>l,q6:()=>r});var i=n(55141);class r extends i.u{}r.id="RequestRenderTargetCommand";class o extends i.u{constructor(e,t){super(),this.payload={renderTarget:e,context:t}}}o.id="CONTEXT2D_CAPTURE";class s extends i.u{constructor(e,t,n){super(),this.payload={renderTarget:e,sceneObject:t,camera:n}}}s.id="SCREEN_CAPTURE";class a extends i.u{constructor(e,t,n){super(),this.payload={renderTarget:e,sceneObject:t,camera:n}}}a.id="RENDER_TO_CUBEMAP";class l extends i.u{constructor(e,t,n=0){super(),this.payload={renderTarget:e,texture:t,heading:n}}}l.id="EQUIRECTANGULAR_CAPTURE"},16653:(e,t,n)=>{"use strict";n.d(t,{uz:()=>r,G8:()=>s,y:()=>o,_h:()=>a});let i=null;const r=async(e,t)=>{const r=new Uint8Array(e.width*e.height*4);e.readRenderTargetData(r);for(let e=0;e<r.length;e++){const t=r[e]/255,n=t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055;r[e]=255*n}if(!i){const e=await Promise.all([n.e(287),n.e(504),n.e(780)]).then(n.bind(n,17504));i=e.createJpegEncodeWorker()}const o=r.buffer,s=await i.exec({data:o,width:e.width,height:e.height,options:{exif:t,quality:85,flipY:!0}},[o]);return new Uint8Array(s.data)},o=e=>new Blob([e],{type:"image/jpeg"}),s=e=>"data:image/jpg;base64,"+(e=>{const t=[];for(let n=0;n<e.length;n+=8192)t.push(String.fromCharCode.apply(null,e.subarray(n,n+8192)));return btoa(t.join(""))})(e),a=(e,t,n,i)=>'http://ns.adobe.com/xap/1.0/\0<?xpacket begin="" id="W5M0MpCehiHzreSzNTczkc9d"?><x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:GPano="http://ns.google.com/photos/1.0/panorama/"><GPano:CroppedAreaImageHeightPixels>'+t+"</GPano:CroppedAreaImageHeightPixels><GPano:CroppedAreaImageWidthPixels>"+e+"</GPano:CroppedAreaImageWidthPixels><GPano:CroppedAreaLeftPixels>0</GPano:CroppedAreaLeftPixels><GPano:CroppedAreaTopPixels>0</GPano:CroppedAreaTopPixels><GPano:FullPanoHeightPixels>"+t+"</GPano:FullPanoHeightPixels><GPano:FullPanoWidthPixels>"+e+"</GPano:FullPanoWidthPixels><GPano:ProjectionType>equirectangular</GPano:ProjectionType><GPano:UsePanoramaViewer>True</GPano:UsePanoramaViewer><GPano:InitialViewHeadingDegrees>"+n+"</GPano:InitialViewHeadingDegrees><GPano:InitialViewPitchDegrees>"+i+'</GPano:InitialViewPitchDegrees><GPano:CaptureSoftware>Matterport Camera</GPano:CaptureSoftware><GPano:StitchingSoftware>Matterport Cloud</GPano:StitchingSoftware></rdf:Description></rdf:RDF></x:xmpmeta><?xpacket end="w"?>'},77099:(e,t,n)=>{"use strict";n.d(t,{A:()=>pe});var i=n(88186),r=n(25712),o=n(98720),s=n(68909),a=n(941);class l{constructor(e,t,n,i){this.rbushBbox={minX:0,minY:0,maxX:1,maxY:1},this.overlapsCircle=(()=>{const e=new s.Vector3;return(t,n)=>{const i=this.getVec3(e).distanceTo(t);return i<=n+.3?i:null}})(),this.overlapsLine=(()=>{const e=new s.Vector3,t=new s.Vector3,n=new s.Vector3;return(i,r)=>{const o=e.subVectors(r,i),s=this.getVec3(n),a=t.subVectors(s,i),l=a.dot(o)/o.length(),c=a.length();return Math.sqrt(c*c-l*l)<.3?[{entity:this,t:l/o.length()}]:[]}})(),this.id=e,this.floorId=t,this.x=n,this.z=i}getEntityAnalytic(){return"node"}getPoint(){return{x:this.x,z:this.z}}getVec3(e){const t=e||new s.Vector3;return t.set(this.x,0,this.z),t}getVec2(e){const t=e||new s.Vector2;return t.set(this.x,this.z),t}getViewCenter(e=new s.Vector3){return this.getVec3(e)}getSnapshot(){return{x:this.x,y:-this.z}}distanceTo(e){const t=this.x-e.x,n=this.z-e.z;return Math.sqrt(t*t+n*n)}updateRBushBBox(){this.rbushBbox={minX:this.x-a.RS,minY:this.z-a.RS,maxX:this.x+a.RS,maxY:this.z+a.RS}}get minX(){return this.rbushBbox.minX}get maxX(){return this.rbushBbox.maxX}get minY(){return this.rbushBbox.minY}get maxY(){return this.rbushBbox.maxY}}var c=n(24241),u=n(3350),d=n(95330);class h{constructor(e){this.afterAction=e,this.actions=[]}run(){for(const e of this.actions)e.run(),this.afterAction()}invert(){for(let e=this.actions.length-1;e>=0;e--){this.actions[e].invert(),this.afterAction()}}merge(e){if(0===this.actions.length)this.actions.push(e);else{const t=this.actions[this.actions.length-1];t&&t.merge(e)||this.actions.push(e)}return!0}logInfo(){return this.actions.map((e=>Object.assign({undo:!0},e.logInfo())))}lastAction(){return this.actions.length?this.actions[this.actions.length-1]:null}}const p=new c.Vy("undo-stack");class f{constructor(e){this.afterAction=e,this.undoBuffer=new u.C(50),this.finalized=!1,this.length=new d.L(0)}push(e){(this.undoBuffer.isEmpty()||this.finalized)&&(this.undoBuffer.push(new h(this.afterAction)),this.finalized=!1,this.length.value=this.undoBuffer.count);const t=this.undoBuffer.peek();t&&t.merge(e)}pushUndoStep(e){this.undoBuffer.isEmpty()||this.finalized||(p.warn("Adding an UndoStep when the previous step is not finalized."),this.finalize()),this.undoBuffer.push(e),this.length.value=this.undoBuffer.count}pop(){const e=this.undoBuffer.pop();return this.length.value=this.undoBuffer.count,e}peek(){const e=this.undoBuffer.peek();return this.length.value=this.undoBuffer.count,e}finalize(){this.finalized=!0}clear(){this.undoBuffer.clear(),this.length.value=this.undoBuffer.count}}var m=n(3066),g=n(10843),v=n(99380),y=n(34914);class E{constructor(){this.data=new Map,this.addedObservers=new Set,this.updatedObservers=new Set,this.childUpdatedObservers=new Set,this.deletedObservers=new Set}clear(){this.data.clear()}get(e){return this.data.get(e)}set(e,t){this.data.set(e,t)}delete(e){this.data.delete(e)}has(e){return this.data.has(e)}get size(){return this.data.size}onChanged(e){return(0,m.Sh)((()=>{e.onAdded&&this.addedObservers.add(e.onAdded),e.onUpdated&&this.updatedObservers.add(e.onUpdated),e.onChildUpdated&&this.childUpdatedObservers.add(e.onChildUpdated),e.onRemoved&&this.deletedObservers.add(e.onRemoved)}),(()=>{e.onAdded&&this.addedObservers.delete(e.onAdded),e.onUpdated&&this.updatedObservers.delete(e.onUpdated),e.onChildUpdated&&this.childUpdatedObservers.delete(e.onChildUpdated),e.onRemoved&&this.deletedObservers.delete(e.onRemoved)}),!0)}}var S=n(54664),b=n(35341),O=n.n(b);class _{constructor(e,t){this.data=e,this.inputs=t,this._outputCache=null}onRun(e){throw new Error("Method not implemented.")}onInvert(e,t){throw new Error("Method not implemented.")}run(){this._outputCache=this.onRun(this.inputs)}invert(){if(!this._outputCache)throw new Error("Attempted to inverse a data action before running it");this.onInvert(this._outputCache,this.inputs),this._outputCache=null}merge(e){return!1}get output(){if(this._outputCache)return this._outputCache;throw new Error("Tried to read output of an action before it was run")}logInfo(){return Object.assign({name:this.name()},this.inputs)}}class T extends _{onRun(e){const t=this.data.getNode(e.nodeId),n={x:t.x,z:t.z};return this.data._updateNode(e.nodeId,e.newPos),this.data._updateDependentsForNodes(t),{prevPos:n}}onInvert(e,t){this.data._updateNode(t.nodeId,e.prevPos);const n=this.data.getNode(t.nodeId);this.data._updateDependentsForNodes(n)}merge(e){return e instanceof T&&e.inputs.nodeId===this.inputs.nodeId&&(this.inputs.newPos=e.inputs.newPos,!0)}name(){return"MoveNode"}}class A extends _{onRun(e){const t=this.data._createNode(e.from,e.floorId),n=this.data._createNode(e.to,e.floorId),i=this.data._createWall(e.type,t,n,e.width,[],.5);return{fromId:t.id,toId:n.id,wall:i.id}}onInvert(e,t){this.data._deleteWall(e.wall),this.data._deleteNode(e.fromId),this.data._deleteNode(e.toId)}merge(e){return!!(e instanceof T&&this._outputCache&&e.inputs.nodeId===this._outputCache.toId)&&(this.inputs.to=e.inputs.newPos,!0)}name(){return"AddFloatingEdge"}}class w extends _{onRun(e){const t=this.data.getWall(e.wallId),n=t.from.getPoint(),i=t.to.getPoint();return this.data._updateNode(t.from.id,e.newFromPos),this.data._updateNode(t.to.id,e.newToPos),this.data._updateDependentsForNodes(t.from,t.to),{prevFromPos:n,prevToPos:i}}onInvert(e,t){const n=this.data.getWall(t.wallId);this.data._updateNode(n.from.id,e.prevFromPos),this.data._updateNode(n.to.id,e.prevToPos),this.data._updateDependentsForNodes(n.from,n.to)}merge(e){return e instanceof w&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.newFromPos=e.inputs.newFromPos,this.inputs.newToPos=e.inputs.newToPos,!0)}name(){return"MoveEdge"}}class N extends _{onRun(e){const t=this.data.getNode(e.fromId),n=this.data._createNode(e.to,t.floorId),i=this.data._createWall(e.type,t,n,e.width,[],.5);return{toId:n.id,wall:i.id}}onInvert(e,t){this.data._deleteWall(e.wall),this.data._deleteNode(e.toId)}merge(e){return!!(e instanceof T&&this._outputCache&&e.inputs.nodeId===this._outputCache.toId)&&(this.inputs.to=e.inputs.newPos,!0)}name(){return"AddTrailingEdgeToNode"}}var I=n(47503),R=n(38523),k=n(28172),L=n(15854);function M(e,t){let n=!0;const i=(0,R.V)(e);for(let e=0,r=i.length-1;e<r;e++){const r=i[e];if(!(0,L.s)(r,t)){n=!1;break}if((0,k.v)([r,i[e+1]],t)){n=!1;break}}return n}class D extends _{run(){super.run(),this.computeRooms(),this._outputCache&&this._outputCache.updateNodeDependencies.length&&this.data._updateDependentsForNodes(...this._outputCache.updateNodeDependencies.map((e=>this.data.getNode(e))))}onInvert(e,t){throw new Error("Method not implemented.")}invert(){let e;if(!this._outputCache)throw new Error("Attempted to inverse a data action before running it");e=this.onInvert(this._outputCache,this.inputs),this._outputCache=null;for(const e of this.modificationRecord.createdRooms)this.data._deleteRoom(e.id);const t=e=>({points:e.points.map((e=>this.data.getNode(e.id))),walls:new Set(Array.from(e.walls.values()).map((e=>this.data.getWall(e.id)))),holesCW:e.holesCW.map((e=>e.map((e=>this.data.getNode(e.id))))),holes:e.holes.map((e=>new Set(Array.from(e.values()).map((e=>this.data.getWall(e.id))))))});for(const e of this.modificationRecord.updatedRooms){const{points:n,walls:r,holesCW:o,holes:s}=t(e),a=new i.pQ({id:e.id,name:e.name,points:n,walls:r,holesCW:o,holes:s,location:e.location,includeInAreaCalc:e.includeInAreaCalc,hide:e.hide,keywords:e.keywords.slice(),classifications:e.classifications.slice(),height:e.height,ceiling:e.ceiling});this.data._updateRoom(e.id,a)}for(const e of this.modificationRecord.deletedRooms){const{points:n,walls:i,holesCW:r,holes:o}=t(e);this.data._createRoom({id:e.id,name:"",points:n,walls:i,holesCW:r,holes:o,location:e.location,includeInAreaCalc:e.includeInAreaCalc,hide:e.hide,keywords:e.keywords.slice(),classifications:e.classifications.slice(),height:e.height,ceiling:e.ceiling})}if(e){const t=e.map((e=>this.data.getNode(e)));this.data._updateDependentsForNodes(...t)}}wallsForLoop(e){const t=new Set;for(let n=0;n<e.length;n++)t.add(this.data.getWallForNodes(e[n].id,e[(n+1)%e.length].id));return t}computeRooms(){var e;this.modificationRecord={createdRooms:[],updatedRooms:[],deletedRooms:[]};const{regions:t,holes:n}=this.findEnclosedRegionsAndHoles(),o=this.mapHolesToRegions(n,t),s=o.map((e=>e.map((e=>this.wallsForLoop(e))))),a=t.map((e=>new Set(this.wallsForLoop(e)))),l=new Array;for(const e of this.data.rooms.values())for(let t=0;t<a.length;t++){const n=a[t],i=Array.from(e.walls.values()).reduce(((e,t)=>n.has(t)?e+1:e),0);i>0&&l.push({score:i/Math.max(n.size,e.walls.size),newWalls:n.size-i,oldRoomId:e.id,oldRoomClassifications:e.classifications,newRoomIndex:t})}const c=new Set,u=new Array(t.length),d=new Array(t.length);l.sort(((e,t)=>{var n,i;return t.score-e.score||((null===(n=this.data.rooms.get(t.oldRoomId))||void 0===n?void 0:n.area)||0)-((null===(i=this.data.rooms.get(e.oldRoomId))||void 0===i?void 0:i.area)||0)}));for(const{oldRoomId:e,newRoomIndex:t,oldRoomClassifications:n,newWalls:i}of l)c.has(e)||u[t]||(u[t]=e,c.add(e)),!d[t]&&i<=2&&(d[t]=n);for(let e=0;e<t.length;e++)u[e]||(u[e]=(0,r.hA)());for(let n=0;n<t.length;n++){const r=u[n],a=t[n],l=new Set;for(let e=0;e<a.length;e++){const t=a[e],n=a[(e+1)%a.length],i=this.data.getWallForNodes(t.id,n.id);l.add(i)}const c=this.data.rooms.get(r);if(c){const e=new i.pQ({id:r,name:"",points:t[n],walls:l,holesCW:o[n],holes:s[n],location:c.location,includeInAreaCalc:c.includeInAreaCalc,hide:c.hide,keywords:c.keywords.slice(),classifications:c.classifications.slice(),height:c.height,ceiling:c.ceiling});(0,I.c5)(c.walls,e.walls)&&(0,I.c5)((0,I.LX)(...c.holes),(0,I.LX)(...e.holes))||(this.data._updateRoom(r,e),this.modificationRecord.updatedRooms.push(c))}else{const a=null!==(e=d[n])&&void 0!==e?e:[],c=(0,i.pO)(a,i.GZ.OUTDOOR)?i.Vc.OUTDOOR:i.Vc.INDOOR,u=!(0,i.pO)(a,i.GZ.NON_AREA),h=(0,i.pO)(a,i.GZ.HIDE),p=this.data._createRoom({id:r,name:"",points:t[n],walls:l,holesCW:o[n],holes:s[n],classifications:a.slice(),location:c,includeInAreaCalc:u,hide:h,keywords:[],height:NaN,ceiling:null});this.modificationRecord.createdRooms.push(p)}}const h=new Set(u);for(const e of this.data.rooms.values())h.has(e.id)||(this.data._deleteRoom(e.id),this.modificationRecord.deletedRooms.push(e))}findEnclosedRegionsAndHoles(){const e=new Array,t=new Array,n=new Set,i=new Set,r=(r,o)=>{const s=`${r.id}/${o.id}`,a=this.data.traceWallsFromTo(r,o),l=e=>{if(e.has(s))return!0;for(let t=0;t<a.length;t++){const n=a[t],i=a[(t+1)%a.length],r=`${n.id}/${i.id}`;e.add(r)}return!1},c=(0,v.eW)(a,!0);c>=.01?l(n)||e.push((0,v.N5)(a)):c<=-.01&&(l(i)||t.push((0,v.N5)(a).reverse()))};for(const e of this.data.walls.values())r(e.from,e.to),r(e.to,e.from);return{regions:e,holes:t}}mapHolesToRegions(e,t){const n=t.map((e=>[])),i=t.map((e=>(0,v.eW)(e))),r=t.map((e=>e.map((e=>[e.x,e.z]))));for(const o of e){const e=(0,v.eW)(o);let s=9999999,a=-1;const l=o.map((e=>[e.x,e.z]));for(let n=0;n<t.length;n++){const c=i[n];e>=c||o[0].floorId!==t[n][0].floorId||M(l,r[n])&&c<s&&(s=c,a=n)}a>=0&&n[a].push(o)}return n}}function P(e,t){const n=e.getWall(t.wallId).clone(),i=e.getEdgeCountForNode(n.from),r=e.getEdgeCountForNode(n.to);e._deleteWall(t.wallId);let o="none";1===i&&1===r?(o="both",e._deleteNode(n.from.id),e._deleteNode(n.to.id)):1===i?(o="from",e._deleteNode(n.from.id)):1===r?(o="to",e._deleteNode(n.to.id)):o="none";const s=[];switch(o){case"from":s.push(n.to.id);break;case"to":s.push(n.from.id);break;case"none":s.push(n.from.id,n.to.id)}return{deletedWall:n,deletedNodes:o,updateNodeDependencies:s}}function C(e,t){const n=t.deletedWall;let i,r;switch(t.deletedNodes){case"both":i=e._createNode({x:n.from.x,z:n.from.z},n.floorId,n.from.id),r=e._createNode({x:n.to.x,z:n.to.z},n.floorId,n.to.id),e._createWall(n.type,i,r,n.width,n.openings,n.bias,n.id);break;case"none":e._createWall(n.type,n.from,n.to,n.width,n.openings,n.bias,n.id);break;case"from":i=e._createNode({x:n.from.x,z:n.from.z},n.floorId,n.from.id),e._createWall(n.type,i,n.to,n.width,n.openings,n.bias,n.id);break;case"to":r=e._createNode({x:n.to.x,z:n.to.z},n.floorId,n.to.id),e._createWall(n.type,n.from,r,n.width,n.openings,n.bias,n.id);break;default:throw new Error(`${t.deletedNodes} is an invalid value`)}switch(t.deletedNodes){case"from":return[n.to.id];case"to":return[n.from.id];case"none":return[n.from.id,n.to.id];case"both":return[]}}class x extends D{onRun(e){return P(this.data,e)}onInvert(e,t){return C(this.data,e)}name(){return"DeleteEdge"}}function U(e,t,n){if(0===e.openings.length)return;const i=new s.Line3(e.from.getVec3(),e.to.getVec3()),r=t.map((e=>({wall:e,line:new s.Line3(e.from.getVec3(),e.to.getVec3())}))),o=(e,t)=>{const n=e.closestPointToPointParameter(t,!1);if(!(n<0||n>1))return n};for(const t of e.openings){const{type:e,width:a,relativePos:l,id:c,height:u,lowerElevation:d}=t,h=i.at(l,new s.Vector3);for(const{wall:t,line:i}of r){const r=o(i,h);if(void 0!==r){n._createWallOpening(t,e,r,a,{id:c,height:u,lowerElevation:d});break}}}}function j(e,t){return t._createWall(e.type,e.from,e.to,e.width,e.openings,e.bias,e.id)}class F extends D{onRun(e){const t=this.data.getWall(e.fromWallId).clone(),n=t.getDirection().normalize().multiplyScalar(e.along),i=t.from.getVec3().add(n);this.data._deleteWall(e.fromWallId);const r=this.data._createNode({x:i.x,z:i.z},t.floorId),o=this.data._createNode(e.to,t.floorId),s=this.data._createWall(e.type,r,o,e.width,[],.5),a=this.data._createWall(t.type,t.from,r,t.width,[],t.bias),l=this.data._createWall(t.type,r,t.to,t.width,[],t.bias);return U(t,[a,l],this.data),{deletedWall:t,newTrailingWall:s,newLeftWall:a,newRightWall:l,newNodeToId:o.id,updateNodeDependencies:[]}}onInvert(e,t){const{deletedWall:n,newTrailingWall:i,newLeftWall:r,newRightWall:o}=e;return this.data._deleteWall(i.id),this.data._deleteWall(r.id),this.data._deleteWall(o.id),this.data._deleteNode(i.from.id),this.data._deleteNode(i.to.id),j(n,this.data),[]}merge(e){return!!(e instanceof T&&this._outputCache&&e.inputs.nodeId===this._outputCache.newTrailingWall.to.id)&&(this.inputs.to=e.inputs.newPos,!0)}name(){return"AddTrailingEdgeToEdge"}}class H extends _{onRun({wallId:e,props:t}){const n=this.data.getWall(e),i={};for(const e of Object.keys(t))i[e]=n[e];return this.data._setEdgeProps(e,t),{wallId:e,props:i}}onInvert({wallId:e,props:t},n){this.data._setEdgeProps(e,t)}merge(e){return e instanceof H&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.props.width=e.inputs.props.width,this.inputs.props.bias=e.inputs.props.bias,!0)}name(){return"SetEdgeProps"}}class G extends D{onRun(e){const t=this.data.getWall(e.wallId),n=[],i=[],r=[],o={originalFromPos:t.from.getPoint(),originalToPos:t.to.getPoint(),deletedWalls:i,createdWalls:n,originalWallId:e.wallId,createdNodes:r,updateNodeDependencies:[]};return e.fromNode&&this.createJoint(t.from,t,i,n,r),e.toNode&&this.createJoint(t.to,t,i,n,r),o}onInvert(e,t){for(const t of e.createdWalls)this.data._deleteWall(t.id);for(const t of e.deletedWalls)j(t,this.data);for(const t of e.createdNodes)this.data._deleteNode(t.id);const n=this.data.getWall(this.inputs.wallId);return this.data._updateNode(n.from.id,e.originalFromPos),this.data._updateNode(n.to.id,e.originalToPos),[n.from.id,n.to.id]}merge(e){return e instanceof w&&e.inputs.wallId===this.inputs.wallId&&(this.inputs.fromPos=e.inputs.newFromPos,this.inputs.toPos=e.inputs.newToPos,!0)}createJoint(e,t,n,i,r){const o=this.data._createNode({x:e.x,z:e.z},e.floorId),s=this.data.getWallsForNode(e);for(const r of s){const s=r.clone();if(s.id!==t.id){const t=s.getOtherNode(e);n.push(s),this.data._deleteWall(s.id);const r=s.from===t?this.data._createWall(s.type,t,o,s.width,[],s.bias):this.data._createWall(s.type,o,t,s.width,[],s.bias);U(s,[r],this.data),i.push(r)}}r.push(o);const a=t.from===e?this.data._createWall(t.type,o,t.from,t.width,[],t.bias):this.data._createWall(t.type,t.to,o,t.width,[],t.bias);i.push(a)}name(){return"AddJointToNode"}}class B extends D{onRun(e){const t=this.data.getNode(e.nodeId),n=Array.from(this.data.getWallsForNode(t).values());if(2!==n.length)throw new Error("Can only delete nodes with two edges on it");const i=n[0].clone(),r=i.getOtherNode(t),o=n[1].clone(),s=o.getOtherNode(t);this.data._deleteWall(i.id),this.data._deleteWall(o.id),this.data._deleteNode(t.id);const a=this.data.newWallWouldIntersect({n0:r,n1:s})?null:this.data._createWall(i.type,r,s,(i.width+o.width)/2,[],(i.bias+o.bias)/2);return a&&(U(i,[a],this.data),U(o,[a],this.data)),{deletedNode:t,deletedWall1:i,deletedWall2:o,createdWall:a,updateNodeDependencies:[]}}onInvert(e,t){const{createdWall:n,deletedNode:i,deletedWall1:r,deletedWall2:o}=e;n&&this.data._deleteWall(n.id),this.data._createNode(i.getPoint(),i.floorId,i.id);for(const e of[r,o])j(e,this.data);return[]}name(){return"DeleteNode"}}class V extends D{onRun(e){const t=this.data.getNode(e.fromId),n=this.data.getNode(e.toId);return{wall:this.data._createWall(e.type,t,n,e.width,[],.5).id,updateNodeDependencies:[]}}onInvert(e,t){return this.data._deleteWall(e.wall),[]}name(){return"AddBridgingEdge"}}class W extends _{onRun(e){const{id:t}=e,n=this.data.getOpening(t),{type:i,relativePos:r,width:o,lowerElevation:s,height:a}=n;return this.data._setOpeningDetails(t,e),this.data._updateDependentsForNodes(n.wall.from,n.wall.to),{id:t,type:i,relativePos:r,width:o,lowerElevation:s,height:a}}onInvert(e,t){const{id:n}=e;this.data._setOpeningDetails(n,e);const i=this.data.getOpening(n);this.data._updateDependentsForNodes(i.wall.from,i.wall.to)}merge(e){return e instanceof W&&e.inputs.id===this.inputs.id&&(this.inputs=e.inputs,!0)}name(){return"EditOpeningDetails"}}class z extends _{onRun(e){const{openingId:t}=e,n=this.data.getOpening(t);return this.data._deleteWallOpening(t),this.data._updateDependentsForNodes(n.wall.from,n.wall.to),{deletedOpening:n}}onInvert(e,t){const{id:n,wallId:i,type:r,relativePos:o,width:s,height:a,lowerElevation:l}=e.deletedOpening,c=this.data.getWall(i);this.data._createWallOpening(c,r,o,s,{id:n,height:a,lowerElevation:l}),this.data._updateDependentsForNodes(c.from,c.to)}name(){return"DeleteWallOpening"}}class $ extends _{onRun(e){const{wallId:t,type:n,relativePos:i,width:r,lowerElevation:o,height:s}=e,a=this.data.getWall(t),l=this.data._createWallOpening(a,n,i,r,{height:s,lowerElevation:o});return this.data._updateDependentsForNodes(a.from,a.to),{openingId:l.id}}onInvert(e,t){const{openingId:n}=e,i=this.data.getOpening(n);this.data._deleteWallOpening(n),this.data._updateDependentsForNodes(i.wall.from,i.wall.to)}name(){return"AddOpeningAction"}}function K(e,t,n,i){const r=t.getOtherNode(n);return r!==i&&!e.hasWallBetween(r,i)}function Y(e,t){const n=[],i=[],r=[],o=[],s=new Set;for(const a of t){const t=[],{mergeId:l,keepId:c}=a;s.add(c);const u=e.getNode(l),d=e.getNode(c),h=e.getWallsForNode(d),p=d.getPoint();i.push(u),r.push(c),o.push(p),e._updateNode(d.id,u.getPoint());const f=e.getWallsForNode(u);for(const n of f){const i=n.clone(),r=n.getOtherNode(u),o=n.width;e._deleteWall(n.id);let s=null;K(e,n,u,d)&&(e.hasWallBetween(r,d)||(s=e._createWall(n.type,r,d,o,[],n.bias),U(i,[s],e),h.add(s))),t.push({deleted:i,created:s}),h.delete(n)}e._deleteNode(u.id),0===h.size&&(e._deleteNode(d.id),i.push(d)),n.push(t)}return{deletedNodes:i,wallDiffs:n,oldKeepNodeIds:r,oldKeepNodePositions:o,updateNodeDependencies:s}}function q(e,t){const n=[];for(let i=t.deletedNodes.length-1;i>=0;i--){const r=t.deletedNodes[i],o=t.wallDiffs[i],s=e._createNode(r.getPoint(),r.floorId,r.id);n.push(s.id);for(const t of o){t.created&&e._deleteWall(t.created.id);let n=s,i=t.deleted.getOtherNode(r);if(s.id!==t.deleted.from.id){const e=n;n=i,i=e}e._createWall(t.deleted.type,n,i,t.deleted.width,t.deleted.openings,t.deleted.bias,t.deleted.id)}e._updateNode(t.oldKeepNodeIds[i],t.oldKeepNodePositions[i])}return t.oldKeepNodeIds}function Q(e,t){const n=[],i=new Set;for(const r of t){const t=e.getNode(r),s=e.getAttachedEntities(t),a=e.findNodeOrWallForPosition(t.getVec3(),t.floorId,s);if(a&&a instanceof o.j){const o=a.getProjection(t.getVec3()),s=a.clone(),l={x:t.x,z:t.z},c=s.getDirection().normalize().multiplyScalar(o),u=s.from.getVec3().add(c);e._deleteWall(s.id),e._updateNode(r,{x:u.x,z:u.z});const d=e.hasWallBetween(s.from,t)?null:e._createWall(s.type,s.from,t,s.width,[],s.bias),h=e.hasWallBetween(t,s.to)?null:e._createWall(s.type,t,s.to,s.width,[],s.bias);U(s,[d,h].filter((e=>!!e)),e),n.push({deletedWall:s,newLeftWall:d,newRightWall:h,prevNodePos:l,nodeId:t.id}),i.add(t.id)}}return{splitDiffs:n,updateNodeDependencies:i}}function X(e,t){for(let n=t.splitDiffs.length-1;n>=0;n--){const{newLeftWall:i,newRightWall:r,deletedWall:o,prevNodePos:s,nodeId:a}=t.splitDiffs[n];i&&e._deleteWall(i.id),r&&e._deleteWall(r.id),e._updateNode(a,s),j(o,e)}return t.splitDiffs.map((e=>e.nodeId))}function Z(e,t){const n=[],i=function(e){const t=[];for(const n of e){if(2!==n.length)throw new Error("Can only merge co-linear overlaps");if(0===t.length){t.push(n);continue}const e=t[t.length-1],i=e[1];if(n[0].t<i.t+.001){const r=n[1];r.t>=i.t&&(t[t.length-1]=[e[0],r])}else t.push(n)}return t}(t);if(i[0][0].t>0){const t=i[0][0].entity;n.push([e.from,t])}for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],o=t[1].entity,s=r[0].entity;n.push([o,s])}if(i[i.length-1][1].t<1){const t=i[i.length-1][1].entity;n.push([t,e.to])}return n}class J extends D{onRun(e){return te(e,this.data)}onInvert(e,t){return ne(e,this.data)}name(){return"MergeOverlappingEntities"}}class ee extends D{onRun(e){const t={},n=[];for(const e of this.data.getFloorsWithNodes()){const i=this.data.getNodesByFloor(e);if(i.size>0){const r=Array.from(i.values())[0],o=this.data.findOverlappingEntities(r);if(o){const i=te({movedEntity:r,nodeOverlaps:o.nodeOverlaps,nodeWallOverlaps:o.nodeWallOverlaps,collinearWall:o.collinearWall,intersectingWall:o.intersectingWall},this.data);t[e]=i,n.push(...i.updateNodeDependencies)}}}return{overlapsByFloor:t,updateNodeDependencies:n}}onInvert(e,t){const n=[];for(const t in e.overlapsByFloor){const i=ne(e.overlapsByFloor[t],this.data);n.push(...i)}return n}name(){return"ValidateGraphAndComputeRooms"}}function te(e,t){const n=function(e,t,n){const i=[],r=new Set;let o=t,s=0;for(;(o.nodeOverlaps.length>0||o.nodeWallOverlaps.length>0)&&s<10;){const t=Y(e,o.nodeOverlaps);for(const e of t.updateNodeDependencies)r.add(e);const a=Q(e,o.nodeWallOverlaps);for(const e of a.updateNodeDependencies)r.add(e);i.push({nodeMergeInvertInfo:t,nodeWallInvertInfo:a}),o=e.findOverlappingNodePairs(n),s++}for(const e of i){const t=e.nodeMergeInvertInfo.deletedNodes;for(const e of t)r.delete(e.id)}return{nodeMergeBatches:i,updateNodeDependencies:Array.from(r)}}(t,{nodeOverlaps:e.nodeOverlaps,nodeWallOverlaps:e.nodeWallOverlaps},e.movedEntity);let i=[];e.collinearWall&&(i=function(e,t){const n=[];let i=e.findWallWithWorstOverlaps(t,"colinear"),r=0;for(;null!=i&&r<10;){const o=i.wall;e._deleteWall(o.id);const s=Z(i.wall,i.overlaps).filter((t=>!e.hasWallBetween(t[0],t[1]))).map((t=>e._createWall(o.type,t[0],t[1],o.width,[],o.bias)));n.push({deletedWall:o,createdWalls:s}),i=e.findWallWithWorstOverlaps(t,"colinear"),r++}return n}(t,e.collinearWall.floorId));let r=[];return e.intersectingWall&&(r=function(e,t){const n=[];let i=e.findWallWithWorstOverlaps(t,"intersection"),r=0;for(;null!=i&&r<10;){const o=[],s=[],a=[],l=i.wall.clone();if(o.push(l),e._deleteWall(i.wall.id),null!=i){let r=i.wall.from;const c=i.wall.getDirection();for(const n of i.overlaps){if(1!==n.length)throw new Error("possible bug in RoomBoundData.findWallWithWorstOverlaps, it should only return walls intersecting at ONE point");const u=n[0],d=u.entity.clone();o.push(d),e._deleteWall(u.entity.id);const h=i.wall.from.getVec3().addScaledVector(c,n[0].t),p=n[0].entity,f=e._createNode(h,t);s.push(f);const m=e._createWall(i.wall.type,r,f,i.wall.width,[],i.wall.bias);r=f,a.push(m),U(l,[m],e);const g=e._createWall(p.type,p.from,f,p.width,[],p.bias);a.push(g);const v=e._createWall(p.type,p.to,f,p.width,[],p.bias);a.push(v),U(d,[g,v],e)}const u=e._createWall(i.wall.type,r,i.wall.to,i.wall.width,[],i.wall.bias);a.push(u),U(l,[u],e),n.push({createdWalls:a,createdNodes:s,deletedWalls:o})}i=e.findWallWithWorstOverlaps(t,"intersection"),r++}return n}(t,e.intersectingWall.floorId)),{nodeOverlapInvertInfo:n,intersectionSplitInvertInfo:r,collinearOverlapInvertInfo:i,updateNodeDependencies:n.updateNodeDependencies}}function ne(e,t){!function(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n];for(const t of i.createdWalls)e._deleteWall(t.id);for(const t of i.createdNodes)e._deleteNode(t.id);for(const t of i.deletedWalls)j(t,e)}}(t,e.intersectionSplitInvertInfo),function(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n],r=i.deletedWall;i.createdWalls.forEach((t=>e._deleteWall(t.id))),j(r,e)}}(t,e.collinearOverlapInvertInfo);const n=function(e,t){const n=[];for(let i=t.nodeMergeBatches.length-1;i>=0;i--){const{nodeMergeInvertInfo:r,nodeWallInvertInfo:o}=t.nodeMergeBatches[i],s=X(e,o),a=q(e,r);n.push(...s,...a)}return n}(t,e.nodeOverlapInvertInfo);return n}var ie=n(74634),re=n(74381);class oe extends _{onRun({roomId:e,name:t,roomTypeIds:n,location:i,includeInAreaCalc:r,hide:o,keywords:s,showDimensions:a,showHeight:l}){const c=this.data.getRoom(e),u={roomId:e,name:c.name,roomTypeIds:c.roomTypeIds.slice(),includeInAreaCalc:c.includeInAreaCalc,hide:c.hide,keywords:c.keywords.slice(),showDimensions:c.showDimensions,showHeight:c.showHeight};return this.data._updateRoomDetails(e,{name:t,roomTypeIds:n,location:i,includeInAreaCalc:r,hide:o,keywords:s,showDimensions:a,showHeight:l}),u}onInvert({roomId:e,name:t,roomTypeIds:n,location:i,includeInAreaCalc:r,hide:o,showDimensions:s,showHeight:a},l){this.data._updateRoomDetails(e,{name:t,roomTypeIds:n,location:i,includeInAreaCalc:r,hide:o,showDimensions:s,showHeight:a})}name(){return"SetRoomDetails"}}var se=n(30169),ae=n(35336);class le extends D{onRun({roomId:e}){const t={deletedEdges:[],updateNodeDependencies:[]},n=this.data.getRoom(e);for(const e of n.walls){if(1===Array.from(this.data.getRoomsForWall(e)).filter((t=>t.walls.has(e))).length){const n=P(this.data,{wallId:e.id});t.deletedEdges.push(n),t.updateNodeDependencies.push(...n.updateNodeDependencies)}}for(const e of t.deletedEdges){const n=[];switch(e.deletedNodes){case"from":n.push(e.deletedWall.from.id);break;case"to":n.push(e.deletedWall.to.id);break;case"both":n.push(e.deletedWall.from.id,e.deletedWall.to.id)}t.updateNodeDependencies=t.updateNodeDependencies.filter((e=>-1===n.indexOf(e)))}return t}onInvert(e,t){let n=[];for(const t of e.deletedEdges.reverse())n=n.concat(C(this.data,t));return n}name(){return"DeleteRoom"}}var ce=n(93818),ue=n(48539);const de=new Set;var he;!function(e){e[e.CREATE=0]="CREATE",e[e.UPDATE=1]="UPDATE",e[e.DELETE=2]="DELETE"}(he||(he={}));class pe{constructor(e,t={},n=()=>{}){this.roomClassifications=t,this.broadcast=n,this.name="wall-graph",this.version=0,this.legacyRoomIds=[],this.raycast=null,this.calcCeilings=null,this.onActionError=e=>{this.logger.error(e)},this._nodes=new E,this._walls=new E,this._rooms=new E,this._wallOpenings=new E,this.undoBuffer=new f(this.commit.bind(this)),this._nodeToWallMap=new Map,this._nodesByFloor=new Map,this._wallToRoomMap=new Map,this._wallsByFloor=new Map,this._wallsByCompositeKey=new Map,this._observerQueue=[],this._deleteSet=new Set,this._anythingChangeObservers=new Set,this._afterFinalizeObservers=new Set,this.logger=new g.Ay("wall-graph"),this.isLoading=!1,this.spatialIndex=new Map,this.actionList=[],this._roomsNeedingCeilingCalc=new Set,this._inFlightRoomCeilingsCalc=new Set,this.getRelativeAngle=(()=>{const e=new s.Vector2,t=new s.Vector2,n=new s.Vector2,i=(t,n)=>{if(0===t.lengthSq()){const i=this.getNodeNeighbors(n);if(0===i.size)return;const r=Array.from(i.values())[0];t.set(r.x,r.z).sub(e)}};return(r,o,s)=>{if(o===s)return 2*Math.PI;e.set(r.x,r.z),t.set(o.x,o.z).sub(e),i(t,o),n.set(s.x,s.z).sub(e),i(n,s);const a=Math.atan2(t.y,t.x);let l=-(Math.atan2(n.y,n.x)-a);return l<0&&(l+=2*Math.PI),l}})(),this.newWallWouldIntersect=(()=>{const e=new s.Vector2,t=new s.Vector2,n=new s.Vector2,i=new s.Vector2,r=new s.Vector2,o=new s.Vector2,a=new s.Vector2,l=new s.Vector2;return({n0:s,n1:c,n0OverridePos:u,n1OverridePos:d,wallToIgnore:h})=>{if(this.hasWallBetween(s,c)){if(!h)return!0;if(this.getWallForNodes(s.id,c.id)!==h)return!0}const p=e=>Math.round(1e3*e)/1e3,f=(e,t)=>{e===s&&u?t.copy(u):e===c&&d?t.copy(d):e.getVec2(t)};if(f(s,e),f(c,t),n.subVectors(e,t).length()<1e-4)return!1;const m=[[p(e.x),p(e.y)],[p(t.x),p(t.y)]],g=[[0,0],[0,0]];for(const e of this._walls.data.values()){if(s.floorId!==e.floorId||e===h)continue;if(f(e.from,i),f(e.to,r),n.subVectors(i,r).length()<1e-4)continue;if(g[0][0]=p(i.x),g[0][1]=p(i.y),g[1][0]=p(r.x),g[1][1]=p(r.y),(0,v.vo)(m,g))return!0;const t=e.to===s||e.from===s?s:e.to===c||e.from===c?c:void 0;if(t){const n=e.getOtherNode(t),i=t===s?c:s;f(t,o),f(n,a),f(i,l),a.sub(o),l.sub(o);const r=Math.atan2(a.y,a.x);let u=-(Math.atan2(l.y,l.x)-r);u<0&&(u+=2*Math.PI);const d=u,h=2*Math.PI/180;if(d<h||d>2*Math.PI-h)return!0}}return!1}})(),this._updateDependentsForNodes=(()=>{const e=new Set,t=new Set;return(...n)=>{e.clear(),t.clear();const i=n=>{if(!e.has(n)){this.removeFromSpatialIndex(n),this.insertIntoSpatialIndex(n),this._scheduleUpdate(this._walls,n,!0);const i=this._wallToRoomMap.get(n);if(i)for(const e of i.values())t.has(e)||(this._scheduleUpdate(this._rooms,e,!0),e.pointsMoved(),t.add(e));for(const e of n.openings)this._scheduleUpdate(this._wallOpenings,e,!0);e.add(n)}};for(const e of n){const t=this._nodeToWallMap.get(e);if(null!=t)for(const n of t){i(n);const t=n.getOtherNode(e),r=this._nodeToWallMap.get(t);if(null!=r)for(const e of r)i(e)}}for(const e of t)this.calculateRoomInsights(e)}})(),e&&(this.version=e.version,this.load(e))}load(e){var t,n;this.isLoading=!0;for(const e of Array.from(this.rooms.values()))this._deleteRoom(e.id);for(const e of Array.from(this.walls.values()))this._deleteWall(e.id);for(const e of Array.from(this.nodes.values()))this._deleteNode(e.id);for(const[e,t]of this.spatialIndex)t.clear();this.commit();for(const r in e.floors){const s=e.floors[r],l=s.vertices,c=new(O());this.spatialIndex.set(r,c);const u=[];for(const e in l){const t=l[e],n=this._createNode({x:t.x,z:-t.y},r,e);n.updateRBushBBox(),u.push(n)}c.load(u);const d=[];for(const e in s.edges){const i=s.edges[e],[r,l]=null!==(t=i.vertices)&&void 0!==t?t:e.split(":"),c=i.thickness,u=this.getNode(r),h=this.getNode(l),p=i.type===re.gP.INVISIBLE,f=this._createWall(p?o.b.DIVIDER:o.b.SOLID,u,h,p?a.VG:c,[],null!==(n=i.bias)&&void 0!==n?n:.5,e);if(f.bias=1-f.bias,f.updateRBushBBox(),d.push(f),!p)for(const e in i.openings){const{relativePos:t,type:n,width:r,height:o,lowerElevation:s}=i.openings[e];this._createWallOpening(f,n,t,r,{id:e,height:o,lowerElevation:s})}}if(c.load(d),s.rooms)for(const e in s.rooms){const t=s.rooms[e],n=t.edges||[],r=t.holes||[];if(!n.length&&t.vertices)for(let e=0;e<t.vertices.length;e++){const i=t.vertices[e],r=t.vertices[(e+1)%t.vertices.length];n.push(this.getWallForNodes(i,r).id)}if(0===n.length){this.legacyRoomIds.push(e),this.logger.info("Skipping room with zero vertices",e);continue}const o=this.getWall(n[0]),a=new Set(n.map((e=>this.getWall(e)))),l=this.traceWallsFromTo(o.from,o.to,a),c=this.traceWallsFromTo(o.to,o.from,a),u=l.length>c.length?l:c;if(0===u.length){this.logger.warn("No node loop found for room: ",e);continue}(0,v.N5)(u);const d=new Set;for(const e of a)d.add(e.from),d.add(e.to);(0,I.c5)(new Set(u),d)||this.logger.warn("Traced room does not match edge list!",e,u,d);const h=[],p=[];for(const e of r){if(0===e.length)continue;const t=new Set(e.map((e=>this.getWall(e))));p.push(t);const n=this.getWall(e[0]),i=this.traceWallsFromTo(n.from,n.to,t);(0,v.N5)(i).reverse(),h.push(i)}const{location:f,includeInAreaCalc:m,hide:g,keywords:y}=(0,i.rO)(t.keywords||[]),E=this._createRoom({id:e,name:t.label||"",points:u,walls:a,holesCW:h,holes:p,classifications:this.translateClassificationLabels(t.classifications),location:f,includeInAreaCalc:m,hide:g,keywords:y,height:t.height||NaN,ceiling:t.ceiling||null}),S=null!=t.width&&0===t.width;null!=t.length&&0===t.length&&S&&(E.showDimensions=!1),E.showHeight=null===t.height||0!==t.height,t.width&&!Number.isNaN(t.width)&&Math.abs(t.width-E.width)>.001&&this.logger.debug(`Room ${e} has width of ${t.width} on MDS but calculated as ${E.width} locally`),t.length&&!Number.isNaN(t.length)&&Math.abs(t.length-E.length)>.001&&this.logger.debug(`Room ${e} has length of ${t.length} on MDS but calculated as ${E.length} locally`),t.area&&!Number.isNaN(t.area)&&Math.abs(t.area-E.area)>=.01&&this.logger.debug(`Room ${e} has area of ${t.area} on MDS but calculated as ${E.area} locally`)}}this.lastSolidWallWidth=void 0,this.isLoading=!1}get walls(){return this._walls.data}get nodes(){return this._nodes.data}get rooms(){return this._rooms.data}get wallOpenings(){return this._wallOpenings.data}getNode(e){const t=this._nodes.get(e);if(t)return t;this.logAndThrow(new Error("WallNode does not exist in WallGraphData"))}getWall(e){const t=this._walls.get(e);if(t)return t;this.logAndThrow(new Error("Wall does not exist in WallGraphData"))}hasRoom(e){return!!this._rooms.get(e)}hasRooms(){return this._rooms.size>0}getRoom(e){const t=this._rooms.get(e);return t||this.logAndThrow(new Error("Room id is invalid!")),t}getOpening(e){const t=this._wallOpenings.get(e);return t||this.logAndThrow(new Error("Opening id is invalid")),t}getEntity(e){const t=this._walls.get(e)||this._nodes.get(e)||this._rooms.get(e)||this._wallOpenings.get(e);return t||this.logAndThrow(new Error("No entity for id.")),t}tryGetEntity(e){return this._walls.get(e)||this._nodes.get(e)||this._rooms.get(e)||this._wallOpenings.get(e)||null}getEdgeCountForNode(e){var t;return(null===(t=this._nodeToWallMap.get(e))||void 0===t?void 0:t.size)||0}getWallsForNode(e){const t=this._nodeToWallMap.get(e);if(t&&t.size>0)return t;this.logAndThrow(new Error("WallNode has no associate walls, this should not happen unless inside an action"))}getFloorsWithNodes(){return Array.from(this._nodesByFloor.keys())}getWallsForFloor(e){const t=this._wallsByFloor.get(e);return t&&t.size>0?t:null}getNodesByFloor(e){const t=this._nodesByFloor.get(e),n=new Set;return t||(this._nodesByFloor.set(e,n),n)}getRoomsForWall(e){return this._wallToRoomMap.get(e)||new Set}isExteriorWall(e){const t=this._wallToRoomMap.get(e);if(t){if(t.size>0){if(1===t.size)return!0;for(const e of t.values())if(e.location===i.Vc.OUTDOOR)return!0;return!1}return!0}return!0}getWallNeighbors(e,t){const n=e[t],i=this.getEdgeCountForNode(n);if(1===i)return null;if(2!==i){const i=(()=>{const e=new s.Vector2;return(t,n)=>{const i=n.getOtherNode(t);e.set(i.x-t.x,i.z-t.z).normalize();return e.angle()}})(),r=this._nodeToWallMap.get(n);if(!r||0===r.size)return null;const o=Array.from(r).sort(((e,t)=>i(n,e)-i(n,t))),a=o.indexOf(e);let l=(a+1)%o.length,c=a-1<0?o.length-1:a-1;if("from"===t){const e=c;c=l,l=e}return{left:o[l],right:o[c]}}{const t=this._nodeToWallMap.get(n);if(!t||0===t.size)return null;for(const n of t)if(n.id!==e.id)return{left:n,right:n}}this.logAndThrow(new Error("Not finding both neighbors should never happen"))}getLastWallWidth(e){return e===o.b.SOLID&&this.lastSolidWallWidth?this.lastSolidWallWidth:this.getMostCommonWallWidth(e)}getMostCommonWallWidth(e){if(e===o.b.DIVIDER)return a.VG;const t={};for(const e of this._walls.data.values()){const n=e.width.toFixed(2);t[n]=t[n]?t[n]+1:1}let n=a.$h,i=0;for(const[e,r]of Object.entries(t))r>i&&Number(e)>a.VG&&(i=r,n=Number(e));return n}findRoomIdForPosition(e,t,n){const i={x:e.x,y:e.z},r=this._rooms.get(n||"");if(r&&n){const e=r.points.map((e=>({x:e.x,y:e.z})));if((0,ie.L)(i,e))return n}for(const e of this._rooms.data.values()){if(e.floorId!==t)continue;const n=e.points.map((e=>({x:e.x,y:e.z})));if((0,ie.L)(i,n))return e.id}return null}*entitiesAround(e,t,n){const i=this.spatialIndex.get(t);if(i){const t=i.search({minX:e.x-n,minY:e.z-n,maxX:e.x+n,maxY:e.z+n});for(const i of t){const t=i.overlapsCircle(e,n);null!=t&&(yield{entity:i,distance:t})}}}findClosestWallAround(e,t,n){const i=this.entitiesAround(e,t,n);let r=null,s=Number.MAX_VALUE;for(const{entity:e,distance:t}of i)e instanceof o.j&&t<s&&(r=e,s=t);return r}findNodeOrWallForPosition(e,t,n,i=a.w_){const r=this.entitiesAround(e,t,i);let s=null,c=null,u=Number.MAX_VALUE,d=Number.MAX_VALUE;for(const{entity:e,distance:t}of r)null==t||n.has(e.id)||(e instanceof o.j&&t<u&&(s=e,u=t),e instanceof l&&t<d&&(c=e,d=t));return c||s}findNodeAndWallsOverlappingLine(e,t,n,i=()=>!0){const r=this.spatialIndex.get(n),o=.05,s=[];if(r){const n=r.search({minX:Math.min(e.x,t.x)-o,minY:Math.min(e.z,t.z)-o,maxX:Math.max(e.x,t.x)+o,maxY:Math.max(e.z,t.z)+o});for(const r of n)if(i(r)){const n=r.overlapsLine(e,t);n.length>0&&s.push(n)}}return s}findOverlappingNodePairs(e){const t=e.floorId,n=[],i=new Set,r=new Set,s=[],a=this.getNodesByFloor(t);for(const c of a){const a=this.getAttachedEntities(c),u=this.findNodeOrWallForPosition(c.getVec3(),t,a);if(u)if(u instanceof l){const t=[c.id,u.id].sort().join(":");if(!i.has(t)){let o=c.id,s=u.id;if(s===e.id){const e=s;s=o,o=e}r.has(s)||r.has(o)||(n.push({keepId:o,mergeId:s}),i.add(t),r.add(s))}}else u instanceof o.j&&(r.has(c.id)||s.push(c.id))}return{nodeOverlaps:n,nodeWallOverlaps:s}}findWallWithWorstOverlaps(e,t){let n=[],i=null;const r=this.getWallsForFloor(e),s="colinear"===t?2:1;if(r)for(const e of r){const r="intersection"===t?this.getAttachedEntities(e.from):de,a="intersection"===t?this.getAttachedEntities(e.to):de,l=this.findNodeAndWallsOverlappingLine(e.from.getVec3(),e.to.getVec3(),e.floorId,(t=>t instanceof o.j&&t.id!==e.id&&!r.has(t.id)&&!a.has(t.id))).filter((e=>e.length===s));l.length>0&&l.length>n.length&&(n=l,i=e)}return null!=i?{wall:i,overlaps:n.sort(((e,t)=>e[0].t-t[0].t))}:null}findOverlappingEntities(e){const t=e.floorId,{nodeOverlaps:n,nodeWallOverlaps:i}=this.findOverlappingNodePairs(e),r=this.findWallWithWorstOverlaps(t,"colinear"),o=this.findWallWithWorstOverlaps(t,"intersection");if(n.length>0||i.length>0||o||r){return{nodeOverlaps:n,nodeWallOverlaps:i,intersectingWall:o?o.wall:void 0,collinearWall:r?r.wall:void 0}}return null}getSortedRoomClassifications(){return Object.values(this.roomClassifications).sort(((e,t)=>e.label.localeCompare(t.label)))}hasWallBetween(e,t){const n=o.j.getCompositeKey(e.id,t.id);return this._wallsByCompositeKey.has(n)}getWallForNodes(e,t){const n=o.j.getCompositeKey(e,t),i=this._wallsByCompositeKey.get(n);return i||this.logAndThrow(new Error("getWallForNodes: No wall exists for these nodes!")),i}canDeleteEntity(e){if(null!=e){const t=this.getEntity(e);if(t instanceof l){if(2!==this.getEdgeCountForNode(t))return!1;let e;for(const n of this.getWallsForNode(t).values()){if(void 0!==e&&n.type!==e)return!1;e=n.type}return!0}if(t instanceof i.pQ){return!!Array.from(t.walls).find((e=>1===Array.from(this.getRoomsForWall(e)).filter((t=>t.walls.has(e))).length))}return t instanceof o.j||t instanceof y.$}return!1}undo(){const e=this.undoBuffer.pop();if(e){try{this.actionList.push(e.logInfo()),e.invert()}catch(e){return void this.onActionError(e)}this.commit(),this._triggerFinalizeObservers()}}availableUndos(){return this.undoBuffer.length.value}clearUndoBuffer(){this.undoBuffer.clear()}resetHistory(){this.clearUndoBuffer(),this._observerQueue.length=0,this._deleteSet.clear()}finalizeHistory(){this.undoBuffer.finalize(),this._triggerFinalizeObservers()}getAndClearActionList(){const e=this.actionList.slice();return this.actionList.length=0,e}triggerAction(e){var t,n;try{e.run()}catch(e){return this._observerQueue.length=0,this._deleteSet.clear(),void this.onActionError(e)}const i=null===(t=this.undoBuffer.peek())||void 0===t?void 0:t.lastAction();this.undoBuffer.push(e),i!==(null===(n=this.undoBuffer.peek())||void 0===n?void 0:n.lastAction())&&this.actionList.push(e.logInfo()),this.commit()}onNodesChanged(e){return this._nodes.onChanged(e)}onWallsChanged(e){return this._walls.onChanged(e)}onRoomsChanged(e){return this._rooms.onChanged(e)}onOpeningsChanged(e){return this._wallOpenings.onChanged(e)}validateGraph(){this._recomputeRooms()&&(this.commit(),this.finalizeHistory())}commit(){const e=this._observerQueue.length;if(this._flushObserverQueue(),e>0)for(const e of this._anythingChangeObservers)e(void 0)}onPropertyChanged(e,t){const n=this["_"+e];if(n instanceof E){const i=n,r=()=>{i.addedObservers.add(t),i.updatedObservers.add(t),i.deletedObservers.add(t)},o=()=>this.removeOnPropertyChanged(e,t);return(0,m.Sh)(r,o,!0,e)}this.logAndThrow(new Error(`Property: ${e} does not exist on wall-data`))}removeOnPropertyChanged(e,t){const n=this["_"+e];if(n instanceof E){const e=n;e.addedObservers.delete(t),e.updatedObservers.delete(t),e.deletedObservers.delete(t)}else this.logAndThrow(new Error(`Property: ${e} does not exist on wall-data`))}onChanged(e){if(this._anythingChangeObservers.has(e))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,m.Sh)((()=>this._anythingChangeObservers.add(e)),(()=>this.removeOnChanged(e)),!0)}removeOnChanged(e){this._anythingChangeObservers.delete(e)}afterFinalize(e){this._afterFinalizeObservers.has(e)&&this.logAndThrow(new Error("Already subscribed!"));return(0,m.Sh)((()=>this._afterFinalizeObservers.add(e)),(()=>this._afterFinalizeObservers.delete(e)),!0)}addFloatingEdge(e,t,n,i,r){const o=new A(this,{from:t,to:n,width:i,floorId:r,type:e});return this.triggerAction(o),o.output}addBridgingEdge(e,t,n,i){const r=new V(this,{fromId:t,toId:n,width:i,type:e});return this.triggerAction(r),r.output}addTrailingEdgeToNode(e,t,n,i){const r=new N(this,{fromId:t,to:n,width:i,type:e});return this.triggerAction(r),r.output}addTrailingEdgeToEdge(e,t,n,i,r){const o=new F(this,{fromWallId:t,along:n,to:i,width:r,type:e});return this.triggerAction(o),o.output}canMoveNode(e,t){const n=this.getNode(e),i=this.getWallsForNode(n);for(const e of i){if(0===e.openings.length)continue;const i=e.getOtherNode(n),r=i.x-t.x,o=i.z-t.z,s=Math.sqrt(r*r+o*o);if(!(s>e.length))for(const t of e.openings){const e=t.relativePos*s,n=.5*t.width;if(e+n>s||e-n<0)return!1}}return!0}moveNode(e,t){const n={nodeId:e,newPos:t};this.triggerAction(new T(this,n))}moveWall(e,t,n){const i={wallId:e,newFromPos:t,newToPos:n};this.triggerAction(new w(this,i))}deleteEntity(e){if(this.canDeleteEntity(e)){const t=this.getEntity(e);if(t instanceof l){const t={nodeId:e};this.triggerAction(new B(this,t))}else if(t instanceof o.j){const t={wallId:e};this.triggerAction(new x(this,t))}else if(t instanceof y.$){const t={openingId:e};this.triggerAction(new z(this,t))}else if(t instanceof i.pQ){const t={roomId:e};this.triggerAction(new le(this,t))}}}setEdgeProperties(e,t){const n={wallId:e,props:t};this.triggerAction(new H(this,n))}addWallOpening(e){const t=new $(this,e);return this.triggerAction(t),t.output.openingId}editWallOpeningDetails(e,t){this.triggerAction(new W(this,Object.assign(Object.assign({},t),{id:e})))}addWallJoint(e,t,n){const i={wallId:e,fromNode:t,toNode:n};this.triggerAction(new G(this,i))}setRoomDetails(e,t){this.triggerAction(new oe(this,Object.assign({roomId:e},t)))}mergeOverlappingEntities(e,t,n,i,r){const o={movedEntity:e,nodeOverlaps:t,nodeWallOverlaps:n,collinearWall:i,intersectingWall:r};this.triggerAction(new J(this,o))}getRoomTypeName(e,t){var n;const i=this.getRoom(e);if(i||this.logAndThrow(new Error("Room does not exist")),i.classifications&&i.classifications.length>0){return(0,se.Kq)(i.classifications.map((e=>e.id))).map((e=>{var n;return(null===(n=this.roomClassifications[e])||void 0===n?void 0:n.label)||t})).join(a.Ae)}return(null===(n=this.roomClassifications[a.YV])||void 0===n?void 0:n.label)||t}getRoomLabel(e,t){const n=this.getRoom(e);return n||this.logAndThrow(new Error("Room does not exist")),n.name?n.name:this.getRoomTypeName(e,t)}getGrossFloorArea(e,t){let n=0;for(const t of this.rooms.values()){(null==e||t.floorId===e)&&t.includeInAreaCalc&&t.location===i.Vc.INDOOR&&!isNaN(t.areaWithWalls)&&(n+=t.areaWithWalls)}return(0,v.g6)(n,t)}getRoomArea(e,t){try{return this.getRoom(e).getArea(t)}catch(t){return this.logger.error(`Error getting room area for room '${e}'`,t),0}}getPotentialRoomCanvasLabels(e,t,n,i,r){const o=(...e)=>e.filter((e=>e.length>0)).join("\n"),s=this.getRoom(e),a=i&&(!s.isOther()||s.name),l=r&&!s.hide;if(!a&&!l)return[];const c=a?this.getRoomLabel(e,t):"",u=l?(0,ce.JE)(n,s.getArea(n)).area:"",d=l?s.getMeasurementText(n):"",h=[o(c,u,d)],p=[];for(let e=c.length-4;e>0&&c.length>0;e--)p.push((0,ue.W5)(c,e));return u.length>0&&d.length>0&&h.push(...p.map((e=>o(e,u,d)))),u.length>0&&(h.push(o(c,u)),h.push(...p.map((e=>o(e,u))))),h.push(...p),h}getAttachedEntities(e){const t=new Set;t.add(e.id);const n=this.getNode(e.id),i=this.getWallsForNode(n);for(const e of i){t.add(e.id);const i=e.getOtherNode(n);1===this.getEdgeCountForNode(n)&&1===this.getEdgeCountForNode(i)&&t.add(i.id)}return t}translateClassificationLabels(e){return e?e.map((e=>{const t=this.roomClassifications[e.id];return t?Object.assign(Object.assign({},e),{label:t.label}):e})):[]}traceWallsFromTo(e,t,n){const i=[e,t];let r=!1;for(;r=!this.hasLoop(i);){const e=i[i.length-1],t=i[i.length-2],r=this.getNodeNeighbors(e,n);let o,s=4*Math.PI;for(const n of r){const i=this.getRelativeAngle(e,t,n);i<s&&(s=i,o=n)}if(o||this.logAndThrow(new Error("Expected a neighbor")),e===i[0]&&o===i[1]){i.pop();break}i.push(o)}return r?i:[]}getNodeNeighbors(e,t){const n=new Set,i=this.getWallsForNode(e);i||this.logAndThrow(new Error("Expecting node to wall map to be valid"));for(const r of i.values())t&&!t.has(r)||n.add(r.getOtherNode(e));return n}hasLoop(e){if(0===e.length||e.length%100!=0)return!1;const t=[];for(let n=e.length-1;n>=0;n--){t.unshift(e[n]);const i=e.length-2*t.length;if(i<0)return!1;let r=!0;for(let n=0;n<t.length;n++)e[i+n]!==t[n]&&(r=!1);if(r)return this.logger.error("Found infinite loop!",t.map((e=>e.id)),"in sequence",e.map((e=>e.id))),!0}return!1}_createNode(e,t,n){const i=new l(n||(0,r.hA)(),t,e.x,e.z);return this._nodes.set(i.id,i),this._addToDictHelper(t,i,this._nodesByFloor),this.insertIntoSpatialIndex(i),this._scheduleObserver({observers:this._nodes.addedObservers,param:i,type:he.CREATE}),i}_updateNode(e,t){const n=this._nodes.get(e);n?(this.removeFromSpatialIndex(n),n.x=t.x,n.z=t.z,this.insertIntoSpatialIndex(n),this._scheduleUpdate(this._nodes,n)):this.logAndThrow(new Error("Attempted to update WallNode that does not exist"))}_deleteNode(e){const t=this._nodes.get(e);t?(this.getEdgeCountForNode(t)>0&&this.logAndThrow(new Error("Attempted to delete a node which has wall references still!")),this._nodes.delete(e),this._removeFromDictHelper(t.floorId,t,this._nodesByFloor),this.removeFromSpatialIndex(t),this._scheduleDelete(this._nodes,t)):this.logAndThrow(new Error("Attempted to delete WallNode that does not exist"))}_createRoom(e){this._validateRoomDetails(e.points,e.holesCW,e.walls,e.holes);const t=new i.pQ(e);this.rooms.set(t.id,t);for(const e of t.allWalls()){const n=this._wallToRoomMap.get(e)||new Set;n.add(t),this._wallToRoomMap.set(e,n)}return this._scheduleObserver({observers:this._rooms.addedObservers,param:t,type:he.CREATE}),this.calculateRoomInsights(t),t}_updateRoom(e,t,n=!0){this._validateRoomDetails(t.points,t.holesCW,t.walls,t.holes),this._inFlightRoomCeilingsCalc.has(e)&&this._roomsNeedingCeilingCalc.add(e);const i=this._rooms.get(e);if(i){for(const e of i.allWalls()){const t=this._wallToRoomMap.get(e);t&&t.delete(i)}t.name=i.name,t.classifications=i.classifications?[...i.classifications]:[],this.rooms.set(e,t);for(const e of t.allWalls().values()){const n=this._wallToRoomMap.get(e)||new Set;n.add(t),this._wallToRoomMap.set(e,n)}this._scheduleUpdate(this._rooms,t),n&&this.calculateRoomInsights(t)}else this.logAndThrow(new Error("Attempted to update Room that does not exist"))}_validateRoomDetails(e,t,n,i){const r=e[0].floorId;for(const n of e.concat(t.flat()))n.floorId!==r&&this.logAndThrow(new Error("Room nodes have mismatching floor ids!"))}logAndThrow(e){throw this.broadcast(new ae.t(e)),e}_updateRoomDetails(e,t){const{name:n,roomTypeIds:i,location:r,includeInAreaCalc:o,hide:s,keywords:a,showDimensions:l,showHeight:c}=t,u=this.getRoom(e);u.name=null!=n?n:u.name,i&&(u.classifications=i.map((e=>({id:e,label:this.roomClassifications[e].label})))),u.location=null!=r?r:u.location,u.includeInAreaCalc=null!=o?o:u.includeInAreaCalc,u.hide=null!=s?s:u.hide,u.keywords=null!=a?a:u.keywords,u.showDimensions=null!=l?l:u.showDimensions,u.showHeight=null!=c?c:u.showHeight,this._scheduleUpdate(this._rooms,u)}_deleteRoom(e){const t=this._rooms.get(e);if(t){this._rooms.delete(t.id);for(const e of t.allWalls().values()){const n=this._wallToRoomMap.get(e);null==n||n.delete(t)}this._scheduleDelete(this._rooms,t)}else this.logAndThrow(new Error("Attempted to delete Room that does not exist"))}_createWall(e,t,n,i,s,a,l=(0,r.hA)()){t.id===n.id&&this.logAndThrow(new Error("Cannot create wall where the from node is the same as the to node.")),t.floorId!==n.floorId&&this.logAndThrow(new Error("Cannot create a wall between nodes on different floors.")),this.hasWallBetween(t,n)&&this.logAndThrow(new Error("Wall already exists between start and end nodes.")),this._walls.has(l)&&this.logAndThrow(new Error("Wall already exists!"));const c=this.getNode(t.id),u=this.getNode(n.id),d=new o.j(l,e,c,u,i,a);this._walls.set(d.id,d),this._addToWallDicts(d),this._scheduleObserver({observers:this._walls.addedObservers,param:d,type:he.CREATE});for(const e of s){const{type:t,relativePos:n,width:i,id:r,height:o,lowerElevation:s}=e;this._createWallOpening(d,t,n,i,{id:r,height:o,lowerElevation:s})}return this.insertIntoSpatialIndex(d),d}_deleteWall(e){const t=this.getWall(e);for(const e of t.openings.slice())this._deleteWallOpening(e.id);this._walls.delete(e),this._removeFromWallDicts(t),this.removeFromSpatialIndex(t),this._scheduleDelete(this._walls,t)}_setEdgeProps(e,t){const{width:n,bias:i,type:r}=t,s=this.getWall(e);void 0!==r&&(s.type=r),void 0!==n&&(s.width=n,s.type===o.b.SOLID&&(this.lastSolidWallWidth=n)),void 0!==i&&(s.bias=i),this._scheduleUpdate(this._walls,s),this._updateDependentsForNodes(s.from,s.to)}_createWallOpening(e,t,n,i,o){var s,a,l;const c=null!==(s=null==o?void 0:o.id)&&void 0!==s?s:(0,r.hA)(),u=null!==(a=null==o?void 0:o.height)&&void 0!==a?a:null,d=null!==(l=null==o?void 0:o.lowerElevation)&&void 0!==l?l:null,h=new y.$(c,e,e.floorId,t,n,i,u,d);return this._wallOpenings.set(h.id,h),e.openings.push(h),this._scheduleObserver({observers:this._wallOpenings.addedObservers,param:h,type:he.CREATE}),h}_setOpeningDetails(e,t){var n,i,r,o,s;const a=this.getOpening(e);a.type=null!==(n=t.type)&&void 0!==n?n:a.type,a.relativePos=null!==(i=t.relativePos)&&void 0!==i?i:a.relativePos,a.width=null!==(r=t.width)&&void 0!==r?r:a.width,a.height=null!==(o=t.height)&&void 0!==o?o:a.height,a.lowerElevation=null!==(s=t.lowerElevation)&&void 0!==s?s:a.lowerElevation,this._scheduleUpdate(this._wallOpenings,a)}_deleteWallOpening(e){const t=this.getOpening(e),n=this.getWall(t.wallId),i=n.openings.findIndex((t=>t.id===e));-1!==i?n.openings.splice(i,1):this.logAndThrow(new Error("Expected opening to exist in wall array!")),this._wallOpenings.delete(e),this._scheduleDelete(this._wallOpenings,t)}_addToWallDicts(e){this._addToDictHelper(e.from,e,this._nodeToWallMap),this._addToDictHelper(e.to,e,this._nodeToWallMap),this._addToDictHelper(e.floorId,e,this._wallsByFloor),this._wallsByCompositeKey.set(o.j.getCompositeKey(e.from.id,e.to.id),e)}_addToDictHelper(e,t,n){let i=n.get(e);null!=i?i.add(t):(i=new Set,i.add(t),n.set(e,i))}_removeFromDictHelper(e,t,n){const i=n.get(e);null!=i&&(i.delete(t),0===i.size&&n.delete(e))}_removeFromWallDicts(e){this._removeFromDictHelper(e.from,e,this._nodeToWallMap),this._removeFromDictHelper(e.to,e,this._nodeToWallMap),this._removeFromDictHelper(e.floorId,e,this._wallsByFloor),this._wallToRoomMap.delete(e),this._wallsByCompositeKey.delete(o.j.getCompositeKey(e.from.id,e.to.id))}_scheduleObserver(e){this._observerQueue.push(e)}_scheduleUpdate(e,t,n=!1){this._observerQueue.find((n=>n.observers===e.addedObservers&&n.param===t))||this._scheduleObserver({observers:n?e.childUpdatedObservers:e.updatedObservers,param:t,type:he.UPDATE})}_scheduleDelete(e,t){this._scheduleObserver({observers:e.deletedObservers,param:t,type:he.DELETE}),this._deleteSet.add(t)}_flushObserverQueue(){const e=new Set;for(const t of this._observerQueue)if(t.type!==he.UPDATE||!this._deleteSet.has(t.param))if(t.type===he.CREATE&&this._deleteSet.has(t.param))e.add(t.param);else if(t.type!==he.DELETE||!e.has(t.param))for(const e of t.observers){const n=t.param;e(n,n.id)}this._observerQueue.length=0,this._deleteSet.clear()}_triggerFinalizeObservers(){for(const e of this._afterFinalizeObservers.values())e()}getSnapshot(){const e={version:this.version,floors:{}},t=t=>{e.floors[t]||(e.floors[t]={edges:{},vertices:{},rooms:{}})};for(const[n,i]of this._nodes.data){t(i.floorId);e.floors[i.floorId].vertices[i.id]=i.getSnapshot()}for(const[n,i]of this._walls.data){t(i.floorId);e.floors[i.floorId].edges[i.id]=i.getSnapshot()}for(const[n,i]of this._rooms.data){t(i.floorId);e.floors[i.floorId].rooms[i.id]=i.getSnapshot()}return e}insertIntoSpatialIndex(e){if(this.isLoading)return;this.spatialIndex.has(e.floorId)||this.spatialIndex.set(e.floorId,new(O()));const t=this.spatialIndex.get(e.floorId);e.updateRBushBBox(),t.insert(e)}removeFromSpatialIndex(e){if(this.isLoading)return;const t=this.spatialIndex.get(e.floorId);null!=t&&t.remove(e)}_recomputeRooms(){return new ee(this,{}).run(),this._observerQueue.length>0}calculateRoomInsights(e){this.calculateRoomArea(e),this.calculateRoomAreaWithWalls(e),this.calculateRoomPerimeter(e),this.calculateRoomMeasurements(e),this.isLoading||this.scheduleCeilingComputation(e)}calculateRoomArea(e){const t=new Array(new s.Vector3,new s.Vector3,new s.Vector3,new s.Vector3);t.push(t[0]);const n=e=>{let n=0;for(let i=0;i<e.length;i++){e[i].getVec3(t[0]),e[(i+1)%e.length].getVec3(t[1]),(0,v.K$)(e,i,!0,!1,this,t[2]),(0,v.K$)(e,i,!1,!1,this,t[3]);n+=(0,S.A)(t.map((e=>[e.x,e.z])))}return n},i=n(e.getCWPoints());let r=0;for(const t of e.holesCW)r+=(0,v.eW)(t),r+=n(t.slice().reverse());const o=(0,v.eW)(e.points);e.area=Math.max(o-i-r,0)}calculateRoomPerimeter(e){let t=0;for(const n of e.minimalInnerEdges)t+=n.start.distanceTo(n.end);e.perimeter=t}calculateRoomAreaWithWalls(e){const t=new Array(new s.Vector3,new s.Vector3,new s.Vector3,new s.Vector3);t.push(t[0]);const n=e=>{let n=0;for(let i=0;i<e.length;i++){const r=e[i],o=e[(i+1)%e.length],s=this.getWallForNodes(r.id,o.id);if(!this.isExteriorWall(s))continue;e[i].getVec3(t[0]),e[(i+1)%e.length].getVec3(t[1]),(0,v.K$)(e,i,!0,!0,this,t[2]),(0,v.K$)(e,i,!1,!0,this,t[3]);n+=(0,S.A)(t.map((e=>[e.x,e.z])))}return n},i=(0,v.eW)(e.points);let r=0;for(const t of e.holesCW)r+=(0,v.eW)(t);const o=Math.max(i-r,0);if(o>0){const t=n(e.points);let i=0;for(const t of e.holesCW)i+=n(t.slice().reverse());e.areaWithWalls=o+t+i}else e.areaWithWalls=0}calculateRoomMeasurements(e){const{edges:t,thickness:n}=(0,v.I0)(e,this);let i=0,r=[new s.Vector2,new s.Vector2],o=[new s.Vector2,new s.Vector2],l=new s.Vector2(0,0);for(let e=0;e<2;e++){let c=0;for(let u=0;u<t.length;u++){const d=t[u],h=t[(u+1)%t.length];for(let p=0;p<t.length;p++){if(u===p)continue;const f=t[p],m=t[(p+1)%t.length],g=(0,v.ll)([d,h],new s.Vector2),y=(0,v.ll)([f,m],new s.Vector2);if(g.dot(y)>Math.cos(Math.PI-a.Mg))continue;const E=(new s.Vector2).subVectors(g,y).normalize();if(e>0&&Math.abs(E.dot(l))>Math.cos(Math.PI/2-a.Bg))continue;const S=(new s.Vector2).addVectors(f.getVec2(),m.getVec2()).multiplyScalar(.5);if((0,v.mN)(g,d.getVec2(),S)<0)continue;const b=new s.Vector2,O=new s.Vector2,_=(0,v.m_)([d.getVec2().addScaledVector(g,n[u]),h.getVec2().addScaledVector(g,n[u])],[f.getVec2().addScaledVector(y,n[p]),m.getVec2().addScaledVector(y,n[p])],b,O);_>c&&(c=_,0===e?(r=[b,O],l=g,i=1):(o=[b,O],i=2))}}}if(2===i){const e=(r[1].y-r[0].y)/(r[1].x-r[0].x),t=(o[1].y-o[0].y)/(o[1].x-o[0].x);if(Math.abs(e)<Math.abs(t)){const e=r;r=o,o=e}}e.length=NaN,e.width=NaN,i>=2&&(e.length=(new s.Vector2).subVectors(r[0],r[1]).length(),e.l1=r[0].clone(),e.l2=r[1].clone(),e.width=(new s.Vector2).subVectors(o[0],o[1]).length(),e.w1=o[0].clone(),e.w2=o[1].clone(),this.isRectangularIsh(e)||(e.length=NaN,e.width=NaN))}isRectangularIsh(e){if(isNaN(e.length)||isNaN(e.width))return!1;const t=e.getCWPoints();return(0,v.fZ)(t,[e.l1,e.l2],[e.w1,e.w2],this)>.9}async calculateRoomCeilings(e){const t=this.tryGetEntity(e);if(t&&t instanceof i.pQ)return!this.calcCeilings||t.area<=1e-4?Promise.resolve():(this._inFlightRoomCeilingsCalc.add(t.id),this.calcCeilings(t).then((e=>{this._inFlightRoomCeilingsCalc.delete(t.id),!this._roomsNeedingCeilingCalc.has(t.id)&&this.rooms.has(t.id)&&(t.ceiling=e,this._scheduleUpdate(this._rooms,t))})))}clearAllCeilings(){for(const e of this.rooms.values())e.ceiling=null,this._scheduleUpdate(this._rooms,e);this._flushObserverQueue()}markAllRoomsDirty(){for(const e of this.rooms.values())this._scheduleUpdate(this._rooms,e);this._flushObserverQueue()}scheduleCeilingComputation(e){this._roomsNeedingCeilingCalc.add(e.id)}async recalculateCeilings(e=!1){if(e)for(const e of this.rooms.keys())this._roomsNeedingCeilingCalc.add(e);for(;;){const e=[];for(const t of this._roomsNeedingCeilingCalc)e.push(this.calculateRoomCeilings(t));if(this._roomsNeedingCeilingCalc.clear(),await Promise.all(e),0===this._roomsNeedingCeilingCalc.size)break}return this._flushObserverQueue(),Promise.resolve()}fallbackBaseHeightForRoom(e,t,n){return this.medianSweepHeightForRoom(e,n)||this.baseHeightForFloor(e.floorId,t)}baseHeightForFloor(e,t){var n;return(null===(n=t.floors.getFloor(e))||void 0===n?void 0:n.medianSweepFloorHeight())||0}*sweepsForRoom(e,t){for(const n of t.sweeps())n.floorId===e.floorId&&e.containsPoint(n.floorPosition.x,n.floorPosition.z)&&(yield n)}medianSweepHeightForRoom(e,t){const n=[];for(const i of this.sweepsForRoom(e,t))if(n.push(i.floorPosition.y),n.length>=5)break;if(n.length>0){const e=n.sort(((e,t)=>e-t));return e[Math.floor(e.length/2)]}return null}roomHeightWithFallback(e,t,n){return isNaN(e.floorHeight)?this.fallbackBaseHeightForRoom(e,t,n):e.floorHeight}fallbackBaseHeightForOpening(e,t,n){const i=this.getRoomsForWall(e);let r=0;for(const e of i)r+=this.roomHeightWithFallback(e,t,n);return r/=i.size,r}computeLowerElevationForOpenings(e,t){for(const n of this.wallOpenings.values())if(null==n.lowerElevation){const i=this.fallbackBaseHeightForOpening(n.wall,e,t);this._setOpeningDetails(n.id,{lowerElevation:i})}this._flushObserverQueue()}}},88186:(e,t,n)=>{"use strict";n.d(t,{pQ:()=>y,GZ:()=>a,Vc:()=>s,pO:()=>E,rO:()=>b,vQ:()=>O});var i=n(89955),r=n.n(i);class o{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof e.maxAge&&0===e.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if("function"==typeof this.onEviction)for(const[t,n]of e)this.onEviction(t,n.value)}_deleteIfExpired(e,t){return"number"==typeof t.expiry&&t.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}_getOrDeleteIfExpired(e,t){if(!1===this._deleteIfExpired(e,t))return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const n=t.get(e);return this._getItemValue(e,n)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,n]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,n)&&(yield e)}}for(const e of this.cache){const[t,n]=e;!1===this._deleteIfExpired(t,n)&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(!1===this._deleteIfExpired(e,t))return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:n=(this.maxAge===Number.POSITIVE_INFINITY?void 0:Date.now()+this.maxAge)}={}){this.cache.has(e)?this.cache.set(e,{value:t,maxAge:n}):this._set(e,{value:t,expiry:n})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],n=t.length-e;n<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(n>0&&this._emitEvictions(t.slice(0,n)),this.oldCache=new Map(t.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,n]=e;!1===this._deleteIfExpired(t,n)&&(yield[t,n.value])}for(const e of this.oldCache){const[t,n]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,n)&&(yield[t,n.value])}}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const n=e[t],[i,r]=n;!1===this._deleteIfExpired(i,r)&&(yield[i,r.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const n=e[t],[i,r]=n;if(!this.cache.has(i)){!1===this._deleteIfExpired(i,r)&&(yield[i,r.value])}}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}var s,a,l=n(68909),c=n(93818),u=n(47503),d=n(98720),h=n(941),p=n(25601),f=n(15854),m=n(54664),g=n(28172),v=n(99380);!function(e){e.INDOOR="indoor",e.OUTDOOR="outdoor"}(s||(s={})),function(e){e.INDOOR="indoor",e.OUTDOOR="outdoor",e.NON_AREA="nonArea",e.HIDE="hide"}(a||(a={}));class y{constructor(e){this.area=NaN,this.areaWithWalls=NaN,this.length=NaN,this.l1=new l.Vector2,this.l2=new l.Vector2,this.width=NaN,this.w1=new l.Vector2,this.w2=new l.Vector2,this.height=NaN,this.ceiling=null,this._minimalInnerEdges=null,this._minimalInnerLoop=null,this.classifications=[],this.showDimensions=!0,this.showHeight=!0,this._viewCenterCache={},this._containsPointCache=new o({maxSize:10}),this.wallsCCW=[],this.holeWallsCW=[],this.cornerStraight=(()=>{const e=new l.Vector3,t=new l.Vector3;return(n,i)=>{const r=n.end.distanceTo(i.start)<.02;e.subVectors(n.start,n.end).normalize(),t.subVectors(i.end,i.start).normalize();const o=Math.abs(Math.abs(e.dot(t))-1)<.01;return r&&o}})(),this.containsPoint=(()=>{const e=new l.Vector2;return(t,n)=>{const i=`${1e3*t|0}|${1e3*n|0}`,r=this._containsPointCache.get(i);if(null!=r)return r;if(e.set(t,n),this.bbox.containsPoint(e)){const e=this.polygon2d.shell,r=this.polygon2d.holes,o=(0,f.s)([t,n],e)&&!r.some((e=>(0,f.s)([t,n],e)));return this._containsPointCache.set(i,o),o}return!1}})(),e&&Object.assign(this,e),this.initCCWWalls()}getEntityAnalytic(){return"room"}get roomTypeIds(){return 0===this.classifications.length?[h.YV]:this.classifications.map((e=>e.id))}get floorHeight(){if(null!=this.ceiling&&this.ceiling.planes.length>0){const e=this.ceiling.planes[0].measurements;if(e.length>0)return e[0].bottom.y}return NaN}accessible(){return!(this.hide&&!this.includeInAreaCalc)}isOther(){const e=this.roomTypeIds;return 1===e.length&&e[0]===h.YV}get floorId(){return this.points[0].floorId}getMaxCeilingDatum(){if(this.isFlatCeiling())return null;let e=Number.MIN_SAFE_INTEGER,t=null;const n=new l.Vector3;if(null!=this.ceiling)for(const i of this.ceiling.planes)for(const r of i.measurements)r.height>=e&&(e=r.height,t=n.set(r.bottom.x,r.bottom.y,r.bottom.z));return null!=t?{position:t,height:e}:null}getMinCeilingHeight(){let e=Number.MAX_SAFE_INTEGER,t=!1;if(null!=this.ceiling)for(const n of this.ceiling.planes)for(const i of n.measurements)i.height<e&&i.height>=h.lD&&(e=i.height,t=!0);return t?e:isNaN(this.height)?NaN:this.height}isFlatCeiling(){return null!=this.ceiling&&Math.abs(this.ceiling.maxHeight-this.ceiling.minHeight)<=1e-8}getSnapshot(){return{height:this.height,source:"frontend",vertices:this.points.map((e=>e.id)),holes:this.holeWallsCW.map((e=>e.map((e=>e.wall.id)))),label:this.name}}pointsMoved(){this._bbox=null,this._geometry=null,this._viewCenterCache={},this._containsPointCache.clear(),this._minimalInnerLoop=null,this._poly2d=null,this._minimalInnerEdges=null}get minimalInnerLoop(){return null==this._minimalInnerLoop&&(this._minimalInnerLoop=this.calculateMinimalInnerLoop()),this._minimalInnerLoop.wallLoop}get minimalOpeningLoop(){return null==this._minimalInnerLoop&&(this._minimalInnerLoop=this.calculateMinimalInnerLoop()),this._minimalInnerLoop.openingSegments}get polygon2d(){if(null==this._poly2d){const e=this.minimalInnerLoop[0].map((e=>[e.x,e.z])),t=this.minimalInnerLoop.slice(1,this.minimalInnerLoop.length).map((e=>e.reverse().map((e=>[e.x,e.z]))));this._poly2d={shell:e,holes:t}}return this._poly2d}get minimalInnerEdges(){return null==this._minimalInnerEdges&&(this._minimalInnerEdges=this.calculateMinimalInnerEdges()),this._minimalInnerEdges}get bbox(){return this._bbox||(this._bbox=(new l.Box2).setFromPoints(this.points.map((e=>e.getVec2())))),this._bbox}getViewCenter(e=new l.Vector3,t=1){const n=t.toFixed(1),i=this._viewCenterCache[n];if(null!=i)return e.copy(i.center),e;{const i=this.points.map((e=>[e.x/t,e.z]));i.push([this.points[0].x/t,this.points[0].z]);const o=[i].concat(this.holesCW.map((e=>e.map((e=>[e.x/t,e.z])).reverse()))),s=r()(o,.1),a=s.distance,c=new l.Vector3(s[0]*t,0,s[1]);return this._viewCenterCache[n]={center:c,distance:a},e.copy(c),e}}getViewCenterDistance(e=1){this.getViewCenter(void 0,e);const t=e.toFixed(1);if(null==this._viewCenterCache[t])throw new Error("View center should have been precached");return this._viewCenterCache[t].distance}getArea(e){return(0,v.g6)(this.area,e)}getMeasurementText(e){return this.canDisplayDimensions()?[(0,c.R5)(this.width,e),(0,c.R5)(this.length,e)].join(` ${c.ac} `):""}canDisplayDimensions(){return!(isNaN(this.length)||isNaN(this.width)||this.length<=0||this.width<=0||!this.showDimensions)}canDisplayHeight(){return(!isNaN(this.height)||null!=this.ceiling)&&this.showHeight}getPerimeterText(e){return(0,c.R5)(this.perimeter,e)}getCWPoints(){return this.points.slice().reverse()}allWalls(){return(0,u.LX)(this.walls,...this.holes)}allKeywords(){const e=this.keywords.slice();return this.hide&&e.push(a.HIDE),this.includeInAreaCalc||e.push(a.NON_AREA),e.push(this.location===s.OUTDOOR?a.OUTDOOR:a.INDOOR),e}initCCWWalls(){const e=new Map;for(const t of this.allWalls())e.set(d.j.getCompositeKey(t.from.id,t.to.id),t);const t=t=>{const n=[],i=t.length;for(let r=0;r<i;r++){const o=t[r],s=t[(r+1)%i],a=d.j.getCompositeKey(o.id,s.id),l=e.get(a);if(l){const e=o.id===l.to.id;n.push({wall:l,flipped:e})}}return n};this.wallsCCW.length=0,this.wallsCCW.push(...t(this.points)),this.holeWallsCW.length=0;for(const e of this.holesCW)this.holeWallsCW.push(t(e))}getGeometry(){if(!this._geometry){const e=this.minimalInnerLoop,t=e[0].map((e=>new l.Vector2(e.x,e.z))),n=e.slice(1).map((e=>e.map((e=>new l.Vector2(e.x,e.z))))),i=l.ShapeUtils.triangulateShape(t,n).map((e=>[e[0],e[2],e[1]]));this._geometry={faces:i,points:t.concat(n.flat(1))}}return this._geometry}calculateInnerLoop(e=0){const t=[],n=[],i=i=>{t.push([]),n.push([]);const r=t[t.length-1],o=n[n.length-1],s=i.length;for(let t=0;t<s;t++){const n=i[(t+s-1)%s],a=i[t],c=i[(t+1)%s],u=(0,p.I)(a.wall,n.wall,c.wall,a.flipped,e),d=r[r.length-1],h=u.start.clone();if((!d||d&&d.distanceTo(h)>.01)&&(r.push(h),o.push([])),r.push(u.end.clone()),a.wall.openings.length>0){const e=a.wall.openings.map((e=>{const t=e.getPoints(0,new l.Vector3,new l.Vector3);return new l.Line3(t.start,t.end)}));o.push(e)}else o.push([])}};i(this.wallsCCW);for(const e of this.holeWallsCW)i(e);return{wallLoop:t,openingSegments:n}}calculateMinimalInnerLoop(e=0){const t=[],n=[],{wallLoop:i,openingSegments:r}=this.calculateInnerLoop(e);for(let e=0;e<i.length;e++){const o=i[e],s=r[e],a=o.length,l=[],c=[];c.push([]);for(let e=0;e<a;e++){const t=o[(e+a-1)%a],n=o[e],i=o[(e+1)%a];if(c[c.length-1].push(...s[e]),!this.cornerStraight({start:t,end:n},{start:n,end:i})){l.push(n);e===a-1||c.push([])}}if(c.length===l.length+1){const e=c.pop();e&&c[0].push(...e)}if(e>0){const e=l.map((e=>[e.x,e.z]));(0,m.A)(e,!0)>0||l.reverse()}const u=l.length;for(let e=0;e<u;e++){const t=l[(e+u-1)%u],n=l[e],i=c[e];(0,v.yh)(t,n,i)}t.push(l),n.push(c)}return{wallLoop:t,openingSegments:n}}*minimalLoopSegments(){const e=this.minimalInnerLoop,t=this.minimalOpeningLoop;for(let n=0;n<e.length;n++){const i=e[n],r=t[n],o=i.length;for(let e=0;e<o;e++){const t=i[e],n=i[(e+1)%o],s=r[(e+1)%o];yield{start:t,end:n,gaps:s}}}}calculateMinimalInnerEdges(){const e=[];for(const{start:t,end:n,gaps:i}of this.minimalLoopSegments()){if(i.length>0){e.push({start:t,end:i[0].start,needsHeightLabel:!0,isWallEdge:!0});for(let t=0;t<i.length-1;t++){const n=i[t],r=i[(t+1)%i.length];e.push({start:n.start,end:n.end,needsHeightLabel:!1,isWallEdge:!1}),e.push({start:n.end,end:r.start,needsHeightLabel:!1,isWallEdge:!0})}const r=i[i.length-1];e.push({start:r.start,end:r.end,needsHeightLabel:!1,isWallEdge:!1}),e.push({start:r.end,end:n,needsHeightLabel:!1,isWallEdge:!0})}else e.push({start:t,end:n,needsHeightLabel:!0,isWallEdge:!0})}return e}intersectsLine2d(e,t){const{shell:n,holes:i}=this.polygon2d,r=[[e.x,e.z],[t.x,t.z]];for(const e of[n,...i])if((0,g.v)(r,e))return!0;return!1}}function E(e,t){var n;return e.length>0&&(null!==(n=e[0].defaultKeywords)&&void 0!==n?n:[]).includes(t)}function S(e){return e.filter((e=>!Object.values(a).includes(e)))}function b(e){return{location:e.includes(a.OUTDOOR)?s.OUTDOOR:s.INDOOR,includeInAreaCalc:!e.includes(a.NON_AREA),hide:e.includes(a.HIDE),keywords:S(e)}}function O(e){const t=new Set;for(const n of e)(0,u.s1)(t,n.defaultKeywords||[]);return t.has(a.INDOOR)&&t.has(a.OUTDOOR)&&t.delete(a.OUTDOOR),Array.from(t.values())}},98720:(e,t,n)=>{"use strict";n.d(t,{b:()=>i,j:()=>l});var i,r=n(68909),o=n(74381),s=n(941),a=n(86866);!function(e){e.SOLID="solid-wall",e.DIVIDER="invisible-wall"}(i||(i={}));class l{static getCompositeKey(e,t){const n=[e,t].sort();return`${n[0]}:${n[1]}`}constructor(e,t,n,i,o,s){this.bias=.5,this.openings=[],this._t1=new r.Vector3,this._t2=new r.Vector3,this._rbushBbox={minX:0,minY:0,maxX:1,maxY:1},this.overlapsCircle=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3,o=new r.Vector3,s=new r.Vector3;return(r,a)=>{const l=s.copy(r);l.y=0;const c=this.getBiasAdjustmentVec(e),u=this.from.getVec3(t).add(c),d=this.to.getVec3(n).add(c),h=i.subVectors(d,u),p=h.length(),f=o.subVectors(l,u),m=f.length(),g=h.dot(f)/p,v=Math.sqrt(Math.max(m*m-g*g,0));return v<=this.width/2+a&&g>=-a&&g<=p+a?Math.min(g,v):null}})(),this.overlapsLine=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3,o=new r.Vector3,s=new r.Vector3,l=new r.Vector3,c=new r.Vector3,u=new r.Vector3,d=1e-4;function h(e,t,n){return u.subVectors(t,e).dot(n)/n.lengthSq()}return(r,u)=>{const p=this.getBiasAdjustmentVec(e),f=this.from.getVec3(t).add(p),m=this.to.getVec3(n).add(p),g=i.subVectors(m,f),v=s.copy(g).normalize(),y=o.subVectors(u,r),E=l.copy(y).normalize(),S=v.dot(E);if(Math.abs(Math.abs(S)-1)<d){const e=c.subVectors(r,f),t=e.length(),n=e.dot(v);if(Math.sqrt(Math.abs(t*t-n*n))<.05){const e=d,t=.9999,n=h(r,f,y),i=h(r,m,y);if(!(n<e&&i<e)&&!(n>t&&i>t))return[{entity:this.from,t:n},{entity:this.to,t:i}].sort(((e,t)=>e.t-t.t))}}else{const e=(0,a.eB)(r.x,r.z,u.x,u.z,f.x,f.z,m.x,m.z,d);if(null!=e)return[{entity:this,t:e}]}return[]}})(),this.id=e,this.type=t,this.from=n,this.to=i,this.width=o,this.bias=s}getEntityAnalytic(){return this.type}get floorId(){return this.from.floorId}get compositeKey(){return l.getCompositeKey(this.from.id,this.to.id)}getOtherNode(e){if(e===this.from)return this.to;if(e===this.to)return this.from;throw new Error("WallNode does not belong to edge.")}hasNodes(e,t){const{from:n,to:i}=this;return!(e!==n&&e!==i||t!==n&&t!==i)}getBiasAdjustmentVec(e=new r.Vector3){this.getNormal(e);const t=(this.bias-.5)*this.width;return e.multiplyScalar(t),e}getNormal(e=new r.Vector3){return this.getDirection(e),e.normalize(),e.set(-e.z,0,e.x),e}getPlaneFacingAwayFromDirection(e,t=new r.Plane){const n=this.getNormal().normalize();return e.dot(n)>0&&n.multiplyScalar(-1),t.setFromNormalAndCoplanarPoint(n,this.from.getVec3()),t}getDirection(e){const t=e||new r.Vector3;return t.set(this.to.x-this.from.x,0,this.to.z-this.from.z),t}getEdgeWidth(e,t){const n=this.from===e&&this.to===t?this.bias:1-this.bias;return this.width*n}getEdgeNormal(e,t,n=new r.Vector3){return this.getNormal(n),this.from===e&&this.to===t||n.multiplyScalar(-1),n}getLine3(e){const t=e||new r.Line3;return this.from.getVec3(t.start),this.to.getVec3(t.end),t}getProjection(e){const t=this._t1.copy(e).sub(this.from.getVec3(this._t2)),n=this.getDirection(this._t2);return t.dot(n)/n.length()}getSnapshot(){const e={thickness:this.width,vertices:[this.from.id,this.to.id],type:this.type===i.SOLID?o.gP.WALL:o.gP.INVISIBLE};if(this.openings.length){const t={};for(const e of this.openings)t[e.id]=e.getSnapshot();e.openings=t}return e}getViewCenter(e=new r.Vector3){return e.addVectors(this.to.getVec3(),this.from.getVec3()).multiplyScalar(.5)}get length(){return this.from.distanceTo(this.to)}get minX(){return this._rbushBbox.minX}get maxX(){return this._rbushBbox.maxX}get minY(){return this._rbushBbox.minY}get maxY(){return this._rbushBbox.maxY}updateRBushBBox(){this._rbushBbox={minX:Math.min(this.from.x,this.to.x)-2*this.width-s.RS,minY:Math.min(this.from.z,this.to.z)-2*this.width-s.RS,maxX:Math.max(this.from.x,this.to.x)+2*this.width+s.RS,maxY:Math.max(this.from.z,this.to.z)+2*this.width+s.RS}}clone(){const e=new l(this.id,this.type,this.from,this.to,this.width,this.bias);return e.openings.push(...this.openings),e}}},34914:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,v:()=>i});var i,r=n(68909),o=n(76185);!function(e){e.DOOR="doorway",e.OPENING="opening"}(i||(i={}));class s{constructor(e,t,n,i,s,a,l,c){this.id=e,this.wall=t,this.floorId=n,this.type=i,this.relativePos=s,this.width=a,this.height=l,this.lowerElevation=c,this.getPoints=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3;return(r,o,s)=>{const a=this.wall;return i.set(0,r,0),a.getBiasAdjustmentVec(n),a.from.getVec3(o).add(n).add(i),a.to.getVec3(s).add(n).add(i),t.subVectors(s,o).normalize(),e.copy(o),e.lerp(s,this.relativePos),o.copy(e).addScaledVector(t,-.5*this.width),s.copy(e).addScaledVector(t,.5*this.width),{start:o,end:s}}})(),this.getWidth=(()=>{const e=new r.Vector3,t=new r.Vector3;return()=>(this.getPoints(0,e,t),e.distanceTo(t))})(),this.getCenter=(()=>{const e=new r.Vector3,t=new r.Vector3;return()=>((0,o.$)(this.lowerElevation),this.getPoints(this.lowerElevation,e,t),e.add(t).multiplyScalar(.5))})()}get wallId(){return this.wall.id}getEntityAnalytic(){return this.type}getViewCenter(e=new r.Vector3){return e.set(0,0,0)}getSnapshot(){const{type:e,relativePos:t,width:n}=this;return{lowerElevation:0,height:0,type:e,relativePos:t,width:n}}}},7584:(e,t,n)=>{"use strict";n.d(t,{Yk:()=>o,h4:()=>a,m2:()=>l,qQ:()=>s});var i=n(40186),r=n(56208);const o="room_bounds",s="room_bound_user_view_error";function a(e){return e.tryGetProperty(r.Q$.RoomBounds,!1)}function l(e,t,n){return!!(0,i.NW)(e)&&(!t.tryGetProperty(s,!1)&&(a(t)||n))}},50659:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var i=n(96540),r=n(51469);function o(e){return e?Array.from(e.rooms.values()):[]}function s(){const e=(0,r.N)(),[t,n]=(0,i.useState)(o(e));return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=()=>n(o(e)),i=e.onRoomsChanged({onRemoved:e=>t,onUpdated:e=>t,onChildUpdated:e=>t,onAdded:e=>t});return t(),()=>{i.cancel()}}),[e]),t}},51469:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var i=n(98236),r=n(77099);const o=(0,i.v)(r.A)},35336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,t:()=>r});var i=n(89103);class r extends i.QB{constructor(e){super(),this.error=e}}class o extends i.QB{constructor(e,t=(new Error).stack){super(),this.message=e,this.stack=t}}},25601:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,I:()=>c});var i=n(81662),r=n(68909),o=n(86866),s=n(53172);class a{constructor(){this.primary=new r.Vector3,this.bevel=new r.Vector3}set(e,t,n){this.primary.set(e,t,n),this.bevel.set(e,t,n)}copy(e,t){this.primary.copy(e),t?this.bevel.copy(t):this.bevel.copy(e)}}const l=(()=>{const e={fromLeft:new a,fromRight:new a,toLeft:new a,toRight:new a};return(t,n)=>{h(t,e);const i=n.getWallNeighbors(t,"from"),r=n.getWallNeighbors(t,"to");return i&&(u(t,i.left,"from","left",e.fromLeft),u(t,i.right,"from","right",e.fromRight)),r&&(u(t,r.left,"to","left",e.toLeft),u(t,r.right,"to","right",e.toRight)),e}})(),c=(()=>{const e={start:new r.Vector3,end:new r.Vector3},t={fromLeft:new a,fromRight:new a,toLeft:new a,toRight:new a};return(n,i,r,o,s=0)=>{let a,l,c,d,p;return o?(a="right",l="to",c="from",d=t.toRight,p=t.fromRight):(a="left",l="from",c="to",d=t.fromLeft,p=t.toLeft),h(n,t,s),n.id!==i.id&&u(n,i,l,a,d,s),u(n,r,c,a,p,s),e.start.copy(d.primary),e.end.copy(p.primary),e}})(),u=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,a=new r.Vector3,l=new r.Vector3,c=new r.Vector3,u=new r.Vector3,h=new r.Vector2,f=new r.Vector2,m=new r.Vector2,g=new r.Vector3,v=new r.Vector3;return(r,y,E,S,b,O=0)=>{const _=r.getDirection(e).normalize(),T=r[E],A="from"===E?-1:1,w=y.getOtherNode(T).getVec3(t).sub(T.getVec3(n)).normalize().multiplyScalar(A),N=_.dot(w);if(Math.acos(N)*s.tm<5)return;r.getBiasAdjustmentVec(g),y.getBiasAdjustmentVec(v);const I="left"===S?Math.PI/2:-Math.PI/2,R=_.applyAxisAngle(i.B1.UP,I).multiplyScalar(r.width/2+O).add(g),k=w.applyAxisAngle(i.B1.UP,I).multiplyScalar(y.width/2+O).add(v);r.from.getVec3(a).add(R),r.to.getVec3(l).add(R),y.from.getVec3(c).add(k),y.to.getVec3(u).add(k);if((0,o.HV)(a.x,a.z,l.x,l.z,c.x,c.z,u.x,u.z,h)){const e=d(T,r,y,h,m),t=e.x>0&&e.y>0,n=e.x<0&&e.y<0;if(e.x<r.length&&e.y<y.length)if(t)b.set(h.x,0,h.y);else{f.set(T.x+g.x+v.x,T.z+g.z+v.z).distanceTo(h)>1.2*Math.max(r.width,y.width)&&n?p(T,r,y,R,k,b):b.set(h.x,0,h.y)}}}})(),d=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3;return(r,o,s,a,l)=>{let c=o.getOtherNode(r);return r.getVec3(n),c.getVec3(e).sub(n),c=s.getOtherNode(r),c.getVec3(t).sub(n),i.set(a.x,0,a.y).sub(n),l.set(e.dot(i)/e.length(),t.dot(i)/t.length()),l}})(),h=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3;return(r,o,s=0)=>{const a=r.width+2*s;r.getBiasAdjustmentVec(n),r.getNormal(e).multiplyScalar(-a/2).add(n),r.getNormal(t).multiplyScalar(a/2).add(n);const l=r.from.getVec3(i).add(t);o.fromRight.copy(l);const c=r.to.getVec3(i).add(t);o.toRight.copy(c);const u=r.to.getVec3(i).add(e);o.toLeft.copy(u);const d=r.from.getVec3(i).add(e);o.fromLeft.copy(d)}})(),p=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3,o=new r.Vector3;return(r,s,a,l,c,u)=>{const d=s.getOtherNode(r),h=a.getOtherNode(r);r.getVec3(t),d.getVec3(e).sub(t).normalize().multiplyScalar(-s.width/2),h.getVec3(n).sub(t).normalize().multiplyScalar(-a.width/2),i.copy(t).add(l).add(e),o.copy(t).add(c).add(n),u.copy(i,o)}})()},30169:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,Kq:()=>c,TG:()=>a});var i=n(56147),r=n(941);const o={[r.om]:i.A.WORKSHOP.LABEL_SUGGESTIONS.BALCONY,[r.bA]:i.A.WORKSHOP.LABEL_SUGGESTIONS.BASEMENT,[r.i_]:i.A.WORKSHOP.LABEL_SUGGESTIONS.BATHROOM,[r.Cp]:i.A.WORKSHOP.LABEL_SUGGESTIONS.BEDROOM,[r.xI]:i.A.WORKSHOP.LABEL_SUGGESTIONS.BONUS_ROOM,[r.Wr]:i.A.WORKSHOP.LABEL_SUGGESTIONS.CLOSET,[r.ZQ]:i.A.WORKSHOP.LABEL_SUGGESTIONS.DEN,[r.Xq]:i.A.WORKSHOP.LABEL_SUGGESTIONS.DINING_ROOM,[r.TP]:i.A.WORKSHOP.LABEL_SUGGESTIONS.DRIVEWAY,[r.aU]:i.A.WORKSHOP.LABEL_SUGGESTIONS.ENTRANCE,[r.m1]:i.A.WORKSHOP.LABEL_SUGGESTIONS.EXERCISE_ROOM,[r.Er]:i.A.WORKSHOP.LABEL_SUGGESTIONS.EXTERIOR,[r.eA]:i.A.WORKSHOP.LABEL_SUGGESTIONS.FACADE,[r.SE]:i.A.WORKSHOP.LABEL_SUGGESTIONS.FAMILY_ROOM,[r._1]:i.A.WORKSHOP.LABEL_SUGGESTIONS.GAME_ROOM,[r.vS]:i.A.WORKSHOP.LABEL_SUGGESTIONS.GARAGE,[r.pZ]:i.A.WORKSHOP.LABEL_SUGGESTIONS.GARDEN,[r.Hy]:i.A.WORKSHOP.LABEL_SUGGESTIONS.GREAT_ROOM,[r.FI]:i.A.WORKSHOP.LABEL_SUGGESTIONS.GYM,[r.mg]:i.A.WORKSHOP.LABEL_SUGGESTIONS.HALLWAY,[r.YK]:i.A.WORKSHOP.LABEL_SUGGESTIONS.KITCHEN,[r.lz]:i.A.WORKSHOP.LABEL_SUGGESTIONS.LAUNDRY,[r.LX]:i.A.WORKSHOP.LABEL_SUGGESTIONS.LIBRARY,[r.pl]:i.A.WORKSHOP.LABEL_SUGGESTIONS.LIVING_ROOM,[r.v1]:i.A.WORKSHOP.LABEL_SUGGESTIONS.LOFT,[r.SK]:i.A.WORKSHOP.LABEL_SUGGESTIONS.MEDIA_ROOM,[r.u9]:i.A.WORKSHOP.LABEL_SUGGESTIONS.OFFICE,[r.YV]:i.A.WORKSHOP.LABEL_SUGGESTIONS.OTHER,[r.sC]:i.A.WORKSHOP.LABEL_SUGGESTIONS.PANTRY,[r.ny]:i.A.WORKSHOP.LABEL_SUGGESTIONS.PATIO,[r.QN]:i.A.WORKSHOP.LABEL_SUGGESTIONS.POOL,[r.oV]:i.A.WORKSHOP.LABEL_SUGGESTIONS.SAUNA,[r.V5]:i.A.WORKSHOP.LABEL_SUGGESTIONS.STAIRCASE,[r._6]:i.A.WORKSHOP.LABEL_SUGGESTIONS.UTILITY_ROOM,[r.GC]:i.A.WORKSHOP.LABEL_SUGGESTIONS.VOID,[r.x3]:i.A.WORKSHOP.LABEL_SUGGESTIONS.WORKSHOP_ROOM};function s(e,t,n){const r=t.t(i.A.SHOWCASE.ROOMS.DEFAULT_NAME);return n&&e?n.getRoomLabel(e,r):r}function a(e,t){const{id:n,label:o}=e;if(!n)return o||t.t(i.A.WORKSHOP.LABEL_SUGGESTIONS.OTHER);return n.indexOf(r.NZ)>-1?n.split(r.NZ).map((e=>t.t(l({id:n,label:o})))).join(r.Ae):t.t(l({id:n,label:o}))}function l(e){const{id:t,label:n}=e,r=o[t];return r||(n||i.A.WORKSHOP.LABEL_SUGGESTIONS.OTHER)}function c(e){if(e.length<2)return e;for(const t of r.xt)if(t.length===e.length&&t.every((t=>-1!==e.indexOf(t))))return t.slice();return e}},941:(e,t,n)=>{"use strict";n.d(t,{$h:()=>l,Ae:()=>d,Bg:()=>o,Cp:()=>v,Er:()=>T,FI:()=>M,GC:()=>Y,Hy:()=>L,LX:()=>x,Mg:()=>r,NZ:()=>h,QN:()=>W,RS:()=>s,SE:()=>N,SK:()=>F,Sj:()=>p,TP:()=>O,V5:()=>$,VG:()=>c,Wr:()=>E,Xq:()=>b,YK:()=>P,YV:()=>G,ZQ:()=>S,_1:()=>I,_6:()=>K,aU:()=>_,bA:()=>m,eA:()=>w,i_:()=>g,lD:()=>u,lz:()=>C,m1:()=>A,mg:()=>D,ny:()=>V,oV:()=>z,om:()=>f,pZ:()=>k,pl:()=>U,sC:()=>B,u9:()=>H,v1:()=>j,vS:()=>R,w_:()=>a,x3:()=>q,xI:()=>y,xt:()=>Q});var i=n(53172);const r=6*i.fy,o=6*i.fy,s=.01,a=.05,l=.1,c=.02,u=1.5,d=", ",h="-",p=2.032,f="ge0tcan3iztta5mtgsfx99xpb",m="4by2d70b54srbin43t5m0yh9c",g="ua1m0u8pm3yngrhzwec1ue5zc",v="pnf0xzq61xcegack4iai7xppd",y="y3xuprmywgrprnm0273u3pphd",E="zp189tx2hdrry8k5nhaq5x45d",S="4gp8x21ni4i8y19r9pm4rb35a",b="00258k0mqu8750du151be805c",O="91naa1k3hiim9z4mk8352enta",_="rmu8pikcye0n7n9fsu5e4acda",T="cqig2yw0p8q99t5n02w1kf40b",A="66psa4tqgazbnffr9huy2dnpd",w="4qq4e5hz84hcur7ry87uhtmua",N="mx6e2yfk0tg0zbkbzuw5mhkda",I="0gnuunpwx63dmmqeq64aqfiyd",R="izt39gytcbymc0qtd37nrb7xb",k="ei3kmtun2xpspbg3d5ff3t3zc",L="xwhhz63a0hw735qf81knp63ha",M="ywtddu9hagraxhznwinn8t4zb",D="yeh1aa32fwgm72bh0g92ebruc",P="zgh2304w5anu0t25ia06ytfxd",C="pr9h4zy7eak91f3b7un97u42c",x="gqqw1zac1hzg1p8622ducg3zb",U="w4tdggk5i5u2zpiryugktghgb",j="e6md2spaqemc448pmau3azkhd",F="a11d2gi43h0etwedw0mx9pgwd",H="ag5uphha72sak65qazgsp09yd",G="byp7pz2tmt4ff47nhfx0uwzec",B="2nx6maxxpaeut7kx96fuacdzc",V="n07hhs9gky4cgrh7q65s9rp0d",W="s1h0hb8tpcc9i35dmupknsega",z="gba8cq0s2rdfg1zdb1epwty7d",$="0an2rky24gb91fdnpzmbwadib",K="qa21tqcsinnxde9gdmiphacza",Y="k4ww3sk359ntmwgr8s75hq22a",q="nqw75004dcg2bcr41047rhg6c",Q=[[g,C],[P,b],[P,U],[P,U,b],[U,b]]},99380:(e,t,n)=>{"use strict";n.d(t,{I0:()=>p,K$:()=>w,N5:()=>d,bt:()=>I,eW:()=>u,fZ:()=>S,g6:()=>h,ll:()=>f,mN:()=>m,m_:()=>v,vo:()=>R,yh:()=>k});var i=n(54664),r=n(8004),o=n(68909),s=n(85626),a=n(53172),l=n(941),c=n(26348);function u(e,t=!1){if(0===e.length)return 0;const n=e.map((e=>[e.x,e.z]));return n.push(n[0]),(0,i.A)(n,t)}function d(e){return u(e,!0)>0&&e.reverse(),e}function h(e,t){let n=1;return"imperial"===t?e=(0,c.Nd)(e):"metric"===t&&(n=10),Math.round(e*n)/n}const p=(e,t)=>{const n=e.getCWPoints(),i=n.length,r={edges:[],thickness:[]};for(let e=0;e<i;e++){const o=n[(e+i-1)%i],s=n[e],a=n[(e+1)%i],l=t.getWallForNodes(o.id,s.id).getEdgeWidth(o,s),c=t.getWallForNodes(s.id,a.id).getEdgeWidth(s,a);(!E([o,s],[s,a],!1)||Math.abs(c-l)>.01)&&(r.edges.push(n[e]),r.thickness.push(c))}return r},f=(e,t)=>{t.set(e[1].x-e[0].x,e[1].z-e[0].z).normalize();const n=t.x,i=t.y;return t.set(-i,n),t},m=(()=>{const e=new o.Vector2;return(t,n,i)=>(e.subVectors(i,n),t.dot(e))})(),g=(()=>{const e=new o.Vector2,t=new o.Vector2,n=new o.Vector2;return(i,r,o,s)=>(e.subVectors(o,r),t.copy(i).multiplyScalar(i.dot(e)),n.subVectors(e,t),s.addVectors(r,n),s)})(),v=(()=>{const e=new o.Vector2,t=new o.Vector2,n=new o.Vector2,i=new o.Vector2,r=new o.Vector2;return(o,s,a,l)=>{e.subVectors(o[1],o[0]).normalize(),t.subVectors(s[1],s[0]).normalize(),n.subVectors(e,t).normalize();const c=m(n,o[0],o[1]);let u=m(n,o[0],s[0]),d=m(n,o[0],s[1]);if(d<u){const e=u;u=d,d=e}const h=Math.min(c,d)-Math.max(0,u);i.subVectors(e,t).multiplyScalar(.5).multiplyScalar(h/2+Math.max(0,u)),a.copy(o[0]).add(i);const p=g(n,o[0],s[0],r);return l.copy(p).add(i),h}})(),y=(()=>{const e=new o.Vector2,t=new o.Vector2,n=Math.cos(5*a.fy);return(i,r,o)=>{e.set(i[1].x-i[0].x,i[1].z-i[0].z).normalize(),t.set(r[1].x-r[0].x,r[1].z-r[0].z).normalize();const s=e.dot(t);return s>=n||o&&s<=-n}})(),E=(()=>{const e=new o.Vector2;return(t,n,i)=>{if(!y(t,n,i))return!1;e.set(-(n[1].z-t[0].z),n[1].x-t[0].x).normalize();return!(Math.abs(m(e,t[0].getVec2(),t[1].getVec2()))>.05)}})(),S=(()=>{const e=new o.Vector2,t=new o.Vector2,n=new o.Vector3,i=new o.Vector2,r=new o.Vector2(0,0),s=[new o.Vector2,new o.Vector2],a=[new o.Vector2,new o.Vector2],l=new o.Vector2,c=new o.Vector2;return(o,u,d,h)=>{let p=Math.atan2(d[1].y-d[0].y,d[1].x-d[0].x);p<0&&(p+=2*Math.PI),p%=Math.PI/2;let f=Math.atan2(u[1].y-u[0].y,u[1].x-u[0].x);p<0&&(p+=Math.PI/2),f%=Math.PI/2,Math.abs(f-Math.PI/2-p)<Math.abs(f-p)&&(f-=Math.PI/2),Math.abs(p-Math.PI/2-f)<Math.abs(p-f)&&(p-=Math.PI/2);const m=(p+f)/2;e.set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),t.set(Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let s=0;s<o.length;s++)w(o,s,!0,!1,h,n),i.set(n.x,n.z).rotateAround(r,-m),A(e,i,e),T(t,i,t);s[0].copy(u[0]).rotateAround(r,-m),s[1].copy(u[1]).rotateAround(r,-m),a[0].copy(d[0]).rotateAround(r,-m),a[1].copy(d[1]).rotateAround(r,-m),b(s,a,l,c);var g,v;return _([e,t],[l,c])/(v=[l,c],O(g=[e,t])+O(v)-_(g,v))}})(),b=(()=>{const e=new o.Vector2,t=new o.Vector2;return(n,i,r,o)=>{e.subVectors(n[1],n[0]).normalize(),t.subVectors(i[1],i[0]).normalize(),Math.abs(e.y)>Math.abs(t.y)?(r.x=Math.min(i[0].x,i[1].x),o.x=Math.max(i[0].x,i[1].x),r.y=Math.min(n[0].y,n[1].y),o.y=Math.max(n[0].y,n[1].y)):(r.x=Math.min(n[0].x,n[1].x),o.x=Math.max(n[0].x,n[1].x),r.y=Math.min(i[0].y,i[1].y),o.y=Math.max(i[0].y,i[1].y))}})();function O(e){const t=e[1].x-e[0].x,n=e[1].y-e[0].y;return t>0&&n>0?t*n:0}function _(e,t){return O([T(e[0],t[0],new o.Vector2),A(e[1],t[1],new o.Vector2)])}function T(e,t,n){return n.set(Math.max(e.x,t.x),Math.max(e.y,t.y))}function A(e,t,n){return n.set(Math.min(e.x,t.x),Math.min(e.y,t.y))}const w=(()=>{const e=6*a.fy,t=new o.Vector3,n=new o.Vector3;return(i,r,o,s,a,l)=>{const c=i[r],u=i[(r+1)%i.length],d=a.getWallForNodes(c.id,u.id).getEdgeWidth(c,u),h=o?(r+1)%i.length:r,p=(h+1)%i.length,f=(h+i.length-1)%i.length;let m,g;if(s?(m=a.getWallForNodes(i[h].id,i[f].id).getEdgeNormal(i[h],i[f]),g=a.getWallForNodes(i[p].id,i[h].id).getEdgeNormal(i[p],i[h])):(m=a.getWallForNodes(i[f].id,i[h].id).getEdgeNormal(i[f],i[h]),g=a.getWallForNodes(i[h].id,i[p].id).getEdgeNormal(i[h],i[p])),t.copy(o?m:g),m.dot(g)>Math.cos(Math.PI-e)){n.addVectors(m,g).normalize();const e=n.dot(m);Math.abs(e)>1e-6&&(n.multiplyScalar(1/e),t.copy(n))}i[h].getVec3(l).addScaledVector(t,d)}})();function N(e){return`room-${e}`}function I(e){const t=l.YV;return 0===e.length?N(t):e.length>1?N("multi-use"):s.R.includes(N(e[0]))?N(e[0]):N(t)}function R(e,t){const[[n,i],[o,s]]=e,[[a,l],[c,u]]=t,d=((0,r.kW)(e[0],t)?1:0)+((0,r.kW)(e[1],t)?1:0)+((0,r.kW)(t[0],e)?1:0)+((0,r.kW)(t[1],e)?1:0),h=(u-l)*(o-n)-(c-a)*(s-i);if(Math.abs(h)<1e-4)return d>2;const p=i-l,f=n-a,m=((c-a)*p-(u-l)*f)/h,g=((o-n)*p-(s-i)*f)/h,v=1e-8,y=.99999999;return m>v&&m<y&&g>v&&g<y}const k=(()=>{const e=new o.Line3(new o.Vector3,new o.Vector3);return(t,n,i)=>{e.set(t,n);for(const t of i){const n=e.closestPointToPoint(t.start,!0,new o.Vector3),i=e.closestPointToPoint(t.end,!0,new o.Vector3);e.closestPointToPointParameter(n,!0)<e.closestPointToPointParameter(i,!0)?t.set(n,i):t.set(i,n)}i.sort(((t,n)=>e.closestPointToPointParameter(t.start,!0)-e.closestPointToPointParameter(n.start,!0)))}})()},8694:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var i=n(84710),r=n(31036);class o extends i.B{constructor(e,t){super(),this.sweepData=e,this.roomBoundData=t,this.name="current-room-bound-room-data",this.currentRoomObservable=new r.r((()=>function(e,t){if(!e||!t)return null;let n=null;for(const i of t.rooms.values())if(i.floorId===e.floorId&&i.containsPoint(e.floorPosition.x,e.floorPosition.z)){n=i;break}return n}(this.sweepData.currentSweepObject||null,this.roomBoundData)),[t=>e.makeSweepChangeSubscription(t),e=>t.onChanged(e)])}get currentRoom(){return this.currentRoomObservable.value}makeCurrentRoomChangeSubscription(e){return this.currentRoomObservable.onChanged(e)}}},68387:(e,t,n)=>{"use strict";n.d(t,{B:()=>l});var i=n(84710),r=n(88186),o=n(52030),s=n(27947),a=n(73566);class l extends i.B{constructor(e,t,n){super(),this.data=e,this.applicationData=t,this.toolsData=n,this.name="room-bound-view-data",this.roomBoundsVisible=!1,this._roomNamesVisible=o.vs,this._roomWallsVisible=o.vs,this._roomDimensionsVisible=o.vs,this._forceRoomDimensionVisibility=!1,this.applicationData.onChanged((()=>{this.commit()})),this.toolsData.onPropertyChanged("activeToolName",(()=>{this.commit()}))}getSelectedRoom(e){if(!e)return null;const t=this.data.getEntity(e);return t instanceof r.pQ?t:null}setRoomBoundVisible(e){this.roomBoundsVisible=e,this.commit()}get roomNamesVisible(){return this.applicationData.application!==s.lg.SHOWCASE&&(this.applicationData.application!==s.lg.WORKSHOP||this.toolsData.activeToolName!==a.S0.MEASUREMENTS)||this._roomNamesVisible}toggleRoomNamesVisible(){this._roomNamesVisible=!this._roomNamesVisible,this.commit()}get roomWallsVisible(){return this.applicationData.application!==s.lg.SHOWCASE&&(this.applicationData.application!==s.lg.WORKSHOP||this.toolsData.activeToolName!==a.S0.MEASUREMENTS)||this._roomWallsVisible}toggleRoomWallsVisible(){this._roomWallsVisible=!this._roomWallsVisible,this.commit()}get roomDimensionsVisible(){return this._roomDimensionsVisible&&(this.toolsData.activeToolName===a.S0.MEASUREMENTS||this.toolsData.activeToolName===a.S0.ROOM_BOUNDS)||this._forceRoomDimensionVisibility}get visibleInShowcase(){return this.roomNamesVisible||this.roomDimensionsVisible||this.roomWallsVisible}toggleRoomDimensionsVisible(){this._roomDimensionsVisible=!this._roomDimensionsVisible,this.commit()}forceRoomDimensionVisibility(e){this._forceRoomDimensionVisibility=e,this.commit()}}},52030:(e,t,n)=>{"use strict";n.d(t,{AU:()=>o,VS:()=>r,vs:()=>i});const i=!0,r="features/pie-1.1-ceilings",o="features/pie-gross-floor-area"},50485:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var i=n(84710),r=n(95330);class o extends i.B{constructor(e){if(super(),this.name="rooms",this.selected=new r.L(null),this._rooms={},this.floorToRoomsMap=new Map,e)for(const t of Object.values(e))this.add(t)}add(e){this._rooms[e.id]=e;const t=this.floorToRoomsMap.get(e.floorId);t?t.push(e):this.floorToRoomsMap.set(e.floorId,[e])}remove(e){const t=this.get(e);if(!t)return;const n=this.floorToRoomsMap.get(t.floorId);if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}delete this._rooms[e]}rooms(){const e=this._rooms,t=Object.keys(this._rooms);return function*(){for(const n of t)yield e[n]}()}get roomCount(){return Object.keys(this._rooms).length}get collection(){return this._rooms}getAllRooms(){return Object.values(this.floorToRoomsMap)}get(e){return this._rooms[e]}getByMeshSubgroup(e){return Object.values(this._rooms).find((t=>t.meshSubgroup===e))}roomsByFloor(e){return this.floorToRoomsMap.get(e)||[]}getRoomIdMap(e,t){const n={};for(const i of Object.values(this._rooms)){const r=e.getFloor(i.floorId),o=r?String((r.index<<16)+i.meshSubgroup):"",s=i.id;""===o?console.warn("[WARNING getRoomIdMap]: mapping between room IDs was incomplete!"):t?n[o]=s:n[s]=o}return n}}},68593:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var i=n(55141);class r extends i.u{constructor(e,t){super(),this.payload={owner:e,isVisible:t}}}r.id="TOGGLE_SCENES_BY_OWNER"},91779:(e,t,n)=>{"use strict";n.d(t,{q:()=>u,t:()=>c});var i=n(68909),r=n(3531),o=n(10843),s=n(10032);const a=["FontLoader","Font","ParametricGeometry","TextGeometry"],l=new o.Ay("three-globals"),c=function(e,t){i.DefaultLoadingManager.addHandler(/\.tga$/i,new r.TGALoader(s.A)),i.DefaultLoadingManager.addHandler(/\.jpe?g$/i,e()),i.DefaultLoadingManager.addHandler(/\.png$/i,t()),i.Cache.enabled=!0},u=async function(){const{modules:e}=await Promise.all([n.e(287),n.e(916),n.e(895),n.e(888),n.e(662),n.e(704),n.e(239)]).then(n.bind(n,15014));for(const t of e){const e=Object.keys(t);for(const n of e){const e=t[n],r=i;if(n in r)if("object"==typeof e)for(const t in e)t in r[n]||(r[n][t]=e[t]);else"function"==typeof e&&(!(n in r)||a.includes(n)?r[n]=e:l.debug(`"${n}" exists in THREE object but has not been listed as overrideable, skipping...`));else r[n]=e}}}},78849:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var i=n(84710),r=n(12554),o=n(56413),s=n(93877),a=n(93369);class l extends i.B{constructor(){super(...arguments),this.name="search-data",this.searchMode=!1,this.query="",this.typeFilters=(0,r.Z)(),this.keywordFilters=(0,r.Z)(),this.grouping=l.defaultGrouping,this.results=(0,o.y)(),this.dataTypeGroups={},this.keywordCounts=(0,o.y)({}),this.activeItemId=null,this.selectedType=null}getSearchDataTypeList(){return Object.values(this.dataTypeGroups)}getSearchDataTypeGroup(e){return this.dataTypeGroups[e]}getQuery(){return this.query}getTypeFilters(){return this.typeFilters.values()}setTypeFilters(e){this.typeFilters.replace(e)}setTypeFilter(e){this.setTypeFilters([e])}clearTypeFilters(){this.getTypeFilters().length>0&&this.typeFilters.replace([])}toggleSearchFilter(e,t){t?this.typeFilters.push(e):this.typeFilters.remove(this.typeFilters.indexOf(e))}hasActiveQuery(){return""!==this.query||this.keywordFilters.length>0}setQuery(e){this.query=e}getKeywordFilters(){return this.keywordFilters.values()}setKeywordFilters(e){this.keywordFilters.replace(e)}setKeywordCounts(e){this.keywordCounts.replace(e)}getKeywordSummaries(){const e={};return this.getKeywordFilters().forEach((t=>{e[t]={id:t,text:t,count:0,isSelected:!0}})),this.keywordCounts.keys.forEach((t=>{const n=this.keywordCounts.get(t);e[t]?e[t].count=n:e[t]={id:t,text:t,count:n,isSelected:!1}})),Object.values(e)}hasSearchResultItem(e){const t=(0,a.u)(e);return this.results.has(t)}getSearchResultItem(e){const t=(0,a.u)(e);return this.results.get(t)}getResultsMap(){return this.results}getResults(){return this.results.values}onSearchResultsChanged(e){return this.results.onChanged(e)}setResults(e){this.getResults().forEach((e=>e.cancelBindings()));const t=e.reduce(((e,t)=>(e[(0,a.u)(t)]=t,t.registerBindings(),e)),{});this.atomic((()=>{this.results.replace(t)}))}}l.defaultGrouping=s.Hj.TYPE},79723:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var i=n(56208);const r="search";function o(e){const t=e.tryGetProperty(i.Q$.SpaceSearch,0),n=e.getOverrideParam(r,1);return t&&!(0===n)}},95143:(e,t,n)=>{"use strict";n.d(t,{A_:()=>l,S8:()=>i,x8:()=>a});const i=["<mark>","</mark>"],r=20;function o(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function s(e,t){const[n,r]=i,s=`${n}|${r}`;let a=!1;if(e.match(new RegExp(s))&&(e=e.replace(new RegExp(`(${s})`,"g"),((e,t)=>t.split("").join(""))),a=!0),t){let i;i=a?t.split("").map(o).join("[]?"):o(t),e=e.replace(new RegExp(`(${i})`,"gi"),((e,t)=>`${n}${t}${r}`))}return e}const a=s;function l(e,t){const n=function(e,t){var n;const i=e.toLowerCase(),[s,a,l]=[i.indexOf(t),e.length,(null===(n=i.match(new RegExp(`${o(t)}`,"g")))||void 0===n?void 0:n.length)||1];let c=e,u=s;if(a>r&&u>0){if(1===l){const e=Math.floor((r-t.length)/2);e>0&&u>e&&(u-=e)}c=`...${c.substr(u)}`,c.length<r&&(u-=r-c.length,u>0&&(c=`...${e.substr(u)}`))}return c}(e,t);return s(n,t)}},95072:(e,t,n)=>{"use strict";n.d(t,{X$:()=>i,aJ:()=>r,bo:()=>o});const i=75,r=50,o=50},93369:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,u:()=>s});var i=n(93877),r=n(95072);function o(e,t,n){var o;switch(n){case i.Hj.TYPE:return(null===(o=null==e?void 0:e.dataTypeGroups[t])||void 0===o?void 0:o.groupOrder)||r.X$;case i.Hj.FLOOR:return r.bo;case i.Hj.LAYER:return r.aJ}return-1}function s(e){return`${e.id}-${e.typeId}`}},84358:(e,t,n)=>{"use strict";var i;n.d(t,{Y:()=>i}),function(e){e.SPHERE="sourcetype.sphere",e.BOX="sourcetype.box",e.CYLINDER="sourcetype.cylinder"}(i||(i={}))},29543:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var i=n(68909),r=n(27429);class o extends r.y{constructor(){super(),this.box=new i.Box3,this.center=new i.Vector3,this.size=new i.Vector3(1/0,1/0,1/0),this.orientation=new i.Quaternion,this.inverseOrientation=new i.Quaternion,this.pointCache=new i.Vector3,this.transformNeedsUpdate=!1,this.box.setFromCenterAndSize(this.center,this.size)}get origin(){return this.center}updateCenter(e){this.center.copy(e),this.box.setFromCenterAndSize(this.center,this.size),this.transformNeedsUpdate=!0}updateDimensions(e){this.size.copy(e),this.box.setFromCenterAndSize(this.center,this.size)}updateOrientation(e){this.orientation.copy(e),this.transformNeedsUpdate=!0}containsPoint(e){return this.transformNeedsUpdate&&(this.transformNeedsUpdate=!1,this.inverseOrientation.copy(this.orientation).invert()),this.pointCache.copy(e).sub(this.center),this.pointCache.applyQuaternion(this.orientation),this.pointCache.add(this.center),this.box.containsPoint(this.pointCache)}}},39634:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var i=n(68909),r=n(27429);class o extends r.y{constructor(){super(...arguments),this._basePoint=new i.Vector3,this._height=1/0,this._radius=1/0,this.pointCache=new i.Vector3}get origin(){return this._basePoint}get basePoint(){return this._basePoint}get height(){return this._height}get radius(){return this._radius}updateBasePoint(e){this.basePoint.set(e.x,e.y,e.z)}updateHeight(e){this._height=e}updateRadius(e){this._radius=e}containsPoint(e){return this.pointCache.set(e.x,this._basePoint.y,e.z),this._basePoint.distanceToSquared(this.pointCache)<=this.radius**2&&this._basePoint.y<=e.y&&e.y<=this._basePoint.y+this.height}}},41369:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var i=n(68909),r=n(27429);class o extends r.y{constructor(){super(...arguments),this.origin=new i.Vector3,this.radius=1/0}updateRadius(e){this.radius=e}updateOrigin(e){this.origin.copy(e)}containsPoint(e){return this.origin.distanceToSquared(e)<=this.radius**2}}},66416:(e,t,n)=>{"use strict";var i;n.d(t,{X:()=>i}),function(e){e.USER="user",e.PANORAMA="panorama",e.UNALIGNED="unaligned",e.AUTO="auto",e.TOUR="tour"}(i||(i={}))},97696:(e,t,n)=>{"use strict";n.d(t,{PN:()=>a,nF:()=>l});var i=n(48539),r=n(66416),o=n(2993),s=n(19968);r.X.PANORAMA,r.X.TOUR,r.X.USER;const a=(e,t)=>{const n=e.name||(0,i.Rt)(e.created),r=t.name||(0,i.Rt)(t.created);return n.localeCompare(r)},l=(e,t,n)=>{var i;let r=null!==(i=n.currentMode)&&void 0!==i?i:o.N3.Panorama;const a=e.pose.position.clone();return(0,o.nI)(r)||((0,s.aY)(e.pose.pitchFactor())?(r=o.N3.Floorplan,a.y=e.pose.fovCorrectedFocalDistance()+t.getFloorMin()):r=o.N3.Dollhouse),{position:a,viewmode:r}}},95386:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});class i{static get hasPassword(){const{model:e}=window.MP_PREFETCHED_MODELDATA||{};return e&&e.has_public_access_password}static get modelErrorCode(){var e,t;return null===(t=null===(e=window.MP_PREFETCHED_MODELDATA)||void 0===e?void 0:e.model)||void 0===t?void 0:t.error_code}static getQuery(e){var t,n,i;const r=(null===(t=window.MP_PREFETCHED_MODELDATA)||void 0===t?void 0:t.queries)||{};if("GetModelPrefetch"===e){const t=r[e];if(!t)return;const o=null===(n=t.data)||void 0===n?void 0:n.model;if(!o)return;if(!(null===(i=o.locations)||void 0===i?void 0:i.length))return;return t}return r[e]}static getQueryErrors(e){var t,n,i;return null===(i=null===(n=null===(t=window.MP_PREFETCHED_MODELDATA)||void 0===t?void 0:t.queries)||void 0===n?void 0:n[e])||void 0===i?void 0:i.errors}static get config(){var e;return null===(e=window.MP_PREFETCHED_MODELDATA)||void 0===e?void 0:e.config}static get sdkMetadata(){return window.MP_SDK_METADATA}}},47840:(e,t,n)=>{"use strict";n.d(t,{B:()=>l});var i=n(56388),r=n(99625),o=n(10843),s=n(75027);const a=new o.Ay("PrefetchedQueryCache");class l{constructor(e){const{initialData:t,baseUrl:n,mdsContext:o}=e;this.client=new i.t({baseUrl:n,mdsContext:o}),this.config=e,t?(this.data=t,this.initialLoadPromise=Promise.resolve(this.data),this.fixVariablesForDefaultViewIdIfNeeded()):e.prefetchPolicy===r.G.PRELOAD&&this.preload()}async read(e,t,n={}){const{prefetchKey:i,prefetchPolicy:o=this.config.prefetchPolicy}=n;if(!i||o===r.G.NONE)return;if((null==t?void 0:t.modelId)&&(null==t?void 0:t.modelId)!==this.config.variables.modelId)return;o===r.G.PRELOAD&&void 0===this.data&&await this.preload();const s=this.has(i);return a.debug(`Cache ${s?"hit":"miss"} for ${i}`),s?this.data:void 0}clear(){this.data=void 0,this.preloadPromise=void 0}async preload(){var e;return null!==(e=this.preloadPromise)&&void 0!==e?e:this.preloadPromise=(async()=>{const{query:e,variables:t,anonymous:n}=this.config;try{return this.initialLoadPromise=this.client.query(e,t,{anonymous:n}),this.data=await this.initialLoadPromise,this.fixVariablesForDefaultViewIdIfNeeded(),!0}catch(e){return a.info(e),this.data={},!1}})()}has(e){return void 0!==(0,s.L)(this.data,e)}fixVariablesForDefaultViewIdIfNeeded(){const e=(0,s.L)(this.data,"data.model.id"),t=(0,s.L)(this.config,"variables.modelId");void 0!==this.data&&void 0!==e&&void 0!==t&&e!==t&&(a.debug(`Updating cache modelId from it's initial value ${t} to the value returned by platform ${e}`),this.config.variables.modelId=e)}}},45548:(e,t,n)=>{"use strict";n.d(t,{DI:()=>r,ft:()=>s,xi:()=>o,xt:()=>a});var i=n(89103);class r extends i.QB{constructor(e){super(),this.dataTypes=e}}class o extends i.QB{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}class s extends i.QB{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}class a extends i.QB{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}},3645:(e,t,n)=>{"use strict";n.d(t,{An:()=>o,Z1:()=>s,ZZ:()=>c,jg:()=>i,nt:()=>r,oZ:()=>u,td:()=>l,x$:()=>a});const i="subscriber_prompt",r="subscriber-prompt-active",o="subscriber-prompt-active",s=Object.freeze({popupDelay:14500,popupEnabled:!1,bannerEnabled:!1,domainDenylist:["ea4141d5b45bcfce5ac984955a7df9f74b323182","500ef59c0e9bd523a5e102d4b229b85df4c008c2","55d9b1786668eb25ce174aa06d46535054046935","44a68fb615814e263894da681018ed5687527b75","750514616c13561e878f04cd38cedc4bd3028f60","633e98d1f7cf36879e21d642068af2196d67a229","2566065b5d698efd82a16854185501ee2ea8eae6"]}),a={enabled:"spEnabled",forceBanner:"spBanner",forcePopup:"spPopup",forcePolicy:"spPolicy",forceReferrer:"spReferrer"},l="spaces.visitor.subscriber.prompt",c="mp/subscriber-prompt-dismissed",u="https://matterport.page.link/v2s-download"},60818:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});const i=new(n(10843).Ay)("subscriber-prompt")},34184:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(40899);class r extends i.A{}},47004:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(40899);class r extends i.A{constructor(e,t,n,i){super(e,i),this.alignmentType=t,this.placementType=n}}},40899:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(89103);class r extends i.QB{constructor(e,t){super(),this.fromSweep=t,this.toSweep=e,this.timestamp=Date.now()}}},50018:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>u,EO:()=>r,c$:()=>i});var i,r,o=n(68909),s=n(85616),a=n(76318);!function(e){e.ALIGNED="aligned",e.UNALIGNED="unaligned"}(i||(i={})),function(e){e.UNPLACED="unplaced",e.AUTO="auto",e.MANUAL="manual"}(r||(r={}));const l={[a.MF.BASE]:"512",[a.MF.STANDARD]:"1k",[a.MF.HIGH]:"2k",[a.MF.ULTRAHIGH]:"4k"},c={[a.MF.BASE]:"low",[a.MF.STANDARD]:"high",[a.MF.HIGH]:"2k",[a.MF.ULTRAHIGH]:"4k"};class u extends s.v{static formatId(e,t){return t?`${t}:${e}`:e}static parseId(e){const t=e.split(":");return{platformId:t.length>1?t[1]:t[0],sourceViewId:t.length>1?t[0]:null}}get id(){return this._id}get platformId(){return this._platformId}get sourceViewId(){return this._sourceViewId}constructor(e){super(),this._sourceViewId=null,this.floorId=null,this.roomId=null,this.neighborsEdited=!1,this.skyboxes={},e&&(null!=e.sourceViewId&&(this._sourceViewId=e.sourceViewId),e.platformId&&(this._platformId=e.platformId),this._id=u.formatId(this._platformId,this._sourceViewId),void 0!==e.index&&(this.index=e.index),this.name=e.name||"",this.position=e.position||new o.Vector3,this.floorPosition=e.floorPosition||new o.Vector3,void 0!==e.floorId&&(this.floorId=e.floorId),this.roomId=e.roomId||null,this.rotation=e.rotation||new o.Quaternion,this.enabled=e.enabled||!1,this.vrenabled=e.vrenabled||!1,this.neighbours=e.neighbours||[],this._sourceViewId&&(this.neighbours=this.neighbours.map((e=>u.formatId(e,this._sourceViewId)))),this.alignmentType=e.alignmentType||i.ALIGNED,this.placementType=e.placementType||r.UNPLACED,void 0!==e.uuid&&(this.uuid=e.uuid),e.resolutions&&(this.resolutions=e.resolutions.slice()),e.skyboxes&&(this.skyboxes=Object.assign({},e.skyboxes)))}isAligned(){return this.alignmentType===i.ALIGNED}isUnplaced(){return this.placementType===r.UNPLACED}equals(e,t=!0){return this.id===e.id&&this.index===e.index&&this.name===e.name&&this.position.equals(e.position)&&(!t&&!e.floorId||this.floorId===e.floorId)&&(!t&&!e.roomId||this.roomId===e.roomId)&&this.rotation.equals(e.rotation)&&this.enabled===e.enabled&&this.vrenabled===e.vrenabled&&this.alignmentType===e.alignmentType&&this.placementType===e.placementType}copy(e){return this._id=e._id,this._sourceViewId=e._sourceViewId,this._platformId=e._platformId,this.index=e.index,this.name=e.name,this.position=(new o.Vector3).copy(e.position),this.floorPosition=(new o.Vector3).copy(e.floorPosition),this.floorId=e.floorId,this.roomId=e.roomId,this.rotation=(new o.Quaternion).copy(e.rotation),this.enabled=e.enabled,this.vrenabled=e.vrenabled,this.neighbours=e.neighbours.slice(),this.alignmentType=e.alignmentType,this.placementType=e.placementType,this.resolutions=e.resolutions,this.skyboxes=Object.assign({},e.skyboxes),this}clone(){return new u({platformId:this.platformId}).copy(this)}availableResolution(e){if(!e||!this.resolutions)throw new Error("No available resolution found for sweep");return this.resolutions.includes(e)?e:this.availableResolution(this.getLowerResolution(e))}getLowerResolution(e){switch(e){case a.MF.ULTRAHIGH:return a.MF.HIGH;case a.MF.HIGH:return a.MF.STANDARD;case a.MF.STANDARD:return a.MF.BASE}return null}refresh(e){var t;const n=this.equals(e,!1);this.alignmentType=e.alignmentType,this.enabled=e.enabled,this.name=e.name,this.neighbours=e.neighbours.slice(),this.placementType=e.placementType,this.resolutions=e.resolutions,this.vrenabled=e.vrenabled;for(const n in this.skyboxes){const i=n,r=e.skyboxes[i];r&&(null===(t=this.skyboxes[i])||void 0===t||t.refreshFrom(r))}n||this.commit()}async getTileUrl(e,t,n,i){var r;const o=await this.getSkybox(e);return(null!==(r=null==o?void 0:o.tileUrlTemplate)&&void 0!==r?r:`tiles/${this.id}/${l[e]}_face<face>_<x>_<y>.jpg`).replace("<face>",`${t}`).replace("<x>",`${n}`).replace("<y>",`${i}`)}async getFaceUrl(e,t){var n;const i=await this.getSkybox(e)||await this.getSkybox(a.MF.BASE);return(null!==(n=null==i?void 0:i.urlTemplate)&&void 0!==n?n:`pan/${c[e]}/${this.id}_skybox<face>.jpg`).replace("<face>",`${t}`)}async getSkybox(e){const t=this.skyboxes[e];return t?t.get():t}get tags(){const e=[];return this.enabled&&e.push("showcase"),this.vrenabled&&e.push("vr"),e}}},63362:(e,t,n)=>{"use strict";n.d(t,{HP:()=>r,S2:()=>o,WS:()=>a,WW:()=>s,_p:()=>d,j3:()=>c,tA:()=>u});var i=n(55141);class r extends i.u{constructor(e){super(),this.sweepId=e,this.payload={sweepId:e}}}r.id="SET_CURRENT_SWEEP";class o extends i.u{constructor(e,t,n=500){super(),this.payload={id:e,selected:t,duration:n}}}o.id="SELECT_SWEEP";class s extends i.u{constructor(e,t,n=500){super(),this.payload={id:e,hovered:t,duration:n}}}s.id="HOVER_SWEEP";class a extends i.u{constructor(e,t=[],n=[]){super(),this.payload={id:e,added:t,removed:n}}}a.id="MODIFY_SWEEP_NEIGHBORS";class l extends i.u{constructor(e,t){super(),this.payload={id:e,name:t}}}l.id="RENAME_SWEEP";class c extends i.u{constructor(e){super(),this.payload={visible:e}}}c.id="TOGGLE_NON_PANO_CURRENT_PUCK";class u extends i.u{}u.id="ENABLE_SWEEP_SELECTION";class d extends i.u{}d.id="DISABLE_SWEEP_SELECTION"},62372:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(50018),r=n(84710),o=n(56413),s=n(42743),a=n(92237),l=n(21440);class c extends r.B{constructor(e){super(),this.name="sweeps",this.transitionActive=!1,this._unfilteredSweepMap=new o.E,this.sweepMap=new s.q(this._unfilteredSweepMap),e&&this.addSweeps(e),this.transition={progress:new a.z(0),active:!1,from:void 0,to:void 0},this.isSweepDisabled=this.isSweepDisabled.bind(this)}addFilter(e,t){return this.sweepMap.setFilter(e,t)}clearFilters(){this.sweepMap.clearFilters()}removeSweeps(e){const t=Object.values(e).map((e=>e.id));return this._unfilteredSweepMap.atomic((()=>{const n=this._unfilteredSweepMap.values;for(const i of n)if(e[i.id])this._unfilteredSweepMap.delete(i.id);else{let e=!1;t.forEach((t=>{(0,l.Nz)(i.neighbours,t)&&(e=!0)})),e&&i.commit()}})),this}addSweeps(e){const t=Object.values(e).sort(((e,t)=>e.index-t.index));return this._unfilteredSweepMap.atomic((()=>{for(const e of t)this._unfilteredSweepMap.has(e.id)?this._unfilteredSweepMap.get(e.id).refresh(e):this._unfilteredSweepMap.set(e.id,e)})),this}refresh(e){this._unfilteredSweepMap.forEach(((t,n)=>{e[n]&&t.refresh(e[n])}))}canTransition(){return!this.transition.active}get currentSweepIndex(){if(this.currentSweep)return this.getSweep(this.currentSweep).index}get currentSweepObject(){if(this.currentSweep)return this.getSweep(this.currentSweep)}get currentAlignedSweepObject(){if(this.currentSweep&&!this.isSweepUnaligned(this.currentSweep))return this.getSweep(this.currentSweep)}makeSweepChangeSubscription(e){return this.onPropertyChanged("currentSweep",e)}getSweep(e){let t=this._unfilteredSweepMap.get(null!=e?e:"");if(!t)for(const n of this._unfilteredSweepMap.values)n.platformId!==e||(t=n);return t}getSweepByIndex(e){return this._unfilteredSweepMap.values.find((t=>t.index===e))}getSweepByUuid(e){return this._unfilteredSweepMap.values.find((t=>t.uuid===e))}containsSweep(e,t={unfiltered:!1}){if(!e)return!1;return(t.unfiltered?this._unfilteredSweepMap:this.sweepMap).has(e)}getFirstSweep(e=!1){const t=this.getSweepList().sort(((e,t)=>e.index-t.index));let n=-1;for(;++n<t.length;){const r=t[n];if(r.enabled&&(!e||r.alignmentType===i.c$.ALIGNED))return r}}getFirstAlignedSweep(){return this.getFirstSweep(!0)||null}getStartSweep(e){const t=e&&e.pano&&e.pano.uuid?this.getSweep(e.pano.uuid):null;return t&&t.enabled?t:this.getFirstSweep()}getClosestSweep(e,t){let n=Number.MAX_VALUE,r=null;return this.iterate((o=>{if(o.enabled&&(!t||o.alignmentType===i.c$.ALIGNED)){const t=e.distanceTo(o.position);t<n&&(n=t,r=o)}})),r}getSweepIdMap(e){const t={};for(const n of this.sweepMap)e?t[n.uuid]=n.platformId:(t[n.id]=n.uuid,t[n.platformId]=n.uuid);return t}activateTransition(e,t){this.transition.active=!0,this.transition.from=t,this.transition.to=e,this.transitionActive=!0}deactivateTransition(){this.transition.active=!1,this.transition.from=void 0,this.transition.to=void 0,this.transitionActive=!1}isSweepUnaligned(e){if(!e)return!1;const t=this.getSweep(e);return t&&!t.isAligned()}isSweepAligned(e){if(!e)return!1;const t=this.getSweep(e);return t&&t.isAligned()}isSweepDisabled(e=this.currentSweep){if(!e)return!1;const t=this.getSweep(e);return!t||!t.enabled}*sweeps(){for(const e of this.sweepMap.values)yield e}iterate(e){for(const t of this.sweepMap.values)e(t,t.index)}filter(e){return this.sweepMap.values.filter(e)}sortByScore(e,t,n){return(n||this.sweepMap.values).filter((t=>e.every((e=>e(t))))).map((e=>({sweep:e,score:t.reduce(((t,n)=>t+n(e)),0)}))).sort(((e,t)=>t.score-e.score))}getSweepList(){return this.sweepMap.values}getAlignedSweeps(){return this.getSweepList().filter((e=>e.alignmentType===i.c$.ALIGNED))}onSweepsChanged(e){return this.sweepMap.onChanged(e)}getSweepNeighbours(e){const t=[];for(const n of e.neighbours)t.push(this.getSweep(n));return t}getAlternateSweeps(e,t={unfiltered:!1}){const n=[];if(!e)return n;const i=t.unfiltered?this._unfilteredSweepMap:this.sweepMap;for(const t of i.values)t.platformId===e.platformId&&t.id!==e.id&&n.push(t);return n}getCollection(){return this.sweepMap}getCollectionUnfiltered(){return this._unfilteredSweepMap}}},78229:(e,t,n)=>{"use strict";n.d(t,{AU:()=>s,DJ:()=>g,Eo:()=>p,GS:()=>c,OX:()=>d,Ol:()=>m,Pi:()=>v,Zx:()=>u,Zz:()=>S,f:()=>l,fm:()=>E,jW:()=>f,lp:()=>y,sT:()=>h,xg:()=>a});var i=n(50018),r=n(68909);const o=.25,s=e=>{function t(t){return t!==e}return Object.defineProperty(t,"name",{value:"_not"}),t},a=e=>{function t(t){return!!e.neighbours&&(-1!==e.neighbours.indexOf(t.id)||-1!==e.neighbours.indexOf(t.platformId))}return Object.defineProperty(t,"name",{value:"_neighbor"}),t},l=e=>{function t(t){return e===t||a(e)(t)}return Object.defineProperty(t,"name",{value:"_neighborOrSelf"}),t};function c(e){return e&&e.placementType===i.EO.MANUAL}function u(){function e(e){return e&&e.alignmentType===i.c$.ALIGNED}return Object.defineProperty(e,"name",{value:"_aligned"}),e}const d=()=>{function e(e){return e&&e.alignmentType!==i.c$.ALIGNED}return Object.defineProperty(e,"name",{value:"_unaligned"}),e},h=e=>{function t(t){return t&&e.floorId===t.floorId}return Object.defineProperty(t,"name",{value:"_sameFloor"}),t},p=e=>{function t(t){return t&&e===t.floorId}return Object.defineProperty(t,"name",{value:"_onFloor"}),t},f=(()=>{const e=new r.Vector3,t=new r.Vector3;return(n,i,r=o)=>{function s(o){return e.copy(o.position).sub(n).normalize().dot(t.copy(i))>r}return Object.defineProperty(s,"name",{value:"_inDirection"}),s}})(),m=()=>{function e(e){return e&&e.enabled}return Object.defineProperty(e,"name",{value:"_enabled"}),e},g=(e,t)=>{const n=new r.Vector3;function i(i){return n.copy(i.position).sub(e).normalize().dot(t)>0}return t=t.clone(),Object.defineProperty(i,"name",{value:"_byNormal"}),i},v=(e,t)=>{function n(n){return e.distanceTo(n.position)>t}return Object.defineProperty(n,"name",{value:"_outsideMaxDist"}),n},y=(e,t)=>{function n(n){return e.distanceTo(n.position)<t}return Object.defineProperty(n,"name",{value:"_inMaxDist"}),n},E=(e,t)=>{function n(n){return e.distanceToSquared(n.position)<t}return Object.defineProperty(n,"name",{value:"_inMaxSqDist"}),n},S={negate:e=>function(t){return!e.call(e,t)},every:(...e)=>function(t){return e.every((e=>e(t)))},some:(...e)=>function(t){return e.some((e=>e(t)))}}},8333:(e,t,n)=>{"use strict";n.d(t,{Oe:()=>r,RB:()=>s,W0:()=>o});var i=n(75778);const r="settings/tiling/preload_quality",o=Object.freeze({overlayStyle:(0,i.P3)("tileoverlay",0),uploadIntervalDelay:50,highResUploadsPerFrame:2,maxHighResUploadsPerFrame:100,loadIndicatorDelay:300,uploadsPerFrame:6,maxUploadsPerFrame:100,windowHeightHighQualityThreshold:800,windowHeightHighQualityThresholdOverride:(0,i.P3)("threshold2k",void 0),concurrentDownloads:3,maxConcurrentDownloads:12,navigation:{directionFactor:10,distanceFactor:-1}});class s{constructor(){this.reset()}reset(){this.downloadFullPano=!1,this.concurrentDownloads=o.concurrentDownloads,this.uploadsPerFrame=o.uploadsPerFrame,this.highResUploadsPerFrame=o.highResUploadsPerFrame}}},23500:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});const i="features/360_views"},80191:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(89103);class r extends i.QB{constructor(e,t,n){super(),this.sweepId=e,this.sweepIndex=t,this.totalSweeps=n}}},25686:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(89103);class r extends i.QB{constructor(e,t){super(),this.sweepId=e,this.hovered=t}}},3956:(e,t,n)=>{"use strict";n.d(t,{J:()=>O,U:()=>b});var i=n(68909),r=n(63362),o=n(81544),s=n(31002),a=n(80191),l=n(36476),c=n(37458),u=n(50018),d=n(57811),h=n(23184),p=n(25686),f=n(84250),m=n(52885),g=n(81662),v=n(38069);const y=[],E=new i.Sphere;class S extends f.O{constructor(){super(...arguments),this.bindings=[]}}class b extends i.Mesh{raycast(e,t){if(super.raycast(e,y),y.length){const{geometry:n}=this;n.boundingSphere||n.computeBoundingSphere(),E.copy(n.boundingSphere).applyMatrix4(this.matrixWorld);for(const n of y)e.ray.intersectSphere(E,n.point),n.distance=e.ray.origin.distanceTo(n.point),t.push(n);y.length=0}}}class O{constructor(e,t,n,r,o,s,a,c=v.V.MP_BRAND.clone(),u=v.V.MP_BRAND.clone(),d=.8,h=.8,p=300,f=.4,m=l.H.ALL){this.scene=e,this.input=t,this.settingsData=n,this.sweepViewData=r,this.puckImagery=o,this.onFloor=s,this.checkRenderModes=a,this.idleColor=c,this.selectionColor=u,this.idleOpacity=d,this.editingOpacity=h,this.selectionDuration=p,this.puckSize=f,this.layer=m,this.sweepToMesh={},this.colliderToSweep={},this.editingEnabled=!1,this.dummyMat=new i.MeshBasicMaterial,this.puckOffset=new i.Vector3(0,.05,0),this.bindings=[],this.wasDrawing=!1,this.renderPuckHighlight=(e,t)=>{if(!this.sweepViewData.isSweepAligned(e))return;const n=this.sweepToMesh[e];null==n||n.configure({tint:t?this.selectionColor:this.idleColor})},this.isVisiblePuckCollider=e=>{var t;const n=e instanceof i.Object3D?e.userData.sid:"";return e instanceof b&&(null===(t=this.sweepViewData.getState(n))||void 0===t?void 0:t.visible)&&this.sweepViewData.getSweepVisibility(this.sweepViewData.getSweep(n))}}init(){if(this.puckGeometry=new i.PlaneGeometry(this.puckSize,this.puckSize),this.onFloor){const e=new i.Matrix4;e.makeRotationFromEuler(new i.Euler(-Math.PI/2,0,0,"XYZ")),this.puckGeometry.applyMatrix4(e)}this.sphereColliderGeometry=new i.SphereGeometry(.5*this.puckSize,10,10);const e=this.sweepViewData.getCollection(),t=(e,t)=>{this.removeSweepFromScene(t);const n=this.sweepToMesh[t];n&&(n.bindings.forEach((e=>e.cancel())),n.bindings.length=0),delete this.sweepToMesh[t],delete this.colliderToSweep[t]},n=(e,t)=>{this.wasDrawing=!1,this.createPuck(this.sweepViewData.getSweep(t))};e.entries().forEach((([e,t])=>n(0,e))),e.onElementsChanged((({removed:e,added:i})=>{e&&e.forEach((([e,n])=>t(0,e))),i&&i.forEach((([e,t])=>n(0,e)))}))}get displayDisabled(){return void 0!==this.puckImagery.disabled}createMesh(e){const t=new S({radius:this.puckSize/2,normal:g.B1.UP});this.onFloor?t.position.copy(e.floorPosition).add(this.puckOffset):(t.position.copy(e.position),t.rotation.setFromQuaternion(e.rotation)),t.name=e.id,t.updateMatrixWorld(!1),t.renderOrder=c.X.panoMarker,t.material.depthWrite=!1;const n=this.sweepViewData.getState(e.id),i=()=>this.updateMesh(e,n,t);return t.bindings.push(n.onChanged(i),e.onPropertyChanged("enabled",i)),i(),t.layers.mask=this.layer.mask,t}updateMesh(e,t,n){if(n.visible=t.visible){const{editingEnabled:r,puckImagery:o}=this,s=t.animation.value,a=r&&s>0,l=e.enabled?a?o.enabledHover:o.enabled:a?o.disabledHover:o.disabled;n.configure({texture:l instanceof i.Texture?l:null,rings:l instanceof i.Texture?void 0:l,tint:this.editingEnabled&&e.id===this.sweepViewData.selectedSweep?this.selectionColor:this.idleColor,opacity:(0,m.C)(r?this.editingOpacity:this.idleOpacity,1,s)})}}createCollider(e,t){let n;return n=this.onFloor?new b(this.puckGeometry,this.dummyMat):new b(this.sphereColliderGeometry,this.dummyMat),n.userData.sid=e.id,n.position.copy(t.position),n.rotation.copy(t.rotation),n.name=e.id,n.updateMatrixWorld(!1),n}createPuck(e){if(e.alignmentType!==u.c$.ALIGNED)return;const t=this.createMesh(e),n=this.createCollider(e,t);t.collider=n,this.sweepToMesh[e.id]=t,this.colliderToSweep[n.id]=e.id}toggleEditingEnabled(e){this.editingEnabled=e;for(const t in this.sweepToMesh){this.sweepToMesh[t].configure({opacity:e?this.editingOpacity:this.idleOpacity})}}getSweepId(e){return this.colliderToSweep[e]}updatePuckImagery(e){let t;this.displayDisabled||void 0===e.disabled?this.displayDisabled&&void 0===e.disabled&&(t=!1):t=!0,this.puckImagery=e,this.sweepViewData.iterate(((e,n)=>{if(e.alignmentType===u.c$.ALIGNED&&(this.updateMesh(e,n,this.sweepToMesh[e.id]),void 0!==t)){if(e.enabled)return;t?this.addSweepToScene(e.id):this.removeSweepFromScene(e.id)}}))}updateCheckRenderModes(e){this.checkRenderModes=e}removeSweepFromScene(e){const t=this.sweepToMesh[e];t&&(t.removeFromParent(),this.input.unregisterMesh(t.collider))}addSweepToScene(e){var t;const n=this.sweepViewData.getSweep(e);if(!n.enabled&&!this.displayDisabled)return;const i=this.sweepToMesh[e];this.scene.getSubTree([null!==(t=n.sourceViewId)&&void 0!==t?t:""]).add(i),this.input.registerMesh(i.collider,!0,this.isVisiblePuckCollider)}render(){const e=this.checkRenderModes(),t=this.settingsData.tryGetProperty(d.f,!0);if(e&&t){if(!this.wasDrawing){for(const e in this.sweepToMesh)this.addSweepToScene(e);this.wasDrawing=!0}}else if(this.wasDrawing){for(const e in this.sweepToMesh)this.removeSweepFromScene(e);this.wasDrawing=!1}}dispose(){for(const e in this.sweepToMesh)this.sweepToMesh[e].dispose()}activate(e){this.wasDrawing=!1;const t=h.f.is(this.isVisiblePuckCollider);this.bindings.push(this.input.registerMeshHandler(o.L,t,((t,n)=>{e.commandBinder.issueCommand(new r.WW(this.getSweepId(n.id),!0,this.selectionDuration)),e.broadcast(new p.A(this.getSweepId(n.id),!0))}))),this.bindings.push(this.input.registerMeshHandler(o.q,t,((t,n)=>{e.commandBinder.issueCommand(new r.WW(this.getSweepId(n.id),!1,this.selectionDuration)),e.broadcast(new p.A(this.getSweepId(n.id),!1))}))),this.bindings.push(this.input.registerMeshHandler(s.rX,t,((t,n)=>{const i=this.sweepViewData.getSweep(this.colliderToSweep[n.id]).index,r=this.sweepViewData.getAlignedSweeps(!0).length;e.broadcast(new a.A(this.colliderToSweep[n.id],i,r))})))}deactivate(e){for(const e in this.sweepToMesh)this.removeSweepFromScene(e);for(const e of this.bindings)e.cancel();this.bindings.length=0}}},57811:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});const i="features/sweep_pucks"},4288:(e,t,n)=>{"use strict";n.d(t,{O:()=>h});var i=n(84710),r=n(95330),o=n(50018),s=n(78229),a=n(56413),l=n(85616),c=n(92237);class u extends l.v{constructor(){super(...arguments),this.selected=!1,this.visible=!0,this.animation=new c.z(0)}}var d=n(70819);class h extends i.B{constructor(e){super(),this.data=e,this.name="sweeps-view",this.states=new a.E,this.defaultSweepVisibilityRule=e=>e&&e.enabled,this.sweepVisibilityRule=this.defaultSweepVisibilityRule,this.bindings=[],this.selectCurrentSweep=()=>{this.setSelectedSweep(this.data.currentSweep||null)},this.derivedData={},this.toolStateObservable=new r.L(d.j.CLOSED),this.selectedSweepObservable=new r.L(null);const t=[d.j.MOVING,d.j.PLACING,d.j.PRESSING,d.j.ROTATING],n=(e,t)=>{if(!this.states.has(t)){const n=new u;n.selected=t===this.selectedSweep,n.commit(),this.states.set(t,n),this.derivedData[t]=this.makeViewDataForSweep(e,e.index)}},i=(e,t)=>{if(this.states.has(t)){const e=this.states.get(t);e.selected=!1,e.animation.stop(0),this.states.delete(t),delete this.derivedData[t]}},o=e.getCollection();o.forEach(((e,t)=>n(e,t))),this.bindings.push(o.onElementsChanged((e=>{this.atomic((()=>{var t,r,o;null===(t=e.removed)||void 0===t||t.forEach((([e,t])=>i(0,e))),null===(r=e.added)||void 0===r||r.forEach((([e,t])=>n(t,e))),null===(o=e.updated)||void 0===o||o.forEach((([e,t])=>{this.derivedData[t.id]=this.makeViewDataForSweep(t,t.index)}))})),this.updateViewData()})),e.makeSweepChangeSubscription((()=>{t.includes(this.toolState)||this.selectCurrentSweep()}))),this.updateViewData()}updateViewData(){this.data.iterate(((e,t)=>{this.derivedData[e.id]=this.makeViewDataForSweep(e,t)})),this.commit()}updateSweepVisibilityRule(e){this.sweepVisibilityRule=e||this.defaultSweepVisibilityRule}getSweepVisibility(e){return this.sweepVisibilityRule(e)}get selectedSweep(){return this.selectedSweepObservable.value}setSelectedSweep(e){if(e===this.selectedSweep)return;const t=this.selectedSweep;if(this.selectedSweepObservable.value=e,null!==e){const t=this.getState(e);t&&(t.selected=!0,t.commit())}if(null!==t){const e=this.getState(t);e&&(e.selected=!1,e.commit())}}onSelectedSweepChanged(e){return this.selectedSweepObservable.onChanged(e)}setToolState(e){e===d.j.PLACING&&this.selectedSweep&&this.setSelectedSweep(null),this.toolStateObservable.value=e}get toolState(){return this.toolStateObservable.value}onToolStateChanged(e){return this.toolStateObservable.onChanged(e)}getSweep(e){return this.data.getSweep(e)}makeViewDataForSweep(e,t){const n=this.derivedData[e.id];return n?(n.floorId=e.floorId,n.position=e.position,n.alignmentType=e.alignmentType,n.placed=e.placementType===o.EO.MANUAL,n.enabled=e.enabled,n.name=e.name,n):{id:e.id,floorId:e.floorId,position:e.position,index:e.index,alignmentType:e.alignmentType,dataIndex:t,placed:e.placementType===o.EO.MANUAL,enabled:e.enabled,name:e.name}}getViewData(e){const t=this.data.getSweep(e),n=this.derivedData[e];return t&&!n&&(this.derivedData[e]=this.makeViewDataForSweep(t,t.index)),this.derivedData[e]}isSweepAligned(e){return this.data.isSweepAligned(e)}getCollection(){return this.states}iterate(e){this.states.entries().forEach((([t,n])=>{const i=this.data.getSweep(t);e(i,n,this.derivedData[t])}))}getState(e){return this.states.get(e)}isVisible(e){const t=this.states.get(e);return(null==t?void 0:t.visible)||!1}setVisible(e,t){const n=this.getState(e);n&&n.visible!==t&&(n.visible=t,n.commit())}updateAnimations(e){for(const t of this.states)t.animation.tick(e)}modifySelectAnimation(e,t,n){const i=this.getState(e);if(!i)return;const r=i.animation,o=1===r.endValue;t!==o&&(o?r.modifyAnimation(r.value,0,n):r.modifyAnimation(0,1,n))}getIndexByAlignment(e,t){return this.getAlignedSweeps(e).findIndex((e=>e.id===t))}getAlignedSweeps(e){const t=this.data.getSweepList();return(e?t.filter((0,s.Zx)()):t.filter((0,s.OX)())).map(((e,t)=>this.derivedData[e.id]))}}},70819:(e,t,n)=>{"use strict";var i;n.d(t,{j:()=>i}),function(e){e.CLOSED="closed",e.IDLE="idle",e.PRESSING="pressing",e.PLACING="placing",e.MOVING="moving",e.ROTATING="rotating",e.ROTATED="rotated"}(i||(i={}))},93821:(e,t,n)=>{"use strict";n.d(t,{r:()=>b});var i=n(68909),r=n(84710),o=n(95330),s=n(56413),a=n(42743),l=n(81662),c=n(35826);function u(e,t,n,i,r){if(isNaN(t)||isNaN(n)||isNaN(i))return e;var o,s,a,l,c,u,d,h,p,f,m,g,v=e._root,y={data:r},E=e._x0,S=e._y0,b=e._z0,O=e._x1,_=e._y1,T=e._z1;if(!v)return e._root=y,e;for(;v.length;)if((h=t>=(s=(E+O)/2))?E=s:O=s,(p=n>=(a=(S+_)/2))?S=a:_=a,(f=i>=(l=(b+T)/2))?b=l:T=l,o=v,!(v=v[m=f<<2|p<<1|h]))return o[m]=y,e;if(c=+e._x.call(null,v.data),u=+e._y.call(null,v.data),d=+e._z.call(null,v.data),t===c&&n===u&&i===d)return y.next=v,o?o[m]=y:e._root=y,e;do{o=o?o[m]=new Array(8):e._root=new Array(8),(h=t>=(s=(E+O)/2))?E=s:O=s,(p=n>=(a=(S+_)/2))?S=a:_=a,(f=i>=(l=(b+T)/2))?b=l:T=l}while((m=f<<2|p<<1|h)==(g=(d>=l)<<2|(u>=a)<<1|c>=s));return o[g]=v,o[m]=y,e}function d(e,t,n,i,r,o,s){this.node=e,this.x0=t,this.y0=n,this.z0=i,this.x1=r,this.y1=o,this.z1=s}function h(e){return e[0]}function p(e){return e[1]}function f(e){return e[2]}function m(e,t,n,i){var r=new g(null==t?h:t,null==n?p:n,null==i?f:i,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function g(e,t,n,i,r,o,s,a,l){this._x=e,this._y=t,this._z=n,this._x0=i,this._y0=r,this._z0=o,this._x1=s,this._y1=a,this._z1=l,this._root=void 0}function v(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var y=m.prototype=g.prototype;y.copy=function(){var e,t,n=new g(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),i=this._root;if(!i)return n;if(!i.length)return n._root=v(i),n;for(e=[{source:i,target:n._root=new Array(8)}];i=e.pop();)for(var r=0;r<8;++r)(t=i.source[r])&&(t.length?e.push({source:t,target:i.target[r]=new Array(8)}):i.target[r]=v(t));return n},y.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e),i=+this._z.call(null,e);return u(this.cover(t,n,i),t,n,i,e)},y.addAll=function(e){var t,n,i,r,o,s=e.length,a=new Array(s),l=new Array(s),c=new Array(s),d=1/0,h=1/0,p=1/0,f=-1/0,m=-1/0,g=-1/0;for(n=0;n<s;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(r=+this._y.call(null,t))||isNaN(o=+this._z.call(null,t))||(a[n]=i,l[n]=r,c[n]=o,i<d&&(d=i),i>f&&(f=i),r<h&&(h=r),r>m&&(m=r),o<p&&(p=o),o>g&&(g=o));if(d>f||h>m||p>g)return this;for(this.cover(d,h,p).cover(f,m,g),n=0;n<s;++n)u(this,a[n],l[n],c[n],e[n]);return this},y.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var i=this._x0,r=this._y0,o=this._z0,s=this._x1,a=this._y1,l=this._z1;if(isNaN(i))s=(i=Math.floor(e))+1,a=(r=Math.floor(t))+1,l=(o=Math.floor(n))+1;else{for(var c,u,d=s-i||1,h=this._root;i>e||e>=s||r>t||t>=a||o>n||n>=l;)switch(u=(n<o)<<2|(t<r)<<1|e<i,(c=new Array(8))[u]=h,h=c,d*=2,u){case 0:s=i+d,a=r+d,l=o+d;break;case 1:i=s-d,a=r+d,l=o+d;break;case 2:s=i+d,r=a-d,l=o+d;break;case 3:i=s-d,r=a-d,l=o+d;break;case 4:s=i+d,a=r+d,o=l-d;break;case 5:i=s-d,a=r+d,o=l-d;break;case 6:s=i+d,r=a-d,o=l-d;break;case 7:i=s-d,r=a-d,o=l-d}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=r,this._z0=o,this._x1=s,this._y1=a,this._z1=l,this},y.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},y.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},y.find=function(e,t,n,i){var r,o,s,a,l,c,u,h,p,f=this._x0,m=this._y0,g=this._z0,v=this._x1,y=this._y1,E=this._z1,S=[],b=this._root;for(b&&S.push(new d(b,f,m,g,v,y,E)),null==i?i=1/0:(f=e-i,m=t-i,g=n-i,v=e+i,y=t+i,E=n+i,i*=i);h=S.pop();)if(!(!(b=h.node)||(o=h.x0)>v||(s=h.y0)>y||(a=h.z0)>E||(l=h.x1)<f||(c=h.y1)<m||(u=h.z1)<g))if(b.length){var O=(o+l)/2,_=(s+c)/2,T=(a+u)/2;S.push(new d(b[7],O,_,T,l,c,u),new d(b[6],o,_,T,O,c,u),new d(b[5],O,s,T,l,_,u),new d(b[4],o,s,T,O,_,u),new d(b[3],O,_,a,l,c,T),new d(b[2],o,_,a,O,c,T),new d(b[1],O,s,a,l,_,T),new d(b[0],o,s,a,O,_,T)),(p=(n>=T)<<2|(t>=_)<<1|e>=O)&&(h=S[S.length-1],S[S.length-1]=S[S.length-1-p],S[S.length-1-p]=h)}else{var A=e-+this._x.call(null,b.data),w=t-+this._y.call(null,b.data),N=n-+this._z.call(null,b.data),I=A*A+w*w+N*N;if(I<i){var R=Math.sqrt(i=I);f=e-R,m=t-R,g=n-R,v=e+R,y=t+R,E=n+R,r=b.data}}return r},y.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e))||isNaN(a=+this._z.call(null,e)))return this;var t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g=this._root,v=this._x0,y=this._y0,E=this._z0,S=this._x1,b=this._y1,O=this._z1;if(!g)return this;if(g.length)for(;;){if((d=o>=(l=(v+S)/2))?v=l:S=l,(h=s>=(c=(y+b)/2))?y=c:b=c,(p=a>=(u=(E+O)/2))?E=u:O=u,t=g,!(g=g[f=p<<2|h<<1|d]))return this;if(!g.length)break;(t[f+1&7]||t[f+2&7]||t[f+3&7]||t[f+4&7]||t[f+5&7]||t[f+6&7]||t[f+7&7])&&(n=t,m=f)}for(;g.data!==e;)if(i=g,!(g=g.next))return this;return(r=g.next)&&delete g.next,i?(r?i.next=r:delete i.next,this):t?(r?t[f]=r:delete t[f],(g=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&g===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!g.length&&(n?n[m]=g:this._root=g),this):(this._root=r,this)},y.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},y.root=function(){return this._root},y.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},y.visit=function(e){var t,n,i,r,o,s,a,l,c=[],u=this._root;for(u&&c.push(new d(u,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=c.pop();)if(!e(u=t.node,i=t.x0,r=t.y0,o=t.z0,s=t.x1,a=t.y1,l=t.z1)&&u.length){var h=(i+s)/2,p=(r+a)/2,f=(o+l)/2;(n=u[7])&&c.push(new d(n,h,p,f,s,a,l)),(n=u[6])&&c.push(new d(n,i,p,f,h,a,l)),(n=u[5])&&c.push(new d(n,h,r,f,s,p,l)),(n=u[4])&&c.push(new d(n,i,r,f,h,p,l)),(n=u[3])&&c.push(new d(n,h,p,o,s,a,f)),(n=u[2])&&c.push(new d(n,i,p,o,h,a,f)),(n=u[1])&&c.push(new d(n,h,r,o,s,p,f)),(n=u[0])&&c.push(new d(n,i,r,o,h,p,f))}return this},y.visitAfter=function(e){var t,n=[],i=[];for(this._root&&n.push(new d(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var r=t.node;if(r.length){var o,s=t.x0,a=t.y0,l=t.z0,c=t.x1,u=t.y1,h=t.z1,p=(s+c)/2,f=(a+u)/2,m=(l+h)/2;(o=r[0])&&n.push(new d(o,s,a,l,p,f,m)),(o=r[1])&&n.push(new d(o,p,a,l,c,f,m)),(o=r[2])&&n.push(new d(o,s,f,l,p,u,m)),(o=r[3])&&n.push(new d(o,p,f,l,c,u,m)),(o=r[4])&&n.push(new d(o,s,a,m,p,f,h)),(o=r[5])&&n.push(new d(o,p,a,m,c,f,h)),(o=r[6])&&n.push(new d(o,s,f,m,p,u,h)),(o=r[7])&&n.push(new d(o,p,f,m,c,u,h))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},y.x=function(e){return arguments.length?(this._x=e,this):this._x},y.y=function(e){return arguments.length?(this._y=e,this):this._y},y.z=function(e){return arguments.length?(this._z=e,this):this._z};var E=n(86866),S=n(12767);class b extends r.B{constructor(e,t,n,i,r,l,u,d,h){super(),this.data=e,this.floorsData=t,this.cameraStartData=n,this.textParser=r,this.linkHandler=l,this.tagDefaultTitle=u,this.backgroundTexture=d,this.objectTagsEnabled=h,this.name="tags-view-data",this.tagViewsMap=(0,s.y)(),this.customSortIndexMap=new Map,this.spatialSortOrderMap=new Map,this.openTagViewObservable=(0,o.p)(null),this.tagsMode=c.j.DEFAULT,this.tagOrder=c.k.ORDERED,this.openTagIsDirty=!1,this.creatingTag=!1,this.idVisibilityEnabled=!1,this.idVisibility=new Set,this.capabilities=new Map,this.orderedMapsNeedUpdate=!1,this.refreshTagViews=e=>{const t={};this.data.iterate((e=>{t[e.sid]=this.createTagView(e)})),this.updateSortMaps(Object.values(t),e),this.tagViewsMap.atomic((()=>{this.tagViewsMap.replace(t)}))},this.sortByOrder=(e,t)=>{var n,i;const r=(null!==(n=this.customSortIndexMap.get(e.id))&&void 0!==n?n:Number.MAX_SAFE_INTEGER)-(null!==(i=this.customSortIndexMap.get(t.id))&&void 0!==i?i:Number.MAX_SAFE_INTEGER);if(r)return r;const o=this.spatialSortOrderMap.get(e.id),s=this.spatialSortOrderMap.get(t.id);if(void 0===o||void 0===s)throw new Error("All ids should exist in spatialPositions");return o-s},this.sortByText=(e,t)=>{function n(e,t){return(e.label.trim()||e.description||t).toLowerCase()}return n(e,this.tagDefaultTitle)<n(t,this.tagDefaultTitle)?-1:1},this.orderedTagViews=new a.q(this.tagViewsMap),this.orderedTagViews.priority=a.g.LOW,this.orderedTagViews.setFilter("objectTag",(e=>!e.objectAnnotationId)),this.refreshTagViews(i),this.orderedTagViews.sort(this.sortByOrder)}getAlphabeticTagViewMapFilter(){return this.alphabeticalTagViews||(this.alphabeticalTagViews=new a.q(this.tagViewsMap),this.alphabeticalTagViews.priority=a.g.LOW,this.alphabeticalTagViews.setFilter("objectTag",(e=>!e.objectAnnotationId)),this.alphabeticalTagViews.sort(this.sortByText)),this.alphabeticalTagViews}notifyOrderedMapsMightHaveChanged(){this.orderedMapsNeedUpdate=!0}maybeUpdateOrderedMaps(){this.orderedMapsNeedUpdate&&(this.orderedMapsNeedUpdate=!1,this.refreshTagViews())}getCollection(){return this.maybeUpdateOrderedMaps(),this.tagViewsMap}getOrderedTagViewMapFilter(){return this.maybeUpdateOrderedMaps(),this.orderedTagViews}getOrderedTags(e){return this.maybeUpdateOrderedMaps(),this.getEnabledTagViewsList(this.orderedTagViews,e)}getTagsByText(e){const t=this.getAlphabeticTagViewMapFilter();return this.getEnabledTagViewsList(t,e)}getEnabledTagViewsList(e,t){const n=e.values;return t?n.filter((e=>e.enabled)):n}getTextParser(){return this.textParser}getLinkHandler(){return this.linkHandler}getCapabilities(e){const t={focus:!0};this.capabilities.has(e)||this.capabilities.set(e,t);const n=this.capabilities.get(e)||t;return Object.assign({},n)}updateCapabilities(e,t){this.capabilities.set(e,Object.assign({},t))}setEmbedErrorTagId(e){this.embedErrorTagId=e,this.commit()}setTagsMode(e){this.tagsMode=e,this.commit()}getTagCount(e){return this.getOrderedTags(e).length}hasCustomSortOrder(){return this.customSortIndexMap.size>0}getTagView(e){return this.maybeUpdateOrderedMaps(),this.tagViewsMap.get(e)}createTagView(e){const t=e.getPin();return Object.assign(Object.assign({},t),{id:e.sid,created:e.created,modified:e.modified,label:e.label,description:e.description,enabled:e.enabled,layerId:e.layerId,attachments:[...e.externalAttachments,...e.fileAttachments,...e.sandboxAttachments],objectAnnotationId:e.objectAnnotationId,keywords:e.keywords.values(),icon:e.icon,backgroundTexture:this.backgroundTexture})}setOpenTagView(e){this.openTagViewObservable.value=e}get openTagView(){return this.openTagViewObservable.value}onOpenTagViewChanged(e){return this.openTagViewObservable.onChanged(e)}getAvailableKeywords(){return Array.from(new Set(this.data.getTagKeywords()))}updateSortMaps(e,t){t&&this.updateCustomSortMap(t),this.updateSpatialSortMap(e),this.orderedTagViews.setDirty(!0)}updateCustomSortMap(e){this.customSortIndexMap.clear(),e.forEach(((e,t)=>this.customSortIndexMap.set(e,t)))}updateSpatialSortMap(e){const{floorsData:t,cameraStartData:n}=this,r=n.pose.camera.position||l.B1.ZERO,o=n.pose.camera.rotation||new i.Quaternion,s=t.getClosestFloorAtHeight(r.y).index,a=(0,E.oA)(r,o,(0,S.hn)(1));this.spatialSortOrderMap.clear();let c=0;for(let n=0;n<t.getFloorCount();n++){const o=(s+n)%t.getFloorCount(),l=t.getFloorAtIndex(o);if(!l)continue;const u=e.filter((e=>e.floorId===l.id));if(0===u.length)continue;let d,h=1/0;const p=new i.Vector3,f=(new m).x((e=>e.x)).y((e=>e.y)).z((e=>e.z));f.addAll(u.map((e=>{p.copy(e.stemNormal).setLength(e.stemLength).add(e.anchorPosition);const t={id:e.id,x:p.x,y:p.y,z:p.z},n=p.distanceToSquared(r);return n<h&&a.containsPoint(p)&&(h=n,d=t),t})));let g=null!=d?d:f.find(r.x,r.y,r.z);this.spatialSortOrderMap.set(g.id,c++),f.remove(g);let v=u.length-1;for(;v>0;)g=f.find(g.x,g.y,g.z),this.spatialSortOrderMap.set(g.id,c++),f.remove(g),v--}}}},99104:(e,t,n)=>{"use strict";n.d(t,{$m:()=>y,Bu:()=>a,J9:()=>c,KH:()=>m,Ki:()=>h,NR:()=>o,OT:()=>p,RL:()=>f,YN:()=>u,aH:()=>s,br:()=>l,eo:()=>r,ir:()=>E,jC:()=>d,kd:()=>b,l7:()=>S,mg:()=>g,wJ:()=>v});var i=n(55141);class r extends i.u{}r.id="REGISTER_TAGS_TOOL";class o extends i.u{constructor(e){super(),this.payload={opened:e}}}o.id="TAGS_TOGGLE";class s extends i.u{constructor(){super()}}s.id="TAG_START_ADD";class a extends i.u{constructor(e,t,n,i,r){super(),this.payload={id:e,properties:t,pendingAttachments:n,removedAttachments:i,embed:r}}}a.id="TAG_SAVE";class l extends i.u{constructor(e,t){super(),this.payload={id:e,visible:t}}}l.id="TAG_VISIBILITY_TOGGLE";class c extends i.u{constructor(){super()}}c.id="TAG_CANCEL_EDITS";class u extends i.u{constructor(e){super(),this.payload={tagId:e}}}u.id="TAG_EDIT";class d extends i.u{constructor(e){super(),this.payload={dirty:e}}}d.id="TAG_DIRTY_TOGGLE";class h extends i.u{constructor(e,t){super();const{transition:n=null,dock:i=null,objectTag:r=!1,forceOpen:o=!1}=t||{};this.payload={tagId:e,transition:n,dock:i,objectTag:r,forceOpen:o}}}h.id="TAG_OPEN";class p extends i.u{constructor(e){super(),this.payload={updates:e}}}p.id="TAG_UPDATE_OPEN_TAGVIEW";class f extends i.u{constructor(e,t){super(),this.payload={id:e,removalMethod:t}}}f.id="TAG_DELETE";class m extends i.u{constructor(){super()}}m.id="TAG_CLOSE";class g extends i.u{constructor(e){super(),this.payload={ids:e}}}g.id="TAG_ORDER_SAVE";class v extends i.u{constructor(e){super(),this.payload={enabled:e}}}v.id="TAGS_VISIBILITY_FILTER_ENABLED";class y extends i.u{constructor(e){super(),this.payload={ids:e}}}y.id="FILTER_VISIBLE_TAGS_COMMAND";class E extends i.u{constructor(e){super(),this.payload={mode:e}}}E.id="SET_REORDERING_MODE";class S extends i.u{constructor(e){super(),this.payload={order:e}}}S.id="TAG_ORDER_BY_SET";class b extends i.u{constructor(e){super(),this.payload={id:e}}}b.id="SET_EMBED_ERROR_ID"},35826:(e,t,n)=>{"use strict";var i,r;n.d(t,{j:()=>i,k:()=>r}),function(e){e.DEFAULT="default",e.REORDERING="reordering"}(i||(i={})),function(e){e.ORDERED="by-tag-order",e.ALPHABETICAL="by-tag-text",e.FLOOR_ORDERED="by-floor-ordered",e.FLOOR_ALPHABETICAL="by-floor-alphabetical"}(r||(r={}))},13767:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>l,AM:()=>s,GK:()=>o,Jr:()=>a,jh:()=>i,rp:()=>r});const i="tags2",r="TAG_NAV_OVERLAY",o="TAG_BILLBOARD_SHARE",s="TAG_BILLBOARD_DOCK",a="features/tagIcons",l="tagTitleOnTop";Object.freeze({colors:["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#03687d","#03a9f4","#00bcd4","#417505","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"]})},23864:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var i=n(85616);class r extends i.v{constructor(e){super(),this.order=1e4,this.showModeControls=!0,this.showTourControls=!0,e&&Object.assign(this,e)}}},96319:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var i=n(84710),r=n(56413),o=n(42743),s=n(73566);class a extends i.B{constructor(){super(),this.name="tools-data",this.tools=(0,r.y)(),this.toolUi={},this.assetDocked=!1,this.activeToolName=null,this.previousToolName=null,this.openModal=null,this.toolPanelLayout=a.defaultToolPanelLayout,this.softOpening=!1,this.toolCollapsed=!1,this.toolChangeInProgress=!1,this.toolPalettes=new o.q(this.tools),this.toolPalettes.setFilter("enabled",(e=>e.enabled)),this.toolPalettes.setFilter("palette",(e=>!!e.palette)),this.toolPalettes.sort(((e,t)=>e.order-t.order)),this.toolPalettes.priority=o.g.LOW}iterate(e){for(const t of this.tools)e(t)}get toolsMap(){return this.tools}getToolPalettes(){return this.toolPalettes.groupBy("palette")}hasTool(e){return this.toolsMap.has(e)}getTool(e){return this.tools.get(e)}addTool(...e){e.forEach((e=>this.tools.set(e.id,e)))}removeTool(...e){e.forEach((e=>{var t;const n=this.getTool(e);(null===(t=null==n?void 0:n.manager)||void 0===t?void 0:t.dispose)&&n.manager.dispose(),this.tools.delete(e)}))}addToolUi(e,t){this.toolUi[e]||(this.toolUi[e]=new Set),this.toolUi[e].add(t)}removeToolUi(e,t){this.toolUi[e]&&this.toolUi[e].delete(t)}getToolUi(e){return this.toolUi[e]?[...this.toolUi[e]]:[]}removeAllTools(){this.iterate((e=>{var t;(null===(t=e.manager)||void 0===t?void 0:t.dispose)&&e.manager.dispose()})),this.tools.clear()}getActiveTool(){return this.activeToolName?this.getTool(this.activeToolName):null}setActiveTool(e){this.previousToolName=e?this.activeToolName:null,this.activeToolName=e,this.commit()}isPanelOpen(){return this.toolPanelLayout===s.L$.SIDE_PANEL||this.toolPanelLayout===s.L$.BOTTOM_PANEL}isToolCollapsedToBottom(){return this.toolPanelLayout===s.L$.BOTTOM_PANEL&&this.toolCollapsed}}a.defaultToolPanelLayout=s.L$.NORMAL},17084:(e,t,n)=>{"use strict";n.d(t,{Kw:()=>l,M_:()=>u,Te:()=>h,Wm:()=>d,_S:()=>a,kC:()=>c,li:()=>r,oe:()=>o,u3:()=>p,yU:()=>s});var i=n(55141);class r extends i.u{constructor(e){super(),this.payload={collapse:e}}}r.id="TOOL_PANEL_TOGGLE_COLLAPSE";class o extends i.u{constructor(e){super(),this.payload={collapse:e}}}o.id="TOOL_BOTTOM_PANEL_COLLAPSE";class s extends i.u{constructor(e,t){super(),this.payload={toolName:e,active:t}}}s.id="TOGGLE_TOOL";class a extends i.u{constructor(e){super(),this.payload={checkForEdits:e}}}a.id="CLOSE_REMOVE_TOOLS";class l extends i.u{constructor(e){super(),this.payload={tools:e}}}l.id="REGISTER_TOOLS";class c extends i.u{}c.id="OPEN_PREVIOUS_TOOL";class u extends i.u{}u.id="OPEN_INITIAL_TOOL";class d extends i.u{constructor(e,t=!1){super(),this.payload={toolName:e,softOpening:t}}}d.id="OPEN_TOOL";class h extends i.u{}h.id="CLOSE_CURRENT_TOOL";class p extends i.u{constructor(e){super(),this.payload={toolName:e}}}p.id="CLOSE_TOOL"},73566:(e,t,n)=>{"use strict";var i,r,o,s,a;n.d(t,{L$:()=>o,Q7:()=>s,S0:()=>i,o6:()=>r,zR:()=>a}),function(e){e.START_LOCATION="START_LOCATION",e.SCANS_3D="SCANS_3D",e.VIEW_360="VIEW_360",e.PHOTOS="PHOTOS",e.LABELS="LABELS",e.LAYERS="LAYERS",e.MEASUREMENTS="MEASUREMENTS",e.HLR="HLR",e.SETTINGS_PANEL="SETTINGS_PANEL",e.NOTES="NOTES",e.TAGS="TAGS",e.BLUR="BLUR",e.SEARCH="SEARCH",e.MESH_TRIM="MESH_TRIM",e.SUMMARY="SUMMARY",e.PLUGIN_CONFIG="PLUGIN_CONFIG",e.ROOM_BOUNDS="ROOM_BOUNDS",e.ROOM_VIEW="ROOM_VIEW",e.AD_DEFURNISH="AD_DEFURNISH",e.GIZMO_TRANSFORM="GIZMO_TRANSFORM",e.GIZMO_FLOOR_MAGNET="GIZMO_FLOOR_MAGNET",e.GIZMO_WALL_MAGNET="GIZMO_WALL_MAGNET"}(i||(i={})),function(e){e[e.VIEW_BASED=1]="VIEW_BASED",e[e.MODEL_BASED=2]="MODEL_BASED",e[e.MISC=3]="MISC"}(r||(r={})),function(e){e.NORMAL="normal",e.NARROW="narrow",e.SIDE_PANEL="side-panel",e.BOTTOM_PANEL="bottom-panel"}(o||(o={})),function(e){e.HLR_AUTOGEN_TOUR_CREATED="tool_announcement/hlr_autogen_tour_created",e.HLR_AUTOGEN_TOUR_READY="tool_announcement/hlr_autogen_tour_ready"}(s||(s={})),function(e){e.IDLE="idle",e.OPEN="open",e.CLOSE="close"}(a||(a={}))},59760:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var i=n(76853),r=n(48411);function o(){const e=(0,i.v)(),t=(0,r.T)();return t?e.getTool(t):null}},28479:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var i=n(59760);function r(){const e=(0,i.O)();return null==e?void 0:e.analytic}},48411:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var i=n(87805),r=n(61260),o=n(96319);const s=(0,i.u)(o.M,"activeToolName",null);(0,r.c)("activeTool",s)},95541:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var i=n(73566),r=n(78956);function o(){const e=(0,r.O)();return e===i.L$.NARROW||e===i.L$.BOTTOM_PANEL}},68419:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var i=n(87805),r=n(61260),o=n(96319);const s=(0,i.u)(o.M,"openModal",null);(0,r.c)("openModal",s)},91406:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var i=n(96540),r=n(76853);function o(e){const t=(0,r.v)(),[n,o]=(0,i.useState)(t.getTool(e)||null);return(0,i.useEffect)((()=>{const n=t.onChanged((()=>o(t.getTool(e)||null)));return()=>n.cancel()}),[e,t]),n}},64057:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var i=n(87805),r=n(96319);const o=(0,i.u)(r.M,"toolCollapsed",!1)},78956:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var i=n(87805),r=n(61260),o=n(96319);const s=(0,i.u)(o.M,"toolPanelLayout",o.M.defaultToolPanelLayout);(0,r.c)("toolPanelLayout",s)},76853:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var i=n(61260),r=n(96540),o=n(77570);const s=()=>(0,r.useContext)(o.B).toolsData;(0,i.c)("toolsData",s)},66846:(e,t,n)=>{"use strict";n.d(t,{I:()=>s,X:()=>o});var i=n(73566),r=n(66355);function o(e,t){const n=e.tryGetProperty(r.BW,"");if(n)return n;if(t)return null;const o=e.getOverrideParam("tag","")?i.S0.TAGS:e.getOverrideParam("note","")?i.S0.NOTES:null;if(o)return o;const s=e.getOverrideParam("tool","").toUpperCase();return s||null}function s(e,t){return t.deepLinkParam?e.getOverrideParam(t.deepLinkParam,""):""}},20246:(e,t,n)=>{"use strict";n.d(t,{I7:()=>r,Vk:()=>l,_5:()=>a,f1:()=>o,k_:()=>c,rP:()=>s});var i=n(89103);class r extends i.QB{}class o extends i.QB{}class s extends i.QB{constructor(e){super(),this.collapsed=e}}class a extends i.QB{constructor(e,t){super(),this.active=e,this.collapsed=t}}class l extends i.QB{constructor(e){super(),this.show=e}}class c extends i.QB{constructor(e){super(),this.visible=e}}},66355:(e,t,n)=>{"use strict";n.d(t,{BW:()=>o,Cp:()=>r,P6:()=>i});const i=50,r=500,o="cloud_initial_tool"},68930:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,r:()=>o});var i=n(52018);class r extends i.t{constructor(e="Invalid tour transition"){super(e),this.name="TourTransition"}}class o extends i.t{constructor(e="Cannot start tour"){super(e),this.name="TourStart"}}},1333:(e,t,n)=>{"use strict";n.d(t,{ND:()=>o,Tz:()=>i,_y:()=>r,gX:()=>s,h9:()=>a});class i{}var r,o,s;!function(e){e[e.Pan=0]="Pan",e[e.PanDollhouse=1]="PanDollhouse",e[e.Zoom=2]="Zoom",e[e.Delay=3]="Delay",e[e.None=4]="None"}(r||(r={})),function(e){e[e.Left=1]="Left",e[e.Auto=0]="Auto",e[e.Right=-1]="Right"}(o||(o={})),function(e){e[e.Move=0]="Move",e[e.Burns=1]="Burns",e[e.Zoom=2]="Zoom",e[e.Path=3]="Path",e[e.FloorChange=4]="FloorChange",e[e.Delay=5]="Delay",e[e.Nop=6]="Nop"}(s||(s={}));const a=[s.Burns,s.Zoom,s.Delay]},22937:(e,t,n)=>{"use strict";n.d(t,{BW:()=>a,YH:()=>c,ap:()=>u,n1:()=>o,pT:()=>l,zM:()=>r,zb:()=>s});var i=n(89103);class r extends i.QB{}class o extends i.QB{constructor(e){super(),this.index=e}}class s extends i.QB{constructor(e){super(),this.index=e}}class a extends i.QB{constructor(e,t,n){super(),this.index=e,this.transitionType=t,this.duration=n}}class l extends i.QB{constructor(e){super(),this.willResume=e}}class c extends i.QB{}class u extends i.QB{}},60152:(e,t,n)=>{"use strict";n.d(t,{BF:()=>u,BS:()=>_,BU:()=>k,DE:()=>D,Dj:()=>f,Dw:()=>P,H1:()=>F,I5:()=>N,IT:()=>A,Ih:()=>L,Jb:()=>T,K1:()=>g,Lh:()=>j,Md:()=>E,QR:()=>b,R8:()=>R,V4:()=>I,VD:()=>m,W0:()=>G,Yh:()=>w,_V:()=>s,_W:()=>a,aS:()=>c,at:()=>M,cS:()=>x,d6:()=>o,dJ:()=>H,fi:()=>y,g$:()=>p,ht:()=>U,jt:()=>d,lo:()=>C,mf:()=>S,oz:()=>h,qN:()=>l,s$:()=>v,uO:()=>O});var i=n(15930),r=n(76318);const o="TourSpeed &wts",s="ToursMetersPerSecond",a=.4,l=10,c=1.25,u=.8,d=6,h=3,p=1e3*u,f=1e3*c,m=600,g=400,v=1200,y=1200,E=35,S=15,b=120,O=1200,_=75,T=400,A=i.Ou-m,w=(r.MF.BASE,"kb"),N="sspa",I=35,R="st",k=I/3500*1e3,L=2,M=52,D=0,P=2e3,C=.2*k,x=3500,U=e=>1===e.getOverrideParam(w,1),j=e=>e.getOverrideParam(R,3500),F=e=>e.getOverrideParam(N,I),H=e=>e.getOverrideParam("ts",-1),G=Object.freeze({maxSweepDistance:10,maxDistanceBeforeAddingSweeps:5,minSweepDistance:1.5,maxSidestepDistance:.4,pathRadius:.1,maxTotalSteps:40})},90160:(e,t,n)=>{"use strict";n.d(t,{A0:()=>s,f7:()=>l,rX:()=>c,wg:()=>a});var i=n(86866),r=n(53172),o=n(60152);const s=e=>{let t=o.aS;if(!isNaN(e)){const n=Math.min(Math.max(o._W,e),o.qN);t=(0,i.OF)(n,o._W,o.qN,o.BF,o.oz)}return t},a=e=>(0,i.OF)(e,o.BF,o.jt,o._W,o.qN),l=e=>Math.min(Math.max(o.BF,e),o.jt),c=e=>(0,r.pu)(e)/1e3},44481:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var i=n(84710),r=n(56413),o=n(95330),s=n(50018),a=n(96425);class l extends i.B{constructor(e,t,n){super(),this.data=e,this.currentTourMode=n,this.name="tours-view-data",this.reelOpen=!1,this.tourSweepViewMapObservable=(0,r.y)(),this.tourModeSettingObservable=(0,o.p)(t)}isTourEmpty(){return 0===this.data.getHighlightsCount()}onReelChanged(e){return this.data.getReel().onChanged(e)}getTourStoryMode(){return this.currentTourMode===a.cR.STORIES}get tourModeSetting(){return this.tourModeSettingObservable.value}setTourModeSetting(e){this.tourModeSettingObservable.value=e}onTourModeSettingChanged(e){return this.tourModeSettingObservable.onChanged(e)}getSnapshot(e){var t;return(null===(t=this.data.getTourEntry(e))||void 0===t?void 0:t.snapshot)||null}setSweepsInToursAcrossViews(e){this.atomic((()=>{this.clearTourSweepViews(),e.forEach((e=>{this.addTourSweepForView(e.sweepId,e.viewId)}))}))}getViewsWithSweepInTour(e){return this.getOrInitializeTourViewIdsForSweep(e)}isSweepInAnyTour(e){return this.getOrInitializeTourViewIdsForSweep(e).length>0}isSweepInTourForView(e,t){return this.getOrInitializeTourViewIdsForSweep(e).includes(t)}onSweepsInToursChanged(e){return this.tourSweepViewMapObservable.onChanged(e)}clearTourSweepViews(){this.tourSweepViewMapObservable.clear()}addTourSweepForView(e,t){const n=this.getOrInitializeTourViewIdsForSweep(e,!0);n.includes(t)||n.push(t)}getOrInitializeTourViewIdsForSweep(e,t=!1){const{platformId:n}=s.Ay.parseId(e);let i=this.tourSweepViewMapObservable.get(n);return void 0===i&&(i=[],t&&this.tourSweepViewMapObservable.set(n,i)),i}}},21875:(e,t,n)=>{"use strict";n.d(t,{R:()=>d,l:()=>u});var i=n(84710),r=n(1333),o=n(95330),s=n(12554),a=n(96425),l=n(10843),c=n(74381);const u={active:!1,type:r.gX.Move,promise:Promise.resolve(),stop:()=>Promise.resolve(),start:()=>u,toIndex:-1,duration:0,started:-1,stopped:-1};class d extends i.B{constructor(e,t,n){super(),this.activeReel=e,this.allowedModes=t,this.looping=n,this.name="tour",this.tourState=a.Ci.Inactive,this.transitionObservable=(0,o.p)(u),this.tourCurrentSnapshot=-1,this.enabledTourStops=(0,s.Z)([]),this.tourPlaying=!1,this.tourWillResume=!1,this.tourEnded=!1,this.updateEnabledStops=e=>{this.enabledTourStops.atomic((()=>{if(this.enabledTourStops.replace([]),this.activeReel&&this.activeReel.reel)for(const t of this.activeReel.reel)if(t&&t.snapshot){const n=t.snapshot.metadata.cameraMode;-1!==e.indexOf(n)&&this.enabledTourStops.push(t.id)}}))},this.updateEnabledStops(t()),this.looping=n,this.commit()}setHighlightReel(e){this.atomic((()=>{this.activeReel.replace(e),this.updateEnabledStops(this.allowedModes()),this.resetEmptyReel()}));const t=this.getReel().reel.length,n=this.getHighlightsCount();t!==n&&l.Ay.for(this).info(t-n+" highlights disabled and hidden from reel")}addSnapshotToTour(e,t=a.dO.Current){this.allowedModes().includes(e.metadata.cameraMode)&&this.enabledTourStops.push(e.sid);const n=this.tourCurrentSnapshotSid;this.tourCurrentSnapshotSid=e.sid;const i={id:e.sid,snapshot:e,sourceViewId:e.sourceViewId};switch(t){case a.dO.Beginning:this.tourCurrentSnapshot=0,this.activeReel.reel.insert(0,i);break;case a.dO.End:this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push(i);break;case a.dO.Current:if(void 0===n)this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push(i);else{let e=this.activeReel.reel.findIndex((e=>!!e&&e.id===n))+1;(e<=0||e>this.activeReel.reel.length)&&(e=this.activeReel.reel.length-1),this.tourCurrentSnapshot=this.tourCurrentSnapshot+1,this.activeReel.reel.insert(e,i)}break;default:throw new Error(`Tours.addSnapshotToTour not implemented: ${t}`)}this.useTransition(u),this.commit()}resetAllTransitionTypeOverrides(){if(this.activeReel&&this.activeReel.reel){let e=!1;this.activeReel.reel.forEach(((t,n)=>{t&&t.overrides&&t.overrides.transitionType&&(delete t.overrides.transitionType,this.activeReel.reel.update(n,t),e=!0)})),e&&this.activeReel.setDirty()}}resetAllPanSettingOverrides(){if(this.activeReel&&this.activeReel.reel){let e=!1;this.activeReel.reel.forEach(((t,n)=>{t&&t.overrides&&(void 0===t.overrides.panAngle&&void 0===t.overrides.panDirection||(delete t.overrides.panAngle,delete t.overrides.panDirection,e=!0,this.activeReel.reel.update(n,t)))})),e&&this.activeReel.setDirty()}}applyHighlightOverrides(e,t){const n=this.activeReel.reel.findIndex((t=>!!t&&t.id===e));this.setHighlightOverrides(n,t)}setHighlightOverrides(e,t){const n=this.activeReel.reel.get(e);if(!n)throw Error(`Highlight not found for ${e}`);const i={id:n.id,title:n.title,description:n.description,snapshot:n.snapshot,sourceViewId:n.sourceViewId};n.overrides?(i.overrides=Object.assign({},n.overrides),t.hasOwnProperty("panDirection")&&(i.overrides.panDirection=t.panDirection),t.hasOwnProperty("transitionType")&&(i.overrides.transitionType=t.transitionType),t.hasOwnProperty("panAngle")&&(i.overrides.panAngle=t.panAngle),t.hasOwnProperty("panDuration")&&(i.overrides.panDuration=t.panDuration)):i.overrides={transitionType:t.transitionType,panDirection:t.panDirection,panAngle:t.panAngle,panDuration:t.panDuration},this.activeReel.reel.update(e,i)}updateReelEntry(e){const{id:t}=e,n=this.activeReel.reel.findIndex((e=>!!e&&e.id===t));if(-1===n)throw Error(`Reel entry not found for ${t}`);const i=this.activeReel.reel.get(n);if(!e)throw Error(`Reel entry not found for ${n}`);const r=Object.assign({},i,e);this.activeReel.reel.update(n,r)}moveTourStop(e,t){const n=this.activeReel.reel.findIndex((t=>!!t&&t.id===e)),i=this.activeReel.reel.findIndex((e=>!!e&&e.id===t));this.activeReel.reel.move(n,i)}clear(){this.resetEmptyReel(),this.enabledTourStops.replace([]),this.activeReel.reel.length=0,this.commit()}removeTourStop(e){const t=this.enabledTourStops.indexOf(e),n=this.activeReel.reel.findIndex((t=>!!t&&t.id===e)),i=this.getTourIndexBySid(e);if(-1!==t&&this.enabledTourStops.splice(t,1),this.enabledTourStops.length>0){const e=i<=this.tourCurrentSnapshot?this.tourCurrentSnapshot-1:this.tourCurrentSnapshot;this.setTourCurrentSnapshotByIndex(Math.max(e,0))}else this.resetEmptyReel();this.activeReel.reel.remove(n)}getReel(){return this.activeReel}isLooping(){return this.looping}setLooping(e){this.looping=e}getActiveReelTourMode(){return this.activeReel.mode||c.UR.REEL}setActiveReelTourMode(e){this.activeReel.mode=e,this.activeReel.commit()}isTourActive(){return this.tourState!==a.Ci.Inactive}getCurrentTourState(){return{currentStep:this.getTourCurrentSnapshotIndex(),tourPlaying:this.tourPlaying||this.tourWillResume,totalSteps:this.getHighlightsCount(),tourEnded:this.tourEnded,activeStep:this.transition&&-1!==this.transition.toIndex?this.transition.toIndex:this.getTourCurrentSnapshotIndex(),highlights:this.getReelHighlights(),transition:this.transition,hasTours:this.tourExistsInAnyView()}}tourExistsInAnyView(){return!1}get transition(){return this.transitionObservable.value}isTourTransitionActive(){return this.transition.active}getTourTransitionType(){return this.transition.type}useTransition(e){this.transitionObservable.value=e}async stopTourTransition(){await this.transition.stop()}iterateSnapshots(e){let t=0;this.activeReel.reel.forEach((n=>{n&&n.snapshot&&e(n.snapshot,t++)}))}isSnapshotInTour(e){return-1!==this.activeReel.reel.findIndex((t=>!!t&&t.id===e))}getEnabledSnapshots(){const e=[];return this.iterateSnapshots(((t,n)=>{e.push(t)})),e}getTourEntry(e){const t=this.activeReel.reel.findIndex((t=>!!t&&t.id===e));return this.activeReel.reel.get(t)}getReelHighlights(){const e=[];return this.activeReel.reel.forEach((t=>{t&&this.isEnabled(t.id)&&e.push(t)})),e}getHighlightsCount(){return this.enabledTourStops.length}getTourState(){return this.tourState}setTourState(e){this.tourState=e,this.commit()}getTourCurrentSnapshotIndex(){return this.tourCurrentSnapshot}getTourCurrentSnapshotSid(){return this.tourCurrentSnapshotSid}getTourEntrySidFromIndex(e){let t=0;for(const n of this.activeReel.reel)if(n&&this.isEnabled(n.id)){if(t===e)return n.id;t++}throw new Error("getTourSnapshotSid() -> Invalid snapshot index.")}getTourSnapshotsWithSweepId(e){const t=[];for(const n of this.activeReel.reel)n&&n.snapshot&&n.snapshot.metadata.scanId===e&&t.push(n.id);return t}getTourSweeps(){const e=[];for(const t of this.activeReel.reel)t&&t.snapshot&&t.snapshot.metadata.scanId&&e.push({id:t.id,sweepId:t.snapshot.metadata.scanId,sourceViewId:t.sourceViewId});return e}setTourCurrentSnapshotByIndex(e){if(e<0||e>this.getHighlightsCount())throw new Error("setTourCurrentSnapshotByIndex() -> Invalid tour index.");let t=-1;for(const n of this.activeReel.reel)if(n&&this.isEnabled(n.id)&&(t++,t===e)){this.tourCurrentSnapshot=e,this.tourCurrentSnapshotSid=n.id;break}-1===t&&this.resetEmptyReel(),this.commit()}getTourIndexBySid(e){let t=-1;for(const n of this.activeReel.reel)if(n&&this.isEnabled(n.id)&&(t++,n.id===e))return t;return-1}isEnabled(e){return-1!==this.enabledTourStops.indexOf(e)}resetEmptyReel(){this.tourCurrentSnapshot=-1,this.tourCurrentSnapshotSid=void 0,this.useTransition(u),this.commit()}}},96425:(e,t,n)=>{"use strict";var i,r,o;n.d(t,{Ci:()=>r,cR:()=>i,dO:()=>o}),function(e){e.NONE="none",e.STORIES="stories",e.LEGACY="legacy"}(i||(i={})),function(e){e[e.Inactive=0]="Inactive",e[e.Active=1]="Active",e[e.StopScheduled=2]="StopScheduled"}(r||(r={})),function(e){e[e.Beginning=0]="Beginning",e[e.Current=1]="Current",e[e.End=2]="End"}(o||(o={}))},87743:(e,t,n)=>{"use strict";n.d(t,{Yg:()=>r,e0:()=>o,lz:()=>s});var i=n(89103);class r extends i.QB{constructor(){super()}}class o extends i.QB{constructor(){super()}}class s extends i.QB{constructor(){super()}}},19702:(e,t,n)=>{"use strict";n.d(t,{AI:()=>i,Cs:()=>p,D:()=>u,GO:()=>v,LT:()=>y,NN:()=>f,RZ:()=>o,XJ:()=>c,bp:()=>r,g:()=>d,ky:()=>m,nn:()=>s,no:()=>a,np:()=>h,wo:()=>l,yL:()=>g});const i="tour-stories",r="spaces.tours_v2",o="tour-defurnish",s="tours2",a="gt",l=0,c=1,u="hr",d=0,h=1,p="tour",f=0,m=1,g=2,v=3,y=24},35447:(e,t,n)=>{"use strict";n.d(t,{EI:()=>u,Kl:()=>c,cJ:()=>a,v:()=>l});var i=n(74381),r=n(56208),o=n(96425),s=n(19702);function a(e){const t=e.tryGetProperty(r.Q$.HighlightReel,!0),n=e.getOverrideParam(s.D,s.np),i=e.getOverrideParam(s.Cs,s.ky);return t&&n!==s.g&&i!==s.NN}function l(e,t){const n=function(e){const t=e.tryGetProperty(r.Q$.TourButtons,!0),n=e.getOverrideParam(s.no,s.XJ),i=e.getOverrideParam(s.Cs,s.ky);return t&&n!==s.wo&&i!==s.NN}(e),i=a(e);return n||i?c(e,t)?o.cR.STORIES:o.cR.LEGACY:o.cR.NONE}function c(e,t){const n=e.getOverrideParam(s.Cs,s.ky);return n===s.yL||n!==s.GO&&t===i.UR.STORY}function u(e,t){const n=e.tryGetProperty(r.Q$.TourButtons,!0),s=e.tryGetProperty(r.Q$.HighlightReel,!0);return n||s?t===i.UR.STORY?o.cR.STORIES:o.cR.LEGACY:o.cR.NONE}},28165:(e,t,n)=>{"use strict";n.d(t,{LJ:()=>s,Ye:()=>l,jP:()=>r,lB:()=>a,pH:()=>c,zV:()=>o});var i=n(64650);const r="autotours",o="autotours",s="org.spaces.auto.reel",a=i.p.SCOUT,l="autotours_template",c="autotours_generate"},64650:(e,t,n)=>{"use strict";var i;n.d(t,{p:()=>i}),function(e){e.SCOUT="scout",e.VISION="vision"}(i||(i={}))},73094:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var i=n(28165);function r(e,t){return e.hasPolicy(i.LJ)||t.tryGetProperty(i.zV,!1)}},33156:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var i=n(84710),r=n(56413),o=n(74381),s=n(45332),a=n(87193),l=n(33895);class c extends i.B{constructor(e,t,n,i,l,c){super(),this.orgAdmin=n,this.modelOrgId=i,this.modelCreated=l,this.isDemo=c,this.name="users-data",this.users=(0,r.y)();const u=e.modelAccess||o.OQ.PUBLIC;this.currentUser=new s.o(Object.assign(Object.assign({},e),{modelAccess:u,userStatus:t?a._.KNOWN:a._.UNKNOWN})),this.addUser(this.currentUser)}loadSearchResults(e,t,n){this.atomic((()=>{e.forEach((e=>{this.loadUser(Object.assign(Object.assign({},e),{userStatus:a._.KNOWN}))})),t.forEach((e=>{this.users.get(e)||this.loadUser({email:e,id:"",userStatus:n,modelAccess:o.OQ.PUBLIC,firstName:null,lastName:null})}))}))}loadKnownUsers(e){this.atomic((()=>{e.forEach((e=>{this.loadKnownUser(e)}))}))}loadKnownUser(e){return this.loadUser(Object.assign(Object.assign({},e),{userStatus:a._.KNOWN}))}loadContributor(e){const t=this.users.get(e.email);return t||this.loadUser(Object.assign(Object.assign({},e),{userStatus:a._.CONTRIBUTOR}))}loadFailedUser(e){return this.loadUser(Object.assign(Object.assign({},e),{userStatus:a._.FAILED}))}loadUser(e){let t=this.users.get(e.email);return e.email===this.currentUser.email||t&&t.userStatus===a._.KNOWN&&t.modelAccess!==o.OQ.PUBLIC||(t=new s.o(e),t?this.users.set(e.email,t):this.addUser(t)),t}getUserInfoByEmail(e){return this.users.has(e)?this.users.get(e):null}getUserInfoById(e){return""===e?null:this.users.values.find((t=>t.id===e))||null}getUserDisplay(e){return this.users.has(e)?this.users.get(e):(0,l.A)(e)}iterate(e){for(const t of this.users)e(t)}getUsersWhoMayNeedAccess(){const e={};return this.users.values.forEach((t=>{t.userStatus===a._.KNOWN&&t.modelAccess!==o.OQ.PUBLIC||(e[t.email]=t)})),e}getKnownUsers(){return this.users.values.filter((e=>e.userStatus===a._.KNOWN))}addUser(e){this.users.has(e.email)||this.users.set(e.email,e)}getCurrentUser(){return this.currentUser}isLoggedIn(){return!!this.currentUser.id}isOrgAdmin(){return this.orgAdmin}isInviter(){return this.orgAdmin}getModelOrganizationId(){return this.modelOrgId}getModelCreatedDate(){return this.modelCreated}isDemoModel(){return!!this.isDemo}isEditor(){return this.currentUser.modelAccess===o.OQ.FULL}isCommenter(){const{modelAccess:e}=this.currentUser;return e===o.OQ.VIEWER||e===o.OQ.FULL}getCurrentUserId(){return this.currentUser.id}onUsersChanged(e){return this.users.onChanged(e)}}},45332:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var i=n(74381),r=n(87193),o=n(33895);class s{constructor(e){this.email="",this.id="",this.firstName="",this.lastName="",this.modelAccess=i.OQ.PUBLIC,this.userStatus=r._.UNKNOWN,this.name="",this.initials="",this.color="",e&&Object.assign(this,e);const t=this.id?this.getFullName(this.firstName,this.lastName):"";this.name=t||this.email||"",this.initials=this.getInitials(this.name),this.color=(0,o.g)(this.id)}getFullName(e,t){return e&&t?`${e} ${t}`:e||t}getInitials(e){const t=e?e.split(" ").map((e=>e[0])).join(""):"?";return t.length<3?t:`${t[0]}${t[t.length-1]}`}}},87193:(e,t,n)=>{"use strict";var i;n.d(t,{_:()=>i}),function(e){e.UNKNOWN="unknown",e.FAILED="failed",e.MENTIONED="mentioned",e.CONTRIBUTOR="contributor",e.KNOWN="known"}(i||(i={}))},33895:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,g:()=>a});var i=n(25712),r=n(87193),o=n(74381);const s=["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#5c7fff","#03a9f4","#417505","#00bcd4","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"];function a(e){const t=s.length;return s[(0,i.Iy)(e||"",t)]}function l(e){return{email:e,id:"",firstName:"",lastName:"",name:"Unknown",initials:"?",color:a(e),userStatus:r._.UNKNOWN,modelAccess:o.OQ.PUBLIC}}},46793:(e,t,n)=>{"use strict";n.d(t,{De:()=>l,S2:()=>u,gB:()=>c,ty:()=>a,w5:()=>i});var i,r=n(55141),o=n(2993),s=n(13893);!function(e){e.INSIDE="mode.inside",e.OUTSIDE="mode.outside",e.DOLLHOUSE="mode.dollhouse",e.FLOORPLAN="mode.floorplan",e.TRANSITIONING="mode.transitioning",e.ORTHOGRAPHIC="mode.orthographic",e.MESH="mode.mesh"}(i||(i={}));const a=i.INSIDE,l=(i.INSIDE,o.N3.Panorama,i.DOLLHOUSE,o.N3.Dollhouse,i.FLOORPLAN,o.N3.Floorplan,i.TRANSITIONING,o.N3.Transition,i.OUTSIDE,o.N3.Outdoor,i.ORTHOGRAPHIC,o.N3.Orthographic,i.MESH,o.N3.Mesh,{[o.N3.Panorama]:i.INSIDE,[o.N3.Dollhouse]:i.DOLLHOUSE,[o.N3.Floorplan]:i.FLOORPLAN,[o.N3.Transition]:i.TRANSITIONING,[o.N3.Outdoor]:i.OUTSIDE,[o.N3.Orthographic]:i.ORTHOGRAPHIC,[o.N3.Mesh]:i.MESH}),c=e=>{const t=l[e];return void 0!==t?t:i.OUTSIDE};class u extends r.u{constructor(e,t=s.fl.Interpolate,n={},i){super(),this.payload={mode:e,transitionType:t,pose:n,transitionTime:i}}}u.id="CHANGE_VIEWMODE"},15580:(e,t,n)=>{"use strict";n.d(t,{_z:()=>r,cW:()=>c,n9:()=>o,sj:()=>l});var i=n(56208);const r="showcase-floor_plan",o="showcase-dollhouse",s="fp",a="dh";function l(e,t){return u(i.Q$.FloorPlan,r,s,e,t)}function c(e,t){return u(i.Q$.Dollhouse,o,a,e,t)}function u(e,t,n,i,r){const o=i.tryGetProperty(e,!1),s=!r&&0===i.getOverrideParam(n,1),a=o&&!s;return i.setProperty(t,a),a}},85281:(e,t,n)=>{"use strict";n.d(t,{e:()=>i,n:()=>r});const i="features/dollhouse-nudge",r="features/roombounds-floorplan-nudge"},98309:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(45862);class r extends i.Y{}},1197:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(45862);class r extends i.Y{}},45862:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var i=n(89103);class r extends i.QB{constructor(e,t){super(),this.fromMode=t,this.toMode=e,this.timestamp=Date.now()}}},2993:(e,t,n)=>{"use strict";var i;n.d(t,{N3:()=>i,Te:()=>r,nI:()=>o,vy:()=>s}),function(e){e[e.Panorama=1]="Panorama",e[e.Dollhouse=2]="Dollhouse",e[e.Floorplan=3]="Floorplan",e[e.Outdoor=4]="Outdoor",e[e.Orthographic=5]="Orthographic",e[e.Mesh=6]="Mesh",e[e.Transition=-1]="Transition"}(i||(i={}));const r=e=>{switch(e){case i.Panorama:return"Panorama";case i.Floorplan:return"Floorplan";case i.Dollhouse:return"Dollhouse";case i.Transition:return"Transition";case i.Orthographic:return"Orthographic";case i.Mesh:return"Mesh"}return"Unknown"};function o(e){return e===i.Panorama||e===i.Mesh}function s(e){return e===i.Panorama}},99583:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var i=n(84710),r=n(2993),o=n(95330),s=n(19968);class a extends i.B{constructor(){super(),this.name="viewmode",this.modes=r.N3,this.transitionActiveObservable=(0,o.p)(!1),this.isDollhouseDisabled=()=>!1,this.isFloorplanDisabled=()=>!1,this.currentModeObservable=(0,o.p)(null),this.viewmodeChangeEnabledObservable=(0,o.p)(!0),this.transition={active:!1,progress:0,from:null,isFromPitchFactorOrtho:!1,to:null,isToPitchFactorOrtho:!1,startTime:0,transitionTime:0},this.isPano=this.isPano.bind(this),this.isFloorplan=this.isFloorplan.bind(this),this.isInside=this.isInside.bind(this),this.isDollhouse=this.isDollhouse.bind(this),this.isOrthographic=this.isOrthographic.bind(this)}get currentMode(){return this.currentModeObservable.value}set currentMode(e){e!==this.currentModeObservable.value&&(this.currentModeObservable.value=e)}get viewmodeChangeEnabled(){return this.viewmodeChangeEnabledObservable.value}set viewmodeChangeEnabled(e){this.viewmodeChangeEnabledObservable.value=e}peekabooCorrectedMode(e){return this.isDollhouse()&&e.pose.isPitchFactorOrtho?r.N3.Floorplan:this.currentMode}get closestMode(){return this.currentMode===r.N3.Transition?this.transition.progress<.5?this.transition.from:this.transition.to:this.currentMode}makeModeChangeSubscription(e){return this.currentModeObservable.onChanged(e)}activateTransition(e,t,n,i,o){this.transition.active=!0,this.transition.progress=0,this.transition.startTime=Date.now(),this.transition.transitionTime=n,this.transition.to=t,this.transition.from=e;const a=null==i?e===r.N3.Floorplan?0:1:i,l=null==o?t===r.N3.Floorplan?0:1:o;this.transition.isFromPitchFactorOrtho=(0,s.aY)(a),this.transition.isToPitchFactorOrtho=(0,s.aY)(l),this.transitionActiveObservable.value=!0}deactivateTransition(){this.transition.active=!1,this.transitionActiveObservable.value=!1}isPano(){return this.currentMode===r.N3.Panorama}isInside(){return(0,r.nI)(this.currentMode)}isMesh(){return this.currentMode===r.N3.Mesh}isFloorplan(){return this.currentMode===r.N3.Floorplan}isDollhouse(){return this.currentMode===r.N3.Dollhouse}isOrthographic(){return this.currentMode===r.N3.Orthographic}insideModeTransitionProgress(){if(this.transition.active){const e=(0,r.nI)(this.transition.to),t=(0,r.nI)(this.transition.from);return e||t?e&&!t?this.transition.progress:!e&&t?1-this.transition.progress:1:0}return this.isInside()?1:0}canStartTransition(){const e=this.transition.active,t=this.currentMode===r.N3.Transition;return!e&&!t}transitionActive(){return!this.canStartTransition()}isTargetMode(e){const t=this.transition.from===this.transition.to,n=this.currentMode===e;return this.transition.active&&t||n}canSwitchViewMode(e){return this.canStartTransition()&&this.viewmodeChangeEnabled&&!this.isTargetMode(e)}}},88581:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var i=n(98236),r=n(99583);const o=(0,i.v)(r.X)},15930:(e,t,n)=>{"use strict";n.d(t,{Ou:()=>r});var i=n(2993);i.N3.Dollhouse,i.N3.Panorama;const r=1e3},84522:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var i=n(55141);class r extends i.u{constructor(e){super(),this.payload=Object.assign({},e)}}r.id="GET_SCREEN_POS"},10711:(e,t,n)=>{"use strict";n.d(t,{s:()=>r,y:()=>o});var i=n(52018);class r extends i.t{constructor(e){super(e)}}class o extends i.t{constructor(e){super(e)}}},86721:(e,t,n)=>{"use strict";n.d(t,{P:()=>o,X:()=>r});var i=n(55141);class r extends i.u{constructor(e){super(),this.payload=Object.assign({},e)}}r.id="XR_PRESENT";class o extends i.u{constructor(){super()}}o.id="XR_PRESENT_END"},26059:(e,t,n)=>{"use strict";n.d(t,{F7:()=>i,RN:()=>o,qy:()=>r});const i="features/xr_browser_lock",r=!1,o="xruntested"},4896:(e,t,n)=>{"use strict";n.d(t,{M1:()=>l,ni:()=>a,wc:()=>i});var i,r=n(64491),o=n(21320),s=n(35404);!function(e){e.webxr="webxr",e.unsupported="unsupported"}(i||(i={}));const a=e=>{const t=!!e.tryGetProperty("is_vr",!1),n=e.tryGetProperty(s.qu,!1),i=e.getOverrideParam("vr",1);return t&&!(!i||2===i&&!(0,r.m0)())&&!n},l=async(e=!1)=>{const t=await o.A.isSessionSupported("immersive-vr");return window.isSecureContext&&(e||(0,r.Ap)()||(0,r.qL)()||!(0,r.Fr)())&&t?i.webxr:i.unsupported}},21320:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const i=new(n(10843).Ay)("vr-platform-select"),r=()=>{const e=void 0!==navigator&&"xr"in navigator&&void 0!==navigator.xr&&"isSessionSupported"in navigator.xr&&"requestSession"in navigator.xr;return window.isSecureContext&&e},o={isSessionSupported:async(e="immersive-vr")=>{var t;let n=!1;if(r())try{n=!!await(null===(t=null===navigator||void 0===navigator?void 0:navigator.xr)||void 0===t?void 0:t.isSessionSupported(e))}catch(e){i.info("WebXR disabled",e)}return i.debug(`WebXR session type: ${e} supported: ${n}`),n},apiExists:r}},74717:(e,t,n)=>{"use strict";n.d(t,{BW:()=>a,De:()=>o,EG:()=>r,hd:()=>l,i9:()=>s});var i=n(55141);class r extends i.u{constructor(e){super(),this.payload={step:e}}}r.id="ZOOM_IN";class o extends i.u{constructor(e){super(),this.payload={step:e}}}o.id="ZOOM_OUT";class s extends i.u{}s.id="ZOOM_RESET";class a extends i.u{}a.id="ZOOM_MAX_VALUE";class l extends i.u{constructor(e){super(),this.payload={value:e}}}l.id="ZOOM_SET"},59155:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var i=n(68909),r=n(8203),o=n.n(r),s=n(74869),a=n.n(s),l=n(87208),c=n.n(l),u=n(67422),d=n.n(u);const h={basicTextured:{uniforms:{tDiffuse:{value:null},alpha:{value:1}},vertexShader:o(),fragmentShader:a()},screenSpaceColored:{uniforms:{color:{value:new i.Vector3(0,0,0)},opacity:{value:1}},vertexShader:c(),fragmentShader:d()}}},97171:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});const i={Navigation:Symbol("nav"),WebGLRenderer:Symbol("webgl-renderer"),ModelMesh:Symbol("model-mesh"),Octree:Symbol("raycast-octree"),PanoTiles:Symbol("pano-tiles-preload"),Raycaster:Symbol("raycast"),Snapping:Symbol("snap"),StreamingTexture:Symbol("stream-textures"),StreamingMesh:Symbol("stream-mesh"),Tours:Symbol("tours")}},70046:(e,t,n)=>{"use strict";n.d(t,{$2:()=>d,GL:()=>c,nt:()=>u,sb:()=>l});var i=n(89103),r=n(68986),o=n(3066);const s=new(n(10843).Ay)("symbols"),a=[];class l extends i.QB{constructor(e){super(),this.symbol=e}}class c extends i.QB{constructor(e){super(),this.payload=e}}class u extends i.QB{constructor(e){super(),this.payload=e}}function d(e){return new r.P((0,o.Sh)((()=>null),(()=>a.length=0)),e.messageBus.subscribe(c,(e=>{a.push(e.payload)})),e.messageBus.subscribe(u,(e=>{const t=a.findIndex((t=>t.symbol===e.payload.symbol&&t.callback===e.payload.callback));t>=0&&a.splice(t,1)})),e.messageBus.subscribe(l,(e=>{a.forEach((t=>{if(t.symbol===e.symbol)try{t.callback()}catch(t){s.warn("Error handling SymbolMessage",e,t)}}))})))}},23184:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});class i{static isValue(e){return new i(new r(e))}static isType(e){return new i(new o(e))}static isInstanceOf(e){return new i(new s(e))}static is(e){return new i(new a(e))}static isAny(){return new i(new l)}constructor(e){this.matcher=e}compare(e){return this.matcher.matches(e)}}class r{constructor(e){this.value=e}matches(e){return this.value===e}}class o{constructor(e){this.type=e}matches(e){return Object.getPrototypeOf(e).constructor===this.type}}class s{constructor(e){this.type=e}matches(e){if("object"==typeof e)return e instanceof this.type;const t=this.type;switch(typeof e){case"number":return t===Number;case"string":return t===String;case"boolean":return t===Boolean;case"function":return t===Function}return!1}}class a{constructor(e){this.predicate=e}matches(e){return this.predicate(e)}}class l{constructor(){}matches(){return!0}}},2803:(e,t,n)=>{"use strict";n.d(t,{_:()=>l,f:()=>c});var i=n(10843),r=n(70516),o=n(31093);const s=new i.Ay("expiring-resource"),a=new WeakMap;function l(e,t){(0,r.S)(e,(e=>{e instanceof c&&(e.onStale=t)}))}class c{constructor(e,t){this.value=e,this.validUntil=t}refreshFrom(e){if(!e)return;this.value=e.value,this.validUntil=e.validUntil;const t=a.get(this);t&&(t.resolve(),a.delete(this))}async get(){if(this.validUntil&&this.onStale){const e=Date.now();if(e+6e4+1e4>this.validUntil.getTime()){let t=a.get(this);t||(t=new o.i,a.set(this,t),this.onStale()),e+6e4+1e3>this.validUntil.getTime()&&(s.info("Stale resource, waiting for refresh"),await t.nativePromise(),s.info("Refreshed resource"))}}return this.value}getCurrentValue(){return this.value}}},68062:(e,t,n)=>{"use strict";n.d(t,{Nv:()=>_,nk:()=>k,BN:()=>A,hm:()=>b,qK:()=>S,fR:()=>g,kf:()=>y,fg:()=>E,bw:()=>v,ff:()=>T,Gp:()=>f,Rc:()=>m,KK:()=>N,MN:()=>R,Vg:()=>O,xF:()=>w,LM:()=>M,cv:()=>L});var i=n(68909),r=n(46771),o=n(81662);const s=(e,t,n=1e-5)=>Math.abs(e-t)<=n;var a=n(33007),l=n(86866),c=n(12767),u=n(53172),d=n(19968),h=n(64208),p=n(3249);const f=e=>!!e&&1===e.elements[15],m=e=>!!e&&(e.elements[15]>0&&e.elements[15]<1),g=((()=>{const e=new i.Object3D,t=new i.Vector3})(),(()=>{const e=new i.Vector3})(),(()=>{const e=new i.Vector3})(),(()=>{const e=new i.Vector3,t=new i.Vector3;return(n,i,r,s)=>(e.copy(i).sub(n),s?t.copy(o.B1.UP):t.copy(e).applyAxisAngle(o.B1.UP,-1*Math.PI/2).setY(0).normalize(),e.applyAxisAngle(t,r),i.clone().sub(e))})()),v=(()=>{const e=new i.Vector3,t=new i.Vector3;return(n,r,o)=>(e.copy(n).sub(r).normalize(),t.copy(n).sub(o).normalize(),(new i.Quaternion).setFromUnitVectors(e,t))})(),y=(()=>{const e=new r.k;return(t,n)=>(e.setPosition(t),e.lookAt(t,n,o.B1.UP),(new i.Quaternion).setFromRotationMatrix(e.asThreeMatrix4()))})(),E=(()=>{const e=new i.Vector3;return(t,n,i)=>(e.copy(o.B1.FORWARD).applyQuaternion(t).normalize(),e.clone().multiplyScalar(-1*i).add(n))})(),S=(()=>{const e=new i.Ray,t=new i.Vector3,n=new i.Vector3;return(i,r,s)=>(n.set(0,0,0),t.copy(o.B1.FORWARD).applyQuaternion(r),e.set(i,t),e.intersectPlane(s,n))})(),b=(()=>{const e=new i.Vector3,t=new i.Vector3,n=new i.Vector3,r=new i.Vector3,s=[new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3],a=new i.Vector3,c=new i.Vector3,u=new i.Vector3,d=new i.Vector3,h=new i.Plane,p=new i.Vector3,f=new i.Ray,m=new i.Vector3,g=new i.Vector3;return({targetPosition:v,targetRotation:E,angleDown:S,box:b,fovY:O,aspectRatio:_})=>{const T="number"==typeof S?S:-1*E.angleTo((0,l.Vs)(E,new i.Quaternion));e.copy(o.B1.FORWARD).applyQuaternion(E).setY(0),t.copy(e).setY(T).normalize(),r.copy(t).applyAxisAngle(o.B1.UP,-Math.PI/2).setY(0).normalize(),n.copy(r).cross(t).normalize();let A=0;const w=b.max,N=b.min,I=[w,N];for(let e=0;e<2;e++){const t=I[e].x;for(let e=0;e<2;e++){const n=I[e].y;for(let e=0;e<2;e++){const i=I[e].z;s[A].set(t,n,i),A++}}}a.copy(N),u.copy(v).setY(N.y);let R=c.copy(a).sub(u).dot(t);s.forEach((e=>{if(e.y===w.y)return;const n=c.copy(e).sub(u).dot(t);n<R&&(a.copy(e),R=n)}));const k=Math.sign(a.dot(r));d.copy(a).setX(a.x===w.x?N.x:w.x),Math.sign(d.dot(r))!==k?h.set(p.set(0,0,-1*Math.sign(a.z)),Math.abs(a.z)):(d.copy(a).setZ(a.z===w.z?N.z:w.z),h.set(p.set(-1*Math.sign(a.x),0,0),Math.abs(a.x))),f.set(v,m.copy(t).multiplyScalar(-1)),f.intersectPlane(h,g);const L=Math.min(Math.abs(g&&g.dot(t)),R);let M=0,D=0;s.forEach((function(e){c.copy(e).sub(v);const t=Math.abs(c.dot(r)),i=Math.abs(c.dot(n));t>M&&(M=t),i>D&&(D=i)}));const P=M/Math.tan(O*_/2),C=D/Math.tan(O/2),x=Math.max(P,C)+Math.abs(L),U=v.clone().add(t.clone().multiplyScalar(1.1*-x));return{position:U,rotation:y(U,v)}}})(),O=((()=>{const e=new i.Matrix4})(),(()=>{const e=new i.Matrix4,t=new i.Vector4})(),(()=>{const e=new i.Vector3;return(t,n,i=o.B1.UP)=>{const r=t.angleTo(n);return Math.sign(e.crossVectors(t,n).dot(i))*r}})()),_=((()=>{const e=new r.k,t=new i.Vector3})(),(e,t,n,i,r=1.5)=>{const o=1/e.elements[5];if(f(e))return r*i/(2*o);const s=t.distanceTo(n),a=Math.atan(o);return i*(r/(2*Math.tan(a)*s))}),T=function(){const e=new i.Vector3,t=new i.Matrix4;return(n,i,r)=>{const o=e.set(0,0,-n).applyMatrix4(i).z;return t.copy(i),t.invert(),e.set(2/r,0,o).applyMatrix4(t),e.x}}(),A=e=>1/e.elements[5],w=(e,t=c.Bv.fov)=>e/Math.tan((0,u.pu)(t/2)),N=(()=>{const e=new i.Vector3;return(t,n,i)=>{const r=i.angleTo(o.B1.UP),s=Math.abs(r-Math.PI);return r<.2||s<.2?(t.quaternion.setFromUnitVectors(o.B1.FORWARD,i),!0):(t.lookAt(e.copy(n).add(i)),!1)}})(),I=((()=>{const e=new i.Vector3,t=new i.Vector3(1e4,1e4,1e4),n=[new i.Line3,new i.Line3,new i.Line3,new i.Line3],r=[new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3]})(),(()=>{const e=new i.Vector3,t=new i.Vector3(0,1,0);return(n,i)=>{e.set(0,0,-1).applyQuaternion(n);const r=e.angleTo(t),o=Math.abs(r-Math.PI);return r<i||o<i}})()),R=(()=>{const e=new i.Vector3(1,0,0);return(t,n=-45)=>{const r=n*(Math.PI/180);return I(t,.1)?(new i.Quaternion).setFromAxisAngle(e,r):t}})(),k=(()=>{const e=new i.Quaternion,t=new i.Euler;return(n,i=35*u.fy)=>{const r=(0,d.rC)(n);if(r<i){const o=r-i;t.set(o,0,0),e.setFromEuler(t),n.multiply(e)}return n}})(),L=(()=>{const e=new i.Vector3;return(t,n,r,o,s)=>{const l=n.getWorldPosition(e).distanceTo(t),c=s.maxSize-(s.maxSize-s.minSize)*(0,h.T)(l,s.nearBound,s.farBound),u=t.clone().project(n),d=new i.Vector3(o.width/2,o.height/2,1).multiply(u),f=new i.Vector3(c/2,0,0).add(d),m=new i.Vector3(2/o.width,2/o.height,1).multiply(f).clone().unproject(n).clone().distanceTo(t)*(1+s.responsiveness/100*(r-1));return(0,p.qE)(m,a.A.epsilon,m)}})(),M=((()=>{const e=new i.Vector3,t=new i.Vector3})(),(()=>{const e=new i.Matrix4;return(t,n,i,r)=>(t.setFromRotationMatrix(e.makeBasis(n,i,r)),t)})())},44455:(e,t,n)=>{"use strict";n.d(t,{PH:()=>i});n(68909);const i=e=>!e||!Object.values(e).filter((e=>0!==e)).length},53172:(e,t,n)=>{"use strict";n.d(t,{H:()=>s,fy:()=>i,pu:()=>o,tm:()=>r});const i=Math.PI/180,r=180/Math.PI;function o(e){return e*i}function s(e){return e*r}},3249:(e,t,n)=>{"use strict";n.d(t,{qE:()=>i});const i=function(e,t,n){return Math.max(t,Math.min(e,n))}},52885:(e,t,n)=>{"use strict";function i(e,t,n){return(1-n)*e+n*t}n.d(t,{C:()=>i})},86866:(e,t,n)=>{"use strict";n.d(t,{$i:()=>b,C:()=>f,HN:()=>d,HV:()=>O,OF:()=>m,QX:()=>c,U$:()=>i,U0:()=>T,V5:()=>y,Vs:()=>E,cP:()=>u,eB:()=>_,i0:()=>p,jS:()=>S,m9:()=>g,oA:()=>h});var i,r=n(68909),o=n(46771),s=n(81662),a=n(3249),l=n(53172);!function(e){e.fromVisionVector=function(e){return new r.Vector3(e.x,e.z,-e.y)},e.fromVisionVectorInPlace=function(e){const t=e.x,n=e.z,i=-e.y;return e.set(t,n,i)},e.toVisionVector=function(e){return new r.Vector3(e.x,-e.z,e.y)},e.toVisionVectorInPlace=function(e){const t=e.x,n=-e.z,i=e.y;return e.set(t,n,i)},e.fromVisionQuaternion=function(e){return new r.Quaternion(e.x,e.z,-e.y,e.w)},e.fromVisionSweepQuaternion=function(e){return new r.Quaternion(e.x,e.z,-e.y,e.w).multiply((new r.Quaternion).setFromAxisAngle(new r.Vector3(0,1,0),(0,l.pu)(90)))},e.fromVisionCameraQuaternion=function(e){return new r.Quaternion(-e.x,-e.z,e.y,-e.w).multiply((new r.Quaternion).setFromAxisAngle(new r.Vector3(1,0,0),(0,l.pu)(90)))},e.toVisionQuaternion=function(e){return new r.Quaternion(e.x,-e.z,e.y,e.w)},e.toVisionSweepQuaternion=function(e){const t=new r.Quaternion(e.x,e.y,e.z,e.w).multiply((new r.Quaternion).setFromAxisAngle(new r.Vector3(0,1,0),(0,l.pu)(-90)));return t.set(t.x,-t.z,t.y,t.w),t},e.toVisionCameraQuaternion=function(e){return new r.Quaternion(e.x,-e.z,e.y,e.w).multiply(new r.Quaternion(-.70710678118,0,0,.70710678118))}}(i||(i={}));const c=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n};function u(e,t,n){return Math.abs(t-e)<=n?t:e+Math.sign(t-e)*n}const d=function(e,t){const n=new r.Vector3(0,0,-1);return n.clone().applyQuaternion(e).angleTo(n.clone().applyQuaternion(t))},h=(()=>{const e=new o.k,t=new r.Frustum;return(n,i,r,o)=>(o=null!=o?o:t,e.identity().makeRotationFromQuaternion(i).setPosition(n),e.getInverse(e),e.premultiply(r.asThreeMatrix4()),o.setFromProjectionMatrix(e.asThreeMatrix4()),o)})(),p=((()=>{const e=new r.Sphere})(),(e,t,n,i)=>h(e,t,n).intersectsBox(i)),f=e=>{const t=e.getSize(new r.Vector3),n=Math.max(t.x,t.y,t.z);return(new r.Box3).setFromCenterAndSize(e.getCenter(new r.Vector3),new r.Vector3(n,n,n))},m=(e,t,n,i,r)=>(r-i)*((e-t)/(n-t))+i,g=(e,t,n,i,r)=>{const o=m(e,t,n,i,r);return(0,a.qE)(o,i,r)};function v(e){return 0===e.x&&0===e.y&&0===e.z}const y=(()=>{const e=new r.Vector3,t=new r.Matrix4;return n=>v(n)?n.clone():(e.copy(s.B1.FORWARD).applyQuaternion(n),t.lookAt(s.B1.ZERO,e,s.B1.UP),(new r.Quaternion).setFromRotationMatrix(t))})(),E=(()=>{const e=new r.Vector3,t=new r.Matrix4;return(n,i)=>v(n)?i.copy(n):(e.copy(s.B1.FORWARD).applyQuaternion(n).setY(0).normalize(),t.lookAt(s.B1.ZERO,e,s.B1.UP),i.setFromRotationMatrix(t))})(),S=(()=>{const e=new r.Vector3,t=new r.Ray;return(n,i,o,s)=>(s=s||new r.Vector3,t.origin.copy(n),t.lookAt(i),s.copy(t.at(o,e)))})(),b=(()=>{const e=new r.Vector3,t=new r.Ray;return(n,i,o,s)=>(s=s||new r.Vector3,t.set(n,i),s.copy(t.at(o,e)))})();function O(e,t,n,i,r,o,s,a,l){if(e===n&&t===i||r===s&&o===a)return!1;const c=(a-o)*(n-e)-(s-r)*(i-t);if(0===c)return!1;const u=((s-r)*(t-o)-(a-o)*(e-r))/c,d=e+u*(n-e),h=t+u*(i-t);return l&&l.set(d,h),!0}function _(e,t,n,i,r,o,s,a,l=0,c){if(e===n&&t===i||r===s&&o===a)return null;const u=(a-o)*(n-e)-(s-r)*(i-t);if(0===u)return null;const d=((s-r)*(t-o)-(a-o)*(e-r))/u,h=((n-e)*(t-o)-(i-t)*(e-r))/u,p=1-l;if(d<l||d>p||h<l||h>p)return null;const f=e+d*(n-e),m=t+d*(i-t);return c&&c.set(f,m),d}function T(e,t){return Math.ceil(e/t)*t}},64208:(e,t,n)=>{"use strict";function i(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}n.d(t,{T:()=>i})},92237:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var i=n(94814),r=n(85616),o=n(10843),s=n(3066);const a=new o.Ay("animation");class l extends r.v{get active(){return this._active}get duration(){return this._duration}get endValue(){return this._endValue}get easing(){return this._easing}get elapsed(){return this._elapsed}get delay(){return this._delay}constructor(e,t,n,r=i.p9,o=0){super(),this._easing=i.p9,void 0===t&&(t=e),void 0===n&&(this._active=!1,n=0,this._elapsed=0,this._duration=0),this.modifyAnimation(e,t,n,r,0,o)}tick(e){if(!this._active)return this.endValue;if(this._delay>0)return this._delay-=e,this.startValue;const t=(this._elapsed+e)/Math.max(this._duration,1e-5);return this.updateProgress(t),this.value}updateProgress(e){if(isNaN(e))return void a.error(`Invalid progress value: ${e}`);const t=Math.max(0,Math.min(e,1)),n=this.active,i=this.value;if(t>=1)return this.activate(!1),this.value=this._easing(1,this.startValue,this._endValue-this.startValue,1),this._elapsed=this.duration,this.commit(),void(this._onComplete&&this._onComplete.forEach((e=>e())));this.activate(!0),this.value=this._easing(t,this.startValue,this._endValue-this.startValue,1),this._elapsed=t*this.duration,i===this.value&&n===this.active||this.commit()}updateAbsolute(e){const t=e/Math.max(this._duration,1e-5);this.updateProgress(t)}modifyAnimation(e,t,n,r=i.p9,o=0,s=0){return this._easing=r,this._endValue=t,this._duration=n,this._elapsed=o,this._delay=s,this.startValue=e,this.value=e,this.activate(this._duration>=0&&e!==t),this.commit(),this}onComplete(e){return this._onComplete||(this._onComplete=[]),(0,s.Sh)((()=>this._onComplete.push(e)),(()=>this._onComplete.splice(this._onComplete.indexOf(e),1)))}onActivate(e){return this._onActivate||(this._onActivate=[]),(0,s.Sh)((()=>this._onActivate.push(e)),(()=>this._onActivate.splice(this._onActivate.indexOf(e),1)))}activate(e){e!==this._active&&this._onActivate&&this._onActivate.forEach((e=>e())),this._active=e}copy(e){this._endValue=e.endValue,this._duration=e.duration,this._active=e.active,this._easing=e.easing,this._elapsed=e.elapsed,this.startValue=e.startValue,this.value=e.value,this.commit()}clone(){const e=new l(0);return e.copy(this),e}stop(e){this._active=!1,this._elapsed=this._duration,this.value=e,this._endValue=e,this.commit()}equals(e){return this._active===e._active&&this.duration===e.duration&&this.easing===e.easing&&this.elapsed===e.elapsed&&this.endValue===e.endValue&&this.startValue===e.startValue&&this.value===e.value}}},95300:(e,t,n)=>{"use strict";n.d(t,{BE:()=>i,s1:()=>r});const i=16/9,r=function(e,t){const n=new URL(e);let i=Number(n.searchParams.get("width")),r=Number(n.searchParams.get("height"));i=i&&!Number.isNaN(i)?i:1920,r=r&&!Number.isNaN(r)?r:1080;const o=function(e,t,n){const i=e/t;let r=e,o=t;return i>n?r=t*n:i<n&&(o=e/n),{width:r,height:o}}(i,r,t);return n.searchParams.set("width",o.width.toFixed()),n.searchParams.set("height",o.height.toFixed()),n}},9130:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,G:()=>o});class i{constructor(e){this.comparator=e,this.nodes=[]}push(e){return this.nodes.push(e),this.siftdown(0,this.nodes.length-1)}pop(){let e,t;return this.nodes.length&&(e=this.nodes.pop(),e)?(this.nodes.length?(t=this.nodes[0],this.nodes[0]=e,this.siftup(0)):t=e,t):null}peek(){return this.nodes[0]}contains(e){return-1!==this.nodes.indexOf(e)}replace(e){if(this.nodes.length){const t=this.nodes[0];return this.nodes[0]=e,this.siftup(0),t}return null}_pushpop(e,t,n){let i;const r=n||this.defaultCompare;return e.length&&r(e[0],t)<0&&(i=[e[0],t],t=i[0],e[0]=i[1],this._siftup(e,0,r)),t}pushpop(e){return this._pushpop(this.nodes,e,this.comparator)}_heapify(e,t){let n,i,r,o,s,a;const l=Math.floor(e.length/2),c=function(){for(a=[],r=0,s=l;0<=s?r<s:r>s;0<=s?r++:r--)a.push(r);return a}.apply(this).reverse(),u=[];for(i=0,o=c.length;i<o;i++)n=c[i],u.push(this._siftup(e,n,t));return u}heapify(){let e,t,n,i,r,o;const s=Math.floor(this.nodes.length/2),a=function(){for(o=[],n=0,r=s;0<=r?n<r:n>r;0<=r?n++:n--)o.push(n);return o}.apply(this).reverse(),l=[];for(t=0,i=a.length;t<i;t++)e=a[t],l.push(this.siftup(e));return l}updateItem(e){const t=this.nodes.indexOf(e);return-1===t?null:(this.siftdown(0,t),this.siftup(t))}clear(){return this.nodes=[]}empty(){return 0===this.nodes.length}size(){return this.nodes.length}clone(){const e=new i(this.comparator);return e.nodes=this.nodes.slice(0),e}toArray(){return this.nodes.slice(0)}insert(e){return this.push(e)}top(){return this.peek()}front(){return this.peek()}has(e){return this.contains(e)}copy(){return this.clone()}nlargest(e){let t,n,i;const r=this.nodes.slice(0,e);if(!r.length)return r;this._heapify(r,this.comparator);const o=this.nodes.slice(e);for(n=0,i=o.length;n<i;n++)t=o[n],this._pushpop(r,t,this.comparator);return r.sort(this.comparator).reverse()}defaultCompare(e,t){return e<t?-1:e>t?1:0}_siftdown(e,t,n,i){let r,o;const s=i||this.defaultCompare,a=e[n];for(;n>t&&(o=n-1>>1,r=e[o],s(a,r)<0);)e[n]=r,n=o;return e[n]=a}siftdown(e,t){return this._siftdown(this.nodes,e,t,this.comparator)}_siftup(e,t,n){let i,r;const o=n||this.defaultCompare,s=e.length,a=t,l=e[t];for(i=2*t+1;i<s;)r=i+1,r<s&&!(o(e[i],e[r])<0)&&(i=r),e[t]=e[i],i=2*(t=i)+1;return e[t]=l,this._siftdown(e,a,t,o)}siftup(e){return this._siftup(this.nodes,e,this.comparator)}}var r;function o(e){void 0===e.timeout&&(e.timeout=1/0);const t={data:e.start,g:0,heuristicValue:e.heuristic(e.start)};let n=t;t.f=t.heuristicValue;const o=new Set,l=new i(a),c=new Map;l.push(t),c.set(t.data,t);const u=Date.now();for(;l.size();){if(Date.now()-u>e.timeout)return{status:r.Timeout,cost:n.g,path:s(n)};const t=l.pop();if(!t)throw new Error("[astar.ts]: Node must exist in heap");if(c.delete(t.data),t&&e.isEnd(t.data))return{status:r.Success,cost:t.g,path:s(t)};o.add(t.data);const i=e.neighbors(t.data);for(const r of i){if(o.has(r))continue;const i=t.g+e.distance(t.data,r);let s=c.get(r),a=!1;if(void 0===s)s={data:r,g:0,heuristicValue:0,f:0},c.set(r,s);else{if(s.g<i)continue;a=!0}s.parent=t||void 0,s.g=i,s.heuristicValue=e.heuristic(r),s.f=i+s.heuristicValue,s.heuristicValue<n.heuristicValue&&(n=s),a?l.heapify():l.push(s)}}return{status:r.NoPath,cost:n.g,path:s(n)}}function s(e){if(void 0!==e.parent){const t=s(e.parent);return t.push(e.data),t}return[e.data]}function a(e,t){if(e.f&&t.f)return e.f-t.f;throw new Error('heapComparator() -> Property "f" is undefined.')}!function(e){e[e.Success=0]="Success",e[e.NoPath=1]="NoPath",e[e.Timeout=2]="Timeout"}(r||(r={}))},64491:(e,t,n)=>{"use strict";n.d(t,{Ap:()=>_,C8:()=>A,Cv:()=>l,Eh:()=>P,Fr:()=>a,J0:()=>u,OF:()=>d,T:()=>m,Ul:()=>x,YR:()=>M,Yk:()=>w,Zm:()=>p,aS:()=>L,aZ:()=>S,al:()=>N,cX:()=>h,gm:()=>v,lh:()=>D,m0:()=>f,qL:()=>b,sv:()=>I,vQ:()=>C,w2:()=>T,x_:()=>k,yJ:()=>R});var i=n(24241),r=n(75778),o=n(66726);const s=new i.Vy("util-browser"),a=function(){const e=navigator.userAgent||navigator.vendor,t=new RegExp("(android|bbd+|meego).+mobile|android|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|\n    hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|\n    palm( os)?|phone|p(ixi|re)/|plucker|pocket|psp|series(4|6)0|symbian|treo|up.(browser|link)|vodafone|\n    wap|windows ce|xda|xiino|MatterScan","i"),n=new RegExp("1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|\n    amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|\n    br(e|v)w|bumb|bw-(n|u)|c55/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|\n    devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|\n    g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|\n    a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|\n    jemu|jigs|kddi|keji|kgt( |/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|/(k|l|u)|50|54|-[a-w])|libw|lynx|\n    m1-w|m3ga|m50/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|\n    zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|\n    nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|\n    po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55/|\n    sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|\n    sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|\n    tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|\n    vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|\n    zeto|zte-","i");return(t.test(e)||n.test(e.substr(0,4))||u())&&!b()},l=/([\s\{\}\"\']|[^\x00-\x7F]|%[^0-9a-fA-F]{2})+/g,c=(e,t)=>{let n=window.navigator.userAgent.match(e);return n=n?n[1].split(t):[],{major:parseInt(n[0],10)||0,minor:parseInt(n[1],10)||0,patch:parseInt(n[2],10)||0}},u=()=>{const e=window.navigator.userAgent;return/iPad/.test(e)||h()&&navigator.maxTouchPoints>1},d=()=>{const e=window.navigator.userAgent;return/iPod|iPhone/.test(e)||h()&&navigator.maxTouchPoints>1},h=()=>{const e=window.navigator.platform;return/MAC/.test(e.toUpperCase())},p=()=>{const e=window.navigator.platform;return/WIN/.test(e.toUpperCase())},f=()=>-1!==window.navigator.userAgent.indexOf("Android"),m=()=>!_()&&(v()||E());let g=null;const v=()=>{if(null==g){const e=window.navigator.userAgent;g=-1!==e.indexOf("Firefox")}return g};let y=null;const E=()=>{if(null==y){const e=window.navigator?window.navigator.userAgent:null;y=!!window.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return y},S=()=>{if(!v())throw new Error("Not a Firefox browser");return c(/Firefox\/((?:\d+\.?){1,3})/,".")},b=()=>-1!==window.navigator.userAgent.indexOf("OculusBrowser");let O=null;const _=()=>{if(null==O){const e=window.navigator.userAgent.includes("Macintosh"),t=5===window.navigator.maxTouchPoints;O=e&&t}return O},T=()=>{switch((0,r.P3)("bot",2)){case 0:default:return!1;case 1:return!0;case 2:return/googlebot|bingbot|applebot/i.test(navigator.userAgent)}},A=()=>"ontouchstart"in window,w=()=>"share"in navigator&&(a()||u()),N=()=>window.parent!==window,I=()=>N()&&(()=>{const e=new URL(document.referrer);return o.yt.some((t=>t.test(e.hostname)))})(),R=()=>window.location.search.substr(1).split("&"),k=function(){const e=window.URL||window.webkitURL,t=document.createElement("a");return document.body.appendChild(t),t.style.display="none",(n,i)=>{const r=e.createObjectURL(n);t.href=r,t.download=i,t.click(),e.revokeObjectURL(r)}}(),L=(function(){const e=document.createElement("a");document.body.appendChild(e),e.style.display="none"}(),function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}),M=function(){return!u()&&!d()&&!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)},D=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},P=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};function C(e){try{return document.featurePolicy.allowsFeature(e)}catch(t){return s.warn(t),s.warn(`Feature Policy check failed, defaulting ${e} to false.`),!1}}const x=()=>{var e,t;return(e=>{const t={language:"en",region:void 0,script:void 0,ext:void 0},n=new RegExp([/^([a-z]{2,3})/,/(?:[_-]([ut]{1}[_-][a-z\-\_]+))?/,/(?:[_-]([a-z]{4}))?/,/(?:[_-]([a-z]{2}))?$/].map((e=>e.source)).join(""),"i").exec(e);if(n){const[,e,i,r,o]=n;Object.assign(t,{language:e,ext:i,script:r,region:o})}return t})((null===(t=null===(e=null===Intl||void 0===Intl?void 0:Intl.DateTimeFormat())||void 0===e?void 0:e.resolvedOptions())||void 0===t?void 0:t.locale)||navigator.language).language||""}},91669:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});const i=function(e,t){const n=new RegExp(e+"=([^;]+)|$").exec(document.cookie);if(!n)return t;const i=n[1];return"boolean"==typeof t?"true"===i||"1"===i:"number"==typeof t?parseFloat(i):i}},81609:(e,t,n)=>{"use strict";function i(e){const t=document.createElement("input");t.type="text",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}n.d(t,{l:()=>i})},81587:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,X:()=>o});const i=new Object,r=e=>{if(e){const t=e.valueOf();if(!isNaN(t))return e.toISOString()}return(new Date).toISOString()},o=(e,t=i)=>{if(e){const t=new Date(e);if(!isNaN(t.valueOf()))return t}return t===i?new Date:t}},26348:(e,t,n)=>{"use strict";n.d(t,{A4:()=>c,D6:()=>l,Nd:()=>a,hV:()=>s,ld:()=>o});const i=.3048,r=.0929,o=e=>e/i,s=e=>e*i,a=e=>e/r,l=e=>e*r,c=e=>{const t=e/i;let n=Math.floor(t),r=12*t%12;return 12===Math.round(r)?(n+=1,r=0):r=Math.round(r),{feet:n,inches:r}}},94814:(e,t,n)=>{"use strict";n.d(t,{AU:()=>c,Bo:()=>v,Do:()=>s,ME:()=>d,WD:()=>a,dV:()=>l,e2:()=>f,jv:()=>m,lu:()=>p,p9:()=>o,p_:()=>u,rn:()=>h,sP:()=>y,v:()=>g});var i=n(65380),r=n.n(i);const o=function(e,t,n,i){return n*e/i+t},s=function(e,t,n,i){return n*(e/=i)*e+t},a=function(e,t,n,i){return-n*(e/=i)*(e-2)+t},l=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},c=function(e,t,n,i){return n*(e/=i)*e*e+t},u=function(e,t,n,i){return e/=i,n*(--e*e*e+1)+t},d=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},h=function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},p=function(e,t,n,i){return n*(1-Math.pow(2,-10*e/i))+t},f=function(e,t,n,i){return(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t)},m=(e,t,n,i,r)=>{let o=t;if(r>0){const t=(1-Math.max(r,0))*Math.abs(i);o=n<=t?0:e(n-t,0,1,t)}return o};function g(e,t,n,i){const o=new(r())(e,t,n,i);return(e,t,n,i)=>{const r=e/i;return t+n*o.solve(r)}}function v(e,t,n,i){const o=new(r())(e,t,n,i);return e=>o.solve(e)}const y=function(e,t,n,i){return-4*n*Math.pow(e/i-(.5+t),2)+1}},20819:(e,t,n)=>{"use strict";n.d(t,{EE:()=>i,kH:()=>r});const i=e=>void 0!==e.pointerId,r=e=>void 0!==e.changedTouches},74634:(e,t,n)=>{"use strict";function i(e,t){let n,i,r=t[t.length-1],o=0;for(let s=0;s<t.length;++s)n=r,r=t[s],n.y<=e.y&&r.y<=e.y||n.y>e.y&&r.y>e.y||n.x<e.x&&r.x<e.x||(i=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),r.y<n.y&&(i=-i),o+=i>0?1:0);return o%2==1}n.d(t,{L:()=>i})},48539:(e,t,n)=>{"use strict";n.d(t,{G8:()=>s,Ho:()=>d,Mq:()=>l,Rt:()=>u,Uk:()=>f,W5:()=>p,Ym:()=>c,Z9:()=>h,cb:()=>r,gr:()=>m,ij:()=>a,op:()=>o});var i=n(46147);const r=function(e){return new Promise((t=>{setTimeout(t,e)}))},o=e=>{let t,n=-1;const i=new Promise(((i,r)=>{t=i,n=window.setTimeout(i,e)})).then((()=>{n=-1})),r=e=>{-1!==n&&(window.clearTimeout(n),e&&t(),n=-1)};return{promise:i,resolveEarly:()=>{r(!0)},cancel:()=>{r(!1)}}},s=function(e,t){if(0===e.length)return null;let n=0,i=0;for(let r of e)r=t?r[t]:r,n+=r,i++;return n/i},a=function(e){const t={};for(const n of e)t[n]=n;return t},l=function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},c=function(e,t,n=!0){if(0===e.length)return null;n&&e.sort((function(e,t){return e-t}));const i=t/100;return e[Math.floor(e.length*i)]},u=function(e){return[d(e.getMonth()+1),".",d(e.getDate()),".",e.getFullYear(),"_",d(e.getHours()),".",d(e.getMinutes()),".",d(e.getSeconds())].join("")},d=function(e,t=2,n="0",i=10){const r=e.toString(i),o=t-r.length+1;return o>0?new Array(o).join(n)+r:r},h=(e=[])=>{const t={};for(const n of e)t[n]=!0;return t};const p=(e,t,n="...")=>e.length<=t?e:`${e.substr(0,t)}${n}`,f=(e,t,n)=>{if(!(Math.abs(e)<4294967295)||!(t<32)||!(n<32))throw new i.A("argument out of range");const r=1&(e>>>t^e>>>n);return(e^=r<<t|r<<n)>>>0};function m(e){let t=0;for(;e;)t+=1&e,e>>=1;return t}(()=>{const e={}})()},97610:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});const i=new(n(10843).Ay)("passive-support"),r=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>{e=!0}});return window.addEventListener("testPassive",(()=>{}),t),window.removeEventListener("testPassive",(()=>{}),t),e}catch(e){return i.warn(`Passive Option for addEventListener is not supported, Safari zoom may not perform as expected: ${e}`),!1}})()},10032:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(68909);const r=new i.LoadingManager},10843:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i});const i=n(24241).Vy},93818:(e,t,n)=>{"use strict";n.d(t,{JE:()=>y,LB:()=>v,R5:()=>S,ac:()=>f});var i=n(23339),r=n(26348),o=n(75778);let s="",a="",l="",c="ft",u="in",d="m",h="sq. ft.",p="m",f="";var m,g;function v(e){s=e.unitsDisplayFeetSymbol,a=e.unitsDisplayInchesSymbol,l=e.unitsDisplayHalfSpace,c=e.unitsDisplayFeet,u=e.unitsDisplayInches,d=e.unitsDisplayMeters,h=e.unitsDisplaySquareFeet,p=e.unitsDisplaySquareMeters,f=e.dimensionsSeparator}!function(e){e.INCHES="inches",e.FEET="feet"}(m||(m={})),function(e){e.DISTANCE="distance",e.AREA="area"}(g||(g={}));const y=(e,t,n=m.FEET)=>{const r=t.toString();return e===i.t.IMPERIAL?{[g.AREA]:`${r} ${h}`,[g.DISTANCE]:n===m.FEET?`${r}${s}`:`${r}${a}`}:{[g.AREA]:`${r} ${p}`,[g.DISTANCE]:`${r} ${d}`}},E=Number((0,o.P3)("metricPrecision",2)),S=(e,t=i.t.IMPERIAL)=>{const{IMPERIAL:n,METRIC:o}=i.t,{FEET:s,INCHES:a}=m;let c=y(n,0,a).distance;switch(t){case n:const{feet:t,inches:i}=(0,r.A4)(e);let u=y(n,t,s).distance,d=y(n,i,a).distance;t<1&&(u=""),u.length>0&&(u+=l),c=u+d;break;case o:c=y(o,e.toFixed(E)).distance}return c}},70516:(e,t,n)=>{"use strict";function i(e){const t={};for(const n in e)t[e[n]]=n;return t}function r(e,t){if(null!==e&&"object"==typeof e)for(const n in e)t(e[n],n,e),r(e[n],t)}n.d(t,{S:()=>r,h:()=>i})},25712:(e,t,n)=>{"use strict";n.d(t,{Iy:()=>a,W0:()=>o,hA:()=>s,s5:()=>l});const i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r="0123456789abcdefghijklmnopqrstuvwxyz";function o(e=11,t=i){let n="";const r=window.crypto||window.msCrypto;let o;o=r?r.getRandomValues(new Uint8Array(e)):new Uint8Array(e).map((()=>255*Math.random()));for(let i=0;i<e;i++)n+=t.charAt(o[i]%t.length);return n}function s(){return o(11,r)}function a(e,t){return function(e,t){return(e%t+t)%t}(l(e),t)}function l(e){let t,n=0;for(let i=0;i<e.length;i++)t=e.charCodeAt(i),n=(n<<5)-n+t,n|=0;return n}},45205:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});const i=function(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=n.charAt(Math.floor(62*Math.random()));return t}},83772:(e,t,n)=>{"use strict";n.d(t,{G2:()=>s,RP:()=>o});const i="referrer";let r="";function o(e){let t;try{t=new URL(e)}catch(t){return e}return t.searchParams.set(i,s()),t.href}function s(){return(function(){if(!window.document.referrer)return!1;let e;try{e=new URL(window.document.referrer)}catch(e){return!1}return e.origin===window.location.origin}()?function(){const e=new URL(window.location.href);if(!e.searchParams.has(i))return r;const t=e.searchParams.get(i)||"";try{new URL(t),r=t}catch(e){}return e.searchParams.delete(i),window.history.replaceState(null,"",e.href),r}():"")||window.document.referrer}},84250:(e,t,n)=>{"use strict";n.d(t,{O:()=>c});var i=n(68909);const r={defines:{RING_COUNT:0,USE_TEXTURE:!1},uniforms:{discRadius:{value:.2},discNormal:{value:new i.Vector3(0,0,1)},ringRadii:{value:[]},ringColors:{value:[]},opacity:{value:1},tint:{value:new i.Color(1,1,1)},texImg:{value:null},viewMatrixInverse:{value:new i.Matrix4},projectionMatrixInverse:{value:new i.Matrix4}},vertexShader:n(99691),fragmentShader:n(71285),side:i.FrontSide,transparent:!0};var o=n(38069);const s=new i.Color,a=[{outerRadius:1,innerRadius:.75,color:o.V.WHITE.clone(),opacity:1}];class l extends i.ShaderMaterial{constructor(e=a){super(Object.assign(Object.assign({},r),{defines:Object.assign({},r.defines),uniforms:i.UniformsUtils.clone(r.uniforms)})),this.setRings(e),Object.defineProperty(this,"opacity",{set(e){this.uniforms.opacity.value=e},get(){return this.uniforms.opacity.value}})}setDiscNormal(e){this.uniforms.discNormal.value.copy(e)}setDiscRadius(e){this.uniforms.discRadius.value=e}setRings(e){e=e||[],this.defines.RING_COUNT!==e.length&&(this.defines.RING_COUNT=e.length,this.needsUpdate=!0),this.uniforms.ringRadii.value=e.map((({innerRadius:e,outerRadius:t})=>new i.Vector2(e||-1,t))),this.uniforms.ringColors.value=e.map((({color:e,opacity:t})=>(s.copy(e),new i.Vector4(s.r,s.g,s.b,t))))}setTexture(e){this.defines.USE_TEXTURE!==!!e&&(this.defines.USE_TEXTURE=!!e,this.needsUpdate=!0),this.uniforms.texImg.value=e}getTexture(){return this.uniforms.texImg.value}setTint(e){this.uniforms.tint.value.set(null!=e?e:16777215)}getTint(){return this.uniforms.tint.value}onBeforeRender(e,t,n){this.uniforms.projectionMatrixInverse.value.copy(n.projectionMatrixInverse),this.uniforms.viewMatrixInverse.value.copy(n.matrixWorld)}}class c extends i.Mesh{constructor(e){super(new i.SphereGeometry(Math.sqrt(2),8,6),new l),this.onBeforeRender=(e,t,n)=>{this.material.onBeforeRender(e,t,n)},e&&this.configure(e)}configure(e){const{radius:t,normal:n,rings:i,texture:r,opacity:o,tint:s}=e,{material:a}=this;void 0!==t&&(this.scale.setScalar(t),a.setDiscRadius(t)),void 0!==n&&a.setDiscNormal(n),void 0!==i&&a.setRings(i),void 0!==r&&a.setTexture(r),void 0!==s&&a.setTint(s),void 0!==o&&(a.opacity=o)}dispose(){var e;null===(e=this.material.getTexture())||void 0===e||e.dispose(),this.geometry.dispose()}}},47503:(e,t,n)=>{"use strict";function i(e,t){return e.size===t.size&&[...e].every((e=>t.has(e)))}function r(...e){const t=new Set;for(const n of e)for(const e of n.values())t.add(e);return t}function o(e,t){for(const n of t)e.add(n);return e}n.d(t,{LX:()=>r,c5:()=>i,s1:()=>o})},32024:(e,t,n)=>{"use strict";n.d(t,{S:()=>l,y:()=>a});var i=n(68909),r=n(10843),o=n(10032);const s=new r.Ay("texture"),a=(e,t,n,r=i.SRGBColorSpace)=>{const a=new i.TextureLoader(o.A);a.crossOrigin="anonymous";const l=a.load(e,t,void 0,(t=>{s.error(`Failed to load ${e}`),n&&n(t)}));return l.colorSpace=r,l},l=async(e,t=i.SRGBColorSpace)=>{const n=new i.TextureLoader(o.A);n.crossOrigin="anonymous";const r=await n.loadAsync(e);return r.colorSpace=t,r}},79243:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});const i=(e,t)=>{let n,i=Date.now()-t;return(...r)=>{const o=Date.now()-i,s=()=>{e.apply(null,r),i=Date.now()};if(n&&clearTimeout(n),o>=t)s();else{const e=t-o;n=window.setTimeout(s,e)}}}},66726:(e,t,n)=>{"use strict";n.d(t,{$j:()=>i,Cz:()=>u,Gm:()=>r,Jt:()=>a,SE:()=>o,kh:()=>c,yt:()=>s,zh:()=>l});const i=function(e="",t){let n,i,r;if(e.match(/^https?/)){const t=new URL(e);n=t.protocol+"//"+t.host,i=e,r=e.match(/[^/]*$/)[0]}else{if(t.match(/^https?/)){const e=new URL(t);n=e.protocol+"//"+e.host}else n=window.location.protocol+"//"+t;i=n+"/api/player/models/"+e,r=e}return{sid:r,urlBase:n,urlModel:i,urlFiles:i+(i.match(/\/$/)?"files":"/files"),urlThumb:i+(i.match(/\/$/)?"thumb":"/thumb")}},r=function(e,t={}){for(const n in t){const i=t[n];e+=(-1===e.indexOf("?")?"?":"&")+`${n}=${i}`}return e},o=e=>e.replace(/^https?:\/\/(?:www.)?/i,"").replace(/\/(.*)/,""),s=[/^([a-z0-9\-]*\.)*matterport\.com$/,/^([a-z0-9\-]*\.)*matterportvr\.cn$/,/^localhost$/];function a(e){try{const t=new URL(e).hostname;for(const e of s)if(t.match(e))return!0}catch(e){}return!1}const l=e=>{if(a(e)){return new URL(e).origin}return null};function c(e=window.location.href){let t=e;return a(t)&&(t=t.replace(/\/work\/?(\?.*)?$/,"/show/$1")),new URL(t)}function u(e,t,n){const i=c(),r=new URLSearchParams(window.location.search);var o;o=r,["q","qK","qF","tag","note","comment","pin-pos","cloudEdit"].forEach((e=>o.delete(e)));const s=encodeURIComponent(e);if(s&&r.set("q",s),t.length>0){const e=encodeURIComponent(t.join(","));r.set("qK",e)}if(n.length>0){const e=encodeURIComponent(n.join(","));r.set("qF",e)}return i.search=r.toString(),i.hash="",i.toString()}},52514:(e,t,n)=>{"use strict";n.d(t,{QM:()=>u,Il:()=>h,bF:()=>c});var i=n(68909),r=n(95183),o=n(19968),s=n(53172),a=n(3249),l=n(68062);var c;(0,r.Dw)({unicodeFontsURL:"https://static.matterport.com/webgl-vendors/unicode-font-resolver/1.0.1/"}),function(e){e.WORLD="world",e.NDC="ndc"}(c||(c={}));class u extends i.Object3D{constructor(e,t=c.WORLD){var n,o,s,a;super(),this.config=e,this.scaleType=t,this.unscaledWidth=0,this.unscaledHeight=0,this.labelTextMaterial=new i.MeshBasicMaterial,this.bindings=[];const l=this.config.background||this.config.backgroundAsCollider;if(l){this.config.backgroundOpacity=void 0!==this.config.backgroundOpacity?this.config.backgroundOpacity:1,this.config.backgroundOpacity=this.config.background?this.config.backgroundOpacity:0;const t=this.createQuadGeometry(),n=new i.MeshBasicMaterial({color:e.backgroundColor,transparent:!0,depthTest:this.config.backgroundOpacity>0&&!e.disableDepth,depthWrite:this.config.backgroundOpacity>0&&!e.disableDepth,opacity:this.config.backgroundOpacity,stencilRef:1,stencilFail:i.KeepStencilOp,stencilZFail:i.KeepStencilOp,stencilZPass:i.ReplaceStencilOp,stencilFunc:i.AlwaysStencilFunc,stencilWrite:!0});this.labelBackgroundMesh=new this.config.backgroundColliderType(t,n),this.labelBackgroundMesh.position.z=-.01,this.labelBackgroundMesh.name="Label Background",this.collider=this.labelBackgroundMesh,this.add(this.labelBackgroundMesh)}const u=this.labelTextMesh=new r.EY;u.material=this.labelTextMaterial,u.name="Label Text",u.text=e.text||"",u.renderOrder=10,u.font=`${null!==(n=e.assetBasePath)&&void 0!==n?n:""}${e.fontPath}`,u.lang=e.lang,u.fontSize=1,u.fontWeight=700,u.anchorX="50%",u.anchorY="50%",u.outlineWidth=e.outline?e.outlineWidth:0,u.maxWidth=e.wordWrapWidth,u.textAlign=e.align,u.depthOffset=e.depthOffset||0,l&&(u.raycast=()=>{}),u.addEventListener("synccomplete",(()=>{var e;const[t,n,i,r]=u.textRenderInfo.visibleBounds;let o=i-t,s=r-n;isFinite(o)&&isFinite(s)&&(l&&(o+=this.config.backgroundBorderWidth,s+=this.config.backgroundBorderHeight,this.labelBackgroundMesh.scale.set(o,s,1)),this.unscaledWidth=o,this.unscaledHeight=s,this.aspect=o/Math.max(s,.001),u.position.set("50%"===u.anchorX?(t+i)/-2:0,"50%"===u.anchorY?(n+r)/-2:0,0),null===(e=this._onGeomUpdate)||void 0===e||e.call(this))})),this.scaleFactor=null!==(o=e.scale)&&void 0!==o?o:1,this.opacity=null!==(s=e.opacity)&&void 0!==s?s:1,this.setColor(null!==(a=e.color)&&void 0!==a?a:new i.Color),this.add(u),u.sync(),this.name="Label Container"}dispose(){this.bindings.forEach((e=>e.cancel())),this.labelTextMesh.dispose()}onGeomUpdate(e){this._onGeomUpdate=e}get text(){return this.config.text}set text(e){this.config.text=e,this.labelTextMesh.text=e,this.labelTextMesh.sync()}get mesh(){return this.labelTextMesh}getUnscaledSize(){return{width:this.unscaledWidth,height:this.unscaledHeight}}get scaleFactor(){return this.config.scale}set scaleFactor(e){this.config.scale=e,this.scale.setScalar(e)}get opacity(){return void 0!==this.config.opacity?this.config.opacity:1}set opacity(e){if(e!==this.config.opacity){this.config.opacity=e;const t=e>0&&!this.config.disableDepth;if(this.config.background){const n=this.labelBackgroundMesh.material;n.opacity=Math.min(this.config.backgroundOpacity||1,e),n.depthWrite=e>.15,n.depthTest=t}const n=this.labelTextMaterial;n.opacity=e,n.depthTest=t,this.visible=e>0,this.labelBackgroundMesh.visible=this.visible}}setColor(e){this.labelTextMaterial.color.copy(e)}setRenderLayer(e){this.labelTextMesh.layers.mask=e.mask,this.labelBackgroundMesh&&(this.labelBackgroundMesh.layers.mask=e.mask)}setRenderOrder(e){this.renderOrder=e,this.labelTextMesh.renderOrder=e,this.labelBackgroundMesh&&(this.labelBackgroundMesh.renderOrder=e)}setPosition(e,t=e=>e){this.position.copy(t(e))}setOrientation(e,t=0){this.quaternion.copy(e),0!==t&&this.rotateZ(-t*s.fy)}scaleBillboard(e,t,n,i,r,s,u=d.SCALE_DEFAULT){if(0!==n.elements[15])this.scaleFactor=.2*u*i*(d.ORTHO_IDEAL_HEIGHT/r);else{const h=(0,o.jn)(this.position,e,t,n.asThreeMatrix4()),p=Math.abs(h.x);if(p<1){const t=(0,l.Nv)(n,e,this.position,r,u),o=((0,a.qE)(s,1,2.5)+i)*d.SCALE_ASPECT,h=1+d.SCALE_NDC-p*d.SCALE_NDC-o,f=Math.max(Math.min(1/t*h,3),.001);this.scaleType===c.NDC?this.scaleFactor=f:this.scaleFactor=Math.min(f*d.NDC_MULT,u*d.SCALE_WORLD)}else this.scaleFactor=.001}}createQuadGeometry(){const e=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),t=new Float32Array([0,0,-1,0,0,-1,0,0,-1,0,0,-1]),n=new i.BufferGeometry;return n.setAttribute("position",new i.BufferAttribute(e,3)),n.setIndex([0,1,2,0,2,3]),n.setAttribute("normal",new i.BufferAttribute(t,3)),n}}const d={SCALE_DEFAULT:.1,SCALE_WORLD:4,SCALE_NDC:.5,SCALE_ASPECT:.035,DEPTH_WRITE_THRESHOD:.15,ORTHO_IDEAL_HEIGHT:1500,NDC_MULT:1.15};class h{constructor(e){this.currentTextConfig=h.defaultTextConfig,e?this.updateTextStyle(e):this.updateTextStyle(h.defaultTextConfig)}updateTextStyle(e){this.currentTextConfig=Object.assign(Object.assign({},this.currentTextConfig),e)}createLabel(e={text:""}){return new u(Object.assign(Object.assign({},this.currentTextConfig),e))}async preload(e={text:""}){const t=Object.assign(Object.assign({},this.currentTextConfig),e);return new Promise((e=>{var n;(0,r.PY)({font:`${null!==(n=t.assetBasePath)&&void 0!==n?n:""}${t.fontPath}`,characters:t.text},e)}))}static makeConfig(e){return Object.assign(Object.assign({},h.defaultTextConfig),e)}}h.defaultTextConfig={text:"",fontPath:"fonts/roboto-700.woff",align:"center",wordWrapWidth:void 0,color:new i.Color(0,0,0),backgroundColor:new i.Color(1,1,1),backgroundBorderWidth:.9,backgroundBorderHeight:.7,background:!0,backgroundAsCollider:!0,backgroundColliderType:i.Mesh,scale:1,outline:!1,outlineWidth:.06}},94165:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});const i="IDeepLinks"},54387:(e,t,n)=>{"use strict";n.d(t,{q:()=>l,ff:()=>o,W9:()=>a,uW:()=>c,P3:()=>u,rx:()=>d});var i=n(3249),r=n(68909);const o=(()=>{const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3;return(r,o,s,a,l,c,u=!0)=>{n.subVectors(r,s),e.subVectors(o,r),t.subVectors(a,s);const d=e.dot(e),h=e.dot(t),p=e.dot(n),f=t.dot(t),m=t.dot(n),g=d*f-h**2;if(Math.abs(g)<1e-6)return!1;let v=(h*m-p*f)/g,y=(d*m-h*p)/g;return u&&(v=(0,i.qE)(v,0,1),y=(0,i.qE)(y,0,1)),l.lerpVectors(r,o,v),c.lerpVectors(s,a,y),!0}})();r.Object3D;function s(e,t,n){let i=e;for(const e of t){const t=i.children.find((t=>t.name===e));if(t)i=t;else{if(!n)return;{const t=new r.Group;t.name=e,i.add(t),i=t}}}return i}function a(e,t){return s(e,t,!0)}const l={stencilRef:1,stencilFail:r.KeepStencilOp,stencilZFail:r.KeepStencilOp,stencilZPass:r.ReplaceStencilOp,stencilFunc:r.AlwaysStencilFunc,stencilWrite:!0};r.KeepStencilOp,r.KeepStencilOp,r.KeepStencilOp,r.GreaterStencilFunc;function c(e){return e.isMesh}function u(e){return e.isMeshStandardMaterial}function d(e){e.traverse((e=>{if(c(e)){const t=e.raycast.bind(e);e.raycast=(e,n)=>{const i=[];t(e,i),i.length>0&&(i.forEach((e=>e.distance=1e-4)),n.push(...i))}}}))}},71224:(e,t,n)=>{"use strict";var i;n.d(t,{b:()=>i}),function(e){e.ACCOUNT_INACTIVE="unavailable.account_inactive",e.GENERIC="generic",e.INTERNAL_ERROR="internal.error",e.MODEL_ARCHIVED="unavailable.archived",e.MODEL_COMPLIANCE="unavailable.compliance",e.MODEL_CORRUPT="model.corrupt",e.MODEL_FAILED="model.failed",e.MODEL_DELETED="unavailable.gone",e.MODEL_PENDING="unavailable.pending",e.MODEL_PROCESSING="unavailable.processing",e.MODEL_RESTRICTED="unavailable.restricted",e.NOT_FOUND="not.found",e.PASSWORD_REQUIRED="password.required",e.REQUEST_INVALID="request.invalid",e.WEBGL_CONTEXT_LOST="webgl.context_lost",e.WEBGL_GENERIC="webgl.generic",e.WEBGL_UNSUPPORTED="webgl.unsupported"}(i||(i={}))},75027:(e,t,n)=>{"use strict";function i(e={},t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}n.d(t,{L:()=>i})},50505:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});class i{constructor(){this.libraryCache=new Map}load(e,t){const n=this.libraryCache.get(e)||new r(e,t);return this.libraryCache.set(e,n),n.library}}class r{constructor(e,t){this._libraryPromise=new Promise(((e,t)=>{this.libraryResolver=e,this.libraryRejecter=t})),this.fetch(e,t)}async fetch(e,t){try{const n=await import(e),i=Object.assign({},n);if(t&&t in window){const e=window[t]||{};Object.assign(i,e),delete window[t]}this.libraryResolver(i)}catch(e){this.libraryRejecter(e)}}get library(){return this._libraryPromise}}},28511:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});const i={360:"61697","add-link":"61698",arrow:"61699",arrows:"61700",attach:"61701",back:"61702",blocked:"61703","blur-outline":"61704","brush-outline":"61705",checkmark:"61706","chevron-left":"61707","chevron-right":"61708",close:"61709","comment-large":"57344","comment-outline":"61710",comment:"61711",delete:"61712",dock:"61713",dollhouse:"61714",door:"61715",download:"61716","dpad-down":"61717","dpad-left":"61718","dpad-right":"61719","dpad-up":"61720","drag-edit":"61721","draw-lines":"61722","edit-floorplan":"61723",email:"61724",error:"61725","escape-key":"61726",expand:"61727","ext-link":"61728","eye-hide":"61729","eye-show":"61730",facebook:"61731",file:"61732",filter:"61733","finger-drag":"61734","floor-controls-all":"61735","floor-controls":"61736",floorplan:"61737","fullscreen-exit":"61738",fullscreen:"61739",fullscreen2:"61740","furniture-slash":"61741",furniture:"61742","gizmo-add":"61743","gizmo-closed":"61744","gizmo-eye-hide":"61745","gizmo-eye-show":"61746","gizmo-floorplan":"61747","gizmo-gear":"61748","gizmo-layers":"61749","gizmo-magnet-wall":"61750","gizmo-magnet":"61751","gizmo-model":"61752","gizmo-move":"61753","gizmo-open":"61754","gizmo-orthographic":"61755","gizmo-perspective":"61756","gizmo-redo":"61757","gizmo-snap":"61758","gizmo-undo":"61759",help:"61760","hlr-badge":"61761",hlr:"61762",info:"61763","invisible-wall":"61764",keyboard:"61765",layers:"61766",link:"61767",linkedin:"61768",list:"61769",location:"61770",lock:"61771",logo:"61772","magnifying-glass":"61773","media-mix":"61774","menu-indicator":"61775","mesh-trim":"61776",mesh:"61777",minus:"61778","more-vert":"61779",notes:"61780","object-air-ducts":"61781","object-bathtub":"61782","object-bed":"61783","object-cabinet":"61784","object-ceiling-fan":"61785","object-chair":"61786","object-countertop":"61787","object-dishwasher":"61788","object-door-lock":"61789","object-door":"61790","object-faucet":"61791","object-fireplace":"61792","object-garage-door":"61793","object-kitchen-island":"61794","object-light":"61795","object-microwave":"61796","object-mirror":"61797","object-outlet":"61798","object-oven":"61799","object-range-hood":"61800","object-range":"61801","object-refrigerator":"61802","object-shower":"61803","object-sink":"61804","object-skylight":"61805","object-smoke-detector":"61806","object-sofa":"61807","object-table":"61808","object-television":"61809","object-thermostat":"61810","object-toilet":"61811","object-towel-rack":"61812","object-vanity":"61813","object-wall-switch":"61814","object-washer-dryer":"61815","object-window":"61816",opening:"61817","panorama-disable":"61818",panorama:"61819","paper-clip":"61820","pause-outline":"61821",pause:"61822","photo-2d":"61823","photo-360":"61824","photo-add":"61825",pin:"61826",pinterest:"61827","play-unicode":"61828",play:"61829",plus:"61830","position-3d-fat":"61831","position-3d":"61832","press-hold":"61833",public_buildings_apartment:"61834",public_buildings_archway:"61835","public_buildings_building-circle-arrow-right":"61836","public_buildings_building-circle-check":"61837","public_buildings_building-circle-exclamation":"61838","public_buildings_building-circle-xmark":"61839","public_buildings_building-columns":"61840","public_buildings_building-flag":"61841","public_buildings_building-lock":"61842","public_buildings_building-shield":"61843","public_buildings_building-user":"61844","public_buildings_building-wheat":"61845",public_buildings_building:"61846",public_buildings_buildings:"61847",public_buildings_cabin:"61848",public_buildings_campground:"61849","public_buildings_car-building":"61850",public_buildings_castle:"61851",public_buildings_chimney:"61852",public_buildings_church:"61853",public_buildings_city:"61854",public_buildings_farm:"61855",public_buildings_fence:"61856","public_buildings_ferris-wheel":"61857",public_buildings_fort:"61858",public_buildings_garage:"61859",public_buildings_hospital:"61860",public_buildings_hotel:"61861","public_buildings_house-building":"61862","public_buildings_house-crack":"61863","public_buildings_house-day":"61864","public_buildings_house-fire":"61865","public_buildings_house-flag":"61866","public_buildings_house-flood-water":"61867","public_buildings_house-heart":"61868","public_buildings_house-lock":"61869","public_buildings_house-medical":"61870","public_buildings_house-night":"61871",public_buildings_house:"61872",public_buildings_industry:"61873",public_buildings_landmark:"61874",public_buildings_monument:"61875",public_buildings_mosque:"61876","public_buildings_mountain-city":"61877","public_buildings_place-of-worship":"61878","public_buildings_roller-coaster":"61879",public_buildings_school:"61880",public_buildings_store:"61881",public_buildings_synagogue:"61882",public_buildings_tent:"61883",public_buildings_toilet:"61884","public_buildings_torii-gate":"61885","public_buildings_tower-observation":"61886",public_buildings_tree:"61887",public_buildings_warehouse:"61888",public_characters_0:"61889",public_characters_1:"61890",public_characters_2:"61891",public_characters_3:"61892",public_characters_4:"61893",public_characters_5:"61894",public_characters_6:"61895",public_characters_7:"61896",public_characters_8:"61897",public_characters_9:"61898",public_characters_a:"61899",public_characters_b:"61900",public_characters_c:"61901","public_characters_circle-0":"61902","public_characters_circle-1":"61903","public_characters_circle-2":"61904","public_characters_circle-3":"61905","public_characters_circle-4":"61906","public_characters_circle-5":"61907","public_characters_circle-6":"61908","public_characters_circle-7":"61909","public_characters_circle-8":"61910","public_characters_circle-9":"61911","public_characters_circle-a":"61912","public_characters_circle-b":"61913","public_characters_circle-c":"61914","public_characters_circle-d":"61915","public_characters_circle-e":"61916","public_characters_circle-f":"61917","public_characters_circle-g":"61918","public_characters_circle-h":"61919","public_characters_circle-i":"61920","public_characters_circle-j":"61921","public_characters_circle-k":"61922","public_characters_circle-l":"61923","public_characters_circle-m":"61924","public_characters_circle-n":"61925","public_characters_circle-o":"61926","public_characters_circle-p":"61927","public_characters_circle-q":"61928","public_characters_circle-r":"61929","public_characters_circle-s":"61930","public_characters_circle-t":"61931","public_characters_circle-u":"61932","public_characters_circle-v":"61933","public_characters_circle-w":"61934","public_characters_circle-x":"61935","public_characters_circle-y":"61936","public_characters_circle-z":"61937",public_characters_d:"61938",public_characters_e:"61939",public_characters_f:"61940",public_characters_g:"61941",public_characters_h:"61942",public_characters_i:"61943",public_characters_j:"61944",public_characters_k:"61945",public_characters_l:"61946",public_characters_m:"61947",public_characters_n:"61948",public_characters_o:"61949",public_characters_p:"61950",public_characters_q:"61951",public_characters_r:"61952",public_characters_s:"61953","public_characters_square-0":"61954","public_characters_square-1":"61955","public_characters_square-2":"61956","public_characters_square-3":"61957","public_characters_square-4":"61958","public_characters_square-5":"61959","public_characters_square-6":"61960","public_characters_square-7":"61961","public_characters_square-8":"61962","public_characters_square-9":"61963","public_characters_square-a":"61964","public_characters_square-b":"61965","public_characters_square-c":"61966","public_characters_square-d":"61967","public_characters_square-e":"61968","public_characters_square-f":"61969","public_characters_square-g":"61970","public_characters_square-h":"61971","public_characters_square-i":"61972","public_characters_square-j":"61973","public_characters_square-k":"61974","public_characters_square-l":"61975","public_characters_square-m":"61976","public_characters_square-n":"61977","public_characters_square-o":"61978","public_characters_square-p":"61979","public_characters_square-q":"61980","public_characters_square-r":"61981","public_characters_square-s":"61982","public_characters_square-t":"61983","public_characters_square-u":"61984","public_characters_square-v":"61985","public_characters_square-w":"61986","public_characters_square-x":"61987","public_characters_square-xmark":"61988","public_characters_square-y":"61989","public_characters_square-z":"61990",public_characters_t:"61991",public_characters_u:"61992",public_characters_v:"61993",public_characters_w:"61994",public_characters_x:"61995",public_characters_y:"61996",public_characters_z:"61997",public_furniture_bath:"61998","public_furniture_bed-alt":"61999","public_furniture_bed-bunk":"62000","public_furniture_bed-empty":"62001",public_furniture_bed:"62002",public_furniture_blender:"62003",public_furniture_blinds:"62004","public_furniture_cabinet-filing":"62005","public_furniture_cash-register":"62006","public_furniture_chair-office":"62007",public_furniture_chair:"62008","public_furniture_charging-station":"62009","public_furniture_computer-classic":"62010","public_furniture_computer-speaker":"62011",public_furniture_couch:"62012","public_furniture_dryer-alt":"62013",public_furniture_dryer:"62014",public_furniture_dumbbell:"62015",public_furniture_dumpster:"62016",public_furniture_faucet:"62017",public_furniture_fax:"62018","public_furniture_hot-tub":"62019",public_furniture_inventory:"62020","public_furniture_lamp-desk":"62021","public_furniture_lamp-floor":"62022",public_furniture_lamp:"62023",public_furniture_laptop:"62024","public_furniture_light-ceiling":"62025",public_furniture_loveseat:"62026",public_furniture_microwave:"62027",public_furniture_piano:"62028",public_furniture_podium:"62029",public_furniture_presentation:"62030",public_furniture_projector:"62031",public_furniture_radio:"62032",public_furniture_refrigerator:"62033",public_furniture_shower:"62034",public_furniture_shredder:"62035",public_furniture_sink:"62036","public_furniture_solar-panel":"62037",public_furniture_speaker:"62038",public_furniture_speakers:"62039",public_furniture_toilet:"62040","public_furniture_trash-alt":"62041",public_furniture_turntable:"62042","public_furniture_tv-retro":"62043",public_furniture_tv:"62044",public_furniture_typewriter:"62045",public_objects_abacus:"62046","public_objects_alarm-clock":"62047","public_objects_album-collection":"62048",public_objects_backpack:"62049","public_objects_bags-shopping":"62050",public_objects_bell:"62051",public_objects_bicycle:"62052",public_objects_binoculars:"62053",public_objects_blanket:"62054",public_objects_book:"62055",public_objects_books:"62056",public_objects_boot:"62057",public_objects_box:"62058","public_objects_bread-loaf":"62059","public_objects_briefcase-medical":"62060",public_objects_briefcase:"62061",public_objects_broom:"62062",public_objects_brush:"62063",public_objects_bullhorn:"62064","public_objects_burger-soda":"62065",public_objects_calculator:"62066",public_objects_calendar:"62067",public_objects_camera:"62068",public_objects_car:"62069",public_objects_carrot:"62070","public_objects_cheese-swiss":"62071",public_objects_chess:"62072","public_objects_clipboard-check":"62073","public_objects_clipboard-list":"62074",public_objects_clipboard:"62075","public_objects_coffee-pot":"62076",public_objects_compass:"62077",public_objects_cookie:"62078",public_objects_corn:"62079",public_objects_croissant:"62080",public_objects_dice:"62081",public_objects_drumstick:"62082",public_objects_egg:"62083",public_objects_fish:"62084",public_objects_flask:"62085","public_objects_flower-tulip":"62086",public_objects_gamepad:"62087",public_objects_gem:"62088",public_objects_gift:"62089",public_objects_gifts:"62090","public_objects_glass-citrus":"62091",public_objects_glass:"62092",public_objects_glasses:"62093","public_objects_globe-stand":"62094","public_objects_graduation-cap":"62095",public_objects_guitar:"62096",public_objects_hammer:"62097","public_objects_hat-chef":"62098","public_objects_ice-cream":"62099","public_objects_ice-skate":"62100",public_objects_key:"62101","public_objects_knife-kitchen":"62102","public_objects_lightbulb-on":"62103","public_objects_lightbulb-slash":"62104",public_objects_lightbulb:"62105",public_objects_magnet:"62106",public_objects_mailbox:"62107",public_objects_map:"62108",public_objects_meat:"62109",public_objects_medal:"62110",public_objects_microphone:"62111",public_objects_mobile:"62112","public_objects_money-bill-wave":"62113","public_objects_mug-tea":"62114",public_objects_mug:"62115",public_objects_newspaper:"62116","public_objects_paint-roller":"62117",public_objects_palette:"62118",public_objects_pen:"62119",public_objects_phone:"62120","public_objects_pizza-slice":"62121","public_objects_pump-soap":"62122","public_objects_ruler-triangle":"62123",public_objects_ruler:"62124",public_objects_salad:"62125",public_objects_sandwich:"62126",public_objects_shovel:"62127",public_objects_steak:"62128",public_objects_sunglasses:"62129",public_objects_turkey:"62130",public_objects_utensils:"62131",public_objects_vial:"62132",public_objects_wallet:"62133",public_objects_wrench:"62134",public_people_baby:"62135","public_people_child-dress":"62136","public_people_child-reaching":"62137",public_people_child:"62138",public_people_children:"62139","public_people_circle-user":"62140","public_people_clipboard-user":"62141","public_people_face-angry":"62142","public_people_face-anguished":"62143","public_people_face-astonished":"62144","public_people_face-beam-hand-over-mouth":"62145","public_people_face-confounded":"62146","public_people_face-confused":"62147","public_people_face-diagonal-mouth":"62148","public_people_face-disappointed":"62149","public_people_face-dizzy":"62150","public_people_face-expressionless":"62151","public_people_face-eyes-xmarks":"62152","public_people_face-fearful":"62153","public_people_face-frown-slight":"62154","public_people_face-frown":"62155","public_people_face-glasses":"62156","public_people_face-grimace":"62157","public_people_face-grin-beam-sweat":"62158","public_people_face-grin-beam":"62159","public_people_face-grin-hearts":"62160","public_people_face-grin-squint-tears":"62161","public_people_face-grin-squint":"62162","public_people_face-grin-stars":"62163","public_people_face-grin-tears":"62164","public_people_face-grin-tongue-squint":"62165","public_people_face-grin-tongue-wink":"62166","public_people_face-grin-tongue":"62167","public_people_face-grin-wide":"62168","public_people_face-grin-wink":"62169","public_people_face-grin":"62170","public_people_face-hand-over-mouth":"62171","public_people_face-hushed":"62172","public_people_face-icicles":"62173","public_people_face-kiss":"62174","public_people_face-laugh":"62175","public_people_face-mask":"62176","public_people_face-meh-blank":"62177","public_people_face-meh":"62178","public_people_face-monocle":"62179","public_people_face-nauseated":"62180","public_people_face-party":"62181","public_people_face-pensive":"62182","public_people_face-persevering":"62183","public_people_face-pleading":"62184","public_people_face-pouting":"62185","public_people_face-raised-eyebrow":"62186","public_people_face-relieved":"62187","public_people_face-rolling-eyes":"62188","public_people_face-sad-cry":"62189","public_people_face-sad-sweat":"62190","public_people_face-sad-tear":"62191","public_people_face-scream":"62192","public_people_face-sleeping":"62193","public_people_face-sleepy":"62194","public_people_face-smile-beam":"62195","public_people_face-smile-halo":"62196","public_people_face-smile-hearts":"62197","public_people_face-smile-relaxed":"62198","public_people_face-smile-upside-down":"62199","public_people_face-smile-wink":"62200","public_people_face-smile":"62201","public_people_face-smirking":"62202","public_people_face-spiral-eyes":"62203","public_people_face-sunglasses":"62204","public_people_face-surprise":"62205","public_people_face-thermometer":"62206","public_people_face-thinking":"62207","public_people_face-tired":"62208","public_people_face-tissue":"62209","public_people_face-unamused":"62210","public_people_face-vomit":"62211","public_people_face-weary":"62212","public_people_face-woozy":"62213","public_people_face-worried":"62214","public_people_face-zipper":"62215","public_people_family-dress":"62216","public_people_family-pants":"62217",public_people_family:"62218","public_people_file-user":"62219","public_people_folder-user":"62220","public_people_head-side-brain":"62221","public_people_head-side-cough-slash":"62222","public_people_head-side-cough":"62223","public_people_head-side-goggles":"62224","public_people_head-side-headphones":"62225","public_people_head-side-heart":"62226","public_people_head-side-mask":"62227","public_people_head-side-medical":"62228","public_people_head-side-virus":"62229","public_people_head-side":"62230",public_people_people:"62231","public_people_person-biking":"62232","public_people_person-booth":"62233","public_people_person-breastfeeding":"62234","public_people_person-cane":"62235","public_people_person-carry-box":"62236","public_people_person-digging":"62237","public_people_person-dolly-empty":"62238","public_people_person-dolly":"62239","public_people_person-dress":"62240","public_people_person-drowning":"62241","public_people_person-falling":"62242","public_people_person-half-dress":"62243","public_people_person-hiking":"62244","public_people_person-military-pointing":"62245","public_people_person-pinball":"62246","public_people_person-praying":"62247","public_people_person-pregnant":"62248","public_people_person-running":"62249","public_people_person-seat-reclined":"62250","public_people_person-seat":"62251","public_people_person-shelter":"62252","public_people_person-skating":"62253","public_people_person-skiing":"62254","public_people_person-swimming":"62255","public_people_person-to-door":"62256","public_people_person-walking-luggage":"62257","public_people_person-walking-with-cane":"62258","public_people_person-walking":"62259",public_people_person:"62260",public_people_restroom:"62261","public_people_square-user":"62262","public_people_street-view":"62263","public_people_user-astronaut":"62264","public_people_user-check":"62265","public_people_user-chef":"62266","public_people_user-clock":"62267","public_people_user-cowboy":"62268","public_people_user-crown":"62269","public_people_user-doctor":"62270","public_people_user-gear":"62271","public_people_user-graduate":"62272","public_people_user-group":"62273","public_people_user-headset":"62274","public_people_user-helmet-safety":"62275","public_people_user-injured":"62276","public_people_user-large":"62277","public_people_user-lock":"62278","public_people_user-minus":"62279","public_people_user-music":"62280","public_people_user-nurse":"62281","public_people_user-pen":"62282","public_people_user-pilot":"62283","public_people_user-plus":"62284","public_people_user-police":"62285","public_people_user-shield":"62286","public_people_user-slash":"62287","public_people_user-unlock":"62288",public_people_user:"62289",public_people_users:"62290",public_people_wheelchair:"62291","public_symbols_arrow-alt-circle-down":"62292","public_symbols_arrow-alt-circle-left":"62293","public_symbols_arrow-alt-circle-right":"62294","public_symbols_arrow-alt-circle-up":"62295","public_symbols_arrow-alt-down":"62296","public_symbols_arrow-alt-left":"62297","public_symbols_arrow-alt-right":"62298","public_symbols_arrow-alt-up":"62299",public_symbols_award:"62300","public_symbols_badge-check":"62301","public_symbols_badge-dollar":"62302",public_symbols_badge:"62303",public_symbols_ban:"62304",public_symbols_bell:"62305","public_symbols_bolt-slash":"62306",public_symbols_bolt:"62307",public_symbols_bookmark:"62308","public_symbols_check-circle":"62309",public_symbols_check:"62310",public_symbols_circle:"62311",public_symbols_clock:"62312",public_symbols_club:"62313",public_symbols_cube:"62314",public_symbols_cubes:"62315",public_symbols_deaf:"62316",public_symbols_diamond:"62317","public_symbols_dollar-sign":"62318","public_symbols_exclamation-circle":"62319","public_symbols_exclamation-square":"62320","public_symbols_exclamation-triangle":"62321",public_symbols_exclamation:"62322","public_symbols_eye-slash":"62323",public_symbols_eye:"62324",public_symbols_file:"62325",public_symbols_fingerprint:"62326","public_symbols_fire-alt":"62327","public_symbols_flag-alt":"62328",public_symbols_folder:"62329",public_symbols_genderless:"62330",public_symbols_heart:"62331",public_symbols_hexagon:"62332",public_symbols_hourglass:"62333",public_symbols_image:"62334","public_symbols_info-circle":"62335","public_symbols_info-square":"62336","public_symbols_layer-group":"62337",public_symbols_link:"62338","public_symbols_location-arrow":"62339","public_symbols_lock-open":"62340",public_symbols_lock:"62341","public_symbols_map-marker-alt":"62342","public_symbols_map-marker-check":"62343","public_symbols_map-marker-exclamation":"62344","public_symbols_map-marker-minus":"62345","public_symbols_map-marker-plus":"62346","public_symbols_map-marker-question":"62347","public_symbols_map-marker-smile":"62348",public_symbols_mars:"62349",public_symbols_moon:"62350",public_symbols_octagon:"62351",public_symbols_paperclip:"62352","public_symbols_parking-circle":"62353",public_symbols_parking:"62354",public_symbols_pause:"62355",public_symbols_play:"62356","public_symbols_question-circle":"62357","public_symbols_question-square":"62358",public_symbols_question:"62359",public_symbols_recycle:"62360",public_symbols_redo:"62361",public_symbols_shapes:"62362",public_symbols_shield:"62363","public_symbols_smoking-ban":"62364",public_symbols_smoking:"62365",public_symbols_spade:"62366",public_symbols_square:"62367","public_symbols_star-filled":"62368",public_symbols_star:"62369",public_symbols_tachometer:"62370",public_symbols_tag:"62371","public_symbols_temperature-down":"62372","public_symbols_temperature-frigid":"62373","public_symbols_temperature-high":"62374","public_symbols_temperature-hot":"62375","public_symbols_temperature-low":"62376","public_symbols_temperature-up":"62377",public_symbols_text:"62378","public_symbols_thermometer-empty":"62379","public_symbols_thermometer-full":"62380","public_symbols_thermometer-half":"62381","public_symbols_thermometer-quarter":"62382","public_symbols_thermometer-three-quarters":"62383",public_symbols_thumbtack:"62384",public_symbols_tint:"62385","public_symbols_transgender-alt":"62386",public_symbols_transgender:"62387","public_symbols_trash-alt":"62388",public_symbols_triangle:"62389","public_symbols_usd-circle":"62390","public_symbols_usd-square":"62391","public_symbols_venus-mars":"62392",public_symbols_venus:"62393",public_symbols_video:"62394","public_symbols_volume-down":"62395","public_symbols_volume-mute":"62396","public_symbols_volume-off":"62397","public_symbols_volume-slash":"62398","public_symbols_volume-up":"62399",public_symbols_volume:"62400",public_symbols_water:"62401",public_symbols_waveform:"62402","public_symbols_wifi-slash":"62403",public_symbols_wifi:"62404","public_symbols_yen-sign":"62405",question:"62406",reorder:"62407",reply:"62408",restart:"62409",revert:"62410","room-00258k0mqu8750du151be805c":"62411","room-0an2rky24gb91fdnpzmbwadib":"62412","room-0gnuunpwx63dmmqeq64aqfiyd":"62413","room-2nx6maxxpaeut7kx96fuacdzc":"62414","room-4by2d70b54srbin43t5m0yh9c":"62415","room-4gp8x21ni4i8y19r9pm4rb35a":"62416","room-4qq4e5hz84hcur7ry87uhtmua":"62417","room-66psa4tqgazbnffr9huy2dnpd":"62418","room-91naa1k3hiim9z4mk8352enta":"62419","room-a11d2gi43h0etwedw0mx9pgwd":"62420","room-ag5uphha72sak65qazgsp09yd":"62421","room-byp7pz2tmt4ff47nhfx0uwzec":"62422","room-e6md2spaqemc448pmau3azkhd":"62423","room-ei3kmtun2xpspbg3d5ff3t3zc":"62424","room-gba8cq0s2rdfg1zdb1epwty7d":"62425","room-ge0tcan3iztta5mtgsfx99xpb":"62426","room-gqqw1zac1hzg1p8622ducg3zb":"62427","room-izt39gytcbymc0qtd37nrb7xb":"62428","room-multi-use":"62429","room-mx6e2yfk0tg0zbkbzuw5mhkda":"62430","room-n07hhs9gky4cgrh7q65s9rp0d":"62431","room-nqw75004dcg2bcr41047rhg6c":"62432","room-pnf0xzq61xcegack4iai7xppd":"62433","room-pr9h4zy7eak91f3b7un97u42c":"62434","room-qa21tqcsinnxde9gdmiphacza":"62435","room-rmu8pikcye0n7n9fsu5e4acda":"62436","room-s1h0hb8tpcc9i35dmupknsega":"62437","room-ua1m0u8pm3yngrhzwec1ue5zc":"62438","room-w4tdggk5i5u2zpiryugktghgb":"62439","room-xwhhz63a0hw735qf81knp63ha":"62440","room-y3xuprmywgrprnm0273u3pphd":"62441","room-yeh1aa32fwgm72bh0g92ebruc":"62442","room-ywtddu9hagraxhznwinn8t4zb":"62443","room-zgh2304w5anu0t25ia06ytfxd":"62444","room-zp189tx2hdrry8k5nhaq5x45d":"62445","rotate-left":"62446","rotate-right":"62447",rotate:"62448","rotation-3d":"62449","scale-3d":"62450",settings:"62451",share:"62452",share2:"62453","simple-tag-pin":"62454","simple-tag-small":"62455","simple-tag":"62456",snap:"62457","sparkle-fill":"62458",sparkle:"62459","start-location":"62460","stem-height":"62461","tape-measure":"62462","toggle-pencil":"62463","toolbar-360-view":"62464","toolbar-edit-vr":"62465","toolbar-hlr":"62466","toolbar-labels":"62467","toolbar-mattertags":"62468","toolbar-measurements":"62469","toolbar-more-horiz":"62470","toolbar-photos":"62471","toolbar-plugin-config":"62472","toolbar-scan-mgmt":"62473","toolbar-start-location":"62474",transitions:"62475",trash:"62476","trim-keep":"62477","trim-remove":"62478",twitter:"62479",unlock:"62480",user:"62481",visibility:"62482",vr:"62483",wall:"62484",window:"62485","zoom-reset":"62486"}},85626:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var i=n(28511);const r=Object.keys(i.J).sort(((e,t)=>e.localeCompare(t)))},8387:(e,t,n)=>{"use strict";n.d(t,{$n:()=>d,Mp:()=>r,Ak:()=>i});var i,r,o=n(74848),s=n(32485),a=n.n(s),l=n(96540),c=n(53180),u=n(32617);!function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary",e.FAB="fab",e.IN_PROGRESS="in-progress"}(i||(i={})),function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(r||(r={}));const d=(0,l.forwardRef)((({ariaLabel:e,ariaDescribedBy:t,ariaRole:n="button",ariaHasPopup:i,ariaExpanded:r=!1,children:s,appendChildren:d=!0,className:h,dataAttribute:p,id:f,disabled:m=!1,dimmed:g=!1,active:v=!1,icon:y,iconSize:E,reverse:S,label:b,onClick:O,onPointerDown:_,onPointerUp:T,onKeyDown:A,size:w,style:N,testId:I,theme:R="light",tooltip:k,tooltipOptions:L={},variant:M},D)=>{const P=void 0===b&&void 0===s,C=y&&(b||s),[x,U]=function(e){const[t,n]=(0,l.useState)(null);return(0,l.useEffect)((()=>{e&&("function"==typeof e?e(t):e.current=t)}),[t,e]),[t,n]}(D),j=e||b||("string"==typeof k?k:void 0),F=a()(h,"mp-nova-btn",{[`mp-nova-btn-${M}`]:void 0!==M},{[`mp-nova-btn-${R}`]:void 0!==R},{[`mp-nova-btn-${w}`]:void 0!==w},{"mp-nova-btn-icon":P},{"mp-nova-btn-multi":C},{"mp-nova-btn-reverse":S},{"mp-nova-disabled":m},{"mp-nova-btn-dimmed":g},{"mp-nova-active":v},{"mp-nova-aria-missing":!j});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("button",Object.assign({className:F,onClick:O,onPointerDown:_,onPointerUp:T,disabled:m,"aria-disabled":m,ref:U,style:N,onKeyDown:A,tabIndex:m?void 0:0,id:f,"data-attribute":p,"aria-label":j,"aria-expanded":r,"aria-haspopup":i,"aria-describedby":t,role:n,"data-testid":I},{children:[!d&&s,y&&(0,o.jsx)(c.I,{name:y,size:E}),b&&(0,o.jsx)("span",Object.assign({className:"mp-nova-btn-label"},{children:b})),d&&s]})),k&&(0,o.jsx)(u.m,Object.assign({target:x,title:k,disabled:m},L))]})}))},21162:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var i=n(74848),r=n(32485),o=n.n(r);function s({children:e,spacing:t,className:n}){const r=o()("mp-nova-btn-group",n,{[`mp-nova-btn-group-${t}`]:void 0!==t});return(0,i.jsx)("div",Object.assign({className:r},{children:e}))}},76866:(e,t,n)=>{"use strict";n.d(t,{y:()=>m});var i=n(74848),r=n(96540),o=n(32485),s=n.n(o),a=n(8387),l=n(53180),c=n(40961),u=n(32287),d=n(13647),h=n(19132);const p=(0,r.forwardRef)((({target:e,isOpen:t,focus:n=!0,className:o,onClose:a,xOffset:l=0,yOffset:p,arrow:f=!1,placement:m="bottom-start",theme:g,children:v},y)=>{const[E,S]=(0,r.useState)(null),[b,O]=(0,r.useState)(null),{styles:_,attributes:T}=(0,d.E)(e,E,{placement:m,strategy:"fixed",modifiers:[{name:"arrow",options:{element:b,padding:4}},{name:"flip"},{name:"hide"},{name:"offset",options:{offset:p?[l,p]:[l,4]}}]}),A=(0,u.Q)(e);(0,r.useEffect)((()=>{n&&t&&E&&E.focus()}),[t,E,n]),(0,r.useEffect)((()=>{const n=t=>{var n;if(e&&E){const i=t.composedPath(),r=!i.includes(e),o=!i.includes(E);if(r&&o){t.srcElement&&(null===(n=E.nextElementSibling)||void 0===n?void 0:n.contains(t.srcElement))||a()}}};return t&&E?window.addEventListener("click",n,{capture:!0}):window.removeEventListener("click",n,{capture:!0}),()=>{window.removeEventListener("click",n,{capture:!0})}}),[E,e,t,a]);const w=(e,t)=>{var n;return(null===(n=e.props.className)||void 0===n?void 0:n.includes("mp-nova-menu-item"))?e:(0,i.jsx)("div",Object.assign({className:"mp-nova-menu-item"},{children:e}),`menu-item-${t}`)};if(!t||!v)return null;const N=[];Array.isArray(v)?r.Children.forEach(v,((e,t)=>{e&&N.push(w(e,t))})):N.push(w(v,0));const I=s()("mp-nova-menu",o,{[`mp-nova-${g}`]:void 0!==g}),R=T.popper?T.popper["data-popper-placement"]:void 0,k=(0,i.jsxs)("div",Object.assign({style:Object.assign({},_.popper)},T.popper,{ref:S,className:I,onClick:a,onKeyDown:e=>{switch(e.code){case"ArrowDown":case"ArrowUp":case"Tab":case"Enter":break;case"Escape":e.stopPropagation(),a()}},tabIndex:0},{children:[(0,i.jsx)("div",Object.assign({className:"mp-nova-menu-items"},{children:N})),f&&(0,i.jsx)(h.s,{ref:O,style:_.arrow,placement:R,size:"medium",theme:g})]}));return(0,c.createPortal)(k,A)}));var f=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const m=(0,r.forwardRef)(((e,t)=>{var{className:n,buttonClassName:o,buttonDataAttribute:c,children:u,menuClassName:d,onClick:h,onMenuToggled:m,menuXOffset:g,menuYOffset:v,menuTheme:y,menuPlacement:E,menuArrow:S,menuDelayed:b=!1,label:O,active:_,icon:T,tooltip:A,caret:w=!1,indicator:N=!1,ariaLabel:I,buttonChildren:R}=e,k=f(e,["className","buttonClassName","buttonDataAttribute","children","menuClassName","onClick","onMenuToggled","menuXOffset","menuYOffset","menuTheme","menuPlacement","menuArrow","menuDelayed","label","active","icon","tooltip","caret","indicator","ariaLabel","buttonChildren"]);const L=(0,r.useRef)(null),[M,D]=(0,r.useState)(!1),[P,C]=(0,r.useState)(!1),x=(0,r.useRef)(0);(0,r.useEffect)((()=>()=>{C(!1),window.clearTimeout(x.current)}),[]);const U=(0,r.useCallback)((e=>{D(e),m&&m(e)}),[m]);(0,r.useImperativeHandle)(t,(()=>({closeMenu:()=>{U(!1)}})),[U]);const j=(0,r.useCallback)((e=>{null==e||e.stopPropagation(),U(!1)}),[U]),F=void 0===O&&void 0!==T&&!w,H=T&&O,G=s()("mp-button-menu-button",o,{"mp-nova-btn-icon":F,"mp-nova-btn-multi":H,"mp-nova-menu-open":M}),B=w?M?"dpad-up":"dpad-down":void 0;return(0,i.jsxs)("div",Object.assign({className:s()("mp-nova-button-menu",n),ref:L},{children:[(0,i.jsxs)(a.$n,Object.assign({},k,{ariaLabel:I,ariaHasPopup:"menu",ariaExpanded:M,onClick:b?void 0:e=>{e.stopPropagation(),e.preventDefault(),h&&h(e),U(!M)},onPointerDown:b?e=>{C(!1),b&&!M&&(window.clearTimeout(x.current),x.current=window.setTimeout((()=>{x.current=0,C(!0),U(!0)}),250))}:void 0,onPointerUp:b?e=>{b&&(x.current&&!M?(window.clearTimeout(x.current),x.current=0,h&&h(e)):P||U(!M))}:void 0,className:G,dataAttribute:c,tooltip:M?void 0:A,active:_||M},{children:[R,T&&(0,i.jsx)(l.I,{name:T}),O&&(0,i.jsx)("span",Object.assign({className:"mp-nova-btn-label"},{children:O})),B&&(0,i.jsx)(l.I,{name:B}),N&&(0,i.jsx)(l.I,{className:"mp-nova-menu-indicator",name:"menu-indicator"})]})),(0,i.jsx)(p,Object.assign({target:L.current,isOpen:M,xOffset:g,yOffset:v,placement:E,arrow:S,theme:y,className:d,onClose:j},{children:u}))]}))}))},18856:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var i=n(74848),r=n(96540),o=n(32485),s=n.n(o);function a({id:e,label:t,ariaLabel:n,className:o,defaultChecked:a=!1,disabled:l=!1,onChange:c,onClick:u}){const[d,h]=(0,r.useState)(!!a);(0,r.useEffect)((()=>{h(!!a)}),[a]);const p=s()(o,"mp-nova-checkbox",{"mp-nova-disabled":l},{"mp-nova-active":d});return(0,i.jsxs)("label",Object.assign({className:p,htmlFor:e,onClick:u},{children:[(0,i.jsx)("input",{className:"mp-nova-checkbox-input",id:e,type:"checkbox",role:"checkbox",tabIndex:l?void 0:0,disabled:l,checked:d,onChange:e=>{c&&c(e),h((e=>!e))},"aria-checked":d,"aria-disabled":l,"aria-label":n||t}),(0,i.jsx)("span",{className:"mp-nova-checkbox-checkmark"}),(0,i.jsx)("span",Object.assign({className:"mp-nova-checkbox-label"},{children:t}))]}))}},39918:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(74848),r=n(96540),o=n(32485),s=n.n(o),a=n(3249);const l=({id:e,children:t,className:n,progress:o,innerRadius:l=15.92,startPosition:c=0,barWidth:u=1,ccw:d=!1,progressColor:h})=>{const p=(0,r.useId)(),f=e||`circle-progress-${p}`,{strokePattern:m,strokeOffset:g,drawRadius:v,viewBoxWidth:y,viewBoxOffset:E}=(0,r.useMemo)((()=>{const e=l+u/2,t=2*e*Math.PI,n=t*c,i=[t*(0,a.qE)(o,0,100)/100,t-t*(0,a.qE)(o,0,100)/100],r=2*(l+u);return{strokePattern:i,strokeOffset:n,drawRadius:e,viewBoxWidth:r,viewBoxOffset:r/2}}),[o,l,u,c]);return(0,i.jsxs)("svg",Object.assign({id:f,className:s()("circular-progress",n),viewBox:`${-E} ${-E} ${y} ${y}`},{children:[(0,i.jsx)("circle",{className:"bar-bg",cx:"0",cy:"0",r:v,transform:"rotate(-90) "+(d?"scale(-1 1)":""),strokeDasharray:`${m[1]} ${m[0]}`,strokeDashoffset:g-m[0],strokeWidth:u,fill:"none"}),(0,i.jsx)("circle",{className:h?void 0:"progress",cx:"0",cy:"0",r:v,transform:"rotate(-90) "+(d?"scale(-1 1)":""),strokeDasharray:`${m[0]} ${m[1]}`,strokeWidth:u,stroke:h,fill:"none"}),t]}))}},98715:(e,t,n)=>{"use strict";n.d(t,{J:()=>u});var i=n(74848),r=n(8387),o=n(15623),s=n(56147),a=n(32485),l=n.n(a),c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function u(e){var{variant:t=r.Ak.TERTIARY,tooltip:n,onClose:a,className:u,label:d}=e,h=c(e,["variant","tooltip","onClose","className","label"]);const p=(0,o.Ym)(),f=d||p.t(s.A.REUSABLES.CLOSE_BUTTON_TOOLTIP_MESSAGE),m=d?void 0:f,g=h.icon||"close";return(0,i.jsx)(r.$n,Object.assign({className:l()("close-button",u),icon:g,ariaLabel:f,label:d,tooltip:m,variant:t,onKeyDown:function(e){a&&"Escape"===e.code&&(e.stopPropagation(),a())},onClick:a},h))}},59618:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var i=n(74848),r=n(96540),o=n(32485),s=n.n(o);function a({children:e,className:t,onClose:n,testId:o,theme:a="light",stopKeyPropagation:l}){const c=(0,r.useRef)(null);(0,r.useEffect)((()=>(c.current&&c.current.focus(),()=>{})),[]);const u=e=>e.stopPropagation();const d=s()("mp-nova-dialog",t,{[`mp-nova-theme-${a}`]:void 0!==a});return(0,i.jsx)("dialog",Object.assign({className:d,ref:c,onClick:u,onPointerDown:u,onPointerUp:u,onKeyDown:function(e){n&&"Escape"===e.code?(e.stopPropagation(),n()):l&&e.stopPropagation()},"data-testid":o},{children:e}))}},53180:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var i=n(74848),r=n(96540),o=n(32485),s=n.n(o);const a=(0,r.forwardRef)((({name:e,style:t,size:n,className:r,onClick:o},a)=>{const l=s()("nova-icon",`icon-${e}`,r,{[`nova-icon-${n}`]:void 0!==n});return(0,i.jsx)("span",{className:l,style:t,onClick:o,ref:a})}))},8827:(e,t,n)=>{"use strict";var i;n.d(t,{l:()=>i}),function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(i||(i={}))},37715:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var i=n(74848),r=(n(96540),n(32485)),o=n.n(r);const s=({className:e,href:t,children:n,onClick:r})=>(0,i.jsx)("a",Object.assign({className:o()("link",e),href:t,target:"_blank",onClick:r},{children:n}))},19132:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var i=n(74848),r=n(96540),o=n(32485),s=n.n(o);const a=(0,r.forwardRef)((({theme:e,style:t,size:n="small",placement:r="top"},o)=>{const a=s()("nova-popper-arrow",{[`nova-theme-${e}`]:void 0!==e,[`nova-size-${n}`]:void 0!==n});return(0,i.jsx)("div",{className:a,style:t,"data-popper-placement":r,ref:o})}))},32617:(e,t,n)=>{"use strict";n.d(t,{m:()=>f});var i=n(74848),r=n(96540),o=n(40961),s=n(13647),a=n(32485),l=n.n(a),c=n(32287),u=n(19132);const d="PointerEvent"in window,h=d?"pointerenter":"mouseenter",p=d?"pointerleave":"mouseleave",f=({children:e,offset:t,preventOverflow:n,placement:a="top",strategy:d="fixed",target:f,title:m,className:g,trigger:v="hover",size:y,theme:E,onToggle:S,disabled:b,sticky:O=!1,arrow:_=!0})=>{const[T,A]=(0,r.useState)(null),[w,N]=(0,r.useState)(null),[I,R]=(0,r.useState)("static"===v),k=t||("small"===y?[0,8]:[0,14]),{styles:L,attributes:M}=(0,s.E)(f,T,{placement:a,strategy:d,modifiers:_?[{name:"arrow",options:{element:w,padding:"small"===y?4:6}},{name:"flip"},{name:"hide"},{name:"offset",options:{offset:k}},{name:"preventOverflow",options:n}]:[{name:"flip"},{name:"hide"},{name:"offset",options:{offset:k}},{name:"preventOverflow",options:n}]}),D=(0,c.Q)(f),P=(0,r.useCallback)((()=>{R(!0),S&&S(!0)}),[S]),C=(0,r.useCallback)((()=>{R(!1),S&&S(!1)}),[S]),x=(0,r.useCallback)((e=>{e.stopPropagation(),C()}),[C]);if((0,r.useEffect)((()=>{R("static"===v)}),[v]),(0,r.useEffect)((()=>{if(f&&"hover"===v)return b||f.addEventListener(h,P),f.addEventListener(p,C),()=>{b||f.removeEventListener(h,P),f.removeEventListener(p,C)}}),[f,b,v,P,C]),(0,r.useEffect)((()=>{if(O)return;const e=e=>{if(f&&T){const t=e.composedPath(),n=!t.includes(f),i=!t.includes(T);n&&i&&C()}};return I&&v?window.addEventListener("click",e,{capture:!0}):window.removeEventListener("click",e,{capture:!0}),()=>{window.removeEventListener("click",e,{capture:!0})}}),[f,T,I,v,C,O]),!I)return null;const U=l()("nova-tooltip",g,{[`nova-tooltip-${E}`]:void 0!==E,[`nova-tooltip-${y}`]:void 0!==y}),j=M.popper?M.popper["data-popper-placement"]:void 0;return(0,i.jsx)(i.Fragment,{children:(0,o.createPortal)((0,i.jsxs)("div",Object.assign({className:U,ref:A,role:"tooltip",style:L.popper},M.popper,{onClick:"static"===v?x:void 0},{children:[m||e,_&&(0,i.jsx)(u.s,{ref:N,style:L.arrow,placement:j,size:y,theme:E})]})),D)})}},35950:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});var i,r=n(74848),o=n(96540),s=n(32485),a=n.n(s);!function(e){e.OPEN="open",e.UNLOADING="unloading",e.CLOSED="closed"}(i||(i={}));const l=(0,o.memo)((({open:e,focus:t,selectChild:n,childKey:s,firstChild:l,children:c,className:u,style:d,onClick:h,onPointerDown:p,onPointerUp:f,onKeyDown:m,"aria-live":g,"aria-atomic":v})=>{const[y,E]=(0,o.useState)(e?i.OPEN:i.CLOSED),[S,b]=(0,o.useState)(n&&s?s:null),O=(0,o.useRef)(null),_=(0,o.useRef)(0),T=(0,o.useCallback)((()=>{O.current&&O.current.focus()}),[]),A=(0,o.useCallback)((e=>{e.target===e.currentTarget&&E((e=>e===i.UNLOADING?(window.clearTimeout(_.current),b(null),i.CLOSED):e))}),[]);(0,o.useEffect)((()=>{const e=O.current;return null==e||e.addEventListener("transitioncancel",A),t&&T(),()=>{window.clearTimeout(_.current),null==e||e.removeEventListener("transitioncancel",A)}}),[t,T,A]),(0,o.useEffect)((()=>{e?(window.clearTimeout(_.current),E(i.OPEN),b(n&&s?s:null)):(E(i.UNLOADING),window.clearTimeout(_.current),_.current=window.setTimeout((()=>{E((e=>e===i.UNLOADING?(b(null),i.CLOSED):e))}),1e3))}),[e,s,n]);const w=(0,o.useCallback)((e=>{e.target===e.currentTarget&&E((e=>e===i.UNLOADING?(window.clearTimeout(_.current),b(null),i.CLOSED):e))}),[]),N=(0,o.useCallback)((()=>y===i.CLOSED||n&&!S?null:n?c&&Array.isArray(c)&&c.length&&c.find((e=>e&&e.key===S))||null:c),[y,n,S,c]),I=a()({unloading:y===i.UNLOADING},u);return(0,r.jsxs)("div",Object.assign({ref:O,className:I,style:d,onTransitionEnd:w,onClick:h,onPointerDown:p,onPointerUp:f,onKeyDown:m,tabIndex:t?0:void 0,"aria-live":g,"aria-atomic":v},{children:[l||null,N()]}))}))},15623:(e,t,n)=>{"use strict";n.d(t,{U6:()=>o,Ym:()=>s});var i=n(96540);const r={locale:new class{t(e,t){return`${e}${t&&Object.keys(t).length?JSON.stringify(t):""}`}T(e){return e}get languageCode(){return"en"}has(e){return!0}}},o=(0,i.createContext)(r);function s(){return(0,i.useContext)(o).locale}},32287:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var i=n(96540);function r(e,t="#react-overlay-root"){return(0,i.useMemo)((()=>{const n=e?e.getRootNode():document;return n.querySelector(t)||n.body||n.firstElementChild}),[e,t])}},30278:(e,t,n)=>{"use strict";n.d(t,{$A:()=>i,Dm:()=>s,aI:()=>o,i1:()=>r});class i extends Error{constructor(e,t,n){super(e),this.status=t,this.type=n,Error.captureStackTrace&&Error.captureStackTrace(this,i)}}class r extends i{constructor(e){super(`Cannot request OEmbed data because no configuration matches the url ${e}`,200,"OEmbedUrl")}}class o extends i{constructor(e="unknown provider"){super(`Content from OEmbed provider ${e} is not currently supported`,200,"OEmbedProvider")}}class s extends i{constructor(e="unknown provider"){super(`Content from ${e} is type "link", which Link content is not currently supported`,200,"OEmbedLink")}}},42390:(e,t,n)=>{"use strict";var i;n.d(t,{n:()=>i}),function(e){e.PHOTO="photo",e.VIDEO="video",e.LINK="link",e.RICH="rich"}(i||(i={}))},23716:(e,t,n)=>{"use strict";var i;n.d(t,{K:()=>i}),function(e){e.Behance="behance",e.DailyMotion="dailymotion",e.FaceBook="facebook",e.Flickr="flickr",e.Giphy="giphy",e.GoogleMaps="google maps",e.Instagram="instagram",e.LinkedIn="linkedin",e.Matterport="matterport",e.MixCloud="mixcloud",e.Pinterest="pinterest",e.Reddit="reddit",e.SoundCloud="soundcloud",e.SketchFab="sketchfab",e.Spotify="spotify",e.Tenor="tenor",e.TikTok="tiktok",e.Twitch="twitch",e.Twitter="twitter",e.Tumblr="tumblr",e.Vimeo="vimeo",e.YouTube="youtube"}(i||(i={}))},97084:(e,t,n)=>{"use strict";var i,r;n.d(t,{L3:()=>s,QK:()=>i}),function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e[e.HIGHEST=3]="HIGHEST"}(i||(i={})),function(e){e[e.PENDING=0]="PENDING",e[e.SENDING=1]="SENDING",e[e.FAILED=2]="FAILED",e[e.DONE=3]="DONE"}(r||(r={}));const o=new WeakMap;class s{constructor({retries:e=0,concurrency:t=6}={}){this.totalBytesDownloaded=0,this.queue=[],this.retries=e,this.concurrency=t}get(e,t){return this.request("GET",e,t)}head(e,t){return this.request("HEAD",e,t)}options(e,t){return this.request("OPTIONS",e,t)}post(e,t){return this.request("POST",e,t)}put(e,t){return this.request("PUT",e,t)}patch(e,t){return this.request("PATCH",e,t)}delete(e,t){return this.request("DELETE",e,t)}request(e,t,n){const i=new a(e,t,n);if(null==n?void 0:n.signal){const e=()=>{this.queue.includes(i)&&(i.status===r.SENDING&&i.abort(),this.dequeue(i),i.onFail(new DOMException("Aborted","AbortError")))};n.signal.addEventListener("abort",e),o.set(i,(()=>{var t;null===(t=n.signal)||void 0===t||t.removeEventListener("abort",e),o.delete(i)}))}return this.enqueue(i),i.promise}update(){let e;for(;e=this.getNextPendingRequest();)this.sendRequest(e);for(;e=this.getNextOverflowingGet();)e.abort(),e.status=r.PENDING;this.updateTimeout=null}enqueue(e){let t=0;for(t=0;t<this.queue.length;t++){if(this.queue[t].priority<e.priority)break}this.queue.splice(t,0,e),this.updateTimeout||(this.updateTimeout=window.setTimeout((()=>{this.update()}),1))}dequeue(e){var t;null===(t=o.get(e))||void 0===t||t();const n=this.queue.indexOf(e);if(-1===n)throw new Error("Can't dequeue request not in queue");this.queue.splice(n,1),this.update()}getNextPendingRequest(){for(let e=0;e<this.queue.length&&e<this.concurrency;e++){const t=this.queue[e];if(t.status===r.PENDING)return t}return null}getNextOverflowingGet(){for(let e=this.concurrency;e<this.queue.length;e++){const t=this.queue[e];if(t.status===r.SENDING&&t.priority!==i.HIGHEST&&"GET"===t.method)return t}return null}shouldRetryStatusCode(e){return!s.doNotRetryStatusCodes[e]}sendRequest(e){e.status=r.SENDING,e.send().then((t=>{e.status=r.DONE,this.dequeue(e),e.contentLength&&e.contentLength>0&&(this.totalBytesDownloaded+=Number(e.contentLength)),e.onDone(t)})).catch((t=>{const n=null!==e.maxRetries?e.maxRetries:this.retries;let i=e.sendAttempts<n;if("object"==typeof t){const e=t.status_code||0;i=i&&this.shouldRetryStatusCode(e)}i?(e.status=r.PENDING,this.update(),console.warn(`Retried ${e.url}`),console.warn(t)):(e.status=r.FAILED,this.dequeue(e),console.warn(`Failed ${e.url}`),e.onFail(t))}))}}s.doNotRetryStatusCodes={400:!0,401:!0,403:!0,404:!0,405:!0,406:!0,410:!0,411:!0,414:!0,415:!0,421:!0,431:!0,451:!0};class a{constructor(e,t,n={}){this.sendAttempts=0,this.status=r.PENDING,this.contentLength=0,this.isAborting=!1,this.url=t,this.method=e,this.auth=n.auth||null,this.withCredentials=n.withCredentials||!1,this.priority=n.priority||i.MEDIUM,this.responseType=n.responseType||null,this.body=n.body||null,this.headers=n.headers||{},this.maxRetries=n.maxRetries||null,this.onProgress=n.onProgress,this.promise=new Promise(((e,t)=>{this.onDone=e,this.onFail=t}))}send(){const e=this.xhr=function(e,t,n){let i;if("undefined"!=typeof XMLHttpRequest)i=new XMLHttpRequest,i.withCredentials=n;else{if("undefined"==typeof XDomainRequest)throw new Error("No XMLHTTPRequest or XDomainRequest... are you trying to run me in node? :(");i=new XDomainRequest}return i.open(e,t,!0),i}(this.method,this.url,this.withCredentials);if(this.responseType)if("arraybuffer"===this.responseType||"text"===this.responseType||"json"===this.responseType||"blob"===this.responseType)e.responseType=this.responseType;else{if("image"!==this.responseType)throw new Error('reponseType can only be one of "arraybuffer", "text", "json", "blob", "image"');e.responseType="blob"}"json"===this.responseType&&e.setRequestHeader("Accept","application/json"),this.auth&&"string"==typeof this.auth&&e.setRequestHeader("Authorization",this.auth);for(const t in this.headers)e.setRequestHeader(t,this.headers[t]);return this.body&&"object"==typeof this.body&&(this.body instanceof FormData||(this.body=JSON.stringify(this.body),e.setRequestHeader("Content-Type","application/json"))),this.onProgress&&(e.onprogress=this.onProgress),new Promise(((t,n)=>{e.onreadystatechange=()=>{if(4===e.readyState){if(200===e.status||201===e.status||204===e.status)return this.parseResponse(this.xhr).then((e=>{t(e)}));if(!this.isAborting)return this.parseResponse(this.xhr).then((t=>{n(Object.assign({status_code:e.status},t))})).catch((()=>{n({status_code:e.status})}));this.isAborting=!1}},e.onerror=function(e){n(e)},e.send(this.body),this.sendAttempts++}))}parseResponse(e){return new Promise(((t,n)=>{var i;try{if(!e)throw new Error(`No request received. Trying ${this.method} on ${this.url} and expecting ${this.responseType}, but request was ${this.xhr}`);let n=e.response;if(this.contentLength=parseInt(null!==(i=e.getResponseHeader("Content-Length"))&&void 0!==i?i:"0",10),"json"===this.responseType&&"object"!=typeof n)t(JSON.parse(e.responseText));else if(200!==e.status&&201!==e.status&&204!==e.status||"image"!==this.responseType)t(n);else{const e=URL.createObjectURL(n);n=new Image,n.onload=function(){URL.revokeObjectURL(e),t(n)},n.src=e,n.crossOrigin="Anonymous"}}catch(e){n({error:"Payload was not valid JSON"})}}))}abort(){if(null===this.xhr)throw new Error("Cannot abort unsent Request");this.isAborting=!0,this.xhr.abort()}}},30877:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var i,r=n(50505);!function(e){const t=new r.o;e.connect=async function(e,n,i){let r;try{r=await e.connect()}finally{e.cancelConnecting()}return function(e,t,n,i){return new t(n,e).build(i)}(i,await async function(e){if(!e)throw new Error("Unabled to load the sdk");try{const n=await t.load(e,"sdk-client");if(n&&n.SdkBuilder&&"function"==typeof n.SdkBuilder)return n.SdkBuilder}catch(e){}throw Error(`Could not load the sdk from ${e}`)}(r.scriptUrl),n.getFactory(r),r.serializedInterface)}}(i||(i={}))},28337:(e,t,n)=>{"use strict";var i;n.d(t,{$:()=>i}),function(e){e[e.DOWN=0]="DOWN",e[e.PRESSED=1]="PRESSED",e[e.UP=2]="UP"}(i||(i={}))},71397:(e,t,n)=>{"use strict";var i;n.d(t,{D:()=>i}),function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.RETURN=13]="RETURN",e[e.SHIFT=16]="SHIFT",e[e.CONTROL=17]="CONTROL",e[e.ALT=18]="ALT",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.HASH=35]="HASH",e[e.LEFTARROW=37]="LEFTARROW",e[e.UPARROW=38]="UPARROW",e[e.RIGHTARROW=39]="RIGHTARROW",e[e.DOWNARROW=40]="DOWNARROW",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.AT=64]="AT",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.L_META=91]="L_META",e[e.R_META=93]="R_META",e[e.SEMICOLON=186]="SEMICOLON",e[e.PLUSEQUALS=187]="PLUSEQUALS",e[e.COMMA=188]="COMMA",e[e.DASHUNDERSCORE=189]="DASHUNDERSCORE",e[e.PERIOD=190]="PERIOD",e[e.OPENBRACKET=219]="OPENBRACKET"}(i||(i={}))},72268:(e,t,n)=>{"use strict";var i,r;n.d(t,{O:()=>r,m:()=>i}),function(e){e[e.PRIMARY=0]="PRIMARY",e[e.MIDDLE=1]="MIDDLE",e[e.SECONDARY=2]="SECONDARY",e[e.BACK=3]="BACK",e[e.FORWARD=4]="FORWARD",e[e.COUNT=5]="COUNT"}(i||(i={})),function(e){e[e.NONE=0]="NONE",e[e.PRIMARY=1]="PRIMARY",e[e.SECONDARY=4]="SECONDARY",e[e.MIDDLE=2]="MIDDLE",e[e.BACK=8]="BACK",e[e.FORWARD=16]="FORWARD",e[e.ALL=31]="ALL"}(r||(r={}))},5391:(e,t,n)=>{"use strict";n.d(t,{k:()=>i,j:()=>r});class i{constructor(){this.values={}}add(e,t){this.getValuesAtKey(e).push(t)}remove(e,t){const n=this.values[e];if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}removeKey(e){delete this.values[e]}getValuesAtKey(e){const t=this.values[e]||[];return this.values[e]=t,t}valuesPerKey(e){return this.getValuesAtKey(e).length}find(e,t){return this.values[e]&&this.values[e].find(t)}get keys(){return Object.keys(this.values)}hasKey(e){return e in this.values}has(e,t){return this.hasKey(e)&&this.values[e].includes(t)}*[Symbol.iterator](){for(const e in this.values)for(const t of this.values[e])yield[e,t]}}class r{constructor(){this.values=new Map}add(e,t){this.getValuesAtKey(e).add(t)}remove(e,t){const n=this.values.get(e);null==n||n.delete(t)}removeKey(e){this.values.delete(e)}getValuesAtKey(e){const t=this.values.get(e)||new Set;return this.values.set(e,t),t}valuesPerKey(e){return this.getValuesAtKey(e).size}get keys(){return this.values.keys()}hasKey(e){return this.values.has(e)}has(e,t){var n;return!!(null===(n=this.values.get(e))||void 0===n?void 0:n.has(t))}*[Symbol.iterator](){for(const[e,t]of this.values)for(const n of t)yield[e,n]}}},25481:(e,t,n)=>{"use strict";function i(e){return"number"==typeof e&&!isNaN(e)}n.d(t,{Et:()=>i})},48059:(e,t,n)=>{"use strict";function i(e){return!!e&&"object"==typeof e}n.d(t,{G:()=>i})},10833:(e,t,n)=>{"use strict";function i(e){return"string"==typeof e}n.d(t,{K:()=>i})},86867:(e,t,n)=>{"use strict";function i(e,t){return Object.values(e).includes(t)}n.d(t,{U:()=>i})},77232:function(e,t,n){var i;!function(r,o){"use strict";var s="function",a="undefined",l="object",c="string",u="major",d="model",h="name",p="type",f="vendor",m="version",g="architecture",v="console",y="mobile",E="tablet",S="smarttv",b="wearable",O="embedded",_="Amazon",T="Apple",A="ASUS",w="BlackBerry",N="Browser",I="Chrome",R="Firefox",k="Google",L="Huawei",M="LG",D="Microsoft",P="Motorola",C="Opera",x="Samsung",U="Sharp",j="Sony",F="Xiaomi",H="Zebra",G="Facebook",B="Chromium OS",V="Mac OS",W=" Browser",z=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},$=function(e,t){return typeof e===c&&-1!==K(t).indexOf(K(e))},K=function(e){return e.toLowerCase()},Y=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},q=function(e,t){for(var n,i,r,a,c,u,d=0;d<t.length&&!c;){var h=t[d],p=t[d+1];for(n=i=0;n<h.length&&!c&&h[n];)if(c=h[n++].exec(e))for(r=0;r<p.length;r++)u=c[++i],typeof(a=p[r])===l&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):o:this[a[0]]=u?a[1].call(this,u,a[2]):o:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):o):this[a]=u||o;d+=2}},Q=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var i=0;i<t[n].length;i++)if($(t[n][i],e))return"?"===n?o:n}else if($(t[n],e))return"?"===n?o:n;return t.hasOwnProperty("*")?t["*"]:e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,m],[/opios[\/ ]+([\w\.]+)/i],[m,[h,C+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[h,C+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[h,C]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,m],[/quark(?:pc)?\/([-\w\.]+)/i],[m,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[m,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[h,"UC"+N]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[h,"Smart Lenovo "+N]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+N],m],[/\bfocus\/([\w\.]+)/i],[m,[h,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[h,C+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[h,C+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI "+N]],[/fxios\/([-\w\.]+)/i],[m,[h,R]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360"+W]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],m],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+W],m],[/samsungbrowser\/([\w\.]+)/i],[m,[h,x+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,m],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,G],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[h,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,I+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[h,"Android "+N]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[m,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],m],[/(wolvic)\/([\w\.]+)/i],[h,m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[h,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[m,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,K]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,x],[p,E]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,x],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,T],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,T],[p,E]],[/(macintosh);/i],[d,[f,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,U],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,L],[p,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,L],[p,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[f,F],[p,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,F],[p,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[p,y]],[/\b(opd2\d{3}a?) bui/i],[d,[f,"OPPO"],[p,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[p,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,P],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,P],[p,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,M],[p,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,M],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[p,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[p,y]],[/(pixel c)\b/i],[d,[f,k],[p,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,k],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,j],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,j],[p,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,_],[p,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,_],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[p,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,w],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,A],[p,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,A],[p,y]],[/(nexus 9)/i],[d,[f,"HTC"],[p,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[p,y]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[f,"TCL"],[p,E]],[/(itel) ((\w+))/i],[[f,K],d,[p,Q,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[p,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[p,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[f,"Ulefone"],[p,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[f,"Nothing"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[p,E]],[/(surface duo)/i],[d,[f,D],[p,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[p,y]],[/(u304aa)/i],[d,[f,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[p,E]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[p,E]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[p,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[p,E]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[p,E]],[/\b(k88) b/i],[d,[f,"ZTE"],[p,E]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[p,E]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[p,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[p,E]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[p,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[p,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[p,y]],[/\b(ph-1) /i],[d,[f,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[p,E]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[p,E]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[p,E]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[p,E]],[/(sprint) (\w+)/i],[f,d,[p,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,D],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,H],[p,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,H],[p,y]],[/smart-tv.+(samsung)/i],[f,[p,S]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,x],[p,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,M],[p,S]],[/(apple) ?tv/i],[f,[d,T+" TV"],[p,S]],[/crkey/i],[[d,I+"cast"],[f,k],[p,S]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,_],[p,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,U],[p,S]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,j],[p,S]],[/(mitv-\w{5}) bui/i],[d,[f,F],[p,S]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[p,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Y],[d,Y],[p,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[p,v]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[p,v]],[/(playstation [345portablevi]+)/i],[d,[f,j],[p,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,D],[p,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[f,x],[p,b]],[/((pebble))app/i],[f,d,[p,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,T],[p,b]],[/droid.+; (glass) \d/i],[d,[f,k],[p,b]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,H],[p,b]],[/(quest( \d| pro)?)/i],[d,[f,G],[p,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,O]],[/(aeobc)\b/i],[d,[f,_],[p,O]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[m,Q,X]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,Q,X],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,V],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,m],[/\(bb(10);/i],[m,[h,w]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[h,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[h,I+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,B],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,m],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,m]]},J=function(e,t){if(typeof e===l&&(t=e,e=o),!(this instanceof J))return new J(e,t).getResult();var n=typeof r!==a&&r.navigator?r.navigator:o,i=e||(n&&n.userAgent?n.userAgent:""),v=n&&n.userAgentData?n.userAgentData:o,S=t?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}(Z,t):Z,b=n&&n.userAgent==i;return this.getBrowser=function(){var e,t={};return t[h]=o,t[m]=o,q.call(t,i,S.browser),t[u]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,b&&n&&n.brave&&typeof n.brave.isBrave==s&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[g]=o,q.call(e,i,S.cpu),e},this.getDevice=function(){var e={};return e[f]=o,e[d]=o,e[p]=o,q.call(e,i,S.device),b&&!e[p]&&v&&v.mobile&&(e[p]=y),b&&"Macintosh"==e[d]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[p]=E),e},this.getEngine=function(){var e={};return e[h]=o,e[m]=o,q.call(e,i,S.engine),e},this.getOS=function(){var e={};return e[h]=o,e[m]=o,q.call(e,i,S.os),b&&!e[h]&&v&&v.platform&&"Unknown"!=v.platform&&(e[h]=v.platform.replace(/chrome os/i,B).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===c&&e.length>500?Y(e,500):e,this},this.setUA(i),this};J.VERSION="0.7.39",J.BROWSER=z([h,m,u]),J.CPU=z([g]),J.DEVICE=z([d,f,p,v,y,S,E,b,O]),J.ENGINE=J.OS=z([h,m]),typeof t!==a?(e.exports&&(t=e.exports=J),t.UAParser=J):n.amdO?(i=function(){return J}.call(t,n,t,e))===o||(e.exports=i):typeof r!==a&&(r.UAParser=J);var ee=typeof r!==a&&(r.jQuery||r.Zepto);if(ee&&!ee.ua){var te=new J;ee.ua=te.getResult(),ee.ua.get=function(){return te.getUA()},ee.ua.set=function(e){te.setUA(e);var t=te.getResult();for(var n in t)ee.ua[n]=t[n]}}}("object"==typeof window?window:this)},46579:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var i=t.length-1,r=1;r<i;++r)t[r]=t[r].slice(1,-1);return t[i]=t[i].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function i(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function r(e){return e.toUpperCase()}function o(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(e,t){var n=e;if(t)for(var i in t)n[i]=t[i];return n}function a(e){var i="[A-Za-z]",r="[0-9]",o=t(r,"[A-Fa-f]"),s=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\uE000-\\uF8FF]":"[]",u=t(i,r,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),d=n(i+t(i,r,"[\\+\\-\\.]")+"*"),h=n(n(s+"|"+t(u,a,"[\\:]"))+"*"),p=(n(n("25[0-5]")+"|"+n("2[0-4]"+r)+"|"+n("1"+r+r)+"|"+n("[1-9]"+r)+"|"+r),n(n("25[0-5]")+"|"+n("2[0-4]"+r)+"|"+n("1"+r+r)+"|"+n("0?[1-9]"+r)+"|0?0?"+r)),f=n(p+"\\."+p+"\\."+p+"\\."+p),m=n(o+"{1,4}"),g=n(n(m+"\\:"+m)+"|"+f),v=n(n(m+"\\:")+"{6}"+g),y=n("\\:\\:"+n(m+"\\:")+"{5}"+g),E=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+g),S=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+g),b=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+g),O=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+g),_=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+g),T=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),A=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),w=n([v,y,E,S,b,O,_,T,A].join("|")),N=n(n(u+"|"+s)+"+"),I=(n(w+"\\%25"+N),n(w+n("\\%25|\\%(?!"+o+"{2})")+N)),R=n("[vV]"+o+"+\\."+t(u,a,"[\\:]")+"+"),k=n("\\["+n(I+"|"+w+"|"+R)+"\\]"),L=n(n(s+"|"+t(u,a))+"*"),M=n(k+"|"+f+"(?!"+L+")|"+L),D=n(r+"*"),P=n(n(h+"@")+"?"+M+n("\\:"+D)+"?"),C=n(s+"|"+t(u,a,"[\\:\\@]")),x=n(C+"*"),U=n(C+"+"),j=n(n(s+"|"+t(u,a,"[\\@]"))+"+"),F=n(n("\\/"+x)+"*"),H=n("\\/"+n(U+F)+"?"),G=n(j+F),B=n(U+F),V="(?!"+C+")",W=(n(F+"|"+H+"|"+G+"|"+B+"|"+V),n(n(C+"|"+t("[\\/\\?]",c))+"*")),z=n(n(C+"|[\\/\\?]")+"*"),$=n(n("\\/\\/"+P+F)+"|"+H+"|"+B+"|"+V),K=n(d+"\\:"+$+n("\\?"+W)+"?"+n("\\#"+z)+"?"),Y=n(n("\\/\\/"+P+F)+"|"+H+"|"+G+"|"+V),q=n(Y+n("\\?"+W)+"?"+n("\\#"+z)+"?");return n(K+"|"+q),n(d+"\\:"+$+n("\\?"+W)+"?"),n(n("\\/\\/("+n("("+h+")@")+"?("+M+")"+n("\\:("+D+")")+"?)")+"?("+F+"|"+H+"|"+B+"|"+V+")"),n("\\?("+W+")"),n("\\#("+z+")"),n(n("\\/\\/("+n("("+h+")@")+"?("+M+")"+n("\\:("+D+")")+"?)")+"?("+F+"|"+H+"|"+G+"|"+V+")"),n("\\?("+W+")"),n("\\#("+z+")"),n(n("\\/\\/("+n("("+h+")@")+"?("+M+")"+n("\\:("+D+")")+"?)")+"?("+F+"|"+H+"|"+B+"|"+V+")"),n("\\?("+W+")"),n("\\#("+z+")"),n("("+h+")@"),n("\\:("+D+")"),{NOT_SCHEME:new RegExp(t("[^]",i,r,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,l),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+w+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+N+")")+"?\\]?$")}}var l=a(!1),c=a(!0),u=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},h=2147483647,p=36,f=1,m=26,g=38,v=700,y=72,E=128,S="-",b=/^xn--/,O=/[^\0-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=p-f,w=Math.floor,N=String.fromCharCode;function I(e){throw new RangeError(T[e])}function R(e,t){for(var n=[],i=e.length;i--;)n[i]=t(e[i]);return n}function k(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+R((e=e.replace(_,".")).split("."),t).join(".")}function L(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}var M=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:p},D=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},P=function(e,t,n){var i=0;for(e=n?w(e/v):e>>1,e+=w(e/t);e>A*m>>1;i+=p)e=w(e/A);return w(i+(A+1)*e/(e+g))},C=function(e){var t=[],n=e.length,i=0,r=E,o=y,s=e.lastIndexOf(S);s<0&&(s=0);for(var a=0;a<s;++a)e.charCodeAt(a)>=128&&I("not-basic"),t.push(e.charCodeAt(a));for(var l=s>0?s+1:0;l<n;){for(var c=i,u=1,d=p;;d+=p){l>=n&&I("invalid-input");var g=M(e.charCodeAt(l++));(g>=p||g>w((h-i)/u))&&I("overflow"),i+=g*u;var v=d<=o?f:d>=o+m?m:d-o;if(g<v)break;var b=p-v;u>w(h/b)&&I("overflow"),u*=b}var O=t.length+1;o=P(i-c,O,0==c),w(i/O)>h-r&&I("overflow"),r+=w(i/O),i%=O,t.splice(i++,0,r)}return String.fromCodePoint.apply(String,t)},x=function(e){var t=[],n=(e=L(e)).length,i=E,r=0,o=y,s=!0,a=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value;d<128&&t.push(N(d))}}catch(e){a=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(a)throw l}}var g=t.length,v=g;for(g&&t.push(S);v<n;){var b=h,O=!0,_=!1,T=void 0;try{for(var A,R=e[Symbol.iterator]();!(O=(A=R.next()).done);O=!0){var k=A.value;k>=i&&k<b&&(b=k)}}catch(e){_=!0,T=e}finally{try{!O&&R.return&&R.return()}finally{if(_)throw T}}var M=v+1;b-i>w((h-r)/M)&&I("overflow"),r+=(b-i)*M,i=b;var C=!0,x=!1,U=void 0;try{for(var j,F=e[Symbol.iterator]();!(C=(j=F.next()).done);C=!0){var H=j.value;if(H<i&&++r>h&&I("overflow"),H==i){for(var G=r,B=p;;B+=p){var V=B<=o?f:B>=o+m?m:B-o;if(G<V)break;var W=G-V,z=p-V;t.push(N(D(V+W%z,0))),G=w(W/z)}t.push(N(D(G,0))),o=P(r,M,v==g),r=0,++v}}}catch(e){x=!0,U=e}finally{try{!C&&F.return&&F.return()}finally{if(x)throw U}}++r,++i}return t.join("")},U=function(e){return k(e,(function(e){return b.test(e)?C(e.slice(4).toLowerCase()):e}))},j=function(e){return k(e,(function(e){return O.test(e)?"xn--"+x(e):e}))},F={version:"2.1.0",ucs2:{decode:L,encode:function(e){return String.fromCodePoint.apply(String,d(e))}},decode:C,encode:x,toASCII:j,toUnicode:U},H={};function G(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function B(e){for(var t="",n=0,i=e.length;n<i;){var r=parseInt(e.substr(n+1,2),16);if(r<128)t+=String.fromCharCode(r),n+=3;else if(r>=194&&r<224){if(i-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&r)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(r>=224){if(i-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function V(e,t){function n(e){var n=B(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,G).replace(t.PCT_ENCODED,r)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,G).replace(t.PCT_ENCODED,r)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,G).replace(t.PCT_ENCODED,r)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,G).replace(t.PCT_ENCODED,r)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,G).replace(t.PCT_ENCODED,r)),e}function W(e){return e.replace(/^0*(.*)/,"$1")||"0"}function z(e,t){var n=e.match(t.IPV4ADDRESS)||[],i=u(n,2)[1];return i?i.split(".").map(W).join("."):e}function $(e,t){var n=e.match(t.IPV6ADDRESS)||[],i=u(n,3),r=i[1],o=i[2];if(r){for(var s=r.toLowerCase().split("::").reverse(),a=u(s,2),l=a[0],c=a[1],d=c?c.split(":").map(W):[],h=l.split(":").map(W),p=t.IPV4ADDRESS.test(h[h.length-1]),f=p?7:8,m=h.length-f,g=Array(f),v=0;v<f;++v)g[v]=d[v]||h[m+v]||"";p&&(g[f-1]=z(g[f-1],t));var y=g.reduce((function(e,t,n){if(!t||"0"===t){var i=e[e.length-1];i&&i.index+i.length===n?i.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],E=void 0;if(y&&y.length>1){var S=g.slice(0,y.index),b=g.slice(y.index+y.length);E=S.join(":")+"::"+b.join(":")}else E=g.join(":");return o&&(E+="%"+o),E}return e}var K=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Y=void 0==="".match(/(){0}/)[1];function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},i=!1!==t.iri?c:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var r=e.match(K);if(r){Y?(n.scheme=r[1],n.userinfo=r[3],n.host=r[4],n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=r[7],n.fragment=r[8],isNaN(n.port)&&(n.port=r[5])):(n.scheme=r[1]||void 0,n.userinfo=-1!==e.indexOf("@")?r[3]:void 0,n.host=-1!==e.indexOf("//")?r[4]:void 0,n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=-1!==e.indexOf("?")?r[7]:void 0,n.fragment=-1!==e.indexOf("#")?r[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),n.host&&(n.host=$(z(n.host,i),i)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=H[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)V(n,i);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=F.toASCII(n.host.replace(i.PCT_ENCODED,B).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}V(n,l)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function Q(e,t){var n=!1!==t.iri?c:l,i=[];return void 0!==e.userinfo&&(i.push(e.userinfo),i.push("@")),void 0!==e.host&&i.push($(z(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(i.push(":"),i.push(String(e.port))),i.length?i.join(""):void 0}var X=/^\.\.?\//,Z=/^\/\.(\/|$)/,J=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(X))e=e.replace(X,"");else if(e.match(Z))e=e.replace(Z,"/");else if(e.match(J))e=e.replace(J,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(ee);if(!n)throw new Error("Unexpected dot segment condition");var i=n[0];e=e.slice(i.length),t.push(i)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?c:l,i=[],r=H[(t.scheme||e.scheme||"").toLowerCase()];if(r&&r.serialize&&r.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||r&&r.domainHost)try{e.host=t.iri?F.toUnicode(e.host):F.toASCII(e.host.replace(n.PCT_ENCODED,B).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}V(e,n),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme),i.push(":"));var o=Q(e,t);if(void 0!==o&&("suffix"!==t.reference&&i.push("//"),i.push(o),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path){var s=e.path;t.absolutePath||r&&r.absolutePath||(s=te(s)),void 0===o&&(s=s.replace(/^\/\//,"/%2F")),i.push(s)}return void 0!==e.query&&(i.push("?"),i.push(e.query)),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment)),i.join("")}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={};return arguments[3]||(e=q(ne(e,n),n),t=q(ne(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=te(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=te(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=te(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function re(e,t,n){var i=s({scheme:"null"},n);return ne(ie(q(e,i),q(t,i),i,!0),i)}function oe(e,t){return"string"==typeof e?e=ne(q(e,t),t):"object"===i(e)&&(e=q(ne(e,t),t)),e}function se(e,t,n){return"string"==typeof e?e=ne(q(e,n),n):"object"===i(e)&&(e=ne(e,n)),"string"==typeof t?t=ne(q(t,n),n):"object"===i(t)&&(t=ne(t,n)),e===t}function ae(e,t){return e&&e.toString().replace(t&&t.iri?c.ESCAPE:l.ESCAPE,G)}function le(e,t){return e&&e.toString().replace(t&&t.iri?c.PCT_ENCODED:l.PCT_ENCODED,B)}var ce={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},ue={scheme:"https",domainHost:ce.domainHost,parse:ce.parse,serialize:ce.serialize};function de(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var he={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=de(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(de(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),i=u(n,2),r=i[0],o=i[1];e.path=r&&"/"!==r?r:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},pe={scheme:"wss",domainHost:he.domainHost,parse:he.parse,serialize:he.serialize},fe={},me="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ge="[0-9A-Fa-f]",ve=n(n("%[EFef]"+ge+"%"+ge+ge+"%"+ge+ge)+"|"+n("%[89A-Fa-f]"+ge+"%"+ge+ge)+"|"+n("%"+ge+ge)),ye="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ee=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Se="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",be=new RegExp(me,"g"),Oe=new RegExp(ve,"g"),_e=new RegExp(t("[^]",ye,"[\\.]",'[\\"]',Ee),"g"),Te=new RegExp(t("[^]",me,Se),"g"),Ae=Te;function we(e){var t=B(e);return t.match(be)?t:e}var Ne={scheme:"mailto",parse:function(e,t){var n=e,i=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var r=!1,o={},s=n.query.split("&"),a=0,l=s.length;a<l;++a){var c=s[a].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),d=0,h=u.length;d<h;++d)i.push(u[d]);break;case"subject":n.subject=le(c[1],t);break;case"body":n.body=le(c[1],t);break;default:r=!0,o[le(c[0],t)]=le(c[1],t)}}r&&(n.headers=o)}n.query=void 0;for(var p=0,f=i.length;p<f;++p){var m=i[p].split("@");if(m[0]=le(m[0]),t.unicodeSupport)m[1]=le(m[1],t).toLowerCase();else try{m[1]=F.toASCII(le(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}i[p]=m.join("@")}return n},serialize:function(e,t){var n=e,i=o(e.to);if(i){for(var s=0,a=i.length;s<a;++s){var l=String(i[s]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(Oe,we).replace(Oe,r).replace(_e,G),d=l.slice(c+1);try{d=t.iri?F.toUnicode(d):F.toASCII(le(d,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[s]=u+"@"+d}n.path=i.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var f in h)h[f]!==fe[f]&&p.push(f.replace(Oe,we).replace(Oe,r).replace(Te,G)+"="+h[f].replace(Oe,we).replace(Oe,r).replace(Ae,G));return p.length&&(n.query=p.join("&")),n}},Ie=/^([^\:]+)\:(.*)/,Re={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(Ie),i=e;if(n){var r=t.scheme||i.scheme||"urn",o=n[1].toLowerCase(),s=n[2],a=r+":"+(t.nid||o),l=H[a];i.nid=o,i.nss=s,i.path=void 0,l&&(i=l.parse(i,t))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",i=e.nid,r=n+":"+(t.nid||i),o=H[r];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(i||t.nid)+":"+a,s}},ke=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Le={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ke)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};H[ce.scheme]=ce,H[ue.scheme]=ue,H[he.scheme]=he,H[pe.scheme]=pe,H[Ne.scheme]=Ne,H[Re.scheme]=Re,H[Le.scheme]=Le,e.SCHEMES=H,e.pctEncChar=G,e.pctDecChars=B,e.parse=q,e.removeDotSegments=te,e.serialize=ne,e.resolveComponents=ie,e.resolve=re,e.normalize=oe,e.equal=se,e.escapeComponent=ae,e.unescapeComponent=le,Object.defineProperty(e,"__esModule",{value:!0})}(t)},40936:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(96540);function r(e,t,n){return e[t]?e[t][0]?e[t][0][n]:e[t][n]:"contentBoxSize"===t?e.contentRect["inlineSize"===n?"width":"height"]:void 0}function o(e){void 0===e&&(e={});var t=e.onResize,n=(0,i.useRef)(void 0);n.current=t;var o=e.round||Math.round,s=(0,i.useRef)(),a=(0,i.useState)({width:void 0,height:void 0}),l=a[0],c=a[1],u=(0,i.useRef)(!1);(0,i.useEffect)((function(){return u.current=!1,function(){u.current=!0}}),[]);var d=(0,i.useRef)({width:void 0,height:void 0}),h=function(e,t){var n=(0,i.useRef)(null),r=(0,i.useRef)(null);r.current=t;var o=(0,i.useRef)(null);(0,i.useEffect)((function(){s()}));var s=(0,i.useCallback)((function(){var t=o.current,i=r.current,s=t||(i?i instanceof Element?i:i.current:null);n.current&&n.current.element===s&&n.current.subscriber===e||(n.current&&n.current.cleanup&&n.current.cleanup(),n.current={element:s,subscriber:e,cleanup:s?e(s):void 0})}),[e]);return(0,i.useEffect)((function(){return function(){n.current&&n.current.cleanup&&(n.current.cleanup(),n.current=null)}}),[]),(0,i.useCallback)((function(e){o.current=e,s()}),[s])}((0,i.useCallback)((function(t){return s.current&&s.current.box===e.box&&s.current.round===o||(s.current={box:e.box,round:o,instance:new ResizeObserver((function(t){var i=t[0],s="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",a=r(i,s,"inlineSize"),l=r(i,s,"blockSize"),h=a?o(a):void 0,p=l?o(l):void 0;if(d.current.width!==h||d.current.height!==p){var f={width:h,height:p};d.current.width=h,d.current.height=p,n.current?n.current(f):u.current||c(f)}}))}),s.current.instance.observe(t,{box:e.box}),function(){s.current&&s.current.instance.unobserve(t)}}),[e.box,o]),e.ref);return(0,i.useMemo)((function(){return{ref:h,width:l.width,height:l.height}}),[h,l.width,l.height])}},9771:e=>{"use strict";var t=function(){};e.exports=t},81557:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform float opacity;uniform vec3 color;uniform sampler2D bg;varying vec2 vUv;void main(){vec4 bgColor=texture2D(bg,vUv);gl_FragColor=linearToOutputTexel(vec4(bgColor.rgb,bgColor.a*opacity));}"},228:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform vec3 diffuse;uniform float opacity;uniform sampler2D mask;\n#ifdef USE_DASH\nuniform float dashSize;uniform float gapSize;\n#endif\nvarying float vLineDistance;\n#include <common>\nvarying vec2 vUv;void main(){\n#ifdef USE_DASH\nif(vUv.y<-1.||vUv.y>1.)discard;if(mod(vLineDistance,dashSize+gapSize)>dashSize)discard;\n#endif\n#ifdef USE_MASK\nvec2 modUv=vec2(vUv);modUv*=2.;vec4 texelColor=texture2D(mask,modUv);gl_FragColor=linearToOutputTexel(vec4(texelColor.rgb,min(texelColor.a,opacity)));\n#else\ngl_FragColor=linearToOutputTexel(vec4(diffuse,opacity));\n#endif\n}"},33326:e=>{e.exports="precision highp float;precision highp int;\n#include <common>\nuniform float linewidth;uniform vec2 resolution;attribute vec3 instanceStart;attribute vec3 instanceEnd;attribute vec3 instanceColorStart;attribute vec3 instanceColorEnd;varying vec2 vUv;\n#ifdef USE_DASH\nuniform float dashScale;attribute float instanceDistanceStart;attribute float instanceDistanceEnd;varying float vLineDistance;\n#endif\nvoid trimSegment(const in vec4 start,inout vec4 end){float a=projectionMatrix[2][2];float b=projectionMatrix[3][2];float nearEstimate=-0.5*b/a;float alpha=(nearEstimate-start.z)/(end.z-start.z);end.xyz=mix(start.xyz,end.xyz,alpha);}void main(){\n#ifdef USE_COLOR\nvColor.xyz=(position.y<0.5)?instanceColorStart:instanceColorEnd;\n#endif\n#ifdef USE_DASH\nvLineDistance=(position.y<0.5)?dashScale*instanceDistanceStart:dashScale*instanceDistanceEnd;\n#endif\nfloat aspect=resolution.x/resolution.y;vUv=uv;vec4 start=modelViewMatrix*vec4(instanceStart,1.);vec4 end=modelViewMatrix*vec4(instanceEnd,1.);bool perspective=(projectionMatrix[2][3]==-1.);if(perspective){if(start.z<0.&&end.z>=0.){trimSegment(start,end);}else if(end.z<0.&&start.z>=0.){trimSegment(end,start);}}vec4 clipStart=projectionMatrix*start;vec4 clipEnd=projectionMatrix*end;vec2 ndcStart=clipStart.xy/clipStart.w;vec2 ndcEnd=clipEnd.xy/clipEnd.w;vec2 dir=ndcEnd-ndcStart;dir.x*=aspect;dir=normalize(dir);vec2 offset=vec2(dir.y,-dir.x);dir.x/=aspect;offset.x/=aspect;if(position.x<0.)offset*=-1.;offset*=linewidth;offset/=resolution.y;vec4 clip=(position.y<0.5)?clipStart:clipEnd;\n#ifdef USE_MASK\noffset*=(clipEnd.w+clipStart.w)*0.5;\n#else\noffset*=clip.w;\n#endif\nclip.xy+=offset;gl_Position=clip;\n#include <worldpos_vertex>\n}"},47107:e=>{e.exports="precision highp float;uniform vec3 color;uniform float antialiasWidth;uniform float lineWidth;uniform float dashed;uniform float dashSize;uniform float gapSize;uniform float globalOpacity;uniform vec2 screenSize;uniform float pixelRatio;uniform float transitionType;uniform float transitionProgress;varying float vDistanceFromAxis;varying float vDistanceAlong;varying float vDistanceAlongPct;varying float vOpacity;\n#if defined(FADE_DISTANCE_FROM_CAMERA) || defined(FADE_DEPTH)\nvarying vec3 vWorldPos;uniform vec3 cameraPos;\n#endif\n#ifdef FADE_DEPTH\nuniform sampler2D depthTex;uniform float fadeMaxDepth;float sample_depth(){vec2 frameBufferSize=screenSize*pixelRatio;vec2 screenUv=gl_FragCoord.xy/frameBufferSize;vec2 onePx=1./frameBufferSize;float nearestDepth=texture2D(depthTex,screenUv).r*fadeMaxDepth;return nearestDepth;}float calcDepthFadeOpacity(float currDepth){float nearestDepth=sample_depth();float behindDepth=max(currDepth-nearestDepth,0.);float depthFadeStartDist=FADE_DEPTH;float depthFadeEndDist=FADE_DEPTH+0.8;float depthFadeT=clamp((behindDepth-depthFadeStartDist)/(depthFadeEndDist-depthFadeStartDist),0.,1.);float depthFadeOpacity=1.-mix(0.,1.,depthFadeT);return depthFadeOpacity;}\n#endif\nvoid main(){float halfWidth=lineWidth*0.5;float antialiasing=1.-smoothstep(halfWidth,halfWidth+antialiasWidth,vDistanceFromAxis);float dashOpacity=1.;float cameraDistanceFadeOpacity=1.;\n#if defined(FADE_DISTANCE_FROM_CAMERA) || defined(FADE_DEPTH)\nfloat distanceFromCamera=length(cameraPos-vWorldPos);\n#endif\nfloat transitionOpacity=1.;if(dashed>0.){\n#ifdef WORLDSPACE_DASH\nfloat dashAA=fwidth(vDistanceAlong)*antialiasWidth*0.5;\n#else\nfloat dashAA=antialiasWidth*0.5;\n#endif\nfloat dashT=mod(vDistanceAlong,dashSize+gapSize);dashOpacity=smoothstep(0.,dashAA,dashT)*(1.-smoothstep(dashSize-dashAA,dashSize,dashT));}if(abs(transitionType)>0.){float progress=transitionProgress;float fadeWidth=0.3;float minOffset=0.;float maxOffset=fadeWidth;if(transitionType<0.){progress=1.-progress;minOffset=-fadeWidth;maxOffset=0.;}transitionOpacity=1.-smoothstep(progress+minOffset,progress+maxOffset,vDistanceAlongPct);}\n#ifdef FADE_DISTANCE_FROM_CAMERA\nfloat fadeStartDist=FADE_DISTANCE_FROM_CAMERA-1.;float fadeEndFist=FADE_DISTANCE_FROM_CAMERA+1.;float fadeT=clamp((distanceFromCamera-fadeStartDist)/(fadeEndFist-fadeStartDist),0.,1.);cameraDistanceFadeOpacity=1.-mix(0.,1.,fadeT);\n#endif\nfloat depthFadeOpacity=1.;\n#ifdef FADE_DEPTH\ndepthFadeOpacity=calcDepthFadeOpacity(distanceFromCamera);\n#endif\nfloat fadeAlongOpacity=1.;\n#ifdef FADE_START_ALONG_PCT\nfadeAlongOpacity=1.-smoothstep(FADE_START_ALONG_PCT,1.,vDistanceAlongPct);\n#endif\ngl_FragColor=linearToOutputTexel(vec4(color,globalOpacity*dashOpacity*antialiasing*vOpacity*cameraDistanceFadeOpacity*depthFadeOpacity*transitionOpacity*fadeAlongOpacity));}"},88705:e=>{e.exports="precision highp float;uniform vec2 screenSize;vec2 rotate90(vec2 v){return vec2(-v.y,v.x);}vec2 ndcToScreen(vec4 pt){return(vec2(pt.x,pt.y)+vec2(1.,1.))*screenSize/2.;}vec2 screenToNdc(vec2 pt){return(pt*2./screenSize)-vec2(1.,1.);}uniform float lineWidth;uniform float antialiasWidth;uniform float globalHeightOffset;attribute float offsetDirection;attribute vec3 start;attribute vec3 end;attribute float t;attribute float opacity;varying float vDistanceFromAxis;varying float vDistanceAlong;varying float vDistanceAlongPct;varying float vOpacity;\n#if defined(FADE_DISTANCE_FROM_CAMERA) || defined(FADE_DEPTH)\nvarying vec3 vWorldPos;\n#endif\nvoid main(){vOpacity=opacity;vec3 heightOffset=vec3(0.,globalHeightOffset,0.);vec3 offsetStart=start+heightOffset;vec3 offsetEnd=end+heightOffset;vec4 startNdc=projectionMatrix*modelViewMatrix*vec4(offsetStart,1.);vec4 endNdc=projectionMatrix*modelViewMatrix*vec4(offsetEnd,1.);vec2 startScreen=ndcToScreen(startNdc/startNdc.w);vec2 endScreen=ndcToScreen(endNdc/endNdc.w);float halfWidth=lineWidth*0.5+antialiasWidth;vec2 directionScreen=endScreen-startScreen;vec2 widthOffsetScreen=rotate90(normalize(directionScreen))*offsetDirection*halfWidth;vec2 centerlinePos=startScreen+directionScreen*t;vec2 position=centerlinePos+widthOffsetScreen*1.3;\n#if defined(FADE_DISTANCE_FROM_CAMERA) || defined(FADE_DEPTH)\nvec3 worldPos=offsetStart+(offsetEnd-offsetStart)*t;vWorldPos=worldPos;\n#endif\nvDistanceFromAxis=length(widthOffsetScreen);float clippedT=length(centerlinePos-startScreen)/length(directionScreen);\n#ifdef WORLDSPACE_DASH\nvDistanceAlong=length((offsetEnd-offsetStart)*clippedT);\n#else\nvDistanceAlong=length(directionScreen*clippedT);\n#endif\nvDistanceAlongPct=clamp(clippedT,0.,1.);float z=mix(startNdc.z,endNdc.z,clippedT);float w=mix(startNdc.w,endNdc.w,clippedT);vec2 posNdc=screenToNdc(position);gl_Position=vec4(posNdc*w,z,w);}"},94857:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}\n#ifdef INSTANCED\nvarying float alpha;varying vec3 color;\n#else\nuniform float alpha;uniform vec3 color;\n#endif\nuniform sampler2D bg;uniform sampler2D mask;varying vec2 vUv;varying vec4 vMaskRect;varying float vStrokeWidth;float ring(vec2 pos,float radius,float thick){return mix(1.,0.,smoothstep(thick,thick+(thick*0.5),abs(length(vUv-pos)-radius)));}vec4 crop(vec4 texColor,vec2 xy,float size){texColor*=step(size,1.-xy.x);texColor*=step(size,xy.x);texColor*=step(size,1.-xy.y);texColor*=step(size,xy.y);return texColor;}vec2 center=vec2(0.5,0.5);void main(){vec4 bgColor=texture2D(bg,vUv);if(bgColor.a*alpha<0.1){discard;}float iconScale=1.75;vec2 maskUV=mix(vMaskRect.xy,vMaskRect.zw,(vUv-0.5)*iconScale+0.5);vec4 maskColor=texture2D(mask,maskUV);maskColor.rgb=vec3(1.);float padding=0.22;maskColor=crop(maskColor,vUv,padding);vec3 mappedColor=mix(color,maskColor.rgb,maskColor.a);const vec3 frameColor=vec3(1.,1.,1.);float frame=ring(center,0.5,vStrokeWidth);mappedColor=mix(mappedColor,frameColor,frame);gl_FragColor=linearToOutputTexel(vec4(mappedColor,bgColor.a*alpha));}"},59039:e=>{e.exports="precision highp float;precision highp int;attribute vec4 instanceMaskRect;attribute float instanceStrokeWidth;varying vec2 vUv;varying vec4 vMaskRect;varying float vStrokeWidth;\n#ifdef INSTANCED\nattribute float instanceAlpha;varying float alpha;varying vec3 color;\n#endif\nvoid main(){vUv=uv;vMaskRect=instanceMaskRect;vStrokeWidth=instanceStrokeWidth;\n#ifdef INSTANCED\nalpha=instanceAlpha;color=instanceColor;gl_Position=projectionMatrix*modelViewMatrix*instanceMatrix*vec4(position,1.);\n#else\ngl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n#endif\n}"},45550:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform float haloWidth;uniform float strokeWidth;uniform sampler2D mask;uniform vec4 maskRect;varying vec2 vUv;float ring(float startR,float endR){float dist=length(vUv)/2.;float aa=fwidth(dist)*0.5;return min(smoothstep(startR-aa,startR+aa,dist),smoothstep(endR+aa,endR-aa,dist));}void main(){float alpha=ring(0.,0.5)*0.1;float iconScale=1.75;vec2 maskUV=mix(maskRect.xy,maskRect.zw,vUv/2.*iconScale+0.5);maskUV=clamp(maskUV,maskRect.xy,maskRect.zw);alpha=max(alpha,texture2D(mask,maskUV).a*0.5);alpha=max(alpha,ring(0.5-strokeWidth,0.5)*0.5);alpha=max(alpha,ring(0.5,0.5+haloWidth)*0.3);gl_FragColor=linearToOutputTexel(vec4(1.,1.,1.,alpha));}"},98840:e=>{e.exports="precision highp float;precision highp int;uniform float haloWidth;varying vec2 vUv;void main(){float scale=1.+2.*haloWidth;vUv=((uv*2.)-1.)*scale;gl_Position=projectionMatrix*modelViewMatrix*vec4(position*scale,1.);gl_Position.z*=1.00001;}"},2834:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}\n#ifdef INSTANCED\nvarying float alpha;\n#else\nuniform float alpha;\n#endif\nvoid main(){gl_FragColor=linearToOutputTexel(vec4(1.,1.,1.,alpha));}"},65388:e=>{e.exports="precision highp float;precision highp int;uniform vec2 resolution;\n#ifdef INSTANCED\nattribute vec3 stemVector;attribute vec4 pinHeadMatrixCol0;attribute vec4 pinHeadMatrixCol1;attribute vec4 pinHeadMatrixCol2;attribute vec4 pinHeadMatrixCol3;attribute float instanceAlpha;varying float alpha;\n#else\nuniform mat4 pinHeadMatrix;\n#endif\n#define PI  3.1415926538\nvoid main(){\n#ifdef INSTANCED\nvec3 pos=position*stemVector;mat4 modelViewProjMatrix=projectionMatrix*modelViewMatrix*instanceMatrix;mat4 pinHeadMatrix=mat4(pinHeadMatrixCol0,pinHeadMatrixCol1,pinHeadMatrixCol2,pinHeadMatrixCol3);alpha=instanceAlpha;\n#else\nvec3 pos=position;mat4 modelViewProjMatrix=projectionMatrix*modelViewMatrix;\n#endif\nvec3 fromOrigin=(vec3(0.,0.,0.)-pos);if(length(fromOrigin)<1e-6){gl_Position=modelViewProjMatrix*vec4(pos,1.);}else{mat4 noteViewProj=projectionMatrix*viewMatrix*pinHeadMatrix;vec4 noteNDC=noteViewProj*vec4(0.,0.,0.,1.);noteNDC.xyz/=abs(noteNDC.w);vec4 discEdgeNDC=noteViewProj*vec4(0.5,0.,0.,1.);discEdgeNDC.xyz/=abs(discEdgeNDC.w);float noteSizeNDC=length(discEdgeNDC.xy-noteNDC.xy);vec4 anchorNDC=modelViewProjMatrix*vec4(0.,0.,0.,1.);anchorNDC.xyz/=abs(anchorNDC.w);vec4 vectorNDC=modelViewProjMatrix*vec4(pos,1.);vectorNDC.xyz/=abs(vectorNDC.w);vectorNDC-=anchorNDC;float lineLengthNDC=length(vectorNDC.xy);float vertDot=abs(dot(normalize(vectorNDC.xy),vec2(0,1)));float angle=acos(vertDot)/(PI/2.);float aspect=mix(resolution.x/resolution.y,1.,angle);vec2 vector2d=normalize(vectorNDC.xy)*max(lineLengthNDC-noteSizeNDC*aspect,0.);vectorNDC.xy=vector2d.xy;vectorNDC+=anchorNDC;gl_Position=vec4(vectorNDC.xyz,1.);}}"},74869:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}varying vec2 vUv;uniform sampler2D tDiffuse;\n#ifdef INSTANCED\nvarying float alpha;\n#else\nuniform float alpha;\n#endif\nvoid main(){vec4 texColor=texture2D(tDiffuse,vUv);gl_FragColor=linearToOutputTexel(vec4(texColor.rgb,texColor.a*alpha));}"},8203:e=>{e.exports="precision highp float;precision highp int;\n#ifdef INSTANCED\nattribute float instanceAlpha;varying float alpha;\n#endif\nvarying vec2 vUv;void main(){vUv=uv;\n#ifdef INSTANCED\nmat4 mvp=projectionMatrix*modelViewMatrix*instanceMatrix;alpha=instanceAlpha;\n#else\nmat4 mvp=projectionMatrix*modelViewMatrix;\n#endif\ngl_Position=mvp*vec4(position,1.);}"},67422:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform vec3 color;uniform float opacity;void main(){gl_FragColor=linearToOutputTexel(vec4(color,opacity));}"},87208:e=>{e.exports="precision highp float;precision highp int;void main(){gl_Position=vec4(position,1.);}"},44664:e=>{e.exports="precision highp float;precision highp int;varying vec3 pos;uniform float radius;uniform float innerRadius;uniform float centerRadius;uniform float opacity;uniform vec3 firstStop;uniform float firstStopPercent;uniform vec3 medStop;uniform float medStopPercent;uniform vec3 lastStop;uniform float lastStopPercent;uniform vec3 angleColor;uniform float minA;uniform float minB;uniform float maxA;uniform float maxB;const float PI=3.141592653589793;void main(){float d=length(pos);if(d>radius||(d<innerRadius&&d>centerRadius)){discard;}float ang=atan(pos.z,pos.x);vec3 color=angleColor;if((d<centerRadius)||(ang>minA&&ang<maxA)||(ang>minB&&ang<maxB)){float percent=(pos.x+radius)/(2.*radius);if(percent<medStopPercent){float range=medStopPercent-firstStopPercent;float mixer=(percent-firstStopPercent)/range;color=mix(firstStop,medStop,mixer);}else{float range=lastStopPercent-medStopPercent;float mixer=(percent-medStopPercent)/range;color=mix(medStop,lastStop,mixer);}}gl_FragColor=linearToOutputTexel(vec4(color,opacity));}"},96626:e=>{e.exports="precision highp float;precision highp int;varying vec3 pos;void main(){pos=position;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},71285:e=>{e.exports="precision highp float;precision highp int;vec3 closestPointToRay(vec3 point,vec3 origin,vec3 direction){vec3 d=point-origin;float D=dot(d,direction);return origin+D*direction;}vec3 rayIntersectsSphere(vec3 origin,float radius,vec3 rayOrigin,vec3 rayDirection){vec3 chordPoint=closestPointToRay(origin,rayOrigin,rayDirection);float D1=length(rayOrigin-chordPoint);float D=length(chordPoint-origin);float D2=sqrt(radius*radius-D*D);return rayOrigin+(D1+D2)*rayDirection;}uniform float opacity;uniform vec3 tint;uniform float discRadius;uniform vec3 discNormal;uniform mat4 projectionMatrix;uniform mat4 viewMatrixInverse;uniform mat4 projectionMatrixInverse;varying vec3 vFragWorldPos;varying vec3 vCenterWorldPos;\n#ifdef USE_TEXTURE\nuniform sampler2D texImg;\n#else\nuniform vec2 ringRadii[RING_COUNT];uniform vec4 ringColors[RING_COUNT];\n#endif\nfloat rayDistToPlane(vec3 rayOrigin,vec3 rayDir,vec3 planeOrigin,vec3 planeNormal){float planeConstant=-dot(planeOrigin,planeNormal);float denom=dot(planeNormal,rayDir);return denom==0.?-1e9:-(dot(rayOrigin,planeNormal)+planeConstant)/denom;}vec4 getColorAtRay(vec3 rayOrigin,vec3 rayDir){vec4 color=vec4(0.);float intersectDist=rayDistToPlane(rayOrigin,rayDir,vCenterWorldPos,discNormal);vec3 intersect=rayOrigin+rayDir*intersectDist;\n#ifdef USE_TEXTURE\nif(intersectDist>0.){vec3 cameraDir=normalize((viewMatrixInverse*vec4(0.,0.,-1.,0.)).xyz);vec3 stableDir=abs(dot(cameraDir,discNormal))>0.8?normalize(cameraDir*vec3(1.,0.,1.))*sign(discNormal.y):(viewMatrixInverse*vec4(0.,1.,0.,0.)).xyz;vec3 xAxis=normalize(cross(stableDir,discNormal));vec3 yAxis=normalize(cross(discNormal,xAxis));intersect-=vCenterWorldPos;vec2 uv=vec2(dot(xAxis,intersect),dot(yAxis,intersect))/discRadius/2.+0.5;if(clamp(uv,vec2(0.),vec2(1.))==uv){color=texture2D(texImg,uv);}}\n#else\nfloat fragRadius=intersectDist>0.?distance(intersect,vCenterWorldPos):1e9;if(fragRadius<=discRadius*2.){for(int i=0;i<RING_COUNT;i++){vec2 radii=ringRadii[i]*discRadius;vec4 ringColor=ringColors[i];float ringDist=min(fragRadius-radii[0],radii[1]-fragRadius);\n#if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\nfloat delta=length(vec2(dFdx(fragRadius),dFdy(fragRadius)))*0.70710678;ringColor.a*=smoothstep(-delta,delta,ringDist);\n#else\nringColor.a*=step(0.,ringDist);\n#endif\nfloat finalAlpha=color.a+ringColor.a*(1.-color.a);color=finalAlpha>0.?vec4((color.rgb*color.a+ringColor.rgb*ringColor.a*(1.-color.a))/finalAlpha,finalAlpha):color;}}\n#endif\ncolor.rgb*=tint;if(dot(rayDir,discNormal)>=0.){color.a=0.;}return color;}void main(){vec4 fragNDC=projectionMatrix*viewMatrix*vec4(vFragWorldPos,1.);vec4 nearWorldPos=viewMatrixInverse*projectionMatrixInverse*vec4(fragNDC.xy,-1.,1.);nearWorldPos/=nearWorldPos.w;gl_FragColor=linearToOutputTexel(getColorAtRay(nearWorldPos.xyz,normalize(vFragWorldPos-nearWorldPos.xyz)));gl_FragColor.a*=opacity;if(gl_FragColor.a==0.){discard;}}"},99691:e=>{e.exports="precision highp float;precision highp int;varying vec3 vCenterWorldPos;varying vec3 vFragWorldPos;void main(){vCenterWorldPos=(modelMatrix*vec4(0.,0.,0.,1.)).xyz;vFragWorldPos=(modelMatrix*vec4(position,1.)).xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},16064:(e,t,n)=>{e.exports=n(43619).Observable},43619:(e,t)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}t.Observable=void 0;var o=function(){return"function"==typeof Symbol},s=function(e){return o()&&Boolean(Symbol[e])},a=function(e){return s(e)?Symbol[e]:"@@"+e};o()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var l=a("iterator"),c=a("observable"),u=a("species");function d(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[u])&&(t=void 0),void 0!==t?t:O}function p(e){return e instanceof O}function f(e){f.log?f.log(e):setTimeout((function(){throw e}))}function m(e){Promise.resolve().then((function(){try{e()}catch(e){f(e)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=d(t,"unsubscribe");n&&n.call(t)}}catch(e){f(e)}}function v(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function y(e,t,n){e._state="running";var i=e._observer;try{var r=d(i,t);switch(t){case"next":r&&r.call(i,n);break;case"error":if(v(e),!r)throw n;r.call(i,n);break;case"complete":v(e),r&&r.call(i)}}catch(e){f(e)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function E(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void m((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(y(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void y(e,t,n);e._queue.push({type:t,value:n})}}var S=function(){function e(t,i){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var r=new b(this);try{this._cleanup=i.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}return r(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(v(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),b=function(){function e(t){n(this,e),this._subscription=t}return r(e,[{key:"next",value:function(e){E(this._subscription,"next",e)}},{key:"error",value:function(e){E(this._subscription,"error",e)}},{key:"complete",value:function(){E(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),O=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return r(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new S(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,i){if("function"==typeof e)var r=t.subscribe({next:function(t){try{e(t,o)}catch(e){i(e),r.unsubscribe()}},error:i,complete:n});else i(new TypeError(e+" is not a function"));function o(){r.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this),i=arguments.length>1,r=!1,o=arguments[1];return new n((function(n){return t.subscribe({next:function(t){var s=!r;if(r=!0,!s||i)try{o=e(o,t)}catch(e){return n.error(e)}else o=t},error:function(e){n.error(e)},complete:function(){if(!r&&!i)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=h(this);return new r((function(t){var i,o=0;return function e(s){i=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(i=void 0,t.complete()):e(r.from(n[o++]))}})}(e),function(){i&&(i.unsubscribe(),i=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this);return new n((function(i){var r=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return i.error(e)}var o=n.from(t).subscribe({next:function(e){i.next(e)},error:function(e){i.error(e)},complete:function(){var e=r.indexOf(o);e>=0&&r.splice(e,1),s()}});r.push(o)},error:function(e){i.error(e)},complete:function(){s()}});function s(){o.closed&&0===r.length&&i.complete()}return function(){r.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var i=d(t,c);if(i){var r=i.call(t);if(Object(r)!==r)throw new TypeError(r+" is not an object");return p(r)&&r.constructor===n?r:new n((function(e){return r.subscribe(e)}))}if(s("iterator")&&(i=d(t,l)))return new n((function(e){m((function(){if(!e.closed){var n=!0,r=!1,o=void 0;try{for(var s,a=i.call(t)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;if(e.next(l),e.closed)return}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){m((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new("function"==typeof this?this:e)((function(e){m((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:u,get:function(){return this}}]),e}();t.Observable=O,o()&&Object.defineProperty(O,Symbol("extensions"),{value:{symbol:c,hostReportError:f},configurable:!0})},10086:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjE0MiIgdmlld0JveD0iMCAwIDE0MiAxNDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik04MiA4Mi41MDAxQzg1LjMzMzMgODIuMTY2NyA5Mi4zIDgyLjgwMDEgOTMuNSA4OC4wMDAxTTYwLjUgODIuMDczM0M1Ny4xNjY3IDgxLjc0IDUwLjIgODIuMzczMyA0OSA4Ny41NzMzTTM0Ljc2NjggNjcuMzI3NUMzNC43NjY4IDY3LjMyNzUgMzQuNzczIDY0LjgwOTQgMzcuMjg5IDY0LjgxNTZDMzkuODA5MSA2NC44MjM4IDM5LjgwMDkgNjcuMzQxOSAzOS44MDA5IDY3LjM0MTlMMzkuNzYxOCA3OS4wMjU3QzQwLjE2MjcgNzguODQwNyA0MC41ODIgNzguNjc0MiA0MS4wMjE5IDc4LjUzMDNMNDEuMDczMyA2Mi4zMTRDNDEuMDczMyA2Mi4zMTQgNDEuMDgxNSA1OS43OTYgNDMuNTk1NCA1OS44MDQyQzQ2LjExMTQgNTkuODEwMyA0Ni4xMDUzIDYyLjMzMDUgNDYuMTA1MyA2Mi4zMzA1TDQ2LjA2MjEgNzcuNTgyN0M0Ni40NzEyIDc3LjU0NTcgNDYuODkyNSA3Ny41MTY5IDQ3LjMxNiA3Ny40OTYzTDQ3LjM3MzUgNTkuODE0NUM0Ny4zNzM1IDU5LjgxNDUgNDcuMzc5NyA1Ny4yOTY0IDQ5Ljg5NzggNTcuMzA2N0M1Mi40MTU4IDU3LjMxNDkgNTIuNDA1NSA1OS44MzI5IDUyLjQwNTUgNTkuODMyOUw1Mi4zNDggNzcuNTEwN0M1Mi43Nzk3IDc3LjUzNTQgNTMuMTk0OSA3Ny41Nzg2IDUzLjYxMDEgNzcuNjE3Nkw1My42NjE1IDYxLjA5M0M1My42NjE1IDYxLjA5MyA1My42Njk3IDU4LjU3NDkgNTYuMTgzNyA1OC41ODUyQzU4LjY5OTcgNTguNTkxNCA1OC42ODk0IDYxLjEwNzQgNTguNjg5NCA2MS4xMDc0TDU4LjY0IDc4LjU4MTdMNTguNjMzOSA3OS45ODE1VjgxLjIzNzRMNTkuODg3OCA4Mi41MDM3TDYzLjU4OTggNzMuODk1QzYzLjU4OTggNzMuODk1IDY0LjQwMTggNzEuNTEyNiA2Ni43ODgzIDcyLjMyODdDNjkuMTY4NiA3My4xMzQ0IDY4LjM2MDggNzUuNTIxIDY4LjM2MDggNzUuNTIxTDY2LjUyNTIgODEuOTAzNUM2NS43OTc1IDg0LjQ0IDY1LjExNzEgODYuOTkzIDY0Ljc1OTQgODkuNTk5NEM2My43MzU4IDk2Ljk2NjYgNTcuMzk4NSAxMDIuNjMyIDQ5Ljc1NTkgMTAyLjYxMUM0MS40MjA3IDEwMi41NzYgMzQuNjc4NCA5NS43OTY5IDM0LjcwNTIgODcuNDYxN0MzNC43MDYgODcuMjc4NyAzNC43MDkzIDg2LjE5OTYgMzQuNzA5MyA4Ni4xOTk2TDM0Ljc2NjggNjcuMzI3NVpNMTA3LjIxMyA2Ny4zMjc1QzEwNy4yMTMgNjcuMzI3NSAxMDcuMjA3IDY0LjgwOTQgMTA0LjY5MSA2NC44MTU2QzEwMi4xNzEgNjQuODIzOCAxMDIuMTc3IDY3LjM0MTkgMTAyLjE3NyA2Ny4zNDE5TDEwMi4yMTYgNzkuMDI1N0MxMDEuODE3IDc4Ljg0MDcgMTAxLjM5NiA3OC42NzQyIDEwMC45NTggNzguNTMwM0wxMDAuOTA2IDYyLjMxNEMxMDAuOTA2IDYyLjMxNCAxMDAuODk4IDU5Ljc5NiA5OC4zODQyIDU5LjgwNDJDOTUuODY2MSA1OS44MTAzIDk1Ljg3MjMgNjIuMzMwNSA5NS44NzIzIDYyLjMzMDVMOTUuOTE3NSA3Ny41ODI3Qzk1LjUxMDUgNzcuNTQ1NyA5NS4wODkxIDc3LjUxNjkgOTQuNjYzNiA3Ny40OTYzTDk0LjYwODIgNTkuODE0NUM5NC42MDgyIDU5LjgxNDUgOTQuNTk5OSA1Ny4yOTY0IDkyLjA4MTkgNTcuMzA2N0M4OS41NjM4IDU3LjMxNDkgODkuNTc0MSA1OS44MzI5IDg5LjU3NDEgNTkuODMyOUw4OS42MzE2IDc3LjUxMDdDODkuMiA3Ny41MzU0IDg4Ljc4NDggNzcuNTc4NiA4OC4zNjk1IDc3LjYxNzZMODguMzE4MSA2MS4wOTNDODguMzE4MSA2MS4wOTMgODguMzA3OSA1OC41NzQ5IDg1Ljc5MzkgNTguNTg1MkM4My4yNzc5IDU4LjU5MTQgODMuMjg4MiA2MS4xMDc0IDgzLjI4ODIgNjEuMTA3NEw4My4zMzc1IDc4LjU4MTdMODMuMzQzNyA3OS45ODE1VjgxLjIzNzRMODIuMDkxOSA4Mi41MDM3TDc4LjM4OTggNzMuODk1Qzc4LjM4OTggNzMuODk1IDc3LjU3OTkgNzEuNTEyNiA3NS4xOTE0IDcyLjMyODdDNzIuODEzMSA3My4xMzQ0IDczLjYxODkgNzUuNTIxIDczLjYxODkgNzUuNTIxTDc1LjQ1NDUgODEuOTAzNUM3Ni4xODIxIDg0LjQ0IDc2Ljg2MjUgODYuOTkzIDc3LjIyMDIgODkuNTk5NEM3OC4yNDM5IDk2Ljk2NjYgODQuNTc5MSAxMDIuNjMyIDkyLjIyMzcgMTAyLjYxMUMxMDAuNTU5IDEwMi41NzYgMTA3LjMwMyA5NS43OTY5IDEwNy4yNzQgODcuNDYxN0MxMDcuMjc0IDg3LjI3ODcgMTA3LjI3IDg2LjE5OTYgMTA3LjI3IDg2LjE5OTZMMTA3LjIxMyA2Ny4zMjc1WiIgc3Ryb2tlPSIjMjIyMjIyIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTgyLjM4OTkgNTYuMjc0OEM4MS45NTIxIDU2LjI3NDggODEuNTA4MSA1Ni4xMzUgODEuMTM2IDU1Ljg0NzJDODAuMjM1NyA1NS4xNTI0IDgwLjA3MTMgNTMuODYxNiA4MC43NjYgNTIuOTYzM0w4Ni44ODk1IDQ1LjAzOTFDODcuNTc4MSA0NC4xNDI5IDg4Ljg3MzEgNDMuOTcwMiA4OS43NzE0IDQ0LjY2OTFDOTAuNjcxOCA0NS4zNjM5IDkwLjgzNjIgNDYuNjU0OCA5MC4xNDE0IDQ3LjU1MzFMODQuMDE3OSA1NS40NzcyQzgzLjYxNSA1Ni4wMDE0IDgzLjAwNjYgNTYuMjc0OCA4Mi4zODk5IDU2LjI3NDhaTTU5LjczNzcgNTYuMjc0OEM1OS4xMjMxIDU2LjI3NDggNTguNTE0NyA1NS45OTkzIDU4LjEwOTcgNTUuNDc1Mkw1MS45ODYyIDQ3LjU1MzFDNTEuMjkzNSA0Ni42NTQ4IDUxLjQ2IDQ1LjM2MzkgNTIuMzU4MyA0NC42NjkxQzUzLjI1NjUgNDMuOTc2NCA1NC41NDU0IDQ0LjE0MDggNTUuMjQyMiA0NS4wMzkxTDYxLjM2NTcgNTIuOTYzM0M2Mi4wNTg0IDUzLjg2MTYgNjEuODk0IDU1LjE1MjQgNjAuOTk1NyA1NS44NDcyQzYwLjYxOTUgNTYuMTM3MSA2MC4xNzc2IDU2LjI3NDggNTkuNzM3NyA1Ni4yNzQ4Wk03MS4wMDAxIDUyLjMzMzNDNjkuODY1NCA1Mi4zMzMzIDY4Ljk0NDUgNTEuNDEyNCA2OC45NDQ1IDUwLjI3NzhWNDIuMDU1NkM2OC45NDQ1IDQwLjkyMDkgNjkuODY1NCA0MCA3MS4wMDAxIDQwQzcyLjEzNjggNDAgNzMuMDU1NiA0MC45MjA5IDczLjA1NTYgNDIuMDU1NlY1MC4yNzc4QzczLjA1NTYgNTEuNDEyNCA3Mi4xMzY4IDUyLjMzMzMgNzEuMDAwMSA1Mi4zMzMzWiIgZmlsbD0iIzIyMjIyMiIvPgo8L3N2Zz4K"},28659:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iMTI3Ljk4MzI1bW0iCiAgIGhlaWdodD0iMTI1Ljg3MDg0bW0iCiAgIHZpZXdCb3g9IjAgMCAxMjcuOTgzMjUgMTI1Ljg3MDg0IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczOSIKICAgc29kaXBvZGk6ZG9jbmFtZT0icm90YXRlLXBob25lLWZhbGxiYWNrLnN2ZyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4xLjIgKGI4ZTI1YmU4LCAyMDIyLTAyLTA1KSIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9Im5hbWVkdmlldzQxIgogICAgIHBhZ2Vjb2xvcj0iIzUwNTA1MCIKICAgICBib3JkZXJjb2xvcj0iI2VlZWVlZSIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZWNoZWNrZXJib2FyZD0iMCIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0ibW0iCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnNuYXAtcGFnZT0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMC4zMTUxMjI4MSIKICAgICBpbmtzY2FwZTpjeD0iMTc5LjI5NTE4IgogICAgIGlua3NjYXBlOmN5PSI4MDcuNjIxNjMiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxODY0IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEzODciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjI1IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIiAvPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMzNiIgLz4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNC4yOTI2NzM1LC00LjM5MzAzMTgpIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDowLjI2NDU4MyIKICAgICAgIGQ9Im0gNzIuODIwNTc2LDEyOC4yOTE4IGMgMTEuNzczNzksLTEuMDg5ODggMjEuODgzMTQsLTIuMDUzIDIyLjQ2NTIyLC0yLjE0MDI4IDIuNzI3MzIsLTAuNDA4OTEgNS41ODUwNTQsLTIuNDkxMTIgNi45MzU4NDQsLTUuMDUzNjIgMS42NTQ0MiwtMy4xMzg1MyAxLjkwMTYxLDAuOTY5MTcgLTMuMzYyNTI0LC01NS44NzY4NCAtMi42MjI4MSwtMjguMzIzMTM0IC00Ljg4OTU0LC01Mi4wODEwODggLTUuMDM3MTYsLTUyLjc5NTQ1MyAtMC40MjQwNiwtMi4wNTIwNjEgLTEuMTc3NjcsLTMuNDgzMTc4IC0yLjY1ODk4LC01LjA0OTQ0MyAtMS44Nzk1OCwtMS45ODczNzMgLTMuNzI1MjUsLTIuODM4OTAyIC02LjQ2MDUxLC0yLjk4MDY1NSAtMi4xODE4MiwtMC4xMTMwNyAtNDQuMzU4MzA4LDMuNjc5NjUyIC00Ni42ODc4ODgsNC4xOTg0MTMgLTMuNjY2OSwwLjgxNjU1NCAtNi42MTY4MSw0LjAxNTg5MyAtNy40Mjk1LDguMDU3NjkyIC0wLjI4NjMsMS40MjM4NzEgMC4xMzMwOSw2LjQwNzcwMiA0LjQ4NDkzLDUzLjI5Njc4NiAyLjc3MDM3LDI5Ljg0OTQ4IDQuOTYzNzUsNTIuMjg1NTUgNS4xODYxNCw1My4wNDg5NiAxLjI2OTk5LDQuMzU5NzEgNS4wMDQzNCw3LjI0MjM3IDkuNDEzMzksNy4yNjY0OSAwLjk1OTI4LDAuMDA1IDExLjM3NzI0OCwtMC44ODIxNyAyMy4xNTEwMzgsLTEuOTcyMDUgeiBtIC0yMy43MDQ1NjgsLTAuOTYwNTMgYyAtMC44MDAzNywtMC4wOTQgLTEuNzY5NCwtMC4yOTU5NSAtMi4xNTM0MiwtMC40NDg3NiAtMS42NjUxMiwtMC42NjI1OCAtMy42ODM1LC0zLjEzNTk2IC00LjAzNDA3LC00Ljk0MzQ4IC0wLjA4NDcsLTAuNDM2NTcgLTIuMzA2NDgsLTI0LjA0NCAtNC45MzczNywtNTIuNDYwOTcgLTQuNjUxMjQsLTUwLjIzOTQwNiAtNC43NzIwNCwtNTEuNzA2MzkzIC00LjM3MTI4LC01My4wODQ5NTcgMC41MzgyMSwtMS44NTEzOTUgMi4zMTU1MywtMy44NTE5NDQgNC4xMDY2NywtNC42MjI0NzIgMS4xNTI0MiwtMC40OTU3NTggNC4xNTk3MSwtMC44MzE3MSAyMi45NjAzODgsLTIuNTY0OTY5IDExLjkzMzE4LC0xLjEwMDEzNCAyMi41MzM0MiwtMS45NTc4ODIgMjMuNjM5NDMsLTEuOTEyODUgMS42ODU5NSwwLjA2ODY0IDIuMjEyNDIsMC4yMDkyMjIgMy4zMDcyOSwwLjg4MzEgMS40MjIzMSwwLjg3NTQxNiAyLjg2MzMsMi43NzY4NDQgMy4yNzEwNyw0LjMxNjI4NSAwLjM0Mzk4LDEuMjk4NTg5IDkuNTQwNDY0LDEwMS4yODQzMDMgOS41NDA0NjQsMTAzLjcyNTUwMyAwLDMuMjUwMzcgLTEuMzQxODg0LDUuMzM3MDggLTQuMjYyOTk0LDYuNjI5MjIgLTAuOTk3MjksMC40NDExNSAtNC42OTc5NiwwLjg1MTA3IC0yMi43Mzk2LDIuNTE4ODYgLTExLjg1MTY1LDEuMDk1NTggLTIxLjg0NjEwOCwyLjAyNDQ3IC0yMi4yMDk5MDgsMi4wNjQxOSAtMC4zNjM4MSwwLjAzOTcgLTEuMzE2MzEsLTAuMDA1IC0yLjExNjY3LC0wLjA5ODcgeiBtIDIzLjU0NzkxOCwtOS4xMDY2OSBjIDUuNzQ4MDcsLTAuNTE1OTQgMTAuNzE1NjUsLTEuMDQ4MDcgMTEuMDM5MDUsLTEuMTgyNTEgMC44NzI2MywtMC4zNjI3MyAxLjA2OTAxLC0xLjUwMTExIDAuMzc4MTQsLTIuMTkxOTkgbCAtMC41NTg1LC0wLjU1ODUgLTExLjkxMzY3LDEuMTAzNTIgYyAtNi41NTI1MiwwLjYwNjk0IC0xMi4xNTA4OCwxLjIzMDQ3IC0xMi40NDA4LDEuMzg1NjQgLTAuMzI5ODYsMC4xNzY1MyAtMC41MjU2MiwwLjU1MDkzIC0wLjUyMzA5LDEuMDAwNDEgMC4wMDcsMS4zMjg2NSAwLjU2NDk5LDEuNjgwNDMgMi4zNzcyLDEuNTAwMDQgMC42NTQ4NCwtMC4wNjUyIDUuODkzNTksLTAuNTQwNjYgMTEuNjQxNjcsLTEuMDU2NjEgeiBtIC04Ljc0ODQ5LC05OS4xOTMyMjIgYyAyLjg0NjU2LC0wLjI4NDQ4NyAzLjYyMzk1LC0wLjQ1MDA0NSAzLjkwMjYsLTAuODMxMTI3IDAuNDkzMywtMC42NzQ2MzIgMC40MzE5OCwtMS4yNzUwMzMgLTAuMTg3NSwtMS44MzU2NSAtMC41MDQxMywtMC40NTYyMzIgLTAuNzcxMjMsLTAuNDY1NTY5IC00LjU2NDA2LC0wLjE1OTU0NyAtMi4yMTU3MywwLjE3ODc3NCAtNC40MjIzMiwwLjM5MjkwNyAtNC45MDM1NCwwLjQ3NTg1NCAtMS41OTkzOCwwLjI3NTY3NyAtMi4xMzE1MiwyLjE5MjgxMyAtMC43NTU0MywyLjcyMTYxOCAwLjMxNDYyLDAuMTIwOSAxLjEwNzgyLDAuMTY2NzggMS43NjI2NywwLjEwMTk2IDAuNjU0ODQsLTAuMDY0OCAyLjc5MDIxLC0wLjI3NzcxOCA0Ljc0NTI2LC0wLjQ3MzEwOCB6IE0gMjcuMzI1NjQ4LDEwMC4yMjI2OSBjIDAuNTYyNDUsLTAuODU4NDEgMC4yNDY0LC0xLjkzNzk1IC0wLjcwMjcyLC0yLjQwMDMzIEMgMjYuMjYxMDQ4LDk3LjY0NjA3IDI0LjU5NTc0OCw5Ni44NDc2IDIyLjkyMjI1OCw5Ni4wNDggMTUuMDI1NDQ4LDkyLjI3NDg0IDkuODgwOTc4Miw4NS41NTcyOCA4LjIwMjc2ODIsNzYuODI3NTcgYyAtMC41MDMwOSwtMi42MTY5NyAtMC40ODYzMSwtNy44ODYwMiAwLjAzMzEsLTEwLjQwMDczIDEuMzM1MTUsLTYuNDYzODUgNC45Njk3ODk4LC0xMi4zMzI3ODUgOS45ODc4Mzk4LC0xNi4xMjc1NjUgMy42OTUyNiwtMi43OTQ0NSAzLjYwNDczLC0yLjg3NDE1IDEuNjIzNzgsMS40Mjk1MSAtMi43OTc4Nyw2LjA3ODQ4IC0zLjA2MDU4LDYuNzg0MDcgLTIuNzQ1MjUsNy4zNzMyNiAwLjU3MDI4LDEuMDY1NTg1IDIuMDA4NTMsMS4zODAzMzUgMi43MTMyMSwwLjU5Mzc1NSAwLjU1MTg1LC0wLjYxNTk4NSA3LjA3NTU0LC0xNC44MzcwMTUgNy4wNzU1NCwtMTUuNDI0MDA1IDAsLTAuMjUyMTggLTAuMjA4MzYsLTAuNzAxNzIgLTAuNDYzMDIsLTAuOTk4OTggLTAuNDc1OTcsLTAuNTU1NTY5IC0xNC43MjQ2MywtNy4xOTEwNjkgLTE1LjQ0MTY2LC03LjE5MTA2OSAtMS4yMDEwNTk4LDAgLTIuMDU4NTg5OCwyLjE2NTQzIC0xLjE1NDYyOTgsMi45MTU2NSAwLjIyMTc0OTgsMC4xODQwNCAyLjc5MTUwOTgsMS40MzQ4MiA1LjcxMDU3OTgsMi43Nzk1MSA0LjE3Mzk0LDEuOTIyNzQ5IDUuMjMyMDUsMi41MTAxNzkgNC45NTQ2MiwyLjc1MDYxOSAtMC4xOTQwMiwwLjE2ODE2IC0xLjI1OTUzLDAuODkyODUgLTIuMzY3OCwxLjYxMDQyIC02LjczOTI0LDQuMzYzNDMgLTExLjY0NTcxOTgsMTEuNjUyMjggLTEzLjM2NDg0OTgsMTkuODU0MjU1IC0wLjU3MjkxLDIuNzMzMzggLTAuNjM0OTUsOC4yNTQwNCAtMC4xMjQ3NCwxMS4wOTk5NSAxLjY3Mjg0LDkuMzMwODEgNy43NzI3ODk4LDE3LjYwMDM5IDE2LjEwNTE4OTgsMjEuODMzNDcgNC4yMjAzNywyLjE0NDA1IDUuODE5NDcsMi40NTkyMiA2LjU4MDk1LDEuMjk3MDcgeiBtIDk5LjMxMzI4MiwtNC42MDk3MSBjIDAuNzIwMTIsLTAuNzIwMTEgMC42NjkwNywtMS43NTIwOSAtMC4xMjE2OCwtMi40NjAwMiAtMC4zNTc5NiwtMC4zMjA0OCAtMi44NTgyNywtMS41ODUzMiAtNS41NTYyNSwtMi44MTA3OCAtMi42OTc5NywtMS4yMjU0NSAtNC45MDU0MSwtMi4zMTgzMiAtNC45MDU0MSwtMi40Mjg2IDAsLTAuMTEwMjcgMC45MjI3NCwtMC43NzI0OCAyLjA1MDUzLC0xLjQ3MTU2IDIuNDEyNTQsLTEuNDk1NDYgNy4zOTk2NiwtNi4zMzg2MiA4LjkxMjg3LC04LjY1NTU3IDIuMzI0NTIsLTMuNTU5MiAzLjkxNDQ2LC03LjQxNjc4IDQuODExNzUsLTExLjY3NDUxIDAuNTM4NTcsLTIuNTU1NTUgMC42MDAwMiwtNy45MjM5NTUgMC4xMjExNCwtMTAuNTgzMzI1IC0xLjgwNDAyLC0xMC4wMTgzOSAtNy44NDI5NSwtMTguMDk4ODk5IC0xNi44OTM3NiwtMjIuNjA1MDY5IC0zLjY0Mzg4LC0xLjgxNDIgLTUuMTYwNzcsLTIuMDE5NzEgLTUuODQ3MzksLTAuNzkyMjIgLTAuNzMxNCwxLjMwNzU2IC0wLjI4MDQ4LDEuOTA2OTQgMi4yNzQ2NSwzLjAyMzU1IDYuMTI1NzQsMi42NzY5OCAxMC4wMDMzNCw1LjkwNDc1IDEzLjIxMTM5LDEwLjk5NzMzOSAyLjYwOTc2LDQuMTQyODQgMy43OTcyMyw4LjEyNDU1IDMuOTg3NjYsMTMuMzcxMDcgMC4xOTUxMiw1LjM3NTY2NSAtMC41NzcyLDguODY3NDE1IC0zLjAxNjE2LDEzLjYzNjM4NSAtMS4yMTkzNCwyLjM4NDIxIC00LjYzOTU0LDYuNzQ0OTkgLTYuMjU4OSw3Ljk4MDEzIC0wLjUwOTcsMC4zODg3NiAtMS4wODU4NSwwLjg1NzY4IC0xLjI4MDM1LDEuMDQyMDQgLTAuNjc2NjksMC42NDE0MiAtMi42NTIxMSwxLjgyODE1IC0yLjc5ODg2LDEuNjgxNDEgLTAuMDgxMiwtMC4wODEyIDAuODgxOTEsLTIuMzY2NDcgMi4xNDAzNCwtNS4wNzgyOSAyLjA5Nzg3LC00LjUyMDc1IDIuMjYwNTYsLTQuOTg3OTMgMS45NTczMSwtNS42MjA2NCAtMC40ODk2MywtMS4wMjE1OSAtMS42MTA5MSwtMS4zMzQ1NyAtMi40NjI5OSwtMC42ODc0OSAtMC43NjM0NSwwLjU3OTc4IC03LjI1OTIzLDE0LjUwNDE1IC03LjI1OTIzLDE1LjU2MDkxIDAsMC4zMzc3NCAwLjIyNjIxLDAuODE4NzggMC41MDI2OSwxLjA2ODk4IDAuNzA2NzMsMC42Mzk1OSAxNC41ODE5OCw3LjAwNDc1IDE1LjMwNjE3LDcuMDIxNTkgMC4zMjc0MiwwLjAwOCAwLjgzMzQ0LC0wLjIyNDI4IDEuMTI0NDgsLTAuNTE1MzMgeiIKICAgICAgIGlkPSJwYXRoMTA5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJzc3Nzc3Nzc3NzY2NzY3Nzc3Nzc3Nzc3Nzc3Njc3NzY3NzY3Nzc3Nzc3Nzc3Nzc2NzY3Nzc3Nzc3Nzc3Nzc2Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzY3MiIC8+CiAgPC9nPgo8L3N2Zz4K"},8241:(e,t,n)=>{"use strict";e.exports=n.p+"images/escape.png"},51:(e,t,n)=>{"use strict";e.exports=n.p+"images/headset-quest-2.png"},54322:(e,t,n)=>{"use strict";e.exports=n.p+"images/Desktop-help-play-button.svg"},28301:(e,t,n)=>{"use strict";e.exports=n.p+"images/Desktop-help-spacebar.png"},50561:(e,t,n)=>{"use strict";e.exports=n.p+"images/matterport-logo-white-r.svg"},65224:(e,t,n)=>{"use strict";e.exports=n.p+"images/mattertag-disc-128-free.v1.png"},23672:(e,t,n)=>{"use strict";e.exports=n.p+"images/mobile-help-play-button.svg"},94246:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_360.png"},53228:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_click_inside.png"},99713:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag.png"},45894:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag.svg"},99484:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag_two_finger.png"},62979:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag_two_finger_rotate.svg"},40783:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_drag_two_finger_vert.svg"},13179:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_pinch.png"},58780:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_pinch.svg"},96558:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_position.png"},60497:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_position_two_finger.png"},50968:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_tap.png"},64727:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_gesture_tap.svg"},34715:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_inside_key.png"},64268:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_keyboard_all.png"},31873:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_keyboard_left_right.png"},88691:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_keyboard_up_down.png"},16391:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_click.png"},11400:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_click.svg"},61273:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_ctrl_click.png"},46997:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_drag_left.png"},2710:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_drag_right.png"},38826:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_drag_right_horiz.svg"},5293:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_drag_right_vert.svg"},56048:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_position_left.png"},45663:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_position_left.svg"},85893:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_position_right.png"},93582:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_zoom.png"},713:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_mouse_zoom.svg"},68117:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_tap_inside.png"},35235:(e,t,n)=>{"use strict";e.exports=n.p+"images/nav_help_zoom_keys.png"},68909:e=>{"use strict";e.exports=THREE},38721:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentifierChar=u,t.isIdentifierName=function(e){let t=!0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(55296==(64512&i)&&n+1<e.length){const t=e.charCodeAt(++n);56320==(64512&t)&&(i=65536+((1023&i)<<10)+(1023&t))}if(t){if(t=!1,!c(i))return!1}else if(!u(i))return!1}return!t},t.isIdentifierStart=c;let n="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",i="-----------------------------------------------------------------------------------------------------------------------------------------------------";const r=new RegExp("["+n+"]"),o=new RegExp("["+n+i+"]");n=i=null;const s=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],a=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function l(e,t){let n=65536;for(let i=0,r=t.length;i<r;i+=2){if(n+=t[i],n>e)return!1;if(n+=t[i+1],n>=e)return!0}return!1}function c(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&r.test(String.fromCharCode(e)):l(e,s)))}function u(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&o.test(String.fromCharCode(e)):l(e,s)||l(e,a))))}},61e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"wb",{enumerable:!0,get:function(){return r.isKeyword}}),Object.defineProperty(t,"wh",{enumerable:!0,get:function(){return r.isStrictReservedWord}});var i=n(38721),r=n(43115)},43115:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyword=function(e){return r.has(e)},t.isReservedWord=a,t.isStrictBindOnlyReservedWord=c,t.isStrictBindReservedWord=function(e,t){return l(e,t)||c(e)},t.isStrictReservedWord=l;const n=["implements","interface","let","package","private","protected","public","static","yield"],i=["eval","arguments"],r=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),o=new Set(n),s=new Set(i);function a(e,t){return t&&"await"===e||"enum"===e}function l(e,t){return a(e,t)||o.has(e)}function c(e){return s.has(e)}},53359:e=>{var t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,E;p=/\/(?![*\/])(?:\[(?:[^\]\\\n\r\u2028\u2029]+|\\.)*\]|[^\/\\\n\r\u2028\u2029]+|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/uy,h=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,t=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]+|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/uy,m=/(['"])(?:[^'"\\\n\r]+|(?!\1)['"]|\\(?:\r\n|[^]))*(\1)?/y,d=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,g=/[`}](?:[^`\\$]+|\\[^]|\$(?!\{))*(`|\$\{)?/y,E=/[\t\v\f\ufeff\p{Zs}]+/uy,l=/\r?\n|[\r\u2028\u2029]/y,c=/\/\*(?:[^*]+|\*(?!\/))*(\*\/)?/y,f=/\/\/.*/y,i=/[<>.:={}]|\/(?![\/*])/y,n=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/uy,r=/(['"])(?:[^'"]+|(?!\1)['"])*(\1)?/y,o=/[^<>{}]+/y,y=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,v=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,s=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,a=/^(?:return|throw|yield)$/,u=RegExp(l.source),e.exports=function*(e,{jsx:S=!1}={}){var b,O,_,T,A,w,N,I,R,k,L,M,D,P;for(({length:w}=e),T=0,A="",P=[{tag:"JS"}],b=[],L=0,M=!1;T<w;){switch((I=P[P.length-1]).tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if("/"===e[T]&&(y.test(A)||s.test(A))&&(p.lastIndex=T,N=p.exec(e))){T=p.lastIndex,A=N[0],M=!0,yield{type:"RegularExpressionLiteral",value:N[0],closed:void 0!==N[1]&&"\\"!==N[1]};continue}if(h.lastIndex=T,N=h.exec(e)){switch(D=N[0],R=h.lastIndex,k=D,D){case"(":"?NonExpressionParenKeyword"===A&&P.push({tag:"JSNonExpressionParen",nesting:L}),L++,M=!1;break;case")":L--,M=!0,"JSNonExpressionParen"===I.tag&&L===I.nesting&&(P.pop(),k="?NonExpressionParenEnd",M=!1);break;case"{":h.lastIndex=0,_=!v.test(A)&&(y.test(A)||s.test(A)),b.push(_),M=!1;break;case"}":switch(I.tag){case"InterpolationInTemplate":if(b.length===I.nesting){g.lastIndex=T,N=g.exec(e),T=g.lastIndex,A=N[0],"${"===N[1]?(A="?InterpolationInTemplate",M=!1,yield{type:"TemplateMiddle",value:N[0]}):(P.pop(),M=!0,yield{type:"TemplateTail",value:N[0],closed:"`"===N[1]});continue}break;case"InterpolationInJSX":if(b.length===I.nesting){P.pop(),T+=1,A="}",yield{type:"JSXPunctuator",value:"}"};continue}}k=(M=b.pop())?"?ExpressionBraceEnd":"}";break;case"]":M=!0;break;case"++":case"--":k=M?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(S&&(y.test(A)||s.test(A))){P.push({tag:"JSXTag"}),T+=1,A="<",yield{type:"JSXPunctuator",value:D};continue}M=!1;break;default:M=!1}T=R,A=k,yield{type:"Punctuator",value:D};continue}if(t.lastIndex=T,N=t.exec(e)){switch(T=t.lastIndex,k=N[0],N[0]){case"for":case"if":case"while":case"with":"."!==A&&"?."!==A&&(k="?NonExpressionParenKeyword")}A=k,M=!s.test(N[0]),yield{type:"#"===N[1]?"PrivateIdentifier":"IdentifierName",value:N[0]};continue}if(m.lastIndex=T,N=m.exec(e)){T=m.lastIndex,A=N[0],M=!0,yield{type:"StringLiteral",value:N[0],closed:void 0!==N[2]};continue}if(d.lastIndex=T,N=d.exec(e)){T=d.lastIndex,A=N[0],M=!0,yield{type:"NumericLiteral",value:N[0]};continue}if(g.lastIndex=T,N=g.exec(e)){T=g.lastIndex,A=N[0],"${"===N[1]?(A="?InterpolationInTemplate",P.push({tag:"InterpolationInTemplate",nesting:b.length}),M=!1,yield{type:"TemplateHead",value:N[0]}):(M=!0,yield{type:"NoSubstitutionTemplate",value:N[0],closed:"`"===N[1]});continue}break;case"JSXTag":case"JSXTagEnd":if(i.lastIndex=T,N=i.exec(e)){switch(T=i.lastIndex,k=N[0],N[0]){case"<":P.push({tag:"JSXTag"});break;case">":P.pop(),"/"===A||"JSXTagEnd"===I.tag?(k="?JSX",M=!0):P.push({tag:"JSXChildren"});break;case"{":P.push({tag:"InterpolationInJSX",nesting:b.length}),k="?InterpolationInJSX",M=!1;break;case"/":"<"===A&&(P.pop(),"JSXChildren"===P[P.length-1].tag&&P.pop(),P.push({tag:"JSXTagEnd"}))}A=k,yield{type:"JSXPunctuator",value:N[0]};continue}if(n.lastIndex=T,N=n.exec(e)){T=n.lastIndex,A=N[0],yield{type:"JSXIdentifier",value:N[0]};continue}if(r.lastIndex=T,N=r.exec(e)){T=r.lastIndex,A=N[0],yield{type:"JSXString",value:N[0],closed:void 0!==N[2]};continue}break;case"JSXChildren":if(o.lastIndex=T,N=o.exec(e)){T=o.lastIndex,A=N[0],yield{type:"JSXText",value:N[0]};continue}switch(e[T]){case"<":P.push({tag:"JSXTag"}),T++,A="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":P.push({tag:"InterpolationInJSX",nesting:b.length}),T++,A="?InterpolationInJSX",M=!1,yield{type:"JSXPunctuator",value:"{"};continue}}E.lastIndex=T,(N=E.exec(e))?(T=E.lastIndex,yield{type:"WhiteSpace",value:N[0]}):(l.lastIndex=T,(N=l.exec(e))?(T=l.lastIndex,M=!1,a.test(A)&&(A="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:N[0]}):(c.lastIndex=T,(N=c.exec(e))?(T=c.lastIndex,u.test(N[0])&&(M=!1,a.test(A)&&(A="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:N[0],closed:void 0!==N[1]}):(f.lastIndex=T,(N=f.exec(e))?(T=f.lastIndex,M=!1,yield{type:"SingleLineComment",value:N[0]}):(T+=(O=String.fromCodePoint(e.codePointAt(T))).length,A=O,M=!1,yield{type:I.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:O}))))}}},38630:(e,t,n)=>{var i;!function(e){!function(){var t="object"==typeof globalThis?globalThis:"object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:function(){try{return Function("return this;")()}catch(e){}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}(),i=r(e);function r(e,t){return function(n,i){Object.defineProperty(e,n,{configurable:!0,writable:!0,value:i}),t&&t(n,i)}}void 0!==t.Reflect&&(i=r(t.Reflect,i)),function(e,t){var n=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,r=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,a={__proto__:[]}instanceof Array,l=!s&&!a,c={create:s?function(){return de(Object.create(null))}:a?function(){return de({__proto__:null})}:function(){return de({})},has:l?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:l?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),d="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:le(),h="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:ce(),p="function"==typeof WeakMap?WeakMap:ue(),f=i?Symbol.for("@reflect-metadata:registry"):void 0,m=re(),g=oe(m);function v(e,t,n,i){if(U(n)){if(!$(e))throw new TypeError;if(!Y(t))throw new TypeError;return N(e,t)}if(!$(e))throw new TypeError;if(!H(t))throw new TypeError;if(!H(i)&&!U(i)&&!j(i))throw new TypeError;return j(i)&&(i=void 0),I(e,t,n=z(n),i)}function y(e,t){function n(n,i){if(!H(n))throw new TypeError;if(!U(i)&&!q(i))throw new TypeError;D(e,t,n,i)}return n}function E(e,t,n,i){if(!H(n))throw new TypeError;return U(i)||(i=z(i)),D(e,t,n,i)}function S(e,t,n){if(!H(t))throw new TypeError;return U(n)||(n=z(n)),R(e,t,n)}function b(e,t,n){if(!H(t))throw new TypeError;return U(n)||(n=z(n)),k(e,t,n)}function O(e,t,n){if(!H(t))throw new TypeError;return U(n)||(n=z(n)),L(e,t,n)}function _(e,t,n){if(!H(t))throw new TypeError;return U(n)||(n=z(n)),M(e,t,n)}function T(e,t){if(!H(e))throw new TypeError;return U(t)||(t=z(t)),P(e,t)}function A(e,t){if(!H(e))throw new TypeError;return U(t)||(t=z(t)),C(e,t)}function w(e,t,n){if(!H(t))throw new TypeError;if(U(n)||(n=z(n)),!H(t))throw new TypeError;U(n)||(n=z(n));var i=ae(t,n,!1);return!U(i)&&i.OrdinaryDeleteMetadata(e,t,n)}function N(e,t){for(var n=e.length-1;n>=0;--n){var i=(0,e[n])(t);if(!U(i)&&!j(i)){if(!Y(i))throw new TypeError;t=i}}return t}function I(e,t,n,i){for(var r=e.length-1;r>=0;--r){var o=(0,e[r])(t,n,i);if(!U(o)&&!j(o)){if(!H(o))throw new TypeError;i=o}}return i}function R(e,t,n){if(k(e,t,n))return!0;var i=ne(t);return!j(i)&&R(e,i,n)}function k(e,t,n){var i=ae(t,n,!1);return!U(i)&&V(i.OrdinaryHasOwnMetadata(e,t,n))}function L(e,t,n){if(k(e,t,n))return M(e,t,n);var i=ne(t);return j(i)?void 0:L(e,i,n)}function M(e,t,n){var i=ae(t,n,!1);if(!U(i))return i.OrdinaryGetOwnMetadata(e,t,n)}function D(e,t,n,i){ae(n,i,!0).OrdinaryDefineOwnMetadata(e,t,n,i)}function P(e,t){var n=C(e,t),i=ne(e);if(null===i)return n;var r=P(i,t);if(r.length<=0)return n;if(n.length<=0)return r;for(var o=new h,s=[],a=0,l=n;a<l.length;a++){var c=l[a];o.has(c)||(o.add(c),s.push(c))}for(var u=0,d=r;u<d.length;u++){c=d[u];o.has(c)||(o.add(c),s.push(c))}return s}function C(e,t){var n=ae(e,t,!1);return n?n.OrdinaryOwnMetadataKeys(e,t):[]}function x(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function U(e){return void 0===e}function j(e){return null===e}function F(e){return"symbol"==typeof e}function H(e){return"object"==typeof e?null!==e:"function"==typeof e}function G(e,t){switch(x(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=X(e,r);if(void 0!==i){var o=i.call(e,n);if(H(o))throw new TypeError;return o}return B(e,"default"===n?"number":n)}function B(e,t){if("string"===t){var n=e.toString;if(K(n))if(!H(r=n.call(e)))return r;if(K(i=e.valueOf))if(!H(r=i.call(e)))return r}else{var i;if(K(i=e.valueOf))if(!H(r=i.call(e)))return r;var r,o=e.toString;if(K(o))if(!H(r=o.call(e)))return r}throw new TypeError}function V(e){return!!e}function W(e){return""+e}function z(e){var t=G(e,3);return F(t)?t:W(t)}function $(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function K(e){return"function"==typeof e}function Y(e){return"function"==typeof e}function q(e){switch(x(e)){case 3:case 4:return!0;default:return!1}}function Q(e,t){return e===t||e!=e&&t!=t}function X(e,t){var n=e[t];if(null!=n){if(!K(n))throw new TypeError;return n}}function Z(e){var t=X(e,o);if(!K(t))throw new TypeError;var n=t.call(e);if(!H(n))throw new TypeError;return n}function J(e){return e.value}function ee(e){var t=e.next();return!t.done&&t}function te(e){var t=e.return;t&&t.call(e)}function ne(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return t;var r=i.constructor;return"function"!=typeof r||r===e?t:r}function ie(){var e,n,i,r;U(f)||void 0===t.Reflect||f in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(e=se(t.Reflect));var o=new p,s={registerProvider:a,getProvider:c,setProvider:m};return s;function a(t){if(!Object.isExtensible(s))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case e===t:break;case U(n):n=t;break;case n===t:break;case U(i):i=t;break;case i===t:break;default:void 0===r&&(r=new h),r.add(t)}}function l(t,o){if(!U(n)){if(n.isProviderFor(t,o))return n;if(!U(i)){if(i.isProviderFor(t,o))return n;if(!U(r))for(var s=Z(r);;){var a=ee(s);if(!a)return;var l=J(a);if(l.isProviderFor(t,o))return te(s),l}}}if(!U(e)&&e.isProviderFor(t,o))return e}function c(e,t){var n,i=o.get(e);return U(i)||(n=i.get(t)),U(n)?(U(n=l(e,t))||(U(i)&&(i=new d,o.set(e,i)),i.set(t,n)),n):n}function u(e){if(U(e))throw new TypeError;return n===e||i===e||!U(r)&&r.has(e)}function m(e,t,n){if(!u(n))throw new Error("Metadata provider not registered.");var i=c(e,t);if(i!==n){if(!U(i))return!1;var r=o.get(e);U(r)&&(r=new d,o.set(e,r)),r.set(t,n)}return!0}}function re(){var e;return!U(f)&&H(t.Reflect)&&Object.isExtensible(t.Reflect)&&(e=t.Reflect[f]),U(e)&&(e=ie()),!U(f)&&H(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,f,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}function oe(e){var t=new p,n={isProviderFor:function(e,n){var i=t.get(e);return!U(i)&&i.has(n)},OrdinaryDefineOwnMetadata:s,OrdinaryHasOwnMetadata:r,OrdinaryGetOwnMetadata:o,OrdinaryOwnMetadataKeys:a,OrdinaryDeleteMetadata:l};return m.registerProvider(n),n;function i(i,r,o){var s=t.get(i),a=!1;if(U(s)){if(!o)return;s=new d,t.set(i,s),a=!0}var l=s.get(r);if(U(l)){if(!o)return;if(l=new d,s.set(r,l),!e.setProvider(i,r,n))throw s.delete(r),a&&t.delete(i),new Error("Wrong provider for target.")}return l}function r(e,t,n){var r=i(t,n,!1);return!U(r)&&V(r.has(e))}function o(e,t,n){var r=i(t,n,!1);if(!U(r))return r.get(e)}function s(e,t,n,r){i(n,r,!0).set(e,t)}function a(e,t){var n=[],r=i(e,t,!1);if(U(r))return n;for(var o=Z(r.keys()),s=0;;){var a=ee(o);if(!a)return n.length=s,n;var l=J(a);try{n[s]=l}catch(e){try{te(o)}finally{throw e}}s++}}function l(e,n,r){var o=i(n,r,!1);if(U(o))return!1;if(!o.delete(e))return!1;if(0===o.size){var s=t.get(n);U(s)||(s.delete(r),0===s.size&&t.delete(s))}return!0}}function se(e){var t=e.defineMetadata,n=e.hasOwnMetadata,i=e.getOwnMetadata,r=e.getOwnMetadataKeys,o=e.deleteMetadata,s=new p;return{isProviderFor:function(e,t){var n=s.get(e);return!(U(n)||!n.has(t))||!!r(e,t).length&&(U(n)&&(n=new h,s.set(e,n)),n.add(t),!0)},OrdinaryDefineOwnMetadata:t,OrdinaryHasOwnMetadata:n,OrdinaryGetOwnMetadata:i,OrdinaryOwnMetadataKeys:r,OrdinaryDeleteMetadata:o}}function ae(e,t,n){var i=m.getProvider(e,t);if(!U(i))return i;if(n){if(m.setProvider(e,t,g))return g;throw new Error("Illegal state.")}}function le(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var i=this._keys.length,r=n+1;r<i;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,Q(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,i)},t.prototype.values=function(){return new n(this._keys,this._values,r)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){if(!Q(this._cacheKey,e)){this._cacheIndex=-1;for(var n=0;n<this._keys.length;n++)if(Q(this._keys[n],e)){this._cacheIndex=n;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function r(e,t){return t}function s(e,t){return[e,t]}}function ce(){return function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function ue(){var e=16,t=c.create(),i=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var e;do{e="@@WeakMap@@"+l()}while(c.has(t,e));return t[e]=!0,e}function o(e,t){if(!n.call(e,i)){if(!t)return;Object.defineProperty(e,i,{value:c.create()})}return e[i]}function s(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function a(e){if("function"==typeof Uint8Array){var t=new Uint8Array(e);return"undefined"!=typeof crypto?crypto.getRandomValues(t):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(t):s(t,e),t}return s(new Array(e),e)}function l(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",i=0;i<e;++i){var r=t[i];4!==i&&6!==i&&8!==i||(n+="-"),r<16&&(n+="0"),n+=r.toString(16).toLowerCase()}return n}}function de(e){return e.__=void 0,delete e.__,e}e("decorate",v),e("metadata",y),e("defineMetadata",E),e("hasMetadata",S),e("hasOwnMetadata",b),e("getMetadata",O),e("getOwnMetadata",_),e("getMetadataKeys",T),e("getOwnMetadataKeys",A),e("deleteMetadata",w)}(i,t),void 0===t.Reflect&&(t.Reflect=e)}()}(i||(i={}))},40157:(e,t,n)=>{"use strict";n.d(t,{MZ:()=>r,a4:()=>i,fJ:()=>s,k_:()=>a,mP:()=>o,ro:()=>l,zn:()=>c});const i="async-injection:INJECTABLE",r="async-injection:INJECT",o="async-injection:POSTCONSTRUCT_SYNC",s="async-injection:POSTCONSTRUCT_ASYNC",a="async-injection:RELEASE",l="async-injection:OPTIONAL",c="design:paramtypes"},65945:(e,t,n)=>{"use strict";n.d(t,{mc:()=>b,y_:()=>m,_q:()=>f});var i=n(40157);function r(e){return!!e&&(e instanceof Error||e&&"string"==typeof e.message&&"string"==typeof e.stack)}function o(e){return!!e&&(e instanceof Promise||e&&"function"==typeof e.then)}function s(e){var t,n;const r=Reflect.getMetadata(i.k_,e.constructor);if(r&&e.constructor.prototype[r]&&"function"==typeof e.constructor.prototype[r]){const i=null===(n=(t=e[r]).bind)||void 0===n?void 0:n.call(t,e);if(i)return i(),!0}return!1}class a{constructor(){}resolveIfSingleton(e){if(null===this.singleton){const e=this.provideAsState();if(e.pending)return e.promise;if(e.rejected)return Promise.reject(e.rejected)}}releaseIfSingleton(){if(this.singleton){const e=this.provideAsState();e.pending?e.promise.then((e=>{this.singleton=null,s(e)})).catch((()=>{this.singleton=null})):(this.singleton=null,!e.rejected&&e.fulfilled&&s(e.fulfilled))}}}class l extends a{constructor(e,t,n){super(),this.injector=e,this.id=t,this.maker=n}makeBindAs(){const e={onError:e=>{this.errorHandler=e},onSuccess:t=>(this.successHandler=t,e),asSingleton:()=>(this.singleton=null,e)};return e}queryErrorHandler(e,t){if(this.errorHandler){const n=this.errorHandler(this.injector,this.id,this.maker,e,t);if(r(n))throw n;if(void 0===n)throw e;return n}throw e}makePromiseForObj(e,t){return new Promise(((n,i)=>{const o=(e,t)=>{if(this.errorHandler){const i=this.errorHandler(this.injector,this.id,this.maker,e,t);if(r(i))e=i;else if(void 0!==i)return void n(i)}i(e)};e.then((e=>{try{n(t(e))}catch(n){o(n,t(e))}})).catch((e=>{o(e,t(void 0))}))}))}}class c{static MakeState(e,t,n){const i=new c;return o(e)?(i._pending=!0,i._promise=e.then((e=>(i._fulfilled=e,i._pending=!1,e)),(e=>{throw i._rejected=e,i._pending=!1,e}))):(i._pending=!1,t?i._rejected=t:i._fulfilled=n,i._promise=null),i}constructor(){}get promise(){return this._promise}get pending(){return this._pending}get fulfilled(){return this._fulfilled}get rejected(){return this._rejected}}class u extends l{constructor(e,t,n){super(e,t,n)}provideAsState(){let e=this.singleton;return e||(e=c.MakeState(this.makePromiseForObj(this.maker(this.injector),(e=>e)))),null===this.singleton&&(this.singleton=e),e}}function d(e){let t;return e&&(t=e.name,!t&&e.constructor&&(t=e.constructor.name)),t}function h(e){return`index-${e}`}function p(e,t,n){const i=function(e,t,n){if(!function(e){return!("function"!=typeof e||!e.hasOwnProperty("prototype"))&&e.prototype.constructor===e}(t))throw new Error("@"+e+" is not valid here ["+d(t)+"]");return h(n)}(e,t,n);if(Reflect.hasOwnMetadata(e,t,i))throw new Error("@"+e+" applied multiple times ["+t.constructor.name+"]");return i}function f(){return function(e){if(Reflect.hasOwnMetadata(i.a4,e))throw new Error("@Injectable applied multiple times ["+d(e)+"]");Reflect.defineMetadata(i.a4,!0,e)}}function m(e){return function(t,n,r){if(void 0===e)throw new Error("Undefined id passed to @Inject ["+d(t)+"]");const o=p("Inject",t,r);Reflect.defineMetadata(i.MZ,e,t,o)}}function g(e,t){return Reflect.getMetadata(i.ro,e,h(t))}class v extends l{constructor(e,t,n){super(e,t,n)}provideAsState(){let e=this.singleton;return e||(e=this.provideAsStateImpl()),null===this.singleton&&(this.singleton=e),e}resolveIfSingleton(e){if(!e||Reflect.getMetadata(i.fJ,this.maker))return super.resolveIfSingleton(!1)}makePostConstructState(e){var t,n;if("object"==typeof e&&!Array.isArray(e)&&e.constructor){let r,s=!1;if("function"==typeof this.successHandler)s=!0,r=()=>this.successHandler(e,this.injector,this.id,this.maker);else{let o=Reflect.getMetadata(i.mP,e.constructor);o||(s=!0,o=Reflect.getMetadata(i.fJ,e.constructor)),o&&e.constructor.prototype[o]&&"function"==typeof e.constructor.prototype[o]&&(r=null===(n=(t=e[o]).bind)||void 0===n?void 0:n.call(t,e))}if(r){let t;try{t=r()}catch(t){try{return e=this.queryErrorHandler(t,e),c.MakeState(null,void 0,e)}catch(e){return c.MakeState(null,e,void 0)}}if(t&&(t instanceof Promise||s&&o(t)))return c.MakeState(this.makePromiseForObj(t,(()=>e)))}}return c.MakeState(null,void 0,e)}getConstructorParameterStates(){const e=Reflect.getMetadata(i.zn,this.maker);return void 0!==e&&Array.isArray(e)?e.map(((e,t)=>{const n=(r=this.maker,o=t,Reflect.getMetadata(i.MZ,r,h(o)));var r,o;const s=void 0===n?e:n;if(void 0===s)throw new Error(`Injection error. Unable to determine parameter ${t} type/value of ${this.maker.toString()} constructor`);let a=this.injector.resolveState(s);if(!a.pending&&a.rejected){const e=g(this.maker,t);e&&(a=c.MakeState(null,void 0,e.value))}return a})):[]}provideAsStateImpl(){const e=this.getConstructorParameterStates(),t=e.find((e=>!e.pending&&e.rejected));if(t)return t;if(e.some((e=>e.pending))){const t=this.makePromiseForObj(Promise.all(e.map(((e,t)=>e.pending?e.promise.catch((e=>{const n=g(this.maker,t);if(!n)throw e;return n.value})):e.rejected?Promise.reject(e.rejected):Promise.resolve(e.fulfilled)))),(e=>{if(e)return Reflect.construct(this.maker,e)}));return c.MakeState(t.then((e=>{const t=this.makePostConstructState(e);return t.pending?t.promise:t.rejected?t.rejected:t.fulfilled})))}try{const t=Reflect.construct(this.maker,e.map((e=>e.fulfilled)));return this.makePostConstructState(t)}catch(e){try{return c.MakeState(null,void 0,this.queryErrorHandler(e))}catch(e){return c.MakeState(null,e,void 0)}}}}class y extends a{constructor(e){super(),this.singleton=c.MakeState(null,void 0,e)}provideAsState(){return this.singleton}}class E extends l{constructor(e,t,n){super(e,t,n)}provideAsState(){let e=this.singleton;if(!e)try{e=c.MakeState(null,void 0,this.maker(this.injector))}catch(t){try{e=c.MakeState(null,void 0,this.queryErrorHandler(t))}catch(t){e=c.MakeState(null,t,void 0)}}return null===this.singleton&&(this.singleton=e),e}resolveIfSingleton(e){if(!e)return super.resolveIfSingleton(!1)}}class S{constructor(e){this.reason=e}}class b{constructor(e){this.parent=e,this.providers=new Map}isIdKnown(e,t){return!!this.providers.get(e)||!(!t||!this.parent)&&this.parent.isIdKnown(e,!0)}get(e){const t=this.providers.get(e);if(!t){if(this.parent)return this.parent.get(e);throw new Error("Symbol not bound: "+e.toString())}const n=t.provideAsState();if(n.pending)throw new Error("Synchronous request on unresolved asynchronous dependency tree: "+e.toString());if(n.rejected)throw n.rejected;return n.fulfilled}resolve(e){const t=this.resolveState(e);return o(t.promise)?t.promise:t.rejected?Promise.reject(t.rejected):Promise.resolve(t.fulfilled)}removeBinding(e,t,n){var i;if(n){const t=this.providers.get(e);t&&t.releaseIfSingleton()}this.providers.delete(e),t&&this.parent&&(null===(i=this.parent)||void 0===i||i.removeBinding(e,!0,n))}bindConstant(e,t){return this.providers.set(e,new y(t)),t}bindClass(e,t){if(void 0===t&&(t=e),!Reflect.getMetadata(i.a4,t))throw new Error("Class not decorated with @Injectable ["+t.toString()+"]");const n=new v(this,e,t);return this.providers.set(e,n),n.makeBindAs()}bindFactory(e,t){const n=new E(this,e,t);return this.providers.set(e,n),n.makeBindAs()}bindAsyncFactory(e,t){const n=new u(this,e,t);return this.providers.set(e,n),n.makeBindAs()}resolveSingletons(e,t){var n;const i=()=>new Promise(((t,n)=>{const i=new Map;this.providers.forEach(((t,n)=>{const r=t.resolveIfSingleton(e);null!=r&&i.set(n,r)}));const r=Array.from(i.values()),o=Array.from(i.keys());Promise.all(r.map((e=>e.catch((e=>new S(e)))))).then((e=>{const i=new Map;e.forEach(((e,t)=>{e instanceof S&&i.set(o[t],e.reason)})),i.size>0?n(i):t()}))}));if(t&&"function"==typeof(null===(n=this.parent)||void 0===n?void 0:n.resolveSingletons)){return this.parent.resolveSingletons(e,t).then((()=>i().then((()=>this))))}return i().then((()=>this))}resolveState(e){const t=this.providers.get(e);if(!t){if(this.parent){if(this.parent instanceof b)return this.parent.resolveState(e);try{return c.MakeState(this.parent.resolve(e),void 0,void 0)}catch(e){return c.MakeState(null,e)}}return c.MakeState(null,new Error("Symbol not bound: "+e.toString()))}return t.provideAsState()}releaseSingletons(){this.providers.forEach((e=>{e.releaseIfSingleton()}))}clone(e){e||(e=b);const t=new e(this.parent);return this.providers.forEach(((e,n)=>{e instanceof l&&((e=Object.assign(Object.create(Object.getPrototypeOf(e)),e)).injector=t),t.providers.set(n,e)})),t}}},80129:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(57637);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=10,s=2;function a(e){return l(e,[])}function l(e,t){switch(r(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(i.A)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var a=r.call(e);if(a!==e)return"string"==typeof a?a:l(a,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>s)return"[Array]";for(var n=Math.min(o,e.length),i=e.length-n,r=[],a=0;a<n;++a)r.push(l(e[a],t));1===i?r.push("... 1 more item"):i>1&&r.push("... ".concat(i," more items"));return"["+r.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>s)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";var i=n.map((function(n){return n+": "+l(e[n],t)}));return"{ "+i.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},57637:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0},73559:(e,t,n)=>{"use strict";n.d(t,{aZ:()=>o,ou:()=>s,Ll:()=>a});var i=n(57637);function r(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,i.A&&(e.prototype[i.A]=t)}var o=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();r(o);var s=function(){function e(e,t,n,i,r,o,s){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=r,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function a(e){return null!=e&&"string"==typeof e.kind}r(s)},75995:(e,t,n)=>{"use strict";function i(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,i=!0,r=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:n=!1,i=!0,r=0;break;case 9:case 32:++r;break;default:i&&!n&&(null===o||r<o)&&(o=r),i=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var i=1;i<t.length;i++)t[i]=t[i].slice(n);for(var o=0;o<t.length&&r(t[o]);)++o;for(var s=t.length;s>o&&r(t[s-1]);)--s;return t.slice(o,s).join("\n")}function r(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1===e.indexOf("\n"),r=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],s="\\"===e[e.length-1],a=!i||o||s||n,l="";return!a||i&&r||(l+="\n"+t),l+=t?e.replace(/\n/g,"\n"+t):e,a&&(l+="\n"),'"""'+l.replace(/"""/g,'\\"""')+'"""'}n.d(t,{i$:()=>i,yo:()=>o})},70556:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{qg:()=>B});"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var r="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function o(e,t){for(var n,i=/\r\n|[\n\r]/g,r=1,o=t+1;(n=i.exec(e.body))&&n.index<t;)r+=1,o=t+1-(n.index+n[0].length);return{line:r,column:o}}function s(e){return a(e.source,o(e.source,e.start))}function a(e,t){var n=e.locationOffset.column-1,i=c(n)+e.body,r=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,u=t.column+a,d="".concat(e.name,":").concat(s,":").concat(u,"\n"),h=i.split(/\r\n|[\n\r]/g),p=h[r];if(p.length>120){for(var f=Math.floor(u/80),m=u%80,g=[],v=0;v<p.length;v+=80)g.push(p.slice(v,v+80));return d+l([["".concat(s),g[0]]].concat(g.slice(1,f+1).map((function(e){return["",e]})),[[" ",c(m-1)+"^"],["",g[f+1]]]))}return d+l([["".concat(s-1),h[r-1]],["".concat(s),p],["",c(u-1)+"^"],["".concat(s+1),h[r+1]]])}function l(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,i=e[0],r=e[1];return c(n-(t=i).length)+t+(r?" | "+r:" |")})).join("\n")}function c(e){return Array(e+1).join(" ")}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return m(e,arguments,y(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),v(i,e)},f(e)}function m(e,t,n){return m=g()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&v(r,n.prototype),r},m.apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(m,e);var t,n,l,c,u,f=(t=m,n=g(),function(){var e,i=y(t);if(n){var r=y(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return h(this,e)});function m(e,t,n,r,s,a,l){var c,u,d,g,v;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),v=f.call(this,e);var y,E=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,S=n;!S&&E&&(S=null===(y=E[0].loc)||void 0===y?void 0:y.source);var b,O=r;!O&&E&&(O=E.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),O&&0===O.length&&(O=void 0),r&&n?b=r.map((function(e){return o(n,e)})):E&&(b=E.reduce((function(e,t){return t.loc&&e.push(o(t.loc.source,t.loc.start)),e}),[]));var _,T=l;if(null==T&&null!=a){var A=a.extensions;"object"==i(_=A)&&null!==_&&(T=A)}return Object.defineProperties(p(v),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(c=b)&&void 0!==c?c:void 0,enumerable:null!=b},path:{value:null!=s?s:void 0,enumerable:null!=s},nodes:{value:null!=E?E:void 0},source:{value:null!==(u=S)&&void 0!==u?u:void 0},positions:{value:null!==(d=O)&&void 0!==d?d:void 0},originalError:{value:a},extensions:{value:null!==(g=T)&&void 0!==g?g:void 0,enumerable:null!=T}}),null!=a&&a.stack?(Object.defineProperty(p(v),"stack",{value:a.stack,writable:!0,configurable:!0}),h(v)):(Error.captureStackTrace?Error.captureStackTrace(p(v),m):Object.defineProperty(p(v),"stack",{value:Error().stack,writable:!0,configurable:!0}),v)}return l=m,(c=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,i=e.nodes;n<i.length;n++){var r=i[n];r.loc&&(t+="\n\n"+s(r.loc))}else if(e.source&&e.locations)for(var o=0,l=e.locations;o<l.length;o++){var c=l[o];t+="\n\n"+a(e.source,c)}return t}(this)}},{key:r,get:function(){return"Object"}}])&&d(l.prototype,c),u&&d(l,u),m}(f(Error));function S(e,t,n){return new E("Syntax Error: ".concat(n),void 0,e,[t])}var b=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),O=n(73559),_=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),T=n(80129);function A(e,t){if(!Boolean(e))throw new Error(t)}const w=function(e,t){return e instanceof t};function N(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var I=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||A(0,"Body must be a string. Received: ".concat((0,T.A)(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||A(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||A(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,i;return t=e,(n=[{key:r,get:function(){return"Source"}}])&&N(t.prototype,n),i&&N(t,i),e}();var R=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),k=n(75995),L=function(){function e(e){var t=new O.ou(_.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==_.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=D(this,e)}while(e.kind===_.COMMENT);return e},e}();function M(e){return isNaN(e)?_.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function D(e,t){for(var n=e.source,i=n.body,r=i.length,o=t.end;o<r;){var s=i.charCodeAt(o),a=e.line,l=1+o-e.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===i.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new O.ou(_.BANG,o,o+1,a,l,t);case 35:return C(n,o,a,l,t);case 36:return new O.ou(_.DOLLAR,o,o+1,a,l,t);case 38:return new O.ou(_.AMP,o,o+1,a,l,t);case 40:return new O.ou(_.PAREN_L,o,o+1,a,l,t);case 41:return new O.ou(_.PAREN_R,o,o+1,a,l,t);case 46:if(46===i.charCodeAt(o+1)&&46===i.charCodeAt(o+2))return new O.ou(_.SPREAD,o,o+3,a,l,t);break;case 58:return new O.ou(_.COLON,o,o+1,a,l,t);case 61:return new O.ou(_.EQUALS,o,o+1,a,l,t);case 64:return new O.ou(_.AT,o,o+1,a,l,t);case 91:return new O.ou(_.BRACKET_L,o,o+1,a,l,t);case 93:return new O.ou(_.BRACKET_R,o,o+1,a,l,t);case 123:return new O.ou(_.BRACE_L,o,o+1,a,l,t);case 124:return new O.ou(_.PIPE,o,o+1,a,l,t);case 125:return new O.ou(_.BRACE_R,o,o+1,a,l,t);case 34:return 34===i.charCodeAt(o+1)&&34===i.charCodeAt(o+2)?F(n,o,a,l,t,e):j(n,o,a,l,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return x(n,o,s,a,l,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return G(n,o,a,l,t)}throw S(n,o,P(s))}var c=e.line,u=1+o-e.lineStart;return new O.ou(_.EOF,r,r,c,u,t)}function P(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(M(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(M(e),".")}function C(e,t,n,i,r){var o,s=e.body,a=t;do{o=s.charCodeAt(++a)}while(!isNaN(o)&&(o>31||9===o));return new O.ou(_.COMMENT,t,a,n,i,r,s.slice(t+1,a))}function x(e,t,n,i,r,o){var s=e.body,a=n,l=t,c=!1;if(45===a&&(a=s.charCodeAt(++l)),48===a){if((a=s.charCodeAt(++l))>=48&&a<=57)throw S(e,l,"Invalid number, unexpected digit after 0: ".concat(M(a),"."))}else l=U(e,l,a),a=s.charCodeAt(l);if(46===a&&(c=!0,a=s.charCodeAt(++l),l=U(e,l,a),a=s.charCodeAt(l)),69!==a&&101!==a||(c=!0,43!==(a=s.charCodeAt(++l))&&45!==a||(a=s.charCodeAt(++l)),l=U(e,l,a),a=s.charCodeAt(l)),46===a||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(a))throw S(e,l,"Invalid number, expected digit but got: ".concat(M(a),"."));return new O.ou(c?_.FLOAT:_.INT,t,l,i,r,o,s.slice(t,l))}function U(e,t,n){var i=e.body,r=t,o=n;if(o>=48&&o<=57){do{o=i.charCodeAt(++r)}while(o>=48&&o<=57);return r}throw S(e,r,"Invalid number, expected digit but got: ".concat(M(o),"."))}function j(e,t,n,i,r){for(var o,s,a,l,c=e.body,u=t+1,d=u,h=0,p="";u<c.length&&!isNaN(h=c.charCodeAt(u))&&10!==h&&13!==h;){if(34===h)return p+=c.slice(d,u),new O.ou(_.STRING,t,u+1,n,i,r,p);if(h<32&&9!==h)throw S(e,u,"Invalid character within String: ".concat(M(h),"."));if(++u,92===h){switch(p+=c.slice(d,u-1),h=c.charCodeAt(u)){case 34:p+='"';break;case 47:p+="/";break;case 92:p+="\\";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+="\n";break;case 114:p+="\r";break;case 116:p+="\t";break;case 117:var f=(o=c.charCodeAt(u+1),s=c.charCodeAt(u+2),a=c.charCodeAt(u+3),l=c.charCodeAt(u+4),H(o)<<12|H(s)<<8|H(a)<<4|H(l));if(f<0){var m=c.slice(u+1,u+5);throw S(e,u,"Invalid character escape sequence: \\u".concat(m,"."))}p+=String.fromCharCode(f),u+=4;break;default:throw S(e,u,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}d=++u}}throw S(e,u,"Unterminated string.")}function F(e,t,n,i,r,o){for(var s=e.body,a=t+3,l=a,c=0,u="";a<s.length&&!isNaN(c=s.charCodeAt(a));){if(34===c&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2))return u+=s.slice(l,a),new O.ou(_.BLOCK_STRING,t,a+3,n,i,r,(0,k.i$)(u));if(c<32&&9!==c&&10!==c&&13!==c)throw S(e,a,"Invalid character within String: ".concat(M(c),"."));10===c?(++a,++o.line,o.lineStart=a):13===c?(10===s.charCodeAt(a+1)?a+=2:++a,++o.line,o.lineStart=a):92===c&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2)&&34===s.charCodeAt(a+3)?(u+=s.slice(l,a)+'"""',l=a+=4):++a}throw S(e,a,"Unterminated string.")}function H(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function G(e,t,n,i,r){for(var o=e.body,s=o.length,a=t+1,l=0;a!==s&&!isNaN(l=o.charCodeAt(a))&&(95===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++a;return new O.ou(_.NAME,t,a,n,i,r,o.slice(t,a))}function B(e,t){return new V(e,t).parseDocument()}var V=function(){function e(e,t){var n=function(e){return w(e,I)}(e)?e:new I(e);this._lexer=new L(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(_.NAME);return{kind:b.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:b.DOCUMENT,definitions:this.many(_.SOF,this.parseDefinition,_.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(_.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(_.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(_.BRACE_L))return{kind:b.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(_.NAME)&&(t=this.parseName()),{kind:b.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(_.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(_.PAREN_L,this.parseVariableDefinition,_.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:b.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(_.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(_.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(_.DOLLAR),{kind:b.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:b.SELECTION_SET,selections:this.many(_.BRACE_L,this.parseSelection,_.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(_.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,i=this.parseName();return this.expectOptionalToken(_.COLON)?(e=i,t=this.parseName()):t=i,{kind:b.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(_.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(_.PAREN_L,t,_.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(_.COLON),{kind:b.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:b.ARGUMENT,name:this.parseName(),value:(this.expectToken(_.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(_.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(_.NAME)?{kind:b.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:b.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:b.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:b.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case _.BRACKET_L:return this.parseList(e);case _.BRACE_L:return this.parseObject(e);case _.INT:return this._lexer.advance(),{kind:b.INT,value:t.value,loc:this.loc(t)};case _.FLOAT:return this._lexer.advance(),{kind:b.FLOAT,value:t.value,loc:this.loc(t)};case _.STRING:case _.BLOCK_STRING:return this.parseStringLiteral();case _.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:b.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:b.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:b.NULL,loc:this.loc(t)};default:return{kind:b.ENUM,value:t.value,loc:this.loc(t)}}case _.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:b.STRING,value:e.value,block:e.kind===_.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:b.LIST,values:this.any(_.BRACKET_L,(function(){return t.parseValueLiteral(e)}),_.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:b.OBJECT,fields:this.any(_.BRACE_L,(function(){return t.parseObjectField(e)}),_.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(_.COLON),{kind:b.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(_.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(_.AT),{kind:b.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(_.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(_.BRACKET_R),e={kind:b.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(_.BANG)?{kind:b.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:b.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===_.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(_.STRING)||this.peek(_.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),i=this.many(_.BRACE_L,this.parseOperationTypeDefinition,_.BRACE_R);return{kind:b.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(_.COLON);var n=this.parseNamedType();return{kind:b.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),i=this.parseDirectives(!0);return{kind:b.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:b.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(_.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(_.AMP)||this.peek(_.NAME));return t}return this.delimitedMany(_.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(_.BRACE_L)&&this._lexer.lookahead().kind===_.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(_.BRACE_L,this.parseFieldDefinition,_.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(_.COLON);var r=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:b.FIELD_DEFINITION,description:t,name:n,arguments:i,type:r,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(_.PAREN_L,this.parseInputValueDef,_.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(_.COLON);var i,r=this.parseTypeReference();this.expectOptionalToken(_.EQUALS)&&(i=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:b.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:b.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseUnionMemberTypes();return{kind:b.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:r,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(_.EQUALS)?this.delimitedMany(_.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();return{kind:b.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:r,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(_.BRACE_L,this.parseEnumValueDefinition,_.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseDirectives(!0);return{kind:b.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();return{kind:b.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(_.BRACE_L,this.parseInputValueDef,_.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===_.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(_.BRACE_L,this.parseOperationTypeDefinition,_.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:b.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:b.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:b.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:b.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:b.UNION_TYPE_EXTENSION,name:t,directives:n,types:i,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:b.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:b.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(_.AT);var n=this.parseName(),i=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:b.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:r,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(_.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==R[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new O.aZ(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw S(this._lexer.source,t.start,"Expected ".concat(z(e),", found ").concat(W(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==_.NAME||t.value!==e)throw S(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(W(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===_.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return S(this._lexer.source,t.start,"Unexpected ".concat(W(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var i=[];!this.expectOptionalToken(n);)i.push(t.call(this));return i},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var i=[];do{i.push(t.call(this))}while(!this.expectOptionalToken(n));return i}return[]},t.many=function(e,t,n){this.expectToken(e);var i=[];do{i.push(t.call(this))}while(!this.expectOptionalToken(n));return i},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function W(e){var t=e.value;return z(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function z(e){return function(e){return e===_.BANG||e===_.DOLLAR||e===_.AMP||e===_.PAREN_L||e===_.PAREN_R||e===_.SPREAD||e===_.COLON||e===_.EQUALS||e===_.AT||e===_.BRACKET_L||e===_.BRACKET_R||e===_.BRACE_L||e===_.PIPE||e===_.BRACE_R}(e)?'"'.concat(e,'"'):e}},11751:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var i=n(84705),r=n(75995);function o(e){return(0,i.YR)(e,{leave:s})}var s={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return l(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,i=u("(",l(e.variableDefinitions,", "),")"),r=l(e.directives," "),o=e.selectionSet;return n||r||i||"query"!==t?l([t,l([n,i]),r,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,i=e.defaultValue,r=e.directives;return t+": "+n+u(" = ",i)+u(" ",l(r," "))},SelectionSet:function(e){return c(e.selections)},Field:function(e){var t=e.alias,n=e.name,i=e.arguments,r=e.directives,o=e.selectionSet,s=u("",t,": ")+n,a=s+u("(",l(i,", "),")");return a.length>80&&(a=s+u("(\n",d(l(i,"\n")),"\n)")),l([a,l(r," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+u(" ",l(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,i=e.selectionSet;return l(["...",u("on ",t),l(n," "),i]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,i=e.variableDefinitions,r=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(u("(",l(i,", "),")")," ")+"on ".concat(n," ").concat(u("",l(r," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?(0,r.yo)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+l(e.values,", ")+"]"},ObjectValue:function(e){return"{"+l(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+u("(",l(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:a((function(e){var t=e.directives,n=e.operationTypes;return l(["schema",l(t," "),c(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:a((function(e){return l(["scalar",e.name,l(e.directives," ")]," ")})),ObjectTypeDefinition:a((function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return l(["type",t,u("implements ",l(n," & ")),l(i," "),c(r)]," ")})),FieldDefinition:a((function(e){var t=e.name,n=e.arguments,i=e.type,r=e.directives;return t+(p(n)?u("(\n",d(l(n,"\n")),"\n)"):u("(",l(n,", "),")"))+": "+i+u(" ",l(r," "))})),InputValueDefinition:a((function(e){var t=e.name,n=e.type,i=e.defaultValue,r=e.directives;return l([t+": "+n,u("= ",i),l(r," ")]," ")})),InterfaceTypeDefinition:a((function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return l(["interface",t,u("implements ",l(n," & ")),l(i," "),c(r)]," ")})),UnionTypeDefinition:a((function(e){var t=e.name,n=e.directives,i=e.types;return l(["union",t,l(n," "),i&&0!==i.length?"= "+l(i," | "):""]," ")})),EnumTypeDefinition:a((function(e){var t=e.name,n=e.directives,i=e.values;return l(["enum",t,l(n," "),c(i)]," ")})),EnumValueDefinition:a((function(e){return l([e.name,l(e.directives," ")]," ")})),InputObjectTypeDefinition:a((function(e){var t=e.name,n=e.directives,i=e.fields;return l(["input",t,l(n," "),c(i)]," ")})),DirectiveDefinition:a((function(e){var t=e.name,n=e.arguments,i=e.repeatable,r=e.locations;return"directive @"+t+(p(n)?u("(\n",d(l(n,"\n")),"\n)"):u("(",l(n,", "),")"))+(i?" repeatable":"")+" on "+l(r," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return l(["extend schema",l(t," "),c(n)]," ")},ScalarTypeExtension:function(e){return l(["extend scalar",e.name,l(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return l(["extend type",t,u("implements ",l(n," & ")),l(i," "),c(r)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return l(["extend interface",t,u("implements ",l(n," & ")),l(i," "),c(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,i=e.types;return l(["extend union",t,l(n," "),i&&0!==i.length?"= "+l(i," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,i=e.values;return l(["extend enum",t,l(n," "),c(i)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,i=e.fields;return l(["extend input",t,l(n," "),c(i)]," ")}};function a(e){return function(t){return l([t.description,e(t)],"\n")}}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function c(e){return u("{\n",d(l(e,"\n")),"\n}")}function u(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function d(e){return u("  ",e.replace(/\n/g,"\n  "))}function h(e){return-1!==e.indexOf("\n")}function p(e){return null!=e&&e.some(h)}},84705:(e,t,n)=>{"use strict";n.d(t,{YR:()=>a,sP:()=>s});var i=n(80129),r=n(73559),o={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},s=Object.freeze({});function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=void 0,c=Array.isArray(e),u=[e],d=-1,h=[],p=void 0,f=void 0,m=void 0,g=[],v=[],y=e;do{var E=++d===u.length,S=E&&0!==h.length;if(E){if(f=0===v.length?void 0:g[g.length-1],p=m,m=v.pop(),S){if(c)p=p.slice();else{for(var b={},O=0,_=Object.keys(p);O<_.length;O++){var T=_[O];b[T]=p[T]}p=b}for(var A=0,w=0;w<h.length;w++){var N=h[w][0],I=h[w][1];c&&(N-=A),c&&null===I?(p.splice(N,1),A++):p[N]=I}}d=a.index,u=a.keys,h=a.edits,c=a.inArray,a=a.prev}else{if(f=m?c?d:u[d]:void 0,null==(p=m?m[f]:y))continue;m&&g.push(f)}var R,k=void 0;if(!Array.isArray(p)){if(!(0,r.Ll)(p))throw new Error("Invalid AST Node: ".concat((0,i.A)(p),"."));var L=l(t,p.kind,E);if(L){if((k=L.call(t,p,f,m,g,v))===s)break;if(!1===k){if(!E){g.pop();continue}}else if(void 0!==k&&(h.push([f,k]),!E)){if(!(0,r.Ll)(k)){g.pop();continue}p=k}}}if(void 0===k&&S&&h.push([f,p]),E)g.pop();else a={inArray:c,index:d,keys:u,edits:h,prev:a},u=(c=Array.isArray(p))?p:null!==(R=n[p.kind])&&void 0!==R?R:[],d=-1,h=[],m&&v.push(m),m=p}while(void 0!==a);return 0!==h.length&&(y=h[h.length-1][1]),y}function l(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var r=n?i.leave:i.enter;if("function"==typeof r)return r}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}},61728:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DRACOLoader:()=>o});var i=n(68909);const r=new WeakMap;class o extends i.Loader{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const o=new i.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(e=>{this.parse(e,t,r)}),n,r)}parse(e,t,n=()=>{}){this.decodeDracoFile(e,t,null,null,i.SRGBColorSpace,n).catch(n)}decodeDracoFile(e,t,n,r,o=i.LinearSRGBColorSpace,s=()=>{}){const a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n,vertexColorSpace:o};return this.decodeGeometry(e,a).then(t).catch(s)}decodeGeometry(e,t){const n=JSON.stringify(t);if(r.has(e)){const t=r.get(e);if(t.key===n)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const o=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(o,s).then((n=>(i=n,new Promise(((n,r)=>{i._callbacks[o]={resolve:n,reject:r},i.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return a.catch((()=>!0)).then((()=>{i&&o&&this._releaseTask(i,o)})),r.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new i.BufferGeometry;e.index&&t.setIndex(new i.BufferAttribute(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],o=r.name,s=r.array,a=r.itemSize,l=new i.BufferAttribute(s,a);"color"===o&&(this._assignVertexColorSpace(l,r.vertexColorSpace),l.normalized=s instanceof Float32Array==!1),t.setAttribute(o,l)}return t}_assignVertexColorSpace(e,t){if(t!==i.SRGBColorSpace)return;const n=new i.Color;for(let t=0,r=e.count;t<r;t++)n.fromBufferAttribute(e,t),i.ColorManagement.toWorkingColorSpace(n,i.SRGBColorSpace),e.setXYZ(t,n.r,n.g,n.b)}_loadLibrary(e,t){const n=new i.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise(((t,i)=>{n.load(e,t,void 0,i)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{const n=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const i=s.toString(),r=["/* draco decoder */",n,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([r]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const n=t.data;switch(n.type){case"decode":e._callbacks[n.id].resolve(n);break;case"error":e._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}}function s(){let e,t;function n(e,t,n,i,r,o){const s=o.num_components(),a=n.num_points()*s,l=a*r.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,r),u=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,o,c,l,u);const d=new r(e.HEAPF32.buffer,u,a).slice();return e._free(u),{name:i,array:d,itemSize:s}}onmessage=function(i){const r=i.data;switch(r.type){case"init":e=r.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const i=r.buffer,o=r.taskConfig;t.then((e=>{const t=e.draco,s=new t.Decoder;try{const e=function(e,t,i,r){const o=r.attributeIDs,s=r.attributeTypes;let a,l;const c=t.GetEncodedGeometryType(i);if(c===e.TRIANGULAR_MESH)a=new e.Mesh,l=t.DecodeArrayToMesh(i,i.byteLength,a);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,l=t.DecodeArrayToPointCloud(i,i.byteLength,a)}if(!l.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+l.error_msg());const u={index:null,attributes:[]};for(const i in o){const l=self[s[i]];let c,d;if(r.useUniqueIDs)d=o[i],c=t.GetAttributeByUniqueId(a,d);else{if(d=t.GetAttributeId(a,e[o[i]]),-1===d)continue;c=t.GetAttribute(a,d)}const h=n(e,t,a,i,l,c);"color"===i&&(h.vertexColorSpace=r.vertexColorSpace),u.attributes.push(h)}c===e.TRIANGULAR_MESH&&(u.index=function(e,t,n){const i=n.num_faces(),r=3*i,o=4*r,s=e._malloc(o);t.GetTrianglesUInt32Array(n,o,s);const a=new Uint32Array(e.HEAPF32.buffer,s,r).slice();return e._free(s),{array:a,itemSize:1}}(e,t,a));return e.destroy(a),u}(t,s,new Int8Array(i),o),a=e.attributes.map((e=>e.array.buffer));e.index&&a.push(e.index.array.buffer),self.postMessage({type:"decode",id:r.id,geometry:e},a)}catch(e){console.error(e),self.postMessage({type:"error",id:r.id,error:e.message})}finally{t.destroy(s)}}))}}}},17888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GLTFLoader:()=>o});var i=n(68909),r=n(51566);class o extends i.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new d(e)})),this.register((function(e){return new h(e)})),this.register((function(e){return new b(e)})),this.register((function(e){return new O(e)})),this.register((function(e){return new _(e)})),this.register((function(e){return new f(e)})),this.register((function(e){return new m(e)})),this.register((function(e){return new g(e)})),this.register((function(e){return new v(e)})),this.register((function(e){return new u(e)})),this.register((function(e){return new y(e)})),this.register((function(e){return new p(e)})),this.register((function(e){return new S(e)})),this.register((function(e){return new E(e)})),this.register((function(e){return new l(e)})),this.register((function(e){return new T(e)})),this.register((function(e){return new A(e)}))}load(e,t,n,r){const o=this;let s;if(""!==this.resourcePath)s=this.resourcePath;else if(""!==this.path){const t=i.LoaderUtils.extractUrlBase(e);s=i.LoaderUtils.resolveURL(t,this.path)}else s=i.LoaderUtils.extractUrlBase(e);this.manager.itemStart(e);const a=function(t){r?r(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},l=new i.FileLoader(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,(function(n){try{o.parse(n,s,(function(n){t(n),o.manager.itemEnd(e)}),a)}catch(e){a(e)}}),n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let r;const o={},s={},l=new TextDecoder;if("string"==typeof e)r=JSON.parse(e);else if(e instanceof ArrayBuffer){if(l.decode(new Uint8Array(e,0,4))===w){try{o[a.KHR_BINARY_GLTF]=new R(e)}catch(e){return void(i&&i(e))}r=JSON.parse(o[a.KHR_BINARY_GLTF].content)}else r=JSON.parse(l.decode(e))}else r=e;if(void 0===r.asset||r.asset.version[0]<2)return void(i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const u=new ee(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){const t=this.pluginCallbacks[e](u);t.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[t.name]=t,o[t.name]=!0}if(r.extensionsUsed)for(let e=0;e<r.extensionsUsed.length;++e){const t=r.extensionsUsed[e],n=r.extensionsRequired||[];switch(t){case a.KHR_MATERIALS_UNLIT:o[t]=new c;break;case a.KHR_DRACO_MESH_COMPRESSION:o[t]=new k(r,this.dracoLoader);break;case a.KHR_TEXTURE_TRANSFORM:o[t]=new L;break;case a.KHR_MESH_QUANTIZATION:o[t]=new M;break;default:n.indexOf(t)>=0&&void 0===s[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}u.setExtensions(o),u.setPlugins(s),u.parse(n,i)}parseAsync(e,t){const n=this;return new Promise((function(i,r){n.parse(e,t,i,r)}))}}function s(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const a={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class l{constructor(e){this.parser=e,this.name=a.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const o=t.json,s=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let a;const l=new i.Color(16777215);void 0!==s.color&&l.setRGB(s.color[0],s.color[1],s.color[2],i.LinearSRGBColorSpace);const c=void 0!==s.range?s.range:0;switch(s.type){case"directional":a=new i.DirectionalLight(l),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new i.PointLight(l),a.distance=c;break;case"spot":a=new i.SpotLight(l),a.distance=c,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,a.angle=s.spot.outerConeAngle,a.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return a.position.set(0,0,0),Y(a,s),void 0!==s.intensity&&(a.intensity=s.intensity),a.name=t.createUniqueName(s.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,i=n.json.nodes[e],r=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then((function(e){return n._getNodeRef(t.cache,r,e)}))}}class c{constructor(){this.name=a.KHR_MATERIALS_UNLIT}getMaterialType(){return i.MeshBasicMaterial}extendParams(e,t,n){const r=[];e.color=new i.Color(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const t=o.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],i.LinearSRGBColorSpace),e.opacity=t[3]}void 0!==o.baseColorTexture&&r.push(n.assignTexture(e,"map",o.baseColorTexture,i.SRGBColorSpace))}return Promise.all(r)}}class u{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name].emissiveStrength;return void 0!==i&&(t.emissiveIntensity=i),Promise.resolve()}}class d{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];if(void 0!==s.clearcoatFactor&&(t.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&o.push(n.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&o.push(n.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(o.push(n.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){const e=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new i.Vector2(e,e)}return Promise.all(o)}}class h{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_DISPERSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return t.dispersion=void 0!==i.dispersion?i.dispersion:0,Promise.resolve()}}class p{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return void 0!==o.iridescenceFactor&&(t.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&r.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(t.iridescenceIOR=o.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&r.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class f{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new i.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=r.extensions[this.name];if(void 0!==s.sheenColorFactor){const e=s.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],i.LinearSRGBColorSpace)}return void 0!==s.sheenRoughnessFactor&&(t.sheenRoughness=s.sheenRoughnessFactor),void 0!==s.sheenColorTexture&&o.push(n.assignTexture(t,"sheenColorMap",s.sheenColorTexture,i.SRGBColorSpace)),void 0!==s.sheenRoughnessTexture&&o.push(n.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(o)}}class m{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&r.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class g{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];t.thickness=void 0!==s.thicknessFactor?s.thicknessFactor:0,void 0!==s.thicknessTexture&&o.push(n.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return t.attenuationColor=(new i.Color).setRGB(a[0],a[1],a[2],i.LinearSRGBColorSpace),Promise.all(o)}}class v{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return t.ior=void 0!==i.ior?i.ior:1.5,Promise.resolve()}}class y{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];t.specularIntensity=void 0!==s.specularFactor?s.specularFactor:1,void 0!==s.specularTexture&&o.push(n.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularColor=(new i.Color).setRGB(a[0],a[1],a[2],i.LinearSRGBColorSpace),void 0!==s.specularColorTexture&&o.push(n.assignTexture(t,"specularColorMap",s.specularColorTexture,i.SRGBColorSpace)),Promise.all(o)}}class E{constructor(e){this.parser=e,this.name=a.EXT_MATERIALS_BUMP}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return t.bumpScale=void 0!==o.bumpFactor?o.bumpFactor:1,void 0!==o.bumpTexture&&r.push(n.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(r)}}class S{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return void 0!==o.anisotropyStrength&&(t.anisotropy=o.anisotropyStrength),void 0!==o.anisotropyRotation&&(t.anisotropyRotation=o.anisotropyRotation),void 0!==o.anisotropyTexture&&r.push(n.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(r)}}class b{constructor(e){this.parser=e,this.name=a.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,o)}}class O{constructor(e){this.parser=e,this.name=a.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],s=i.images[o.source];let a=n.textureLoader;if(s.uri){const e=n.options.manager.getHandler(s.uri);null!==e&&(a=e)}return n.loadTextureImage(e,o.source,a)}}class _{constructor(e){this.parser=e,this.name=a.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],s=i.images[o.source];let a=n.textureLoader;if(s.uri){const e=n.options.manager.getHandler(s.uri);null!==e&&(a=e)}return n.loadTextureImage(e,o.source,a)}}class T{constructor(e){this.name=a.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],i=this.parser.getDependency("buffer",e.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(t){const n=e.byteOffset||0,i=e.byteLength||0,o=e.count,s=e.byteStride,a=new Uint8Array(t,n,i);return r.decodeGltfBufferAsync?r.decodeGltfBufferAsync(o,s,a,e.mode,e.filter).then((function(e){return e.buffer})):r.ready.then((function(){const t=new ArrayBuffer(o*s);return r.decodeGltfBuffer(new Uint8Array(t),o,s,a,e.mode,e.filter),t}))}))}return null}}class A{constructor(e){this.name=a.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const r=t.meshes[n.mesh];for(const e of r.primitives)if(e.mode!==x.TRIANGLES&&e.mode!==x.TRIANGLE_STRIP&&e.mode!==x.TRIANGLE_FAN&&void 0!==e.mode)return null;const o=n.extensions[this.name].attributes,s=[],a={};for(const e in o)s.push(this.parser.getDependency("accessor",o[e]).then((t=>(a[e]=t,a[e]))));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then((e=>{const t=e.pop(),n=t.isGroup?t.children:[t],r=e[0].count,o=[];for(const e of n){const t=new i.Matrix4,n=new i.Vector3,s=new i.Quaternion,l=new i.Vector3(1,1,1),c=new i.InstancedMesh(e.geometry,e.material,r);for(let e=0;e<r;e++)a.TRANSLATION&&n.fromBufferAttribute(a.TRANSLATION,e),a.ROTATION&&s.fromBufferAttribute(a.ROTATION,e),a.SCALE&&l.fromBufferAttribute(a.SCALE,e),c.setMatrixAt(e,t.compose(n,s,l));for(const t in a)if("_COLOR_0"===t){const e=a[t];c.instanceColor=new i.InstancedBufferAttribute(e.array,e.itemSize,e.normalized)}else"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,a[t]);i.Object3D.prototype.copy.call(c,e),this.parser.assignFinalMaterial(c),o.push(c)}return t.isGroup?(t.clear(),t.add(...o),t):o[0]})))}}const w="glTF",N=1313821514,I=5130562;class R{constructor(e){this.name=a.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==w)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-12,r=new DataView(e,12);let o=0;for(;o<i;){const t=r.getUint32(o,!0);o+=4;const i=r.getUint32(o,!0);if(o+=4,i===N){const i=new Uint8Array(e,12+o,t);this.content=n.decode(i)}else if(i===I){const n=12+o;this.body=e.slice(n,n+t)}o+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class k{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=a.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,o=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},l={},c={};for(const e in s){const t=G[e]||e.toLowerCase();a[t]=s[e]}for(const t in e.attributes){const i=G[t]||t.toLowerCase();if(void 0!==s[t]){const r=n.accessors[e.attributes[t]],o=U[r.componentType];c[i]=o.name,l[i]=!0===r.normalized}}return t.getDependency("bufferView",o).then((function(e){return new Promise((function(t,n){r.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],i=l[t];void 0!==i&&(n.normalized=i)}t(e)}),a,c,i.LinearSRGBColorSpace,n)}))}))}}class L{constructor(){this.name=a.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}class M{constructor(){this.name=a.KHR_MESH_QUANTIZATION}}class D extends i.Interpolant{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i;for(let e=0;e!==i;e++)t[e]=n[r+e];return t}interpolate_(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=2*s,l=3*s,c=i-t,u=(n-t)/c,d=u*u,h=d*u,p=e*l,f=p-l,m=-2*h+3*d,g=h-d,v=1-m,y=g-d+u;for(let e=0;e!==s;e++){const t=o[f+e+s],n=o[f+e+a]*c,i=o[p+e+s],l=o[p+e]*c;r[e]=v*t+y*n+m*i+g*l}return r}}const P=new i.Quaternion;class C extends D{interpolate_(e,t,n,i){const r=super.interpolate_(e,t,n,i);return P.fromArray(r).normalize().toArray(r),r}}const x={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},U={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},j={9728:i.NearestFilter,9729:i.LinearFilter,9984:i.NearestMipmapNearestFilter,9985:i.LinearMipmapNearestFilter,9986:i.NearestMipmapLinearFilter,9987:i.LinearMipmapLinearFilter},F={33071:i.ClampToEdgeWrapping,33648:i.MirroredRepeatWrapping,10497:i.RepeatWrapping},H={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},G={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},B={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},V={CUBICSPLINE:void 0,LINEAR:i.InterpolateLinear,STEP:i.InterpolateDiscrete},W="OPAQUE",z="MASK",$="BLEND";function K(e,t,n){for(const i in n.extensions)void 0===e[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=n.extensions[i])}function Y(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function q(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,i=t.weights.length;n<i;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,i=n.length;t<i;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Q(e){let t;const n=e.extensions&&e.extensions[a.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+X(n.attributes):e.indices+":"+X(e.attributes)+":"+e.mode,void 0!==e.targets)for(let n=0,i=e.targets.length;n<i;n++)t+=":"+X(e.targets[n]);return t}function X(e){let t="";const n=Object.keys(e).sort();for(let i=0,r=n.length;i<r;i++)t+=n[i]+":"+e[n[i]]+";";return t}function Z(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const J=new i.Matrix4;class ee{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new s,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=-1,o=!1,a=-1;if("undefined"!=typeof navigator){const e=navigator.userAgent;n=!0===/^((?!chrome|android).)*safari/i.test(e);const t=e.match(/Version\/(\d+)/);r=n&&t?parseInt(t[1],10):-1,o=e.indexOf("Firefox")>-1,a=o?e.match(/Firefox\/([0-9]+)\./)[1]:-1}"undefined"==typeof createImageBitmap||n&&r<17||o&&a<98?this.textureLoader=new i.TextureLoader(this.options.manager):this.textureLoader=new i.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new i.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const o={scene:t[0][i.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:i.asset,parser:n,userData:{}};return K(r,o,i),Y(o,i),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(o)}))).then((function(){for(const e of o.scenes)e.updateMatrixWorld();e(o)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let n=0,i=t.length;n<i;n++){const i=t[n].joints;for(let t=0,n=i.length;t<n;t++)e[i[t]].isBone=!0}for(let t=0,i=e.length;t<i;t++){const i=e[t];void 0!==i.mesh&&(this._addNodeRef(this.meshCache,i.mesh),void 0!==i.skin&&(n[i.mesh].isSkinnedMesh=!0)),void 0!==i.camera&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),r=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[n,i]of e.children.entries())r(i,t.children[n])};return r(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const r=e(t[i]);r&&n.push(r)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":i=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":i=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})),!i)throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(i.map((function(t,i){return n.getDependency(e,i)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[a.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(e,o){n.load(i.LoaderUtils.resolveURL(t.uri,r.path),e,void 0,(function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,i=t.byteOffset||0;return e.slice(i,i+n)}))}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){const e=H[r.type],t=U[r.componentType],n=!0===r.normalized,o=new t(r.count*e);return Promise.resolve(new i.BufferAttribute(o,e,n))}const o=[];return void 0!==r.bufferView?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),void 0!==r.sparse&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then((function(e){const o=e[0],s=H[r.type],a=U[r.componentType],l=a.BYTES_PER_ELEMENT,c=l*s,u=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,h=!0===r.normalized;let p,f;if(d&&d!==c){const e=Math.floor(u/d),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count;let c=t.cache.get(n);c||(p=new a(o,e*d,r.count*d/l),c=new i.InterleavedBuffer(p,d/l),t.cache.add(n,c)),f=new i.InterleavedBufferAttribute(c,s,u%d/l,h)}else p=null===o?new a(r.count*s):new a(o,u,r.count*s),f=new i.BufferAttribute(p,s,h);if(void 0!==r.sparse){const t=H.SCALAR,n=U[r.sparse.indices.componentType],l=r.sparse.indices.byteOffset||0,c=r.sparse.values.byteOffset||0,u=new n(e[1],l,r.sparse.count*t),d=new a(e[2],c,r.sparse.count*s);null!==o&&(f=new i.BufferAttribute(f.array.slice(),f.itemSize,f.normalized)),f.normalized=!1;for(let e=0,t=u.length;e<t;e++){const t=u[e];if(f.setX(t,d[e*s]),s>=2&&f.setY(t,d[e*s+1]),s>=3&&f.setZ(t,d[e*s+2]),s>=4&&f.setW(t,d[e*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}f.normalized=h}return f}))}loadTexture(e){const t=this.json,n=this.options,i=t.textures[e].source,r=t.images[i];let o=this.textureLoader;if(r.uri){const e=n.manager.getHandler(r.uri);null!==e&&(o=e)}return this.loadTextureImage(e,i,o)}loadTextureImage(e,t,n){const r=this,o=this.json,s=o.textures[e],a=o.images[t],l=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=s.name||a.name||"",""===t.name&&"string"==typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(t.name=a.uri);const n=(o.samplers||{})[s.sampler]||{};return t.magFilter=j[n.magFilter]||i.LinearFilter,t.minFilter=j[n.minFilter]||i.LinearMipmapLinearFilter,t.wrapS=F[n.wrapS]||i.RepeatWrapping,t.wrapT=F[n.wrapT]||i.RepeatWrapping,t.generateMipmaps=!t.isCompressedTexture&&t.minFilter!==i.NearestFilter&&t.minFilter!==i.LinearFilter,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this,r=this.json,o=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const s=r.images[e],a=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(void 0!==s.bufferView)l=n.getDependency("bufferView",s.bufferView).then((function(e){c=!0;const t=new Blob([e],{type:s.mimeType});return l=a.createObjectURL(t),l}));else if(void 0===s.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then((function(e){return new Promise((function(n,r){let s=n;!0===t.isImageBitmapLoader&&(s=function(e){const t=new i.Texture(e);t.needsUpdate=!0,n(t)}),t.load(i.LoaderUtils.resolveURL(e,o.path),s,void 0,r)}))})).then((function(e){var t;return!0===c&&a.revokeObjectURL(l),Y(e,s),e.userData.mimeType=s.mimeType||((t=s.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":t.search(/\.ktx2($|\?)/i)>0||0===t.search(/^data\:image\/ktx2/)?"image/ktx2":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),e}));return this.sourceCache[e]=u,u}assignTexture(e,t,n,i){const r=this;return this.getDependency("texture",n.index).then((function(o){if(!o)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((o=o.clone()).channel=n.texCoord),r.extensions[a.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[a.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=r.associations.get(o);o=r.extensions[a.KHR_TEXTURE_TRANSFORM].extendTexture(o,e),r.associations.set(o,t)}}return void 0!==i&&(o.colorSpace=i),e[t]=o,o}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=void 0===t.attributes.tangent,o=void 0!==t.attributes.color,s=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new i.PointsMaterial,i.Material.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new i.LineBasicMaterial,i.Material.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,this.cache.add(e,t)),n=t}if(r||o||s){let e="ClonedMaterial:"+n.uuid+":";r&&(e+="derivative-tangents:"),o&&(e+="vertex-colors:"),s&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),o&&(t.vertexColors=!0),s&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}e.material=n}getMaterialType(){return i.MeshStandardMaterial}loadMaterial(e){const t=this,n=this.json,r=this.extensions,o=n.materials[e];let s;const l={},c=[];if((o.extensions||{})[a.KHR_MATERIALS_UNLIT]){const e=r[a.KHR_MATERIALS_UNLIT];s=e.getMaterialType(),c.push(e.extendParams(l,o,t))}else{const n=o.pbrMetallicRoughness||{};if(l.color=new i.Color(1,1,1),l.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;l.color.setRGB(e[0],e[1],e[2],i.LinearSRGBColorSpace),l.opacity=e[3]}void 0!==n.baseColorTexture&&c.push(t.assignTexture(l,"map",n.baseColorTexture,i.SRGBColorSpace)),l.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,l.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(c.push(t.assignTexture(l,"metalnessMap",n.metallicRoughnessTexture)),c.push(t.assignTexture(l,"roughnessMap",n.metallicRoughnessTexture))),s=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),c.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,l)}))))}!0===o.doubleSided&&(l.side=i.DoubleSide);const u=o.alphaMode||W;if(u===$?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,u===z&&(l.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&s!==i.MeshBasicMaterial&&(c.push(t.assignTexture(l,"normalMap",o.normalTexture)),l.normalScale=new i.Vector2(1,1),void 0!==o.normalTexture.scale)){const e=o.normalTexture.scale;l.normalScale.set(e,e)}if(void 0!==o.occlusionTexture&&s!==i.MeshBasicMaterial&&(c.push(t.assignTexture(l,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(l.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&s!==i.MeshBasicMaterial){const e=o.emissiveFactor;l.emissive=(new i.Color).setRGB(e[0],e[1],e[2],i.LinearSRGBColorSpace)}return void 0!==o.emissiveTexture&&s!==i.MeshBasicMaterial&&c.push(t.assignTexture(l,"emissiveMap",o.emissiveTexture,i.SRGBColorSpace)),Promise.all(c).then((function(){const n=new s(l);return o.name&&(n.name=o.name),Y(n,o),t.associations.set(n,{materials:e}),o.extensions&&K(r,n,o),n}))}createUniqueName(e){const t=i.PropertyBinding.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function o(e){return n[a.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return te(n,e,t)}))}const s=[];for(let n=0,l=e.length;n<l;n++){const l=e[n],c=Q(l),u=r[c];if(u)s.push(u.promise);else{let e;e=l.extensions&&l.extensions[a.KHR_DRACO_MESH_COMPRESSION]?o(l):te(new i.BufferGeometry,l,t),r[c]={primitive:l,promise:e},s.push(e)}}return Promise.all(s)}loadMesh(e){const t=this,n=this.json,o=this.extensions,s=n.meshes[e],a=s.primitives,l=[];for(let e=0,t=a.length;e<t;e++){const t=void 0===a[e].material?(void 0===(c=this.cache).DefaultMaterial&&(c.DefaultMaterial=new i.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.FrontSide})),c.DefaultMaterial):this.getDependency("material",a[e].material);l.push(t)}var c;return l.push(t.loadGeometries(a)),Promise.all(l).then((function(n){const l=n.slice(0,n.length-1),c=n[n.length-1],u=[];for(let n=0,d=c.length;n<d;n++){const d=c[n],h=a[n];let p;const f=l[n];if(h.mode===x.TRIANGLES||h.mode===x.TRIANGLE_STRIP||h.mode===x.TRIANGLE_FAN||void 0===h.mode)p=!0===s.isSkinnedMesh?new i.SkinnedMesh(d,f):new i.Mesh(d,f),!0===p.isSkinnedMesh&&p.normalizeSkinWeights(),h.mode===x.TRIANGLE_STRIP?p.geometry=(0,r.toTrianglesDrawMode)(p.geometry,i.TriangleStripDrawMode):h.mode===x.TRIANGLE_FAN&&(p.geometry=(0,r.toTrianglesDrawMode)(p.geometry,i.TriangleFanDrawMode));else if(h.mode===x.LINES)p=new i.LineSegments(d,f);else if(h.mode===x.LINE_STRIP)p=new i.Line(d,f);else if(h.mode===x.LINE_LOOP)p=new i.LineLoop(d,f);else{if(h.mode!==x.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);p=new i.Points(d,f)}Object.keys(p.geometry.morphAttributes).length>0&&q(p,s),p.name=t.createUniqueName(s.name||"mesh_"+e),Y(p,s),h.extensions&&K(o,p,h),t.assignFinalMaterial(p),u.push(p)}for(let n=0,i=u.length;n<i;n++)t.associations.set(u[n],{meshes:e,primitives:n});if(1===u.length)return s.extensions&&K(o,u[0],s),u[0];const d=new i.Group;s.extensions&&K(o,d,s),t.associations.set(d,{meshes:e});for(let e=0,t=u.length;e<t;e++)d.add(u[e]);return d}))}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new i.PerspectiveCamera(i.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new i.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Y(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n=[];for(let e=0,i=t.joints.length;e<i;e++)n.push(this._loadNodeShallow(t.joints[e]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){const n=e.pop(),r=e,o=[],s=[];for(let e=0,a=r.length;e<a;e++){const a=r[e];if(a){o.push(a);const t=new i.Matrix4;null!==n&&t.fromArray(n.array,16*e),s.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[e])}return new i.Skeleton(o,s)}))}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],o=r.name?r.name:"animation_"+e,s=[],a=[],l=[],c=[],u=[];for(let e=0,t=r.channels.length;e<t;e++){const t=r.channels[e],n=r.samplers[t.sampler],i=t.target,o=i.node,d=void 0!==r.parameters?r.parameters[n.input]:n.input,h=void 0!==r.parameters?r.parameters[n.output]:n.output;void 0!==i.node&&(s.push(this.getDependency("node",o)),a.push(this.getDependency("accessor",d)),l.push(this.getDependency("accessor",h)),c.push(n),u.push(i))}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then((function(e){const t=e[0],r=e[1],s=e[2],a=e[3],l=e[4],c=[];for(let e=0,i=t.length;e<i;e++){const i=t[e],o=r[e],u=s[e],d=a[e],h=l[e];if(void 0===i)continue;i.updateMatrix&&i.updateMatrix();const p=n._createAnimationTracks(i,o,u,d,h);if(p)for(let e=0;e<p.length;e++)c.push(p[e])}return new i.AnimationClip(o,void 0,c)}))}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return void 0===i.mesh?null:n.getDependency("mesh",i.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,i.mesh,e);return void 0!==i.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=i.weights.length;t<n;t++)e.morphTargetInfluences[t]=i.weights[t]})),t}))}loadNode(e){const t=this,n=this.json.nodes[e],i=t._loadNodeShallow(e),r=[],o=n.children||[];for(let e=0,n=o.length;e<n;e++)r.push(t.getDependency("node",o[e]));const s=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([i,Promise.all(r),s]).then((function(e){const t=e[0],n=e[1],i=e[2];null!==i&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(i,J)}));for(let e=0,i=n.length;e<i;e++)t.add(n[e]);return t}))}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const o=t.nodes[e],s=o.name?r.createUniqueName(o.name):"",a=[],l=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return l&&a.push(l),void 0!==o.camera&&a.push(r.getDependency("camera",o.camera).then((function(e){return r._getNodeRef(r.cameraCache,o.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){a.push(e)})),this.nodeCache[e]=Promise.all(a).then((function(t){let a;if(a=!0===o.isBone?new i.Bone:t.length>1?new i.Group:1===t.length?t[0]:new i.Object3D,a!==t[0])for(let e=0,n=t.length;e<n;e++)a.add(t[e]);if(o.name&&(a.userData.name=o.name,a.name=s),Y(a,o),o.extensions&&K(n,a,o),void 0!==o.matrix){const e=new i.Matrix4;e.fromArray(o.matrix),a.applyMatrix4(e)}else void 0!==o.translation&&a.position.fromArray(o.translation),void 0!==o.rotation&&a.quaternion.fromArray(o.rotation),void 0!==o.scale&&a.scale.fromArray(o.scale);return r.associations.has(a)||r.associations.set(a,{}),r.associations.get(a).nodes=e,a})),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,o=new i.Group;n.name&&(o.name=r.createUniqueName(n.name)),Y(o,n),n.extensions&&K(t,o,n);const s=n.nodes||[],a=[];for(let e=0,t=s.length;e<t;e++)a.push(r.getDependency("node",s[e]));return Promise.all(a).then((function(e){for(let t=0,n=e.length;t<n;t++)o.add(e[t]);return r.associations=(e=>{const t=new Map;for(const[e,n]of r.associations)(e instanceof i.Material||e instanceof i.Texture)&&t.set(e,n);return e.traverse((e=>{const n=r.associations.get(e);null!=n&&t.set(e,n)})),t})(o),o}))}_createAnimationTracks(e,t,n,r,o){const s=[],a=e.name?e.name:e.uuid,l=[];let c;switch(B[o.path]===B.weights?e.traverse((function(e){e.morphTargetInfluences&&l.push(e.name?e.name:e.uuid)})):l.push(a),B[o.path]){case B.weights:c=i.NumberKeyframeTrack;break;case B.rotation:c=i.QuaternionKeyframeTrack;break;case B.translation:case B.scale:c=i.VectorKeyframeTrack;break;default:if(1===n.itemSize)c=i.NumberKeyframeTrack;else c=i.VectorKeyframeTrack}const u=void 0!==r.interpolation?V[r.interpolation]:i.InterpolateLinear,d=this._getArrayFromAccessor(n);for(let e=0,n=l.length;e<n;e++){const n=new c(l[e]+"."+B[o.path],t.array,d,u);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(n),s.push(n)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const e=Z(t.constructor),n=new Float32Array(t.length);for(let i=0,r=t.length;i<r;i++)n[i]=t[i]*e;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof i.QuaternionKeyframeTrack?C:D)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function te(e,t,n){const r=t.attributes,o=[];function s(t,i){return n.getDependency("accessor",t).then((function(t){e.setAttribute(i,t)}))}for(const t in r){const n=G[t]||t.toLowerCase();n in e.attributes||o.push(s(r[t],n))}if(void 0!==t.indices&&!e.index){const i=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));o.push(i)}return i.ColorManagement.workingColorSpace!==i.LinearSRGBColorSpace&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${i.ColorManagement.workingColorSpace}" not supported.`),Y(e,t),function(e,t,n){const r=t.attributes,o=new i.Box3;if(void 0===r.POSITION)return;{const e=n.json.accessors[r.POSITION],t=e.min,s=e.max;if(void 0===t||void 0===s)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(o.set(new i.Vector3(t[0],t[1],t[2]),new i.Vector3(s[0],s[1],s[2])),e.normalized){const t=Z(U[e.componentType]);o.min.multiplyScalar(t),o.max.multiplyScalar(t)}}const s=t.targets;if(void 0!==s){const e=new i.Vector3,t=new i.Vector3;for(let i=0,r=s.length;i<r;i++){const r=s[i];if(void 0!==r.POSITION){const i=n.json.accessors[r.POSITION],o=i.min,s=i.max;if(void 0!==o&&void 0!==s){if(t.setX(Math.max(Math.abs(o[0]),Math.abs(s[0]))),t.setY(Math.max(Math.abs(o[1]),Math.abs(s[1]))),t.setZ(Math.max(Math.abs(o[2]),Math.abs(s[2]))),i.normalized){const e=Z(U[i.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(e)}e.boundingBox=o;const a=new i.Sphere;o.getCenter(a.center),a.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=a}(e,t,n),Promise.all(o).then((function(){return void 0!==t.targets?function(e,t,n){let i=!1,r=!1,o=!1;for(let e=0,n=t.length;e<n;e++){const n=t[e];if(void 0!==n.POSITION&&(i=!0),void 0!==n.NORMAL&&(r=!0),void 0!==n.COLOR_0&&(o=!0),i&&r&&o)break}if(!i&&!r&&!o)return Promise.resolve(e);const s=[],a=[],l=[];for(let c=0,u=t.length;c<u;c++){const u=t[c];if(i){const t=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;s.push(t)}if(r){const t=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal;a.push(t)}if(o){const t=void 0!==u.COLOR_0?n.getDependency("accessor",u.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l)]).then((function(t){const n=t[0],s=t[1],a=t[2];return i&&(e.morphAttributes.position=n),r&&(e.morphAttributes.normal=s),o&&(e.morphAttributes.color=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}},9289:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SVGLoader:()=>o});var i=n(68909);const r=i.SRGBColorSpace;class o extends i.Loader{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,t,n,r){const o=this,s=new i.FileLoader(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,(function(n){try{t(o.parse(n))}catch(t){r?r(t):console.error(t),o.manager.itemError(e)}}),n,r)}parse(e){const t=this;function n(e,t,n,i,r,s,a,l){if(0==t||0==n)return void e.lineTo(l.x,l.y);i=i*Math.PI/180,t=Math.abs(t),n=Math.abs(n);const c=(a.x-l.x)/2,u=(a.y-l.y)/2,d=Math.cos(i)*c+Math.sin(i)*u,h=-Math.sin(i)*c+Math.cos(i)*u;let p=t*t,f=n*n;const m=d*d,g=h*h,v=m/p+g/f;if(v>1){const e=Math.sqrt(v);p=(t*=e)*t,f=(n*=e)*n}const y=p*g+f*m,E=(p*f-y)/y;let S=Math.sqrt(Math.max(0,E));r===s&&(S=-S);const b=S*t*h/n,O=-S*n*d/t,_=Math.cos(i)*b-Math.sin(i)*O+(a.x+l.x)/2,T=Math.sin(i)*b+Math.cos(i)*O+(a.y+l.y)/2,A=o(1,0,(d-b)/t,(h-O)/n),w=o((d-b)/t,(h-O)/n,(-d-b)/t,(-h-O)/n)%(2*Math.PI);e.currentPath.absellipse(_,T,t,n,A,A+w,0===s,i)}function o(e,t,n,i){const r=e*n+t*i,o=Math.sqrt(e*e+t*t)*Math.sqrt(n*n+i*i);let s=Math.acos(Math.max(-1,Math.min(1,r/o)));return e*i-t*n<0&&(s=-s),s}function s(e,t){t=Object.assign({},t);let n={};if(e.hasAttribute("class")){const t=e.getAttribute("class").split(/\s/).filter(Boolean).map((e=>e.trim()));for(let e=0;e<t.length;e++)n=Object.assign(n,v["."+t[e]])}function i(i,r,o){void 0===o&&(o=function(e){return e.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),e}),e.hasAttribute(i)&&(t[r]=o(e.getAttribute(i))),n[i]&&(t[r]=o(n[i])),e.style&&""!==e.style[i]&&(t[r]=o(e.style[i]))}function r(e){return Math.max(0,Math.min(1,d(e)))}function o(e){return Math.max(0,d(e))}return e.hasAttribute("id")&&(n=Object.assign(n,v["#"+e.getAttribute("id")])),i("fill","fill"),i("fill-opacity","fillOpacity",r),i("fill-rule","fillRule"),i("opacity","opacity",r),i("stroke","stroke"),i("stroke-opacity","strokeOpacity",r),i("stroke-width","strokeWidth",o),i("stroke-linejoin","strokeLineJoin"),i("stroke-linecap","strokeLineCap"),i("stroke-miterlimit","strokeMiterLimit",o),i("visibility","visibility"),t}function a(e,t){return e-(t-e)}function l(e,t,n){if("string"!=typeof e)throw new TypeError("Invalid input: "+typeof e);const i={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/};let r=0,o=!0,s="",a="";const l=[];function c(e,t,n){const i=new SyntaxError('Unexpected character "'+e+'" at index '+t+".");throw i.partial=n,i}function u(){""!==s&&(""===a?l.push(Number(s)):l.push(Number(s)*Math.pow(10,Number(a)))),s="",a=""}let d;const h=e.length;for(let p=0;p<h;p++)if(d=e[p],Array.isArray(t)&&t.includes(l.length%n)&&i.FLAGS.test(d))r=1,s=d,u();else{if(0===r){if(i.WHITESPACE.test(d))continue;if(i.DIGIT.test(d)||i.SIGN.test(d)){r=1,s=d;continue}if(i.POINT.test(d)){r=2,s=d;continue}i.COMMA.test(d)&&(o&&c(d,p,l),o=!0)}if(1===r){if(i.DIGIT.test(d)){s+=d;continue}if(i.POINT.test(d)){s+=d,r=2;continue}if(i.EXP.test(d)){r=3;continue}i.SIGN.test(d)&&1===s.length&&i.SIGN.test(s[0])&&c(d,p,l)}if(2===r){if(i.DIGIT.test(d)){s+=d;continue}if(i.EXP.test(d)){r=3;continue}i.POINT.test(d)&&"."===s[s.length-1]&&c(d,p,l)}if(3===r){if(i.DIGIT.test(d)){a+=d;continue}if(i.SIGN.test(d)){if(""===a){a+=d;continue}1===a.length&&i.SIGN.test(a)&&c(d,p,l)}}i.WHITESPACE.test(d)?(u(),r=0,o=!1):i.COMMA.test(d)?(u(),r=0,o=!0):i.SIGN.test(d)?(u(),r=1,s=d):i.POINT.test(d)?(u(),r=2,s=d):c(d,p,l)}return u(),l}const c=["mm","cm","in","pt","pc","px"],u={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function d(e){let n,i="px";if("string"==typeof e||e instanceof String)for(let t=0,n=c.length;t<n;t++){const n=c[t];if(e.endsWith(n)){i=n,e=e.substring(0,e.length-n.length);break}}return"px"===i&&"px"!==t.defaultUnit?n=u.in[t.defaultUnit]/t.defaultDPI:(n=u[i][t.defaultUnit],n<0&&(n=u[i].in*t.defaultDPI)),n*parseFloat(e)}function h(e){const t=e.elements;return t[0]*t[4]-t[1]*t[3]<0}function p(e){const t=e.elements,n=t[0]*t[3]+t[1]*t[4];if(0===n)return!1;const i=f(e),r=m(e);return Math.abs(n/(i*r))>Number.EPSILON}function f(e){const t=e.elements;return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function m(e){const t=e.elements;return Math.sqrt(t[3]*t[3]+t[4]*t[4])}const g=[],v={},y=[],E=new i.Matrix3,S=new i.Matrix3,b=new i.Matrix3,O=new i.Matrix3,_=new i.Vector2,T=new i.Vector3,A=new i.Matrix3,w=(new DOMParser).parseFromString(e,"image/svg+xml");!function e(t,o){if(1!==t.nodeType)return;const c=function(e){if(!(e.hasAttribute("transform")||"use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))))return null;const t=function(e){const t=new i.Matrix3,n=E;if("use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))){const n=d(e.getAttribute("x")),i=d(e.getAttribute("y"));t.translate(n,i)}if(e.hasAttribute("transform")){const i=e.getAttribute("transform").split(")");for(let e=i.length-1;e>=0;e--){const r=i[e].trim();if(""===r)continue;const o=r.indexOf("("),s=r.length;if(o>0&&o<s){const e=r.slice(0,o),t=l(r.slice(o+1));switch(n.identity(),e){case"translate":if(t.length>=1){const e=t[0];let i=0;t.length>=2&&(i=t[1]),n.translate(e,i)}break;case"rotate":if(t.length>=1){let e=0,i=0,r=0;e=t[0]*Math.PI/180,t.length>=3&&(i=t[1],r=t[2]),S.makeTranslation(-i,-r),b.makeRotation(e),O.multiplyMatrices(b,S),S.makeTranslation(i,r),n.multiplyMatrices(S,O)}break;case"scale":if(t.length>=1){const e=t[0];let i=e;t.length>=2&&(i=t[1]),n.scale(e,i)}break;case"skewX":1===t.length&&n.set(1,Math.tan(t[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===t.length&&n.set(1,0,0,Math.tan(t[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===t.length&&n.set(t[0],t[2],t[4],t[1],t[3],t[5],0,0,1)}}t.premultiply(n)}}return t}(e);y.length>0&&t.premultiply(y[y.length-1]);return A.copy(t),y.push(t),t}(t);let u=!1,w=null;switch(t.nodeName){case"svg":case"g":o=s(t,o);break;case"style":!function(e){if(!e.sheet||!e.sheet.cssRules||!e.sheet.cssRules.length)return;for(let t=0;t<e.sheet.cssRules.length;t++){const n=e.sheet.cssRules[t];if(1!==n.type)continue;const i=n.selectorText.split(/,/gm).filter(Boolean).map((e=>e.trim()));for(let e=0;e<i.length;e++){const t=Object.fromEntries(Object.entries(n.style).filter((([,e])=>""!==e)));v[i[e]]=Object.assign(v[i[e]]||{},t)}}}(t);break;case"path":o=s(t,o),t.hasAttribute("d")&&(w=function(e){const t=new i.ShapePath,r=new i.Vector2,o=new i.Vector2,s=new i.Vector2;let c=!0,u=!1;const d=e.getAttribute("d");if(""===d||"none"===d)return null;const h=d.match(/[a-df-z][^a-df-z]*/gi);for(let e=0,i=h.length;e<i;e++){const i=h[e],d=i.charAt(0),p=i.slice(1).trim();let f;switch(!0===c&&(u=!0,c=!1),d){case"M":f=l(p);for(let e=0,n=f.length;e<n;e+=2)r.x=f[e+0],r.y=f[e+1],o.x=r.x,o.y=r.y,0===e?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y),0===e&&s.copy(r);break;case"H":f=l(p);for(let e=0,n=f.length;e<n;e++)r.x=f[e],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"V":f=l(p);for(let e=0,n=f.length;e<n;e++)r.y=f[e],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"L":f=l(p);for(let e=0,n=f.length;e<n;e+=2)r.x=f[e+0],r.y=f[e+1],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"C":f=l(p);for(let e=0,n=f.length;e<n;e+=6)t.bezierCurveTo(f[e+0],f[e+1],f[e+2],f[e+3],f[e+4],f[e+5]),o.x=f[e+2],o.y=f[e+3],r.x=f[e+4],r.y=f[e+5],0===e&&!0===u&&s.copy(r);break;case"S":f=l(p);for(let e=0,n=f.length;e<n;e+=4)t.bezierCurveTo(a(r.x,o.x),a(r.y,o.y),f[e+0],f[e+1],f[e+2],f[e+3]),o.x=f[e+0],o.y=f[e+1],r.x=f[e+2],r.y=f[e+3],0===e&&!0===u&&s.copy(r);break;case"Q":f=l(p);for(let e=0,n=f.length;e<n;e+=4)t.quadraticCurveTo(f[e+0],f[e+1],f[e+2],f[e+3]),o.x=f[e+0],o.y=f[e+1],r.x=f[e+2],r.y=f[e+3],0===e&&!0===u&&s.copy(r);break;case"T":f=l(p);for(let e=0,n=f.length;e<n;e+=2){const n=a(r.x,o.x),i=a(r.y,o.y);t.quadraticCurveTo(n,i,f[e+0],f[e+1]),o.x=n,o.y=i,r.x=f[e+0],r.y=f[e+1],0===e&&!0===u&&s.copy(r)}break;case"A":f=l(p,[3,4],7);for(let e=0,i=f.length;e<i;e+=7){if(f[e+5]==r.x&&f[e+6]==r.y)continue;const i=r.clone();r.x=f[e+5],r.y=f[e+6],o.x=r.x,o.y=r.y,n(t,f[e],f[e+1],f[e+2],f[e+3],f[e+4],i,r),0===e&&!0===u&&s.copy(r)}break;case"m":f=l(p);for(let e=0,n=f.length;e<n;e+=2)r.x+=f[e+0],r.y+=f[e+1],o.x=r.x,o.y=r.y,0===e?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y),0===e&&s.copy(r);break;case"h":f=l(p);for(let e=0,n=f.length;e<n;e++)r.x+=f[e],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"v":f=l(p);for(let e=0,n=f.length;e<n;e++)r.y+=f[e],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"l":f=l(p);for(let e=0,n=f.length;e<n;e+=2)r.x+=f[e+0],r.y+=f[e+1],o.x=r.x,o.y=r.y,t.lineTo(r.x,r.y),0===e&&!0===u&&s.copy(r);break;case"c":f=l(p);for(let e=0,n=f.length;e<n;e+=6)t.bezierCurveTo(r.x+f[e+0],r.y+f[e+1],r.x+f[e+2],r.y+f[e+3],r.x+f[e+4],r.y+f[e+5]),o.x=r.x+f[e+2],o.y=r.y+f[e+3],r.x+=f[e+4],r.y+=f[e+5],0===e&&!0===u&&s.copy(r);break;case"s":f=l(p);for(let e=0,n=f.length;e<n;e+=4)t.bezierCurveTo(a(r.x,o.x),a(r.y,o.y),r.x+f[e+0],r.y+f[e+1],r.x+f[e+2],r.y+f[e+3]),o.x=r.x+f[e+0],o.y=r.y+f[e+1],r.x+=f[e+2],r.y+=f[e+3],0===e&&!0===u&&s.copy(r);break;case"q":f=l(p);for(let e=0,n=f.length;e<n;e+=4)t.quadraticCurveTo(r.x+f[e+0],r.y+f[e+1],r.x+f[e+2],r.y+f[e+3]),o.x=r.x+f[e+0],o.y=r.y+f[e+1],r.x+=f[e+2],r.y+=f[e+3],0===e&&!0===u&&s.copy(r);break;case"t":f=l(p);for(let e=0,n=f.length;e<n;e+=2){const n=a(r.x,o.x),i=a(r.y,o.y);t.quadraticCurveTo(n,i,r.x+f[e+0],r.y+f[e+1]),o.x=n,o.y=i,r.x=r.x+f[e+0],r.y=r.y+f[e+1],0===e&&!0===u&&s.copy(r)}break;case"a":f=l(p,[3,4],7);for(let e=0,i=f.length;e<i;e+=7){if(0==f[e+5]&&0==f[e+6])continue;const i=r.clone();r.x+=f[e+5],r.y+=f[e+6],o.x=r.x,o.y=r.y,n(t,f[e],f[e+1],f[e+2],f[e+3],f[e+4],i,r),0===e&&!0===u&&s.copy(r)}break;case"Z":case"z":t.currentPath.autoClose=!0,t.currentPath.curves.length>0&&(r.copy(s),t.currentPath.currentPoint.copy(r),c=!0);break;default:console.warn(i)}u=!1}return t}(t));break;case"rect":o=s(t,o),w=function(e){const t=d(e.getAttribute("x")||0),n=d(e.getAttribute("y")||0),r=d(e.getAttribute("rx")||e.getAttribute("ry")||0),o=d(e.getAttribute("ry")||e.getAttribute("rx")||0),s=d(e.getAttribute("width")),a=d(e.getAttribute("height")),l=.448084975506,c=new i.ShapePath;c.moveTo(t+r,n),c.lineTo(t+s-r,n),(0!==r||0!==o)&&c.bezierCurveTo(t+s-r*l,n,t+s,n+o*l,t+s,n+o);c.lineTo(t+s,n+a-o),(0!==r||0!==o)&&c.bezierCurveTo(t+s,n+a-o*l,t+s-r*l,n+a,t+s-r,n+a);c.lineTo(t+r,n+a),(0!==r||0!==o)&&c.bezierCurveTo(t+r*l,n+a,t,n+a-o*l,t,n+a-o);c.lineTo(t,n+o),(0!==r||0!==o)&&c.bezierCurveTo(t,n+o*l,t+r*l,n,t+r,n);return c}(t);break;case"polygon":o=s(t,o),w=function(e){function t(e,t,n){const i=d(t),s=d(n);0===o?r.moveTo(i,s):r.lineTo(i,s),o++}const n=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,r=new i.ShapePath;let o=0;return e.getAttribute("points").replace(n,t),r.currentPath.autoClose=!0,r}(t);break;case"polyline":o=s(t,o),w=function(e){function t(e,t,n){const i=d(t),s=d(n);0===o?r.moveTo(i,s):r.lineTo(i,s),o++}const n=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,r=new i.ShapePath;let o=0;return e.getAttribute("points").replace(n,t),r.currentPath.autoClose=!1,r}(t);break;case"circle":o=s(t,o),w=function(e){const t=d(e.getAttribute("cx")||0),n=d(e.getAttribute("cy")||0),r=d(e.getAttribute("r")||0),o=new i.Path;o.absarc(t,n,r,0,2*Math.PI);const s=new i.ShapePath;return s.subPaths.push(o),s}(t);break;case"ellipse":o=s(t,o),w=function(e){const t=d(e.getAttribute("cx")||0),n=d(e.getAttribute("cy")||0),r=d(e.getAttribute("rx")||0),o=d(e.getAttribute("ry")||0),s=new i.Path;s.absellipse(t,n,r,o,0,2*Math.PI);const a=new i.ShapePath;return a.subPaths.push(s),a}(t);break;case"line":o=s(t,o),w=function(e){const t=d(e.getAttribute("x1")||0),n=d(e.getAttribute("y1")||0),r=d(e.getAttribute("x2")||0),o=d(e.getAttribute("y2")||0),s=new i.ShapePath;return s.moveTo(t,n),s.lineTo(r,o),s.currentPath.autoClose=!1,s}(t);break;case"defs":u=!0;break;case"use":o=s(t,o);const r=(t.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),c=t.viewportElement.getElementById(r);c?e(c,o):console.warn("SVGLoader: 'use node' references non-existent node id: "+r)}w&&(void 0!==o.fill&&"none"!==o.fill&&w.color.setStyle(o.fill,r),function(e,t){function n(e){T.set(e.x,e.y,1).applyMatrix3(t),e.set(T.x,T.y)}function r(e){const n=e.xRadius,r=e.yRadius,o=Math.cos(e.aRotation),s=Math.sin(e.aRotation),a=new i.Vector3(n*o,n*s,0),l=new i.Vector3(-r*s,r*o,0),c=a.applyMatrix3(t),u=l.applyMatrix3(t),d=E.set(c.x,u.x,0,c.y,u.y,0,0,0,1),p=S.copy(d).invert(),f=b.copy(p).transpose().multiply(p).elements,m=function(e,t,n){let i,r,o,s,a;const l=e+n,c=e-n,u=Math.sqrt(c*c+4*t*t);l>0?(i=.5*(l+u),a=1/i,r=e*a*n-t*a*t):l<0?r=.5*(l-u):(i=.5*u,r=-.5*u);o=c>0?c+u:c-u;Math.abs(o)>2*Math.abs(t)?(a=-2*t/o,s=1/Math.sqrt(1+a*a),o=a*s):0===Math.abs(t)?(o=1,s=0):(a=-.5*o/t,o=1/Math.sqrt(1+a*a),s=a*o);c>0&&(a=o,o=-s,s=a);return{rt1:i,rt2:r,cs:o,sn:s}}(f[0],f[1],f[4]),g=Math.sqrt(m.rt1),v=Math.sqrt(m.rt2);e.xRadius=1/g,e.yRadius=1/v,e.aRotation=Math.atan2(m.sn,m.cs);if(!((e.aEndAngle-e.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const n=S.set(g,0,0,0,v,0,0,0,1),r=b.set(m.cs,m.sn,0,-m.sn,m.cs,0,0,0,1),o=n.multiply(r).multiply(d),s=e=>{const{x:t,y:n}=new i.Vector3(Math.cos(e),Math.sin(e),0).applyMatrix3(o);return Math.atan2(n,t)};e.aStartAngle=s(e.aStartAngle),e.aEndAngle=s(e.aEndAngle),h(t)&&(e.aClockwise=!e.aClockwise)}}function o(e){const n=f(t),i=m(t);e.xRadius*=n,e.yRadius*=i;const r=n>Number.EPSILON?Math.atan2(t.elements[1],t.elements[0]):Math.atan2(-t.elements[3],t.elements[4]);e.aRotation+=r,h(t)&&(e.aStartAngle*=-1,e.aEndAngle*=-1,e.aClockwise=!e.aClockwise)}const s=e.subPaths;for(let e=0,i=s.length;e<i;e++){const i=s[e].curves;for(let e=0;e<i.length;e++){const s=i[e];s.isLineCurve?(n(s.v1),n(s.v2)):s.isCubicBezierCurve?(n(s.v0),n(s.v1),n(s.v2),n(s.v3)):s.isQuadraticBezierCurve?(n(s.v0),n(s.v1),n(s.v2)):s.isEllipseCurve&&(_.set(s.aX,s.aY),n(_),s.aX=_.x,s.aY=_.y,p(t)?r(s):o(s))}}}(w,A),g.push(w),w.userData={node:t,style:o});const N=t.childNodes;for(let t=0;t<N.length;t++){const n=N[t];u&&"style"!==n.nodeName&&"defs"!==n.nodeName||e(n,o)}c&&(y.pop(),y.length>0?A.copy(y[y.length-1]):A.identity())}(w.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4});return{paths:g,xml:w.documentElement}}static createShapes(e){const t=999999999,n=0,r=1,o=2,s=3,a=4,l=5,c=6,u={loc:n,t:0};function d(e,t,i,r){const s=e.x,a=t.x,l=i.x,c=r.x,d=e.y,p=t.y,f=i.y,m=r.y,g=(c-l)*(d-f)-(m-f)*(s-l),v=(m-f)*(a-s)-(c-l)*(p-d),y=g/v,E=((a-s)*(d-f)-(p-d)*(s-l))/v;if(0===v&&0!==g||y<=0||y>=1||E<0||E>1)return null;if(0===g&&0===v){for(let l=0;l<2;l++){if(h(0===l?i:r,e,t),u.loc==n){const e=0===l?i:r;return{x:e.x,y:e.y,t:u.t}}if(u.loc==o){return{x:+(s+u.t*(a-s)).toPrecision(10),y:+(d+u.t*(p-d)).toPrecision(10),t:u.t}}}return null}for(let o=0;o<2;o++)if(h(0===o?i:r,e,t),u.loc==n){const e=0===o?i:r;return{x:e.x,y:e.y,t:u.t}}return{x:+(s+y*(a-s)).toPrecision(10),y:+(d+y*(p-d)).toPrecision(10),t:y}}function h(e,t,i){const d=i.x-t.x,h=i.y-t.y,p=e.x-t.x,f=e.y-t.y,m=d*f-p*h;if(e.x===t.x&&e.y===t.y)return u.loc=n,void(u.t=0);if(e.x===i.x&&e.y===i.y)return u.loc=r,void(u.t=1);if(m<-Number.EPSILON)return void(u.loc=s);if(m>Number.EPSILON)return void(u.loc=a);if(d*p<0||h*f<0)return void(u.loc=l);if(Math.sqrt(d*d+h*h)<Math.sqrt(p*p+f*f))return void(u.loc=c);let g;g=0!==d?p/d:f/h,u.loc=o,u.t=g}function p(e,t,n){const r=new i.Vector2;t.getCenter(r);const o=[];return n.forEach((t=>{if(t.boundingBox.containsPoint(r)){(function(e,t){const n=[],r=[];for(let o=1;o<e.length;o++){const s=e[o-1],a=e[o];for(let e=1;e<t.length;e++){const o=d(s,a,t[e-1],t[e]);null!==o&&void 0===n.find((e=>e.t<=o.t+Number.EPSILON&&e.t>=o.t-Number.EPSILON))&&(n.push(o),r.push(new i.Vector2(o.x,o.y)))}}return r})(e,t.points).forEach((e=>{o.push({identifier:t.identifier,isCW:t.isCW,point:e})}))}})),o.sort(((e,t)=>e.point.x-t.point.x)),o}let f=t,m=-999999999,g=e.subPaths.map((e=>{const n=e.getPoints();let r=-999999999,o=t,s=-999999999,a=t;for(let e=0;e<n.length;e++){const t=n[e];t.y>r&&(r=t.y),t.y<o&&(o=t.y),t.x>s&&(s=t.x),t.x<a&&(a=t.x)}return m<=s&&(m=s+1),f>=a&&(f=a-1),{curves:e.curves,points:n,isCW:i.ShapeUtils.isClockWise(n),identifier:-1,boundingBox:new i.Box2(new i.Vector2(a,o),new i.Vector2(s,r))}}));g=g.filter((e=>e.points.length>1));for(let e=0;e<g.length;e++)g[e].identifier=e;const v=g.map((t=>function(e,t,n,r,o){null!=o&&""!==o||(o="nonzero");const s=new i.Vector2;e.boundingBox.getCenter(s);const a=p([new i.Vector2(n,s.y),new i.Vector2(r,s.y)],e.boundingBox,t);a.sort(((e,t)=>e.point.x-t.point.x));const l=[],c=[];a.forEach((t=>{t.identifier===e.identifier?l.push(t):c.push(t)}));const u=l[0].point.x,d=[];let h=0;for(;h<c.length&&c[h].point.x<u;)d.length>0&&d[d.length-1]===c[h].identifier?d.pop():d.push(c[h].identifier),h++;if(d.push(e.identifier),"evenodd"===o){const t=d.length%2==0,n=d[d.length-2];return{identifier:e.identifier,isHole:t,for:n}}if("nonzero"===o){let n=!0,i=null,r=null;for(let e=0;e<d.length;e++){const o=d[e];n?(r=t[o].isCW,n=!1,i=o):r!==t[o].isCW&&(r=t[o].isCW,n=!0)}return{identifier:e.identifier,isHole:n,for:i}}console.warn('fill-rule: "'+o+'" is currently not implemented.')}(t,g,f,m,e.userData?e.userData.style.fillRule:void 0))),y=[];return g.forEach((e=>{if(!v[e.identifier].isHole){const t=new i.Shape;t.curves=e.curves;v.filter((t=>t.isHole&&t.for===e.identifier)).forEach((e=>{const n=g[e.identifier],r=new i.Path;r.curves=n.curves,t.holes.push(r)})),y.push(t)}})),y}static getStrokeStyle(e,t,n,i,r){return{strokeColor:t=void 0!==t?t:"#000",strokeWidth:e=void 0!==e?e:1,strokeLineJoin:n=void 0!==n?n:"miter",strokeLineCap:i=void 0!==i?i:"butt",strokeMiterLimit:r=void 0!==r?r:4}}static pointsToStroke(e,t,n,r){const s=[],a=[],l=[];if(0===o.pointsToStrokeWithBuffers(e,t,n,r,s,a,l))return null;const c=new i.BufferGeometry;return c.setAttribute("position",new i.Float32BufferAttribute(s,3)),c.setAttribute("normal",new i.Float32BufferAttribute(a,3)),c.setAttribute("uv",new i.Float32BufferAttribute(l,2)),c}static pointsToStrokeWithBuffers(e,t,n,r,o,s,a,l){const c=new i.Vector2,u=new i.Vector2,d=new i.Vector2,h=new i.Vector2,p=new i.Vector2,f=new i.Vector2,m=new i.Vector2,g=new i.Vector2,v=new i.Vector2,y=new i.Vector2,E=new i.Vector2,S=new i.Vector2,b=new i.Vector2,O=new i.Vector2,_=new i.Vector2,T=new i.Vector2,A=new i.Vector2;n=void 0!==n?n:12,r=void 0!==r?r:.001,l=void 0!==l?l:0;const w=(e=function(e){let t=!1;for(let n=1,i=e.length-1;n<i;n++)if(e[n].distanceTo(e[n+1])<r){t=!0;break}if(!t)return e;const n=[];n.push(e[0]);for(let t=1,i=e.length-1;t<i;t++)e[t].distanceTo(e[t+1])>=r&&n.push(e[t]);return n.push(e[e.length-1]),n}(e)).length;if(w<2)return 0;const N=e[0].equals(e[w-1]);let I,R,k=e[0];const L=t.strokeWidth/2,M=1/(w-1);let D,P,C,x,U=0,j=!1,F=0,H=3*l,G=2*l;B(e[0],e[1],c).multiplyScalar(L),g.copy(e[0]).sub(c),v.copy(e[0]).add(c),y.copy(g),E.copy(v);for(let n=1;n<w;n++){I=e[n],R=n===w-1?N?e[1]:void 0:e[n+1];const i=c;if(B(k,I,i),d.copy(i).multiplyScalar(L),S.copy(I).sub(d),b.copy(I).add(d),D=U+M,P=!1,void 0!==R){B(I,R,u),d.copy(u).multiplyScalar(L),O.copy(I).sub(d),_.copy(I).add(d),C=!0,d.subVectors(R,k),i.dot(d)<0&&(C=!1),1===n&&(j=C),d.subVectors(R,I),d.normalize();const e=Math.abs(i.dot(d));if(e>Number.EPSILON){const n=L/e;d.multiplyScalar(-n),h.subVectors(I,k),p.copy(h).setLength(n).add(d),T.copy(p).negate();const i=p.length(),r=h.length();h.divideScalar(r),f.subVectors(R,I);const o=f.length();switch(f.divideScalar(o),h.dot(T)<r&&f.dot(T)<o&&(P=!0),A.copy(p).add(I),T.add(I),x=!1,P?C?(_.copy(T),b.copy(T)):(O.copy(T),S.copy(T)):z(),t.strokeLineJoin){case"bevel":$(C,P,D);break;case"round":K(C,P),C?W(I,S,O,D,0):W(I,_,b,D,1);break;default:const e=L*t.strokeMiterLimit/i;if(e<1){if("miter-clip"!==t.strokeLineJoin){$(C,P,D);break}K(C,P),C?(f.subVectors(A,S).multiplyScalar(e).add(S),m.subVectors(A,O).multiplyScalar(e).add(O),V(S,D,0),V(f,D,0),V(I,D,.5),V(I,D,.5),V(f,D,0),V(m,D,0),V(I,D,.5),V(m,D,0),V(O,D,0)):(f.subVectors(A,b).multiplyScalar(e).add(b),m.subVectors(A,_).multiplyScalar(e).add(_),V(b,D,1),V(f,D,1),V(I,D,.5),V(I,D,.5),V(f,D,1),V(m,D,1),V(I,D,.5),V(m,D,1),V(_,D,1))}else P?(C?(V(v,U,1),V(g,U,0),V(A,D,0),V(v,U,1),V(A,D,0),V(T,D,1)):(V(v,U,1),V(g,U,0),V(A,D,1),V(g,U,0),V(T,D,0),V(A,D,1)),C?O.copy(A):_.copy(A)):C?(V(S,D,0),V(A,D,0),V(I,D,.5),V(I,D,.5),V(A,D,0),V(O,D,0)):(V(b,D,1),V(A,D,1),V(I,D,.5),V(I,D,.5),V(A,D,1),V(_,D,1)),x=!0}}else z()}else z();N||n!==w-1||Y(e[0],y,E,C,!0,U),U=D,k=I,g.copy(O),v.copy(_)}if(N){if(P&&o){let e=A,t=T;j!==C&&(e=T,t=A),C?(x||j)&&(t.toArray(o,0),t.toArray(o,9),x&&e.toArray(o,3)):!x&&j||(t.toArray(o,3),t.toArray(o,9),x&&e.toArray(o,0))}}else Y(I,S,b,C,!1,D);return F;function B(e,t,n){return n.subVectors(t,e),n.set(-n.y,n.x).normalize()}function V(e,t,n){o&&(o[H]=e.x,o[H+1]=e.y,o[H+2]=0,s&&(s[H]=0,s[H+1]=0,s[H+2]=1),H+=3,a&&(a[G]=t,a[G+1]=n,G+=2)),F+=3}function W(e,t,i,r,o){c.copy(t).sub(e).normalize(),u.copy(i).sub(e).normalize();let s=Math.PI;const a=c.dot(u);Math.abs(a)<1&&(s=Math.abs(Math.acos(a))),s/=n,d.copy(t);for(let t=0,i=n-1;t<i;t++)h.copy(d).rotateAround(e,s),V(d,r,o),V(h,r,o),V(e,r,.5),d.copy(h);V(h,r,o),V(i,r,o),V(e,r,.5)}function z(){V(v,U,1),V(g,U,0),V(S,D,0),V(v,U,1),V(S,D,0),V(b,D,1)}function $(e,t,n){t?e?(V(v,U,1),V(g,U,0),V(S,D,0),V(v,U,1),V(S,D,0),V(T,D,1),V(S,n,0),V(O,n,0),V(T,n,.5)):(V(v,U,1),V(g,U,0),V(b,D,1),V(g,U,0),V(T,D,0),V(b,D,1),V(b,n,1),V(T,n,0),V(_,n,1)):e?(V(S,n,0),V(O,n,0),V(I,n,.5)):(V(b,n,1),V(_,n,0),V(I,n,.5))}function K(e,t){t&&(e?(V(v,U,1),V(g,U,0),V(S,D,0),V(v,U,1),V(S,D,0),V(T,D,1),V(S,U,0),V(I,D,.5),V(T,D,1),V(I,D,.5),V(O,U,0),V(T,D,1)):(V(v,U,1),V(g,U,0),V(b,D,1),V(g,U,0),V(T,D,0),V(b,D,1),V(b,U,1),V(T,D,0),V(I,D,.5),V(I,D,.5),V(T,D,0),V(_,U,1)))}function Y(e,n,i,r,s,l){switch(t.strokeLineCap){case"round":s?W(e,i,n,l,.5):W(e,n,i,l,.5);break;case"square":if(s)c.subVectors(n,e),u.set(c.y,-c.x),d.addVectors(c,u).add(e),h.subVectors(u,c).add(e),r?(d.toArray(o,3),h.toArray(o,0),h.toArray(o,9)):(d.toArray(o,3),1===a[7]?h.toArray(o,9):d.toArray(o,9),h.toArray(o,0));else{c.subVectors(i,e),u.set(c.y,-c.x),d.addVectors(c,u).add(e),h.subVectors(u,c).add(e);const t=o.length;r?(d.toArray(o,t-3),h.toArray(o,t-6),h.toArray(o,t-12)):(h.toArray(o,t-6),d.toArray(o,t-3),h.toArray(o,t-12))}}}}}},3531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TGALoader:()=>r});var i=n(68909);class r extends i.DataTextureLoader{constructor(e){super(e)}parse(e){const t=0,n=1,r=2,o=3,s=9,a=10,l=11,c=48,u=4,d=0,h=1,p=2,f=3;if(e.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let m=0;const g=new Uint8Array(e),v={id_length:g[m++],colormap_type:g[m++],image_type:g[m++],colormap_index:g[m++]|g[m++]<<8,colormap_length:g[m++]|g[m++]<<8,colormap_size:g[m++],origin:[g[m++]|g[m++]<<8,g[m++]|g[m++]<<8],width:g[m++]|g[m++]<<8,height:g[m++]|g[m++]<<8,pixel_size:g[m++],flags:g[m++]};if(function(e){switch(e.image_type){case n:case s:if(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case r:case o:case a:case l:if(e.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+e.image_type)}if(e.width<=0||e.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size)throw new Error("THREE.TGALoader: Invalid pixel size "+e.pixel_size)}(v),v.id_length+m>e.length)throw new Error("THREE.TGALoader: No data.");m+=v.id_length;let y=!1,E=!1,S=!1;switch(v.image_type){case s:y=!0,E=!0;break;case n:E=!0;break;case a:y=!0;break;case r:break;case l:y=!0,S=!0;break;case o:S=!0}const b=new Uint8Array(v.width*v.height*4),O=function(e,t,n,i,r){let o,s;const a=n.pixel_size>>3,l=n.width*n.height*a;if(t&&(s=r.subarray(i,i+=n.colormap_length*(n.colormap_size>>3))),e){let e,t,n;o=new Uint8Array(l);let s=0;const c=new Uint8Array(a);for(;s<l;)if(e=r[i++],t=1+(127&e),128&e){for(n=0;n<a;++n)c[n]=r[i++];for(n=0;n<t;++n)o.set(c,s+n*a);s+=a*t}else{for(t*=a,n=0;n<t;++n)o[s+n]=r[i++];s+=t}}else o=r.subarray(i,i+=t?n.width*n.height:l);return{pixel_data:o,palettes:s}}(y,E,v,m,g);return function(e,t,n,i,r){let o,s,a,l,m,g;switch((v.flags&c)>>u){default:case p:o=0,a=1,m=t,s=0,l=1,g=n;break;case d:o=0,a=1,m=t,s=n-1,l=-1,g=-1;break;case f:o=t-1,a=-1,m=-1,s=0,l=1,g=n;break;case h:o=t-1,a=-1,m=-1,s=n-1,l=-1,g=-1}if(S)switch(v.pixel_size){case 8:!function(e,t,n,i,r,o,s,a){let l,c,u,d=0;const h=v.width;for(u=t;u!==i;u+=n)for(c=r;c!==s;c+=o,d++)l=a[d],e[4*(c+h*u)+0]=l,e[4*(c+h*u)+1]=l,e[4*(c+h*u)+2]=l,e[4*(c+h*u)+3]=255}(e,s,l,g,o,a,m,i);break;case 16:!function(e,t,n,i,r,o,s,a){let l,c,u=0;const d=v.width;for(c=t;c!==i;c+=n)for(l=r;l!==s;l+=o,u+=2)e[4*(l+d*c)+0]=a[u+0],e[4*(l+d*c)+1]=a[u+0],e[4*(l+d*c)+2]=a[u+0],e[4*(l+d*c)+3]=a[u+1]}(e,s,l,g,o,a,m,i);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(v.pixel_size){case 8:!function(e,t,n,i,r,o,s,a,l){const c=l;let u,d,h,p=0;const f=v.width;for(h=t;h!==i;h+=n)for(d=r;d!==s;d+=o,p++)u=a[p],e[4*(d+f*h)+3]=255,e[4*(d+f*h)+2]=c[3*u+0],e[4*(d+f*h)+1]=c[3*u+1],e[4*(d+f*h)+0]=c[3*u+2]}(e,s,l,g,o,a,m,i,r);break;case 16:!function(e,t,n,i,r,o,s,a){let l,c,u,d=0;const h=v.width;for(u=t;u!==i;u+=n)for(c=r;c!==s;c+=o,d+=2)l=a[d+0]+(a[d+1]<<8),e[4*(c+h*u)+0]=(31744&l)>>7,e[4*(c+h*u)+1]=(992&l)>>2,e[4*(c+h*u)+2]=(31&l)<<3,e[4*(c+h*u)+3]=32768&l?0:255}(e,s,l,g,o,a,m,i);break;case 24:!function(e,t,n,i,r,o,s,a){let l,c,u=0;const d=v.width;for(c=t;c!==i;c+=n)for(l=r;l!==s;l+=o,u+=3)e[4*(l+d*c)+3]=255,e[4*(l+d*c)+2]=a[u+0],e[4*(l+d*c)+1]=a[u+1],e[4*(l+d*c)+0]=a[u+2]}(e,s,l,g,o,a,m,i);break;case 32:!function(e,t,n,i,r,o,s,a){let l,c,u=0;const d=v.width;for(c=t;c!==i;c+=n)for(l=r;l!==s;l+=o,u+=4)e[4*(l+d*c)+2]=a[u+0],e[4*(l+d*c)+1]=a[u+1],e[4*(l+d*c)+0]=a[u+2],e[4*(l+d*c)+3]=a[u+3]}(e,s,l,g,o,a,m,i);break;default:throw new Error("THREE.TGALoader: Format not supported.")}}(b,v.width,v.height,O.pixel_data,O.palettes),{data:b,width:v.width,height:v.height,flipY:!0,generateMipmaps:!0,minFilter:i.LinearMipmapLinearFilter}}}},51566:(e,t,n)=>{"use strict";n.r(t),n.d(t,{computeMikkTSpaceTangents:()=>r,computeMorphedAttributes:()=>f,deepCloneAttribute:()=>a,deinterleaveAttribute:()=>c,deinterleaveGeometry:()=>u,estimateBytesUsed:()=>d,interleaveAttributes:()=>l,mergeAttributes:()=>s,mergeGeometries:()=>o,mergeGroups:()=>m,mergeVertices:()=>h,toCreasedNormals:()=>g,toTrianglesDrawMode:()=>p});var i=n(68909);function r(e,t,n=!0){if(!t||!t.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!e.hasAttribute("position")||!e.hasAttribute("normal")||!e.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function r(e){if(e.normalized||e.isInterleavedBufferAttribute){const t=new Float32Array(e.count*e.itemSize);for(let n=0,i=0;n<e.count;n++)t[i++]=e.getX(n),t[i++]=e.getY(n),e.itemSize>2&&(t[i++]=e.getZ(n));return t}return e.array instanceof Float32Array?e.array:new Float32Array(e.array)}const o=e.index?e.toNonIndexed():e,s=t.generateTangents(r(o.attributes.position),r(o.attributes.normal),r(o.attributes.uv));if(n)for(let e=3;e<s.length;e+=4)s[e]*=-1;return o.setAttribute("tangent",new i.BufferAttribute(s,4)),e!==o&&e.copy(o),e}function o(e,t=!1){const n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),o=new Set(Object.keys(e[0].morphAttributes)),a={},l={},c=e[0].morphTargetsRelative,u=new i.BufferGeometry;let d=0;for(let i=0;i<e.length;++i){const s=e[i];let h=0;if(n!==(null!==s.index))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const e in s.attributes){if(!r.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[e]&&(a[e]=[]),a[e].push(s.attributes[e]),h++}if(h!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+". Make sure all geometries have the same number of attributes."),null;if(c!==s.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const e in s.morphAttributes){if(!o.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===l[e]&&(l[e]=[]),l[e].push(s.morphAttributes[e])}if(t){let e;if(n)e=s.index.count;else{if(void 0===s.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+i+". The geometry must have either an index or a position attribute"),null;e=s.attributes.position.count}u.addGroup(d,e,i),d+=e}}if(n){let t=0;const n=[];for(let i=0;i<e.length;++i){const r=e[i].index;for(let e=0;e<r.count;++e)n.push(r.getX(e)+t);t+=e[i].attributes.position.count}u.setIndex(n)}for(const e in a){const t=s(a[e]);if(!t)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" attribute."),null;u.setAttribute(e,t)}for(const e in l){const t=l[e][0].length;if(0===t)break;u.morphAttributes=u.morphAttributes||{},u.morphAttributes[e]=[];for(let n=0;n<t;++n){const t=[];for(let i=0;i<l[e].length;++i)t.push(l[e][i][n]);const i=s(t);if(!i)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" morphAttribute."),null;u.morphAttributes[e].push(i)}}return u}function s(e){let t,n,r,o=-1,s=0;for(let i=0;i<e.length;++i){const a=e[i];if(void 0===t&&(t=a.array.constructor),t!==a.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=a.itemSize),n!==a.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===r&&(r=a.normalized),r!==a.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(-1===o&&(o=a.gpuType),o!==a.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;s+=a.count*n}const a=new t(s),l=new i.BufferAttribute(a,n,r);let c=0;for(let t=0;t<e.length;++t){const i=e[t];if(i.isInterleavedBufferAttribute){const e=c/n;for(let t=0,r=i.count;t<r;t++)for(let r=0;r<n;r++){const n=i.getComponent(t,r);l.setComponent(t+e,r,n)}}else a.set(i.array,c);c+=i.count*n}return void 0!==o&&(l.gpuType=o),l}function a(e){return e.isInstancedInterleavedBufferAttribute||e.isInterleavedBufferAttribute?c(e):e.isInstancedBufferAttribute?(new i.InstancedBufferAttribute).copy(e):(new i.BufferAttribute).copy(e)}function l(e){let t,n=0,r=0;for(let i=0,o=e.length;i<o;++i){const o=e[i];if(void 0===t&&(t=o.array.constructor),t!==o.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=o.array.length,r+=o.itemSize}const o=new i.InterleavedBuffer(new t(n),r);let s=0;const a=[],l=["getX","getY","getZ","getW"],c=["setX","setY","setZ","setW"];for(let t=0,n=e.length;t<n;t++){const n=e[t],r=n.itemSize,u=n.count,d=new i.InterleavedBufferAttribute(o,r,s,n.normalized);a.push(d),s+=r;for(let e=0;e<u;e++)for(let t=0;t<r;t++)d[c[t]](e,n[l[t]](e))}return a}function c(e){const t=e.data.array.constructor,n=e.count,r=e.itemSize,o=e.normalized,s=new t(n*r);let a;a=e.isInstancedInterleavedBufferAttribute?new i.InstancedBufferAttribute(s,r,o,e.meshPerAttribute):new i.BufferAttribute(s,r,o);for(let t=0;t<n;t++)a.setX(t,e.getX(t)),r>=2&&a.setY(t,e.getY(t)),r>=3&&a.setZ(t,e.getZ(t)),r>=4&&a.setW(t,e.getW(t));return a}function u(e){const t=e.attributes,n=e.morphTargets,i=new Map;for(const e in t){const n=t[e];n.isInterleavedBufferAttribute&&(i.has(n)||i.set(n,c(n)),t[e]=i.get(n))}for(const e in n){const t=n[e];t.isInterleavedBufferAttribute&&(i.has(t)||i.set(t,c(t)),n[e]=i.get(t))}}function d(e){let t=0;for(const n in e.attributes){const i=e.getAttribute(n);t+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}const n=e.getIndex();return t+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,t}function h(e,t=1e-4){t=Math.max(t,Number.EPSILON);const n={},i=e.getIndex(),r=e.getAttribute("position"),o=i?i.count:r.count;let s=0;const a=Object.keys(e.attributes),l={},c={},u=[],d=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"];for(let t=0,n=a.length;t<n;t++){const n=a[t],i=e.attributes[n];l[n]=new i.constructor(new i.array.constructor(i.count*i.itemSize),i.itemSize,i.normalized);const r=e.morphAttributes[n];r&&(c[n]||(c[n]=[]),r.forEach(((e,t)=>{const i=new e.array.constructor(e.count*e.itemSize);c[n][t]=new e.constructor(i,e.itemSize,e.normalized)})))}const p=.5*t,f=Math.log10(1/t),m=Math.pow(10,f),g=p*m;for(let t=0;t<o;t++){const r=i?i.getX(t):t;let o="";for(let t=0,n=a.length;t<n;t++){const n=a[t],i=e.getAttribute(n),s=i.itemSize;for(let e=0;e<s;e++)o+=~~(i[d[e]](r)*m+g)+","}if(o in n)u.push(n[o]);else{for(let t=0,n=a.length;t<n;t++){const n=a[t],i=e.getAttribute(n),o=e.morphAttributes[n],u=i.itemSize,p=l[n],f=c[n];for(let e=0;e<u;e++){const t=d[e],n=h[e];if(p[n](s,i[t](r)),o)for(let e=0,i=o.length;e<i;e++)f[e][n](s,o[e][t](r))}}n[o]=s,u.push(s),s++}}const v=e.clone();for(const t in e.attributes){const e=l[t];if(v.setAttribute(t,new e.constructor(e.array.slice(0,s*e.itemSize),e.itemSize,e.normalized)),t in c)for(let e=0;e<c[t].length;e++){const n=c[t][e];v.morphAttributes[t][e]=new n.constructor(n.array.slice(0,s*n.itemSize),n.itemSize,n.normalized)}}return v.setIndex(u),v}function p(e,t){if(t===i.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===i.TriangleFanDrawMode||t===i.TriangleStripDrawMode){let n=e.getIndex();if(null===n){const t=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<i.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const r=n.count-2,o=[];if(t===i.TriangleFanDrawMode)for(let e=1;e<=r;e++)o.push(n.getX(0)),o.push(n.getX(e)),o.push(n.getX(e+1));else for(let e=0;e<r;e++)e%2==0?(o.push(n.getX(e)),o.push(n.getX(e+1)),o.push(n.getX(e+2))):(o.push(n.getX(e+2)),o.push(n.getX(e+1)),o.push(n.getX(e)));o.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=e.clone();return s.setIndex(o),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}function f(e){const t=new i.Vector3,n=new i.Vector3,r=new i.Vector3,o=new i.Vector3,s=new i.Vector3,a=new i.Vector3,l=new i.Vector3,c=new i.Vector3,u=new i.Vector3;function d(e,i,d,h,p,f,m,g){t.fromBufferAttribute(i,p),n.fromBufferAttribute(i,f),r.fromBufferAttribute(i,m);const v=e.morphTargetInfluences;if(d&&v){l.set(0,0,0),c.set(0,0,0),u.set(0,0,0);for(let e=0,i=d.length;e<i;e++){const i=v[e],g=d[e];0!==i&&(o.fromBufferAttribute(g,p),s.fromBufferAttribute(g,f),a.fromBufferAttribute(g,m),h?(l.addScaledVector(o,i),c.addScaledVector(s,i),u.addScaledVector(a,i)):(l.addScaledVector(o.sub(t),i),c.addScaledVector(s.sub(n),i),u.addScaledVector(a.sub(r),i)))}t.add(l),n.add(c),r.add(u)}e.isSkinnedMesh&&(e.applyBoneTransform(p,t),e.applyBoneTransform(f,n),e.applyBoneTransform(m,r)),g[3*p+0]=t.x,g[3*p+1]=t.y,g[3*p+2]=t.z,g[3*f+0]=n.x,g[3*f+1]=n.y,g[3*f+2]=n.z,g[3*m+0]=r.x,g[3*m+1]=r.y,g[3*m+2]=r.z}const h=e.geometry,p=e.material;let f,m,g;const v=h.index,y=h.attributes.position,E=h.morphAttributes.position,S=h.morphTargetsRelative,b=h.attributes.normal,O=h.morphAttributes.position,_=h.groups,T=h.drawRange;let A,w,N,I,R,k,L;const M=new Float32Array(y.count*y.itemSize),D=new Float32Array(b.count*b.itemSize);if(null!==v)if(Array.isArray(p))for(A=0,N=_.length;A<N;A++)for(R=_[A],k=Math.max(R.start,T.start),L=Math.min(R.start+R.count,T.start+T.count),w=k,I=L;w<I;w+=3)f=v.getX(w),m=v.getX(w+1),g=v.getX(w+2),d(e,y,E,S,f,m,g,M),d(e,b,O,S,f,m,g,D);else for(k=Math.max(0,T.start),L=Math.min(v.count,T.start+T.count),A=k,N=L;A<N;A+=3)f=v.getX(A),m=v.getX(A+1),g=v.getX(A+2),d(e,y,E,S,f,m,g,M),d(e,b,O,S,f,m,g,D);else if(Array.isArray(p))for(A=0,N=_.length;A<N;A++)for(R=_[A],k=Math.max(R.start,T.start),L=Math.min(R.start+R.count,T.start+T.count),w=k,I=L;w<I;w+=3)f=w,m=w+1,g=w+2,d(e,y,E,S,f,m,g,M),d(e,b,O,S,f,m,g,D);else for(k=Math.max(0,T.start),L=Math.min(y.count,T.start+T.count),A=k,N=L;A<N;A+=3)f=A,m=A+1,g=A+2,d(e,y,E,S,f,m,g,M),d(e,b,O,S,f,m,g,D);return{positionAttribute:y,normalAttribute:b,morphedPositionAttribute:new i.Float32BufferAttribute(M,3),morphedNormalAttribute:new i.Float32BufferAttribute(D,3)}}function m(e){if(0===e.groups.length)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),e;let t=e.groups;if(t=t.sort(((e,t)=>e.materialIndex!==t.materialIndex?e.materialIndex-t.materialIndex:e.start-t.start)),null===e.getIndex()){const t=e.getAttribute("position"),n=[];for(let e=0;e<t.count;e+=3)n.push(e,e+1,e+2);e.setIndex(n)}const n=e.getIndex(),i=[];for(let e=0;e<t.length;e++){const r=t[e],o=r.start,s=o+r.count;for(let e=o;e<s;e++)i.push(n.getX(e))}e.dispose(),e.setIndex(i);let r=0;for(let e=0;e<t.length;e++){const n=t[e];n.start=r,r+=n.count}let o=t[0];e.groups=[o];for(let n=1;n<t.length;n++){const i=t[n];o.materialIndex===i.materialIndex?o.count+=i.count:(o=i,e.groups.push(o))}return e}function g(e,t=Math.PI/3){const n=Math.cos(t),r=100*(1+1e-10),o=[new i.Vector3,new i.Vector3,new i.Vector3],s=new i.Vector3,a=new i.Vector3,l=new i.Vector3,c=new i.Vector3;function u(e){return`${~~(e.x*r)},${~~(e.y*r)},${~~(e.z*r)}`}const d=e.index?e.toNonIndexed():e,h=d.attributes.position,p={};for(let e=0,t=h.count/3;e<t;e++){const t=3*e,n=o[0].fromBufferAttribute(h,t+0),r=o[1].fromBufferAttribute(h,t+1),l=o[2].fromBufferAttribute(h,t+2);s.subVectors(l,r),a.subVectors(n,r);const c=(new i.Vector3).crossVectors(s,a).normalize();for(let e=0;e<3;e++){const t=u(o[e]);t in p||(p[t]=[]),p[t].push(c)}}const f=new Float32Array(3*h.count),m=new i.BufferAttribute(f,3,!1);for(let e=0,t=h.count/3;e<t;e++){const t=3*e,i=o[0].fromBufferAttribute(h,t+0),r=o[1].fromBufferAttribute(h,t+1),d=o[2].fromBufferAttribute(h,t+2);s.subVectors(d,r),a.subVectors(i,r),l.crossVectors(s,a).normalize();for(let e=0;e<3;e++){const i=p[u(o[e])];c.set(0,0,0);for(let e=0,t=i.length;e<t;e++){const t=i[e];l.dot(t)>n&&c.add(t)}c.normalize(),m.setXYZ(t+e,c.x,c.y,c.z)}}return d.setAttribute("normal",m),d}},55285:(e,t,n)=>{"use strict";n.d(t,{Lh:()=>h,ML:()=>s,Mj:()=>c,QH:()=>f,lW:()=>v,w5:()=>m});var i=n(96540),r=n(20181);var o="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function s(e,t,n,r){const s=(0,i.useRef)(t);o((()=>{s.current=t}),[t]),(0,i.useEffect)((()=>{const t=(null==n?void 0:n.current)??window;if(!t||!t.addEventListener)return;const i=e=>{s.current(e)};return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}),[e,n,r])}function a(e){const t=(0,i.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return o((()=>{t.current=e}),[e]),(0,i.useCallback)(((...e)=>t.current(...e)),[t])}var l="undefined"==typeof window;function c(e,t,n={}){const{initializeWithValue:r=!0}=n,o=(0,i.useCallback)((e=>n.serializer?n.serializer(e):JSON.stringify(e)),[n]),c=(0,i.useCallback)((e=>{if(n.deserializer)return n.deserializer(e);if("undefined"===e)return;const i=t instanceof Function?t():t;let r;try{r=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),i}return r}),[n,t]),u=(0,i.useCallback)((()=>{const n=t instanceof Function?t():t;if(l)return n;try{const t=window.localStorage.getItem(e);return t?c(t):n}catch(t){return console.warn(`Error reading localStorage key ${e}:`,t),n}}),[t,e,c]),[d,h]=(0,i.useState)((()=>r?u():t instanceof Function?t():t)),p=a((t=>{l&&console.warn(`Tried setting localStorage key ${e} even though environment is not a client`);try{const n=t instanceof Function?t(u()):t;window.localStorage.setItem(e,o(n)),h(n),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(t){console.warn(`Error setting localStorage key ${e}:`,t)}}));(0,i.useEffect)((()=>{h(u())}),[e]);const f=(0,i.useCallback)((t=>{(null==t?void 0:t.key)&&t.key!==e||h(u())}),[e,u]);return s("storage",f),s("local-storage",f),[d,p]}function u(e){const t=(0,i.useRef)(e);t.current=e,(0,i.useEffect)((()=>()=>{t.current()}),[])}function d(e,t=500,n){const o=(0,i.useRef)();u((()=>{o.current&&o.current.cancel()}));const s=(0,i.useMemo)((()=>{const i=r(e,t,n),s=(...e)=>i(...e);return s.cancel=()=>{i.cancel()},s.isPending=()=>!!o.current,s.flush=()=>i.flush(),s}),[e,t,n]);return(0,i.useEffect)((()=>{o.current=r(e,t,n)}),[e,t,n]),s}function h(e={}){const{initializeWithValue:t=!0}=e,[n,r]=(0,i.useState)(null),a=(0,i.useCallback)((()=>({width:(null==n?void 0:n.offsetWidth)??void 0,height:(null==n?void 0:n.offsetHeight)??void 0})),[null==n?void 0:n.offsetHeight,null==n?void 0:n.offsetWidth]),[l,c]=(0,i.useState)((()=>t?a():{width:void 0,height:void 0})),u=(0,i.useCallback)((()=>{c(a())}),[null==n?void 0:n.offsetHeight,null==n?void 0:n.offsetWidth]);s("resize",u),o((()=>{u()}),[null==n?void 0:n.offsetHeight,null==n?void 0:n.offsetWidth]);const d=[r,l];return d.ref=d[0],d.width=l.width,d.height=l.height,d}var p="undefined"==typeof window;function f(e,t={}){let{initializeWithValue:n=!0}=t;p&&(n=!1);const r=(0,i.useCallback)((e=>{if(t.deserializer)return t.deserializer(e);if("undefined"===e)return;let n;try{n=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),null}return n}),[t]),o=(0,i.useCallback)((()=>{if(p)return null;try{const t=window.localStorage.getItem(e);return t?r(t):null}catch(t){return console.warn(`Error reading localStorage key ${e}:`,t),null}}),[e,r]),[a,l]=(0,i.useState)((()=>{if(n)return o()}));(0,i.useEffect)((()=>{l(o())}),[e]);const c=(0,i.useCallback)((t=>{(null==t?void 0:t.key)&&t.key!==e||l(o())}),[e,o]);return s("storage",c),s("local-storage",c),a}function m(e,t){const n=function(){const e=(0,i.useRef)(!0);return e.current?(e.current=!1,!0):e.current}();(0,i.useEffect)((()=>{if(!n)return e()}),t)}var g="undefined"==typeof window;function v(e={}){let{initializeWithValue:t=!0}=e;g&&(t=!1);const[n,r]=(0,i.useState)((()=>t?{width:window.innerWidth,height:window.innerHeight}:{width:void 0,height:void 0})),a=d(r,null==e?void 0:e.debounceDelay);function l(){((null==e?void 0:e.debounceDelay)?a:r)({width:window.innerWidth,height:window.innerHeight})}return s("resize",l),o((()=>{l()}),[]),n}},32244:e=>{"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":60,"w":876,"h":744,"nm":"Rating Modal","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Vector 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[437.969,578.877,0],"to":[0,-8.167,0],"ti":[0,8.167,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":18,"s":[437.969,529.877,0],"to":[0,0,0],"ti":[0,0,0]},{"t":25,"s":[437.969,529.877,0]}],"ix":2},"a":{"a":0,"k":[0,51.205,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.83,0.808,0.833],"y":[1.233,0.833,0.35]},"o":{"x":[0.283,0.284,0],"y":[-0.056,-0.064,0]},"t":0,"s":[176.81,195.773,100]},{"i":{"x":[0.564,0.562,0.794],"y":[3.244,0.849,2.131]},"o":{"x":[0.466,0.473,0.167],"y":[-4.295,-0.161,0.141]},"t":23,"s":[207.791,222.842,100]},{"t":28,"s":[207.791,207.791,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.52,0.008],[0,0],[0,0],[0.001,-0.183],[-8.335,-0.035],[-1.024,7.367],[-0.728,2.537],[0,0],[2.38,0.806],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.516,0.006],[0,0],[0,0],[0.432,0.025],[0,0],[2.518,0.008],[0,0],[0,0],[0.409,-0.037],[0,0],[2.516,0.006],[0,0],[0,0],[0.401,-0.185],[0,0]],"o":[[-2.516,-0.006],[0,0],[0,0],[-0.027,8.335],[7.643,0.021],[0.358,-2.606],[0,0],[0,0],[-2.387,-0.816],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.514,-0.01],[0,0],[-0.415,-0.039],[0,0],[0,0],[-2.518,-0.01],[0,0],[-0.423,0.021],[0,0],[0,0],[-2.514,-0.008],[0,0],[-0.44,0.144],[0,0],[0,0]],"v":[[-33.701,-15.143],[-36.223,-12.631],[-36.281,6.241],[-36.285,7.503],[-21.234,22.652],[-6.23,9.641],[-4.465,1.945],[-2.629,-4.438],[-4.202,-7.63],[-7.4,-6.064],[-11.102,2.545],[-12.356,1.279],[-12.356,0.023],[-12.35,-1.377],[-12.3,-18.852],[-14.806,-21.374],[-17.328,-18.866],[-17.38,-2.341],[-18.642,-2.448],[-18.584,-20.126],[-21.092,-22.652],[-23.616,-20.144],[-23.674,-2.463],[-24.928,-2.376],[-24.885,-17.628],[-27.394,-20.155],[-29.917,-17.645],[-29.968,-1.429],[-31.228,-0.933],[-31.189,-12.617]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[-2.52,0.008],[0,0],[0,0],[-0.001,-0.183],[8.335,-0.035],[1.024,7.367],[0.728,2.537],[0,0],[-2.378,0.806],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.516,0.006],[0,0],[0,0],[-0.432,0.025],[0,0],[-2.518,0.008],[0,0],[0,0],[-0.407,-0.037],[0,0],[-2.518,0.006],[0,0],[0,0],[-0.399,-0.185],[0,0]],"o":[[2.516,-0.006],[0,0],[0,0],[0.029,8.335],[-7.645,0.021],[-0.358,-2.606],[0,0],[0,0],[2.389,-0.816],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.514,-0.01],[0,0],[0.415,-0.039],[0,0],[0,0],[2.518,-0.01],[0,0],[0.426,0.021],[0,0],[0,0],[2.514,-0.008],[0,0],[0.438,0.144],[0,0],[0,0]],"v":[[33.701,-15.143],[36.223,-12.631],[36.281,6.241],[36.285,7.503],[21.234,22.652],[6.23,9.641],[4.465,1.945],[2.629,-4.438],[4.202,-7.63],[7.4,-6.064],[11.102,2.545],[12.354,1.279],[12.354,0.023],[12.348,-1.377],[12.298,-18.852],[14.804,-21.374],[17.328,-18.866],[17.38,-2.341],[18.642,-2.448],[18.584,-20.126],[21.092,-22.652],[23.618,-20.144],[23.674,-2.463],[24.928,-2.376],[24.882,-17.628],[27.394,-20.155],[29.917,-17.645],[29.968,-1.429],[31.226,-0.933],[31.187,-12.617]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[3.333,-0.333]],"o":[[-1.2,-5.2],[0,0]],"v":[[22.51,8.041],[11.01,2.541]],"c":false},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[-3.333,-0.333]],"o":[[1.2,-5.2],[0,0]],"v":[[-21.99,7.614],[-10.49,2.114]],"c":false},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[1,0.192156862745,0.345098039216,1]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":19,"s":[1,0.192156862745,0.345098039216,1]},{"t":26,"s":[0.133333333333,0.133333333333,0.133333333333,1]}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Vector","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":23,"s":[0]},{"t":27,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[435.195,196.412,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":23,"s":[209.366,209.366,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":31,"s":[257.214,257.214,100]},{"t":35,"s":[209.366,209.366,100]}],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":23,"s":[{"i":[[33.137,0],[0,-33.137],[-33.137,0],[0,33.137]],"o":[[-33.137,0],[0,33.137],[33.137,0],[0,-33.137]],"v":[[-0.955,14.988],[-60.955,74.988],[-0.955,134.988],[59.045,74.988]],"c":true}]},{"t":31,"s":[{"i":[[47.354,0],[0,-47.354],[-47.354,0],[0,47.354]],"o":[[-47.354,0],[0,47.354],[47.354,0],[0,-47.354]],"v":[[0.906,-36.975],[-84.837,48.768],[0.906,134.511],[86.648,48.768]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.9,-0.695],[-0.438,0],[-0.403,0.524],[0,0],[0.9,0.695],[0.689,-0.896],[0,0]],"o":[[0.372,0.288],[0.617,0],[0,0],[0.695,-0.898],[-0.898,-0.699],[0,0],[-0.695,0.898]],"v":[[10.071,7.71],[11.325,8.137],[12.953,7.34],[19.076,-0.584],[18.706,-3.468],[15.825,-3.098],[9.701,4.826]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-0.615,0],[-0.376,0.29],[0.693,0.898],[0,0],[0.898,-0.693],[-0.693,-0.898]],"o":[[0.405,0.524],[0.44,0],[0.898,-0.695],[0,0],[-0.697,-0.898],[-0.898,0.695],[0,0]],"v":[[-12.955,7.338],[-11.327,8.137],[-10.069,7.71],[-9.699,4.826],[-15.823,-3.098],[-18.707,-3.468],[-19.079,-0.584]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[-1.135,0],[0,1.135],[0,0],[1.137,0],[0,-1.135]],"o":[[0,1.135],[1.137,0],[0,0],[0,-1.135],[-1.135,0],[0,0]],"v":[[-2.12,2.14],[-0.065,4.196],[1.991,2.14],[1.991,-6.082],[-0.065,-8.137],[-2.12,-6.082]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.131453797221,0.131453797221,0.131453797221,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":23,"op":253,"st":-47,"bm":0}],"markers":[]}')},2377:e=>{"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":120,"w":250,"h":250,"nm":"Comp 1","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":3,"nm":" phone","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[125,106.5,0],"ix":2},"a":{"a":0,"k":[55.5,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":3,"nm":" Group 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,20.039,0],"ix":2},"a":{"a":0,"k":[10.091,2.506,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Vector","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[10.091,2.506,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.462,0],[0,0],[0,0.459],[0.462,0],[0,0],[0,-0.459]],"o":[[0,0],[0.462,0],[0,-0.459],[0,0],[-0.462,0],[0,0.459]],"v":[[-2.523,0.835],[2.523,0.835],[3.364,0],[2.523,-0.835],[-2.523,-0.835],[-3.364,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":3,"nm":" Group 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,192.952,0],"ix":2},"a":{"a":0,"k":[22.705,2.506,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Vector","parent":4,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[22.705,2.506,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.462,0],[0,0],[0,0.459],[0.462,0],[0,0],[0,-0.459]],"o":[[0,0],[0.462,0],[0,-0.459],[0,0],[-0.462,0],[0,0.459]],"v":[[-6.727,0.835],[6.727,0.835],[7.568,0],[6.727,-0.835],[-6.727,-0.835],[-7.568,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":3,"nm":" Group","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,106.5,0],"ix":2},"a":{"a":0,"k":[55.5,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Vector","parent":6,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,106.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.246,0],[0,0],[0,3.224],[0,0],[3.246,0],[0,0],[0,-3.224],[0,0]],"o":[[0,0],[3.246,0],[0,0],[0,-3.224],[0,0],[-3.246,0],[0,0],[0,3.224]],"v":[[-12.614,35.5],[12.614,35.5],[18.5,29.653],[18.5,-29.653],[12.614,-35.5],[-12.614,-35.5],[-18.5,-29.653],[-18.5,29.653]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-2.321,0],[0,0],[0,-2.305],[0,0],[2.321,0],[0,0],[0,2.305]],"o":[[0,-2.305],[0,0],[2.321,0],[0,0],[0,2.305],[0,0],[-2.321,0],[0,0]],"v":[[-16.818,-29.653],[-12.614,-33.829],[12.614,-33.829],[16.818,-29.653],[16.818,29.653],[12.614,33.829],[-12.614,33.829],[-16.818,29.653]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":3,"ty":4,"nm":"Ellipse 19 (Stroke) 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":270,"ix":10},"p":{"a":0,"k":[40.962,100.923,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.155,0.911],[-3.096,-1.097],[-1.899,-2.704],[-0.392,-2.375],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.391,0.391],[0,0],[0.391,0.391],[0.391,-0.391],[0,0],[1.7,2.42],[3.49,1.237],[3.557,-1.027],[2.311,-2.91],[-0.432,-0.344],[-0.344,0.432]],"o":[[3.155,-0.911],[3.097,1.097],[1.392,1.982],[0,0],[-0.391,-0.391],[-0.391,0.391],[0,0],[0.391,0.391],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.368,-2.918],[-2.137,-3.042],[-3.49,-1.237],[-3.557,1.027],[-0.344,0.432],[0.432,0.344],[2.054,-2.586]],"v":[[-9.391,-6.883],[0.218,-6.597],[7.898,-0.754],[10.602,5.87],[6.161,1.429],[4.747,1.429],[4.747,2.843],[11.111,9.207],[12.525,9.207],[18.889,2.843],[18.889,1.429],[17.475,1.429],[12.675,6.228],[9.534,-1.904],[0.886,-8.482],[-9.946,-8.805],[-18.965,-2.753],[-18.804,-1.348],[-17.399,-1.509]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":-15,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 19 (Stroke)","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Ellipse 19 (Stroke)","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":90,"ix":10},"p":{"a":0,"k":[213.962,108.423,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.155,0.911],[-3.096,-1.097],[-1.899,-2.704],[-0.392,-2.375],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.391,0.391],[0,0],[0.391,0.391],[0.391,-0.391],[0,0],[1.7,2.42],[3.49,1.237],[3.557,-1.027],[2.311,-2.91],[-0.432,-0.344],[-0.344,0.432]],"o":[[3.155,-0.911],[3.097,1.097],[1.392,1.982],[0,0],[-0.391,-0.391],[-0.391,0.391],[0,0],[0.391,0.391],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.368,-2.918],[-2.137,-3.042],[-3.49,-1.237],[-3.557,1.027],[-0.344,0.432],[0.432,0.344],[2.054,-2.586]],"v":[[-9.391,-6.883],[0.218,-6.597],[7.898,-0.754],[10.602,5.87],[6.161,1.429],[4.747,1.429],[4.747,2.843],[11.111,9.207],[12.525,9.207],[18.889,2.843],[18.889,1.429],[17.475,1.429],[12.675,6.228],[9.534,-1.904],[0.886,-8.482],[-9.946,-8.805],[-18.965,-2.753],[-18.804,-1.348],[-17.399,-1.509]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":-15,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 19 (Stroke)","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"Phone","refId":"comp_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[5]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":74,"s":[100]},{"t":79,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":7,"s":[-90]},{"t":46,"s":[0]}],"ix":10},"p":{"a":0,"k":[127.49999999999999,131,0],"ix":2},"a":{"a":0,"k":[125,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":250,"h":213,"ip":0,"op":80,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"Rotate","refId":"comp_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[5]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":7,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":51,"s":[100]},{"t":57,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":7,"s":[-90]},{"t":46,"s":[0]}],"ix":10},"p":{"a":0,"k":[127.49999999999999,131,0],"ix":2},"a":{"a":0,"k":[125,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":250,"h":213,"ip":0,"op":80,"st":0,"bm":0}],"markers":[]}')},63837:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},72079:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=r,s.amdO={},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var r=Object.create(null);s.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,s.d(r,o),r},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>"js/"+({114:"core",239:"three-examples",276:"late-stream",385:"init",456:"lib-lottie",475:"late",553:"control-kit",587:"autotours",636:"ws-autotours",662:"sdk-bundle",745:"menus",777:"split",780:"encoders",942:"nova.brandicons"}[e]||e)+"."+{12:"a3ebc4b2afaaa0534d96",94:"aaeecf6a6141c0a98800",101:"c02f120a965348735b9e",114:"f432714fd046dfea87b7",123:"14123a7dccd85831f883",129:"9f44e7edf86d2a102ad8",160:"3dd75198c981eeca6520",168:"6bdbae74c50cbd8fea77",177:"6bec17ee9d780f68bfdd",232:"8fbc8e08887730bb89bf",235:"789fe64931346e6d6cdb",239:"881e53cda58f1fe26f93",276:"f60246f4f6bbabfd3a6e",287:"671a81fb705eec7c2f35",352:"481eae013393a4c53c17",385:"f156985f06d02d5ec038",413:"2089c9151e2d8da21eac",455:"ca19d2136cbb7cfabd5b",456:"27c0c92cdf704b5380c7",475:"a83b4d714e80de54a7f9",496:"a9e76ff586a599e97fb5",504:"db175213671e719338c5",543:"d40bfb932609ab191ae9",553:"2dd6a4d18233f7b79389",587:"2dc446678558cd414a4f",631:"7ff013bea160d6a40ef1",636:"c4a1b47f5ec60bd7ef22",662:"e79649cb6c47e25ccbad",686:"b2074fd01831131e881b",694:"9312dbb579cf6937ebf0",704:"7007a6e5702cbb6b5817",724:"b2ad869f8d255f3ecc81",745:"869ec7176350922f970b",777:"53ef3a4b3db020077818",780:"effb12f474a2a4ae27cd",787:"e8eb39048b51b1604a04",798:"b5a8bd5cd82e0db9f7e2",813:"8515c8fa4ef6e44f98f8",840:"3d179182ff86db23c328",849:"0b5b30bbed8a661e76ce",883:"cfab80ec267d3c19b4cf",884:"d093bfa8bc6028a5cdd0",888:"3678f7772d00688842e3",895:"4f67e7ff9a9d88e5b4de",916:"beec6bac584fbceb7b74",933:"992319c8118c1f9602f5",942:"d85cbb8cf1205a6c95aa",955:"42b2309a08a82debd374"}[e]+".js",s.miniCssF=e=>"css/"+{114:"core",385:"init",475:"late",636:"ws-autotours",777:"split"}[e]+".css",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="mp_webgl:",s.l=(e,t,r,o)=>{if(n[e])n[e].push(t);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==i+r){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",i+r),a.src=e),n[e]=[t];var h=(t,i)=>{a.onerror=a.onload=null,clearTimeout(p);var r=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(i))),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../"})(),(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,n)=>{var i=s.miniCssF(e),r=s.p+i;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=(s=n[i]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){var s;if((r=(s=o[i]).getAttribute("data-href"))===e||r===t)return s}})(i,r))return t();((e,t,n,i,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",s.nc&&(o.nonce=s.nc),o.onerror=o.onload=n=>{if(o.onerror=o.onload=null,"load"===n.type)i();else{var s=n&&n.type,a=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+a+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=a,o.parentNode&&o.parentNode.removeChild(o),r(l)}},o.href=t,function(e){const t=Array.from(document.querySelectorAll("matterport-viewer"));t&&t.length?t.forEach((function(t){if(t&&t.shadowRoot){if(t.shadowRoot.querySelector(`link[href="${e.getAttribute("href")}"]`))return;t.shadowRoot.appendChild(e)}})):document.head.appendChild(e)}(o)})(e,r,0,t,n)})),t={784:0};s.f.miniCss=(n,i)=>{t[n]?i.push(t[n]):0!==t[n]&&{114:1,385:1,475:1,636:1,777:1}[n]&&i.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{s.b=document.baseURI||self.location.href;var e={784:0};s.f.j=(t,n)=>{var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=r);var o=s.p+s.u(t),a=new Error;s.l(o,(n=>{if(s.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,r,[o,a,l]=n,c=0;if(o.some((t=>0!==e[t]))){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);if(l)l(s)}for(t&&t(n);c<o.length;c++)r=o[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";s(38630);var e=s(65945),t=s(40157),n=s(31093),i=s(10843);const r=new i.Ay("module-loader");var o,a;(a=o||(o={}))[a.Registered=0]="Registered",a[a.Loading=1]="Loading",a[a.Initialized=2]="Initialized",a[a.Unloaded=3]="Unloaded";class l{constructor(t=new e.mc){this.container=t,this.symbolMap=new Map}registerModule(e,t){if(this.symbolMap.has(e))throw Error(`Type ${String(e)} already registered`);const i={loadClass:t,ctorPromise:new n.i,initPromise:new n.i,state:o.Registered};return this.symbolMap.set(e,i),this.container.bindAsyncFactory(e,(()=>i.initPromise.nativePromise())),i}moduleRegistered(e){return this.symbolMap.has(e)}moduleLoaded(e){const t=this.symbolMap.get(e);return!!t&&![o.Registered,o.Unloaded].includes(t.state)}getModule(e){const t=this.symbolMap.get(e);if(!t)throw Error(`Trying to get ${String(e)} before it was registered!`);if(t.state===o.Unloaded)throw Error(`${String(e)} module unloaded`);return t.initPromise.nativePromise()}getModuleSync(e){const t=this.symbolMap.get(e);return t?t.state!==o.Initialized?null:t.module||null:null}loadModule(n,i,s={}){const a=this.symbolMap.get(i);if(!a)throw Error(`${String(i)} not found`);if(a.state===o.Initialized)return a;if(a.state!==o.Registered&&a.state!==o.Unloaded)throw Error(`${String(i)} already loading`);return a.state=o.Loading,a.loadClass().then((async l=>{if("function"!=typeof l&&(l=l.default),!l)throw new Error(`${String(i)} has no default export during module loading`);let c;if(Reflect.hasOwnMetadata(t.a4,l)){const t=new e.mc(this.container);t.bindClass(l),c=await t.resolve(l)}else c=new l;a.ctorPromise.resolve(c).then((()=>{const e=Date.now();let t=!1;setTimeout((()=>{t||r.debug(`${c.name} init took over 2 seconds`)}),2e3),c.init(s,n).then((()=>{r.debug(`${c.name} init took ${(Date.now()-e)/1e3} secs.`),t=!0,a.state=o.Initialized,a.module=c,a.initPromise.resolve(c),this.container.bindConstant(i,c)})).catch((e=>{a.initPromise.reject(e)}))}))})).catch((e=>{r.error(`Failed to load es6Module for ${String(i)}: ${e}`),a.initPromise.reject(e)})),a}whenQueueEmpties(e,t=[]){const i=[],s=new Map;for(const[e,n]of this.symbolMap)n.state!==o.Loading||t.includes(e)||(i.push(n.initPromise),s.set(e,n.initPromise));for(const[t,n]of s){const i=setTimeout((()=>r.debugInfo("still loading",t)),e);n.then((()=>clearTimeout(i)))}return n.i.all(i).nativePromise()}unloadModule(e){const t=this.symbolMap.get(e);if(!t)throw Error("Attempting to unload unregistered module");if(t.state===o.Unloaded||t.state===o.Registered)throw Error("Attempting to unload not-loaded module");t.state=o.Unloaded,t.ctorPromise=new n.i,t.initPromise=new n.i,t.module=void 0,this.container.removeBinding(e,!1,!0)}}function c(e,t){for(const n in t)if(e===t[n].module)return n.replace("Symbol(","Module(");return"[Unknown module]"}class u{constructor(e,t,n){this.engine=e,this.moduleLookup=t,this.fetchedModules=[],this.messageBus=e.msgBus,this.market=new d(e.market,n),this.commandBinder=e.commandBinder,this.generatorSpreader=e.generatorSpreader,this.uniqueId=e.uniqueId,this.diContainer=e.diContainer,this.getModuleBySymbolSync=e.getModuleBySymbolSync.bind(e),this.tryGetModuleBySymbolSync=e.tryGetModuleBySymbolSync.bind(e),this.addComponent=e.addComponent.bind(e),this.getComponentByType=e.getComponentByType.bind(e),this.getComponents=e.getComponents.bind(e),this.removeComponent=e.removeComponent.bind(e),this.subscribe=e.subscribe.bind(e),this.unsubscribe=e.unsubscribe.bind(e),this.broadcast=e.broadcast.bind(e),this.claimRenderLayer=e.claimRenderLayer.bind(e),this.getRenderLayer=e.getRenderLayer.bind(e),this.disposeRenderLayer=e.disposeRenderLayer.bind(e),this.startGenerator=e.startGenerator.bind(e),this.stopGenerator=e.stopGenerator.bind(e),this.after=e.after.bind(e),this.tick=e.tick.bind(e),this.toggleRendering=e.toggleRendering.bind(e)}getModuleBySymbol(e){const t=Date.now();return this.engine.getModuleBySymbol(e).then((e=>{const n=Date.now();return this.fetchedModules.push({moduleName:c(e,this.moduleLookup),isModule:!0,startAwait:t,finishAwait:n}),e}))}getLoadedDependencies(){return[...this.fetchedModules,...this.market.getLoadedDependencies()]}get msgBus(){return this.messageBus}}class d{constructor(e,t){this.market=e,this.onRegisterData=t,this.fetchedData=[],this._register=e.register.bind(e),this._unregister=e.unregister.bind(e),this.tryGetData=e.tryGetData.bind(e)}register(e,t){this._register(e,t),this.onRegisterData(t.name,Date.now())}unregister(e){this._unregister(e)}waitForData(e){const t=Date.now();return this.market.waitForData(e).then((e=>{const n=Date.now();return this.fetchedData.push({moduleName:e.name,isModule:!1,startAwait:t,finishAwait:n}),e}))}getLoadedDependencies(){return this.fetchedData}}var h=s(24241),p=s(87984);const f="Data not present.";class m{constructor(){this.log=new h.Vy("market"),this.typeLookup=new p.b0,this.store={},this.firstUpdatePromises={}}register(e,t){const n=this.typeLookup.getKeyByType(e,!0);if(this.store[n])throw Error("Data can only be registered to one Module");this.store[n]=t,t.commit(),n in this.firstUpdatePromises&&(this.firstUpdatePromises[n].resolve(this.store[n]),delete this.firstUpdatePromises[n])}unregister(e){const t=this.typeLookup.getKeyByType(e,!0);if(!this.store[t])throw Error("No Data was registered to the Module");delete this.store[t]}getData(e){const t=this.typeLookup.getKeyByType(e);if(t in this.store)return this.store[t];throw Error(f)}waitForData(e){const t=this.typeLookup.getKeyByType(e,!0);return t in this.store?Promise.resolve(this.store[t]):(this.firstUpdatePromises[t]||(this.firstUpdatePromises[t]=new n.i,setTimeout((()=>{h.Vy.level>=3&&!(t in this.store)&&this.log.debug(`still waiting for ${e.name}-data after 5 seconds`)}),5e3)),this.firstUpdatePromises[t].nativePromise())}tryGetData(e){try{return this.getData(e)}catch(e){if(e.message!==f)throw this.log.error("tryGetData",e.message),e}return null}}var g=s(39417),v=s(13777),y=s(79849),E=s(244),S=s(48734),b=s(36476),O=s(27947);class _{constructor(){this.phaseTimes=[],this.modules={},this.onDataRegister=this.onDataRegister.bind(this),this.addAppPhase(O.Jj.UNINITIALIZED),window.profilingData={phaseTimes:this.phaseTimes,modules:this.modules,rows:[]}}addAppPhase(e){e!==O.Jj.PLAYING&&e!==O.Jj.ERROR||(window.profilingData.rows=[...Object.values(this.modules)].sort(((e,t)=>e[4]-t[4]))),this.phaseTimes[e]=Date.now()}addModuleLoadTime(e,t,n,r){const o=[r.map((e=>`${e.moduleName}`))].join(","),s=r.reduce(((e,t)=>e+t.finishAwait-t.startAwait),0),a=Math.min(100,s/(n-t)*100);null==e&&i.Ay.for(this).warnError("Module name is required"),this.modules[e]=[e,e,null,t,n,null,a,o]}onDataRegister(e,t){null==e&&i.Ay.for(this).warnError("Data.name is required"),this.modules[e]=[e,e,null,t,t,null,0,""]}}var T=s(22585),A=s(43787);const w=new h.Vy("engine");let N=E.R.End,I=0;class R{constructor(){this.moduleLookup={},this.componentLookup={},this.currentApplication=null,this.moduleProfiler=new _,this._id=I++,this._container=(0,A.g$)(this._id),this.generatorSpreader=new v.Ay,this.commandBinder=new y.w,this.market=new m,this.messageBus=new g.Q,this.engineGenerators=new S.Ay,this.layers=new b.H,this.symbolLoader=new l(this._container),this.afterPhasePromises=[],this.afterPhaseListenerCount=[],this.resetPromises(),w.debug(`Engine ${this._id} created`),this.subscribe(T.uv,(e=>this.moduleProfiler.addAppPhase(e.phase)))}get uniqueId(){return this._id}get diContainer(){return this._container}async loadApplication(e,t,n){if(e===this.currentApplication)throw Error("Application already loaded");const i=(this.currentApplication?this.currentApplication.getManifest():[]).map((e=>e.type)),r=e.getManifest(),o=r.map((e=>e.type)),s=this.currentApplication;this.currentApplication=null;const a=r.filter((e=>-1===i.indexOf(e.type)));for(const e of a)this.symbolLoader.moduleRegistered(e.type)||this.registerModule(e);if(s)try{await this.unload(s,(e=>!o.includes(e)))}catch(e){w.error(e),t&&t(e)}try{this.currentApplication=e,await e.load(this,{coldStart:null===s,autoPlay:n})}catch(e){w.error(e),t&&t(e)}}async unload(e,t){const n=[...e.getManifest().map((e=>e.type)).filter(t||(()=>!0)).map((e=>this.unloadModuleBySymbol(e))),e.unload(this)];n.length&&await Promise.all(n)}async dispose(){this.currentApplication&&(await this.unload(this.currentApplication),this.currentApplication.stop(),this.currentApplication=null)}registerModule(e){if(this.currentApplication)throw Error("Cannot register modules while application is running");this.symbolLoader.registerModule(e.type,e.promise)}loadModuleBySymbol(e){const t=e,n=t.type;this.moduleLoadInjectionHook&&(t.config=this.moduleLoadInjectionHook(n,t.config||{}));const i=new u(this,this.moduleLookup,this.moduleProfiler.onDataRegister),r=Date.now(),o=this.symbolLoader.loadModule(i,t.type,t.config);return o.ctorPromise.then((e=>this.moduleLookup[n]={symbol:t.type,module:e,initialized:!1,initPromise:o.initPromise.nativePromise()})),o.initPromise.then((()=>{this.moduleProfiler.addModuleLoadTime(n,r,Date.now(),i.getLoadedDependencies()),this.moduleLookup[n].initialized=!0})),o.initPromise.nativePromise()}setLoadInjection(e){if(void 0!==this.moduleLoadInjectionHook)throw Error("Hook already registered");this.moduleLoadInjectionHook=e}async unloadModuleBySymbol(e){if(!this.symbolLoader.moduleLoaded(e))return void w.debug(`${String(e)} module already unloaded`);w.debug(`Unloading ${String(e)} module`);const t=await this.getModuleBySymbol(e),n=this.getModuleIndex(t);this.componentLookup[n]&&(await Promise.all(this.componentLookup[n].map((async e=>{await this.removeComponent(t,e.component),e.component.dispose()}))),this.componentLookup[n]=[]),this.symbolLoader.unloadModule(e),t.dispose(this)}async waitForLoadingModules(e=1e4,t=[]){await Promise.all([this.symbolLoader.whenQueueEmpties(e,t)])}getModuleBySymbol(e){return this.symbolLoader.getModule(e)}getModuleBySymbolSync(e){return this.symbolLoader.getModuleSync(e)}tryGetModuleBySymbolSync(e){try{return this.getModuleBySymbolSync(e)}catch(e){return null}}getComponentByType(e){for(const t in this.moduleLookup){const n=this.moduleLookup[t].module,i=this.getModuleIndex(n),r=this.componentLookup[i]||[];for(const t of r)if(t.component instanceof e)return t.component}return null}async addComponent(e,t){const n=this.getModuleIndex(e);let i=this.componentLookup[n];i||(this.componentLookup[n]=i=[]);let r=-1;for(let e=0;e<i.length;e++)if(i[e].component===t){r=e;break}if(-1===r&&(r=i.push({component:t,active:!1})-1,t.init()),i[r].active)throw Error("Tried to add already active component: "+typeof t);await t.activate(this),i[r].active=!0}async removeComponent(e,t){const n=this.getModuleIndex(e),i=this.componentLookup[n];if(i){let e=null;for(const n of i)if(n.component===t){e=n;break}e&&e.active&&(await t.deactivate(this),e.active=!1)}}tick(){if(N!==E.R.End)throw Error("Engine.tick called outside of waiting. Did the engine get called recursively?!");N=E.R.Begin,this.resolveAfterPhase(E.R.Begin);const e=performance.now(),t=this.lastTick?e-this.lastTick:16;this.lastTick=e,N=E.R.Logic,this.generatorSpreader.onUpdate();try{for(const e in this.moduleLookup){const n=this.moduleLookup[e];n&&n.initialized&&n.module.onUpdate(t)}}catch(e){throw w.error(e),e}this.resolveAfterPhase(E.R.Logic),this.engineGenerators.processGenerators(S.tb.Phase,E.R.Logic);try{this.renderComponents(t)}catch(e){throw w.error(e),e}try{N=E.R.Render,this.resolveAfterPhase(E.R.Render),this.engineGenerators.processGenerators(S.tb.Phase,E.R.Render),N=E.R.End,this.resolveAfterPhase(E.R.End),this.engineGenerators.processGenerators(S.tb.None),this.engineGenerators.processGenerators(S.tb.Promise),this.engineGenerators.processGenerators(S.tb.Duration)}catch(e){throw w.error(e),e}}subscribe(e,t,n=g.x.PERMANENT){return this.messageBus.subscribe(e,t,n)}unsubscribe(e,t){this.messageBus.unsubscribe(e,t)}broadcast(e){this.messageBus.broadcast(e)}claimRenderLayer(e){return this.layers.claimLayer(e)}getRenderLayer(e){return this.layers.getLayer(e)}disposeRenderLayer(e){this.layers.disposeLayer(e)}startGenerator(e){this.engineGenerators.startGenerator(e)}stopGenerator(e){this.engineGenerators.stopGenerator(e)}after(e){return this.afterPhaseListenerCount[e]++,this.afterPhasePromises[e].nativePromise()}getModuleIndex(e){for(const t in this.moduleLookup)if(this.moduleLookup[t]&&this.moduleLookup[t].module===e)return t;return""}*getComponents(){for(const e in this.moduleLookup){const t=this.componentLookup[e];if(t)for(const e of t)yield e}}toggleRendering(e,t){const n=this.getModuleIndex(e),i=this.componentLookup[n];if(i)for(const e of i)e.active=t}renderComponents(e){for(const t in this.moduleLookup){const n=this.componentLookup[t];if(n)for(const t of n)t.active&&t.component.beforeRender&&t.component.beforeRender(e)}for(const t in this.moduleLookup){if(!t)continue;const n=this.componentLookup[t];if(n)for(const t of n)t.active&&t.component.render(e)}}resetPromises(){this.resetAfterPhasePromises()}resetAfterPhasePromises(){this.resetAfterPhasePromise(E.R.Logic),this.resetAfterPhasePromise(E.R.Render),this.resetAfterPhasePromise(E.R.Begin),this.resetAfterPhasePromise(E.R.End)}resetAfterPhasePromise(e){this.afterPhasePromises[e]=new n.i,this.afterPhaseListenerCount[e]=0}resolveAfterPhase(e){this.afterPhaseListenerCount[e]>0&&(this.afterPhasePromises[e].resolve(),this.resetAfterPhasePromise(e))}get msgBus(){return this.messageBus}}var k;k=function(){const e=5121,t=5126,n=5131,i=36193;let r;function o(e,t,n){return function(i,r,o){return((i+e-1)/e|0)*((r+t-1)/t|0)*n*o}}function s(e,t,n){return function(i,r,o){return(Math.max(i,e)*Math.max(r,t)/n|0)*o}}const a=new Map([[33776,o(4,4,8)],[33777,o(4,4,8)],[33778,o(4,4,16)],[33779,o(4,4,16)],[36196,o(4,4,8)],[35840,s(8,8,2)],[35842,s(8,8,2)],[35841,s(16,8,4)],[35843,s(16,8,4)],[37488,o(4,4,8)],[37489,o(4,4,8)],[37492,o(4,4,8)],[37493,o(4,4,8)],[37494,o(4,4,8)],[37495,o(4,4,8)],[37490,o(4,4,16)],[37491,o(4,4,16)],[37496,o(4,4,16)],[37497,o(4,4,16)],[37808,o(4,4,16)],[37840,o(4,4,16)],[37809,o(5,4,16)],[37841,o(5,4,16)],[37810,o(5,5,16)],[37842,o(5,5,16)],[37811,o(6,5,16)],[37843,o(6,5,16)],[37812,o(6,6,16)],[37844,o(6,6,16)],[37813,o(8,5,16)],[37845,o(8,5,16)],[37814,o(8,6,16)],[37846,o(8,6,16)],[37815,o(8,8,16)],[37847,o(8,8,16)],[37816,o(10,5,16)],[37848,o(10,5,16)],[37817,o(10,6,16)],[37849,o(10,6,16)],[37818,o(10,8,16)],[37850,o(10,8,16)],[37819,o(10,10,16)],[37851,o(10,10,16)],[37820,o(12,10,16)],[37852,o(12,10,16)],[37821,o(12,12,16)],[37853,o(12,12,16)],[35916,o(4,4,8)],[35917,o(4,4,8)],[35918,o(4,4,16)],[35919,o(4,4,16)],[36492,o(4,4,16)],[36493,o(4,4,16)],[36494,o(4,4,16)],[36495,o(4,4,16)],[36283,o(4,4,8)],[36284,o(4,4,8)],[36285,o(4,4,16)],[36286,o(4,4,16)]]);function l(o,s){const a=function(o){if(!r){const o={};o[6406]={bytesPerElement:[1,2,2,4],type:[e,n,i,t]},o[6409]={bytesPerElement:[1,2,2,4],type:[e,n,i,t]},o[6410]={bytesPerElement:[2,4,4,8],type:[e,n,i,t]},o[6407]={bytesPerElement:[3,6,6,12,2],type:[e,n,i,t,33635]},o[6408]={bytesPerElement:[4,8,8,16,2,2],type:[e,n,i,t,32819,32820]},o[35906]={bytesPerElement:[4,8,8,16,2,2],type:[e,n,i,t,32819,32820]},o[6402]={bytesPerElement:[2,4],type:[5125,5123]},o[34041]={bytesPerElement:[4]},o[33321]={bytesPerElement:[1]},o[36756]={bytesPerElement:[1]},o[33325]={bytesPerElement:[2]},o[33326]={bytesPerElement:[4]},o[33330]={bytesPerElement:[1]},o[33329]={bytesPerElement:[1]},o[33332]={bytesPerElement:[2]},o[33331]={bytesPerElement:[2]},o[33334]={bytesPerElement:[4]},o[33333]={bytesPerElement:[4]},o[33323]={bytesPerElement:[2]},o[36757]={bytesPerElement:[2]},o[33327]={bytesPerElement:[4]},o[33328]={bytesPerElement:[8]},o[33336]={bytesPerElement:[2]},o[33335]={bytesPerElement:[2]},o[33338]={bytesPerElement:[4]},o[33337]={bytesPerElement:[4]},o[33340]={bytesPerElement:[8]},o[33339]={bytesPerElement:[8]},o[32849]={bytesPerElement:[3]},o[35905]={bytesPerElement:[3]},o[36194]={bytesPerElement:[2]},o[36758]={bytesPerElement:[3]},o[35898]={bytesPerElement:[4]},o[35901]={bytesPerElement:[4]},o[34843]={bytesPerElement:[6]},o[34837]={bytesPerElement:[12]},o[36221]={bytesPerElement:[3]},o[36239]={bytesPerElement:[3]},o[36215]={bytesPerElement:[6]},o[36233]={bytesPerElement:[6]},o[36209]={bytesPerElement:[12]},o[36227]={bytesPerElement:[12]},o[32856]={bytesPerElement:[4]},o[35907]={bytesPerElement:[4]},o[36759]={bytesPerElement:[4]},o[32855]={bytesPerElement:[2]},o[32854]={bytesPerElement:[2]},o[32857]={bytesPerElement:[4]},o[34842]={bytesPerElement:[8]},o[34836]={bytesPerElement:[16]},o[36220]={bytesPerElement:[4]},o[36238]={bytesPerElement:[4]},o[36975]={bytesPerElement:[4]},o[36214]={bytesPerElement:[8]},o[36232]={bytesPerElement:[8]},o[36226]={bytesPerElement:[16]},o[36208]={bytesPerElement:[16]},o[33189]={bytesPerElement:[2]},o[33190]={bytesPerElement:[4]},o[36012]={bytesPerElement:[4]},o[35056]={bytesPerElement:[4]},o[36013]={bytesPerElement:[4]},o[36168]={bytesPerElement:[1]},r=o}return r[o]}(o);if(!a)throw"unknown internal format";if(a.type){const e=a.type.indexOf(s);if(e<0)throw new Error(`unsupported type ${s} for internalformat ${o}`);return a.bytesPerElement[e]}return a.bytesPerElement[0]}function c(e,t,n,i,r){const o=a.get(e);return o?o(t,n,i):function(e,t,n,i,r){return t*n*i*l(e,r)}(e,t,n,i,r)}function u(e){return function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer}(e)||e instanceof ArrayBuffer}function d(){return(new Error).stack.split("\n").slice(2).filter((e=>!e.includes("webgl-memory.js"))).join("\n")}const h=new Set;function p(e,t,n={}){if(h.has(e))return e;h.add(e);const i=n.origGLErrorFn||e.getError;let r=!1;const o=n.sharedState||function(e){const t={samples:(i=e).getParameter(i.SAMPLES)||1,depthBits:i.getParameter(i.DEPTH_BITS),stencilBits:i.getParameter(i.STENCIL_BITS),contextAttributes:i.getContextAttributes()};var i;const o={baseContext:e,config:n,apis:{gman_webgl_memory:{ctx:{getMemoryInfo(){const n=function(e,t){if(e.isContextLost())return 0;const{samples:n}=t,i=e.drawingBufferWidth*e.drawingBufferHeight,r=function(e){const{depthBits:t,stencilBits:n}=e,i=(t+n+7)/8|0;return 3===i?4:i}(t);return 4*i+i*n*4+i*r}(e,t);return{memory:{...l,drawingbuffer:n,total:n+l.buffer+l.texture+l.renderbuffer},resources:{...f}}},getResourcesInfo:e=>function(e,t){return[...e.webglObjectToMemory.keys()].filter((e=>e instanceof t)).map((t=>e.webglObjectToMemory.get(t)))}(o,e),setAllowUnknownTextures(e){r=e}}}},resources:{},memory:{texture:0,buffer:0,renderbuffer:0},bindings:new Map,defaultVertexArray:{},webglObjectToMemory:new Map},a=new Set(["webgl","webgl2","webgl_lose_context"]);function c(){o.bindings.clear(),o.webglObjectToMemory.clear(),o.webglObjectToMemory.set(o.defaultVertexArray,{}),o.currentVertexArray=o.defaultVertexArray,[o.resources,o.memory].forEach((function(e){for(const t in e)e[t]=0}))}return e.canvas&&(e.canvas.addEventListener("webglcontextlost",(function(){c(),o.isContextLost=!0;for(const[e,{ctx:t,origFuncs:n}]of[...Object.entries(o.apis)])if(!a.has(e)&&n){h.delete(t);for(const[e,i]of Object.entries(n))t[e]=i;delete s[e]}})),e.canvas.addEventListener("webglcontextrestored",(function(){o.isContextLost=!1}))),c(),o}(e);n.sharedState=o;const{apis:s,bindings:a,memory:l,resources:f,webglObjectToMemory:m}=o,g={};function v(){}function y(e,t,n){return e[n||`create${t[0].toUpperCase()}${t.substr(1)}`]?(f[t]=0,function(e,n,i,r){o.isContextLost||(++f[t],m.set(r,{size:0,stackCreated:d()}))}):null}function E(t,n=v,i){const r=i||`delete${t[0].toUpperCase()}${t.substr(1)}`;return e[r]?function(e,i,r){if(o.isContextLost)return;const[s]=r,a=m.get(s);a&&(--f[t],n(s,a),m.delete(s))}:null}function S(e,t,n,i,r){if(o.isContextLost)return;const s=a.get(e);if(!s)throw new Error(`no renderbuffer bound to ${e}`);const u=m.get(s);if(!u)throw new Error(`unknown renderbuffer ${s}`);const h=c(n,i,r,1)*t;l.renderbuffer-=u.size,u.size=h,u.stackUpdated=d(),l.renderbuffer+=h}const b=5121,O=34067,_=35866,T=34069,A=new Set([T,34070,34071,34072,34073,34074]);function w(e){return A.has(e)}function N(e){e=w(e)?O:e;const t=a.get(e);if(!t)throw new Error(`no texture bound to ${e}`);let n=m.get(t);if(!n&&!r)throw new Error(`unknown texture ${t}`);return n||(n={size:0},m.set(t,n)),n}function I(e,t,n,i,r,o,s,a){const u=e.size,h=c(i,r,o,s,a),p=w(t)?t-T:0;e.mips=e.mips||[],e.mips[n]=e.mips[n]||[];const f=e.mips[n][p]||{};e.size-=f.size||0,f.size=h,f.internalFormat=i,f.type=a,f.width=r,f.height=o,f.depth=s,e.mips[n][p]=f,e.size+=h,l.texture-=u,l.texture+=e.size,e.stackUpdated=d()}function R(e,t,n,i,r,o){const s=N(e),a=e===O?6:1,l=e===O?T:e;for(let c=0;c<t;++c){for(let e=0;e<a;++e)I(s,l+e,c,n,i,r,o);i=Math.ceil(Math.max(i/2,1)),r=Math.ceil(Math.max(r/2,1)),o=e===_?o:Math.ceil(Math.max(o/2,1))}}function k(e,t,n){if(o.isContextLost)return;const[i]=n;o.currentVertexArray=i||o.defaultVertexArray}function L(e,t){if(!o.isContextLost)if(34963===e)m.get(o.currentVertexArray).elementArrayBuffer=t;else a.set(e,t)}const M={},D={bufferData(e,t,n){if(o.isContextLost)return;const[i,r,,,s]=n;let c;if(c=34963===i?m.get(o.currentVertexArray).elementArrayBuffer:a.get(i),!c)throw new Error(`no buffer bound to ${i}`);let h=0;if(void 0!==s)h=s*r.BYTES_PER_ELEMENT;else if(u(r))h=r.byteLength;else{if("number"!=typeof r)throw new Error(`unsupported bufferData src type ${r}`);h=r}const p=m.get(c);if(!p)throw new Error(`unknown buffer ${c}`);l.buffer-=p.size,p.size=h,p.stackUpdated=d(),l.buffer+=h},bindVertexArray:k,bindVertexArrayOES:k,bindBuffer(e,t,n){const[i,r]=n;L(i,r)},bindBufferBase(e,t,n){const[i,,r]=n;L(i,r)},bindBufferRange(e,t,n){const[i,,r,,]=n;L(i,r)},bindRenderbuffer(e,t,n){if(o.isContextLost)return;const[i,r]=n;a.set(i,r)},bindTexture(e,t,n){if(o.isContextLost)return;const[i,r]=n;a.set(i,r)},copyTexImage2D(e,t,n){if(o.isContextLost)return;const[i,r,s,,,a,l]=n;I(N(i),i,r,s,a,l,1,b)},createBuffer:y(e,"buffer"),createFramebuffer:y(e,"framebuffer"),createRenderbuffer:y(e,"renderbuffer"),createProgram:y(e,"program"),createQuery:y(e,"query"),createShader:y(e,"shader"),createSampler:y(e,"sampler"),createTexture:y(e,"texture"),createTransformFeedback:y(e,"transformFeedback"),createVertexArray:y(e,"vertexArray"),createVertexArrayOES:y(e,"vertexArray","createVertexArrayOES"),compressedTexImage2D(e,t,n){if(o.isContextLost)return;const[i,r,s,a,l]=n;I(N(i),i,r,s,a,l,1,b)},compressedTexImage3D(e,t,n){if(o.isContextLost)return;const[i,r,s,a,l,c]=n;I(N(i),i,r,s,a,l,c,b)},deleteBuffer:E("buffer",(function(e,t){l.buffer-=t.size})),deleteFramebuffer:E("framebuffer"),deleteProgram:E("program"),deleteQuery:E("query"),deleteRenderbuffer:E("renderbuffer",(function(e,t){l.renderbuffer-=t.size})),deleteSampler:E("sampler"),deleteShader:E("shader"),deleteSync:E("sync"),deleteTexture:E("texture",(function(e,t){l.texture-=t.size})),deleteTransformFeedback:E("transformFeedback"),deleteVertexArray:E("vertexArray"),deleteVertexArrayOES:E("vertexArray",v,"deleteVertexArrayOES"),fenceSync:function(e){if(!o.isContextLost&&e.fenceSync)return f.sync=0,function(e,t,n,i){++f.sync,m.set(i,{size:0})}}(e),generateMipmap(e,t,n){if(o.isContextLost)return;const[i]=n,r=N(i),s=r.parameters&&r.parameters.get(33084)||0,a=r.parameters&&r.parameters.get(33085)||1024,l=r.mips[s][0];let{width:c,height:u,depth:d}=l;const{internalFormat:h,type:p}=l;let f=s+1;const m=i===O?6:1,g=i===O?T:i;for(;f<=a&&(1!==c||1!==u||1!==d&&i!==_);){c=Math.ceil(Math.max(c/2,1)),u=Math.ceil(Math.max(u/2,1)),d=i===_?d:Math.ceil(Math.max(d/2,1));for(let e=0;e<m;++e)I(r,g+e,f,h,c,u,d,p);++f}},getSupportedExtensions(e,t,n,i){o.isContextLost||i.push("GMAN_webgl_memory")},renderbufferStorage(e,t,n){const[i,r,o,s]=n;S(i,1,r,o,s)},renderbufferStorageMultisample(e,t,n){const[i,r,o,s,a]=n;S(i,r,o,s,a)},texImage2D(e,t,n){if(o.isContextLost)return;const[i,r,s]=n;let a,l,c;if(6===n.length){const e=n[5];a=e.width,l=e.height,c=n[4]}else a=n[3],l=n[4],c=n[7];I(N(i),i,r,s,a,l,1,c)},texImage3D(e,t,n){if(o.isContextLost)return;const[i,r,s,a,l,c,,,u]=n;I(N(i),i,r,s,a,l,c,u)},texParameteri(e,t,n){if(o.isContextLost)return;const[i,r,s]=n,a=N(i);a.parameters=a.parameters||new Map,a.parameters.set(r,s)},texStorage2D(e,t,n){const[i,r,o,s,a]=n;R(i,r,o,s,a,1)},texStorage3D(e,t,n){const[i,r,o,s,a,l]=n;R(i,r,o,s,a,l)}},P={getExtension(e,t){if(o.isContextLost)return;const r=e[t];e[t]=function(...t){const o=t[0].toLowerCase(),a=s[o];if(a)return a.ctx;const l=r.call(e,...t);return l&&p(l,o,{...n,origGLErrorFn:i}),l}}};function C(e,t){const n=e[t],r=M[t]||v,o=D[t]||v;if(r===v&&D===v)return;e[t]=function(...i){r(e,t,i);const s=n.call(e,...i);return o(e,t,i,s),s};const s=P[t];s&&s(e,t,i)}for(const t in e)"function"==typeof e[t]&&(g[t]=e[t],C(e,t));s[t.toLowerCase()]={ctx:e,origFuncs:g}}function f(e){const t=e.prototype.getContext;e.prototype.getContext=function(e,...n){const i=t.call(this,e,...n);return i&&i.bindTexture&&(p(i,e,{}),i.getExtension("GMAN_webgl_memory")),i}}"undefined"!=typeof HTMLCanvasElement&&f(HTMLCanvasElement),"undefined"!=typeof OffscreenCanvas&&f(OffscreenCanvas)},"function"==typeof define&&define.amd?define(k):k();var L=s(97084),M=s(90082);class D{constructor(e,t,n){this.engine=e,this.renderer=t,this.onErrorCallback=n,this.start=()=>{this.renderer.setAnimationLoop(this.tick)},this.stop=()=>{this.renderer.setAnimationLoop(null)},this.tick=e=>{try{this.engine.tick()}catch(e){this.stop(),this.onErrorCallback(e)}}}}var P=s(25316),C=s(87965),x=s(26072),U=s(75778),j=s(66726),F=s(48539),H=s(64491),G=s(3249),B=s(71687),V=s(88090),W=s(3073),z=s(32126),$=s(95386),K=s(47840),Y=s(99625);const q=new i.Ay("showcase-prefetch");var Q=s(94165),X=s(71224),Z=s(55057);new h.Vy("getSdkConfig");function J(e=!1,t="25.7.3_webgl-869-g4345cd94f0"){const n={client:`https://static.matterport.com/showcase-sdk/client/${t}/sdk-client.js`,sandbox:`https://static.matterport.com/showcase-sdk/sandbox/${t}/sandbox.html`,interfaces:[`https://static.matterport.com/showcase-sdk/interface/${t}/sdk-interface.js`]};return e&&n.interfaces.push(`https://static.matterport.com/showcase-sdk/interface/${t}/edit-interface.js`),n}var ee=s(47737),te=s(65256),ne=s(21875),ie=s(19702),re=s(66846),oe=s(2993),se=s(99583),ae=s(73566),le=s(10711);const ce=new i.Ay("AB");class ue{constructor(e){this.values={};for(const t in e){const n=e[t];if(n&&n.ab)try{this.values[t]=de(n.ab)}catch(e){ce.warn(`Skipping key ${t}, could not pick: ${e}`)}}}get(e){return this.values[e]}serialize(){return Object.keys(this.values).map((e=>`${e}:${this.values[e]}`))}}function de(e){if(0===e.length)throw Error("A/B cannot choose from an empty choice array");let t=0;for(const n of e){if(void 0===n.value||void 0===n.weight||n.weight<0)throw Error(`Malformed AB choice: ${n}`);t+=n.weight}const n=Math.random()*t;let i=0;for(const t of e)if(i+=t.weight,n<=i)return t.value}var he=s(90572),pe=s(47299),fe=s(75522),me=s(28475),ge=s(13767),ve=s(85204),ye=s(38039),Ee=s(23500),Se=s(57811),be=s(60152),Oe=s(80303),_e=s(90160),Te=s(596);var Ae=s(8333),we=s(46793),Ne=s(9997),Ie=s(20563),Re=s(80519),ke=s(9114),Le=s(26482),Me=s(23338),De=s(23339),Pe=s(57447),Ce=s(3645),xe=s(31863);var Ue=s(60818);var je=s(35404);async function Fe({urlValues:e,settingsData:t,flags:n,loggedIn:i,inWorkshop:r,hasPolicy:o,domainDenylist:s}){const a=null!=(0,Me.un)(),l=e[Ce.x$.enabled],c=n.has(Ce.jg)?"0"!==l:"1"===l,u=o(Ce.td)||"1"===e[Ce.x$.forcePolicy],d=!i,h=t.tryGetProperty(je.qu,!1),p=e[Ce.x$.forceReferrer]||document.referrer,f=await async function(e,t){if(!e)return!0;if(!window.crypto||!window.crypto.subtle)return!1;const n=new URL(e),i=(0,j.SE)(n.hostname),r=await(0,xe.e8)(i);return!t.includes(r)}(p,s);Ue.r.debug("referrer eligible: ",f.toString());const m=!a&&!r,g=function(e){return e.getOverrideParam("lang",(0,H.Ul)())}(t).startsWith("en"),v=c&&!h&&m&&g&&d;return{popupAllowed:v&&u&&f,bannerAllowed:v}}var He=s(26059),Ge=s(87419),Be=s(70046),Ve=s(3066),We=s(97171);var ze=s(77689),$e=s(85281),Ke=s(42390),Ye=s(30278);function qe(e){const t={width:"360",maxwidth:"360",maxheight:"640",url:e,native:"true",autoplay:"true"};if(e.includes("flickr")||e.includes("flic.kr")){const e=Math.max(window.screen.height,window.screen.width);t.maxwidth=t.maxheight=t.width=`${e}`}return{queryParams:new URLSearchParams(t),headers:{responseType:"json"}}}const Qe=/^https:\/\/www.instagram.com/;const Xe=/^https:\/\/www.facebook.com/,Ze=/^https:\/\/www.facebook.com\/(.*\/)?(posts\/|activity\/|photo\.php|photos\/|permalink\.php|media\/set|questions\/|notes\/)/,Je=/^https:\/\/www.facebook.com\/(video\.php|.*\/videos\/)/;const et=[{testUrl:function(e){return Qe.test(e)},request:async function(e,t,n,i){const{queryParams:r,headers:o}=qe(e);n&&i&&r.append("access_token",`${n}|${i}`);const s=new URL(`https://graph.facebook.com/v10.0/instagram_oembed?${r.toString()}`);try{return await t.get(s.toString(),o)}catch(e){const t=e;throw new Ye.$A(t.error.message,t.status_code,t.error.type)}},apiKeys:["instagramAppId","instagramClientToken"]},{testUrl:function(e){return Xe.test(e)},request:async function(e,t,n,i){const{queryParams:r,headers:o}=qe(e);n&&i&&r.append("access_token",`${n}|${i}`);const s=function(e){return Ze.test(e)?"https://graph.facebook.com/v10.0/oembed_post":Je.test(e)?"https://graph.facebook.com/v10.0/oembed_video":"https://graph.facebook.com/v10.0/oembed_page"}(e),a=new URL(`${s}?${r.toString()}`);try{return await t.get(a.toString(),o)}catch(e){const t=e;throw new Ye.$A(t.error.message,t.status_code,t.error.type)}},apiKeys:["instagramAppId","instagramClientToken"]},{testUrl:()=>!0,request:async function(e,t,n){const{queryParams:i,headers:r}=qe(e);n&&i.append("key",n);const o=new URL(`https://api.embed.ly/1/oembed?${i.toString()}`);try{return await t.get(o.toString(),r)}catch(e){const t=e;throw new Ye.$A(t.error_message,t.status_code,t.type)}},apiKeys:["embedlyKey"]}];var tt=s(23716);const nt={[tt.K.GoogleMaps]:function(e,t){return e.thumbnail_url&&(e.thumbnail_url=`${e.thumbnail_url}&key=${t.googleMapsApiKey}`),e}};async function it(e,t,n){const i=n.embedlyKey;if(i){const n=function(e,t){if(e.includes("i.embed.ly")||e.startsWith("blob:"))return e;const n=Math.max(window.screen.height,window.screen.width),i=`&url=${encodeURIComponent(e)}&width=${n}&height=${n}`;return`https://i.embed.ly/1/display/resize?key=${t}${i}`}(e,i);return t.get(n,{responseType:"arraybuffer"}).then((e=>{return t=e,new Promise((e=>{t||Promise.resolve(null);const n=t=>{const n=t.target,i={width:n.naturalWidth,height:n.naturalHeight,url:s,type:Ke.n.PHOTO,version:""};e(i)},i=new Uint8Array(t),r=new Blob([i]),o=new Image;o.addEventListener("load",(e=>n(e)));const s=URL.createObjectURL(r);o.src=s}));var t}))}return null}const rt={[tt.K.Behance]:!1,[tt.K.FaceBook]:!1,[tt.K.GoogleMaps]:"googleMapsApiKey",[tt.K.Instagram]:["instagramAppId","instagramClientToken"],[tt.K.LinkedIn]:!1,[tt.K.MixCloud]:!1,[tt.K.Pinterest]:!1,[tt.K.Reddit]:!0,[tt.K.TikTok]:!0,[tt.K.Twitter]:!0,[tt.K.Twitch]:!1};class ot{constructor(e,t){this.cache={},this.queue=e,this.apiKeys=t}async getOEmbedData(e){const t=this.cache[e];if(t&&t.type!==Ke.n.LINK)return Promise.resolve(t);let n,i;try{i=await function(e,t,n){for(const i of et)if(i.testUrl(e)){const r=i.apiKeys.map((e=>n[e]));return i.request(e,t,...r)}throw new Ye.i1(e)}(e,this.queue,this.apiKeys)}catch(e){if(![401,404,501].includes(e.status))throw e;n=e}if(!i||i.type===Ke.n.PHOTO){const t=(null==i?void 0:i.url)||e;try{const n=await it(t,this.queue,this.apiKeys);if(n)return this.cache[e]=n,n}catch(e){if(!i)throw n||e}}if(!i)throw n||Ye.$A;return this.cache[e]=i,this.validate(i)}clearCache(){this.cache={}}validate(e){if(!((e,t)=>{const n=void 0===e.provider_name?void 0:rt[e.provider_name.toLowerCase()];return"string"==typeof n?!!t[n]:Array.isArray(n)?n.every((e=>!!t[e])):!1!==n})(e,this.apiKeys))throw new Ye.aI(e.provider_name);if(e.type===Ke.n.LINK)throw new Ye.Dm(e.provider_name);return function(e,t){if(void 0!==e.provider_name){const n=nt[e.provider_name.toLowerCase()];if(n)return n(e,t)}return e}(e,this.apiKeys)}}var st=s(33156),at=s(49953),lt=s(87766),ct=s(91779),ut=s(40186),dt=s(7584),ht=s(62876);const pt="spaces.aws.twinmaker.sdk.access",ft=new Map([["iot-twinmaker",pt]]);var mt=s(52030),gt=s(924),vt=s(63282),yt=s.n(vt),Et=s(68182),St=s.n(Et);const bt=(e=0)=>t=>`[${t+e}m`,Ot=(e=0)=>t=>`[${38+e};5;${t}m`,_t=(e=0)=>(t,n,i)=>`[${38+e};2;${t};${n};${i}m`,Tt={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(Tt.modifier),Object.keys(Tt.color),Object.keys(Tt.bgColor);const At=function(){const e=new Map;for(const[t,n]of Object.entries(Tt)){for(const[t,i]of Object.entries(n))Tt[t]={open:`[${i[0]}m`,close:`[${i[1]}m`},n[t]=Tt[t],e.set(i[0],i[1]);Object.defineProperty(Tt,t,{value:n,enumerable:!1})}return Object.defineProperty(Tt,"codes",{value:e,enumerable:!1}),Tt.color.close="[39m",Tt.bgColor.close="[49m",Tt.color.ansi=bt(),Tt.color.ansi256=Ot(),Tt.color.ansi16m=_t(),Tt.bgColor.ansi=bt(10),Tt.bgColor.ansi256=Ot(10),Tt.bgColor.ansi16m=_t(10),Object.defineProperties(Tt,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[n]=t;3===n.length&&(n=[...n].map((e=>e+e)).join(""));const i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},enumerable:!1},hexToAnsi256:{value:e=>Tt.rgbToAnsi256(...Tt.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,n,i;if(e>=232)t=(10*(e-232)+8)/255,n=t,i=t;else{const r=(e-=16)%36;t=Math.floor(e/36)/5,n=Math.floor(r/6)/5,i=r%6/5}const r=2*Math.max(t,n,i);if(0===r)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(t));return 2===r&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,t,n)=>Tt.ansi256ToAnsi(Tt.rgbToAnsi256(e,t,n)),enumerable:!1},hexToAnsi:{value:e=>Tt.ansi256ToAnsi(Tt.hexToAnsi256(e)),enumerable:!1}}),Tt}(),wt=(()=>{if(!("navigator"in globalThis))return 0;if(globalThis.navigator.userAgentData){const e=navigator.userAgentData.brands.find((({brand:e})=>"Chromium"===e));if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(globalThis.navigator.userAgent)?1:0})(),Nt=0!==wt&&{level:wt,hasBasic:!0,has256:wt>=2,has16m:wt>=3},It={stdout:Nt,stderr:Nt};function Rt(e,t,n){let i=e.indexOf(t);if(-1===i)return e;const r=t.length;let o=0,s="";do{s+=e.slice(o,i)+t+n,o=i+r,i=e.indexOf(t,o)}while(-1!==i);return s+=e.slice(o),s}const{stdout:kt,stderr:Lt}=It,Mt=Symbol("GENERATOR"),Dt=Symbol("STYLER"),Pt=Symbol("IS_EMPTY"),Ct=["ansi","ansi","ansi256","ansi16m"],xt=Object.create(null);const Ut=e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=kt?kt.level:0;e.level=void 0===t.level?n:t.level})(t,e),Object.setPrototypeOf(t,jt.prototype),t};function jt(e){return Ut(e)}Object.setPrototypeOf(jt.prototype,Function.prototype);for(const[e,t]of Object.entries(At))xt[e]={get(){const n=Vt(this,Bt(t.open,t.close,this[Dt]),this[Pt]);return Object.defineProperty(this,e,{value:n}),n}};xt.visible={get(){const e=Vt(this,this[Dt],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const Ft=(e,t,n,...i)=>"rgb"===e?"ansi16m"===t?At[n].ansi16m(...i):"ansi256"===t?At[n].ansi256(At.rgbToAnsi256(...i)):At[n].ansi(At.rgbToAnsi(...i)):"hex"===e?Ft("rgb",t,n,...At.hexToRgb(...i)):At[n][e](...i),Ht=["rgb","hex","ansi256"];for(const e of Ht){xt[e]={get(){const{level:t}=this;return function(...n){const i=Bt(Ft(e,Ct[t],"color",...n),At.color.close,this[Dt]);return Vt(this,i,this[Pt])}}};xt["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...n){const i=Bt(Ft(e,Ct[t],"bgColor",...n),At.bgColor.close,this[Dt]);return Vt(this,i,this[Pt])}}}}const Gt=Object.defineProperties((()=>{}),{...xt,level:{enumerable:!0,get(){return this[Mt].level},set(e){this[Mt].level=e}}}),Bt=(e,t,n)=>{let i,r;return void 0===n?(i=e,r=t):(i=n.openAll+e,r=t+n.closeAll),{open:e,close:t,openAll:i,closeAll:r,parent:n}},Vt=(e,t,n)=>{const i=(...e)=>Wt(i,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(i,Gt),i[Mt]=e,i[Dt]=t,i[Pt]=n,i},Wt=(e,t)=>{if(e.level<=0||!t)return e[Pt]?"":t;let n=e[Dt];if(void 0===n)return t;const{openAll:i,closeAll:r}=n;if(t.includes(""))for(;void 0!==n;)t=Rt(t,n.close,n.open),n=n.parent;const o=t.indexOf("\n");return-1!==o&&(t=function(e,t,n,i){let r=0,o="";do{const s="\r"===e[i-1];o+=e.slice(r,s?i-1:i)+t+(s?"\r\n":"\n")+n,r=i+1,i=e.indexOf("\n",r)}while(-1!==i);return o+=e.slice(r),o}(t,r,i,o)),i+t+r};Object.defineProperties(jt.prototype,xt);const zt=jt(),$t=(jt({level:Lt?Lt.level:0}),zt),Kt="[",Yt="]",qt="",Qt=";",Xt="Apple_Terminal"===process.env.TERM_PROGRAM,Zt={cursorTo:(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");return"number"!=typeof t?Kt+(e+1)+"G":Kt+(t+1)+";"+(e+1)+"H"},cursorMove:(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");let n="";return e<0?n+=Kt+-e+"D":e>0&&(n+=Kt+e+"C"),t<0?n+=Kt+-t+"A":t>0&&(n+=Kt+t+"B"),n},cursorUp:(e=1)=>Kt+e+"A",cursorDown:(e=1)=>Kt+e+"B",cursorForward:(e=1)=>Kt+e+"C",cursorBackward:(e=1)=>Kt+e+"D",cursorLeft:"[G"};Zt.cursorSavePosition=Xt?"7":"[s",Zt.cursorRestorePosition=Xt?"8":"[u",Zt.cursorGetPosition="[6n",Zt.cursorNextLine="[E",Zt.cursorPrevLine="[F",Zt.cursorHide="[?25l",Zt.cursorShow="[?25h",Zt.eraseLines=e=>{let t="";for(let n=0;n<e;n++)t+=Zt.eraseLine+(n<e-1?Zt.cursorUp():"");return e&&(t+=Zt.cursorLeft),t},Zt.eraseEndLine="[K",Zt.eraseStartLine="[1K",Zt.eraseLine="[2K",Zt.eraseDown="[J",Zt.eraseUp="[1J",Zt.eraseScreen="[2J",Zt.scrollUp="[S",Zt.scrollDown="[T",Zt.clearScreen="c",Zt.clearTerminal="win32"===process.platform?`${Zt.eraseScreen}${Kt}0f`:`${Zt.eraseScreen}${Kt}3J${Kt}H`,Zt.beep=qt,Zt.link=(e,t)=>[Yt,"8",Qt,Qt,t,qt,e,Yt,"8",Qt,Qt,qt].join(""),Zt.image=(e,t={})=>{let n=`${Yt}1337;File=inline=1`;return t.width&&(n+=`;width=${t.width}`),t.height&&(n+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(n+=";preserveAspectRatio=0"),n+":"+e.toString("base64")+qt},Zt.iTerm={setCwd:(e=process.cwd())=>`${Yt}50;CurrentDir=${e}${qt}`,annotation:(e,t={})=>{let n=`${Yt}1337;`;const i=void 0!==t.x,r=void 0!==t.y;if((i||r)&&(!i||!r||void 0===t.length))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),n+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?n+=(i?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):n+=e,n+qt}};const Jt=Zt;var en=s(98567);function tn(e,t,{target:n="stdout",...i}={}){return en[n]?Jt.link(e,t):!1===i.fallback?e:"function"==typeof i.fallback?i.fallback(e,t):`${e} (${t})`}tn.isSupported=en.stdout,tn.stderr=(e,t,n={})=>tn(e,t,{target:"stderr",...n}),tn.stderr.isSupported=en.stderr;const{dim:nn,red:rn,blue:on,green:sn,yellow:an,magenta:ln,white:cn}=$t,un={title:rn.bold,pathDescription:on.italic,expr:cn.italic,type:on.bold,string:sn,number:ln,primitive:an,dimmed:nn,good:sn,operator:cn,link:on,regex:ln.italic},dn={};for(const e of Object.keys(un))dn[e]=t=>un[e](t);const hn={support:Boolean(kt&&kt.hasBasic),terminalLink:tn,style:dn};var pn=s(53359);const fn=(e=0)=>t=>`[${t+e}m`,mn=(e=0)=>t=>`[${38+e};5;${t}m`,gn=(e=0)=>(t,n,i)=>`[${38+e};2;${t};${n};${i}m`,vn={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(vn.modifier),Object.keys(vn.color),Object.keys(vn.bgColor);const yn=function(){const e=new Map;for(const[t,n]of Object.entries(vn)){for(const[t,i]of Object.entries(n))vn[t]={open:`[${i[0]}m`,close:`[${i[1]}m`},n[t]=vn[t],e.set(i[0],i[1]);Object.defineProperty(vn,t,{value:n,enumerable:!1})}return Object.defineProperty(vn,"codes",{value:e,enumerable:!1}),vn.color.close="[39m",vn.bgColor.close="[49m",vn.color.ansi=fn(),vn.color.ansi256=mn(),vn.color.ansi16m=gn(),vn.bgColor.ansi=fn(10),vn.bgColor.ansi256=mn(10),vn.bgColor.ansi16m=gn(10),Object.defineProperties(vn,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[n]=t;3===n.length&&(n=[...n].map((e=>e+e)).join(""));const i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},enumerable:!1},hexToAnsi256:{value:e=>vn.rgbToAnsi256(...vn.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,n,i;if(e>=232)t=(10*(e-232)+8)/255,n=t,i=t;else{const r=(e-=16)%36;t=Math.floor(e/36)/5,n=Math.floor(r/6)/5,i=r%6/5}const r=2*Math.max(t,n,i);if(0===r)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(t));return 2===r&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,t,n)=>vn.ansi256ToAnsi(vn.rgbToAnsi256(e,t,n)),enumerable:!1},hexToAnsi:{value:e=>vn.ansi256ToAnsi(vn.hexToAnsi256(e)),enumerable:!1}}),vn}(),En=(()=>{if(!("navigator"in globalThis))return 0;if(globalThis.navigator.userAgentData){const e=navigator.userAgentData.brands.find((({brand:e})=>"Chromium"===e));if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(globalThis.navigator.userAgent)?1:0})(),Sn=0!==En&&{level:En,hasBasic:!0,has256:En>=2,has16m:En>=3},bn={stdout:Sn,stderr:Sn};function On(e,t,n){let i=e.indexOf(t);if(-1===i)return e;const r=t.length;let o=0,s="";do{s+=e.slice(o,i)+t+n,o=i+r,i=e.indexOf(t,o)}while(-1!==i);return s+=e.slice(o),s}const{stdout:_n,stderr:Tn}=bn,An=Symbol("GENERATOR"),wn=Symbol("STYLER"),Nn=Symbol("IS_EMPTY"),In=["ansi","ansi","ansi256","ansi16m"],Rn=Object.create(null);class kn{constructor(e){return Ln(e)}}const Ln=e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=_n?_n.level:0;e.level=void 0===t.level?n:t.level})(t,e),Object.setPrototypeOf(t,Mn.prototype),t};function Mn(e){return Ln(e)}Object.setPrototypeOf(Mn.prototype,Function.prototype);for(const[e,t]of Object.entries(yn))Rn[e]={get(){const n=Un(this,xn(t.open,t.close,this[wn]),this[Nn]);return Object.defineProperty(this,e,{value:n}),n}};Rn.visible={get(){const e=Un(this,this[wn],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const Dn=(e,t,n,...i)=>"rgb"===e?"ansi16m"===t?yn[n].ansi16m(...i):"ansi256"===t?yn[n].ansi256(yn.rgbToAnsi256(...i)):yn[n].ansi(yn.rgbToAnsi(...i)):"hex"===e?Dn("rgb",t,n,...yn.hexToRgb(...i)):yn[n][e](...i),Pn=["rgb","hex","ansi256"];for(const e of Pn){Rn[e]={get(){const{level:t}=this;return function(...n){const i=xn(Dn(e,In[t],"color",...n),yn.color.close,this[wn]);return Un(this,i,this[Nn])}}};Rn["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...n){const i=xn(Dn(e,In[t],"bgColor",...n),yn.bgColor.close,this[wn]);return Un(this,i,this[Nn])}}}}const Cn=Object.defineProperties((()=>{}),{...Rn,level:{enumerable:!0,get(){return this[An].level},set(e){this[An].level=e}}}),xn=(e,t,n)=>{let i,r;return void 0===n?(i=e,r=t):(i=n.openAll+e,r=t+n.closeAll),{open:e,close:t,openAll:i,closeAll:r,parent:n}},Un=(e,t,n)=>{const i=(...e)=>jn(i,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(i,Cn),i[An]=e,i[wn]=t,i[Nn]=n,i},jn=(e,t)=>{if(e.level<=0||!t)return e[Nn]?"":t;let n=e[wn];if(void 0===n)return t;const{openAll:i,closeAll:r}=n;if(t.includes(""))for(;void 0!==n;)t=On(t,n.close,n.open),n=n.parent;const o=t.indexOf("\n");return-1!==o&&(t=function(e,t,n,i){let r=0,o="";do{const s="\r"===e[i-1];o+=e.slice(r,s?i-1:i)+t+(s?"\r\n":"\n")+n,r=i+1,i=e.indexOf("\n",r)}while(-1!==i);return o+=e.slice(r),o}(t,r,i,o)),i+t+r};Object.defineProperties(Mn.prototype,Rn);Mn(),Mn({level:Tn?Tn.level:0});var Fn=s(61e3);const Hn=new Set(["as","async","from","get","of","set"]);const Gn=/\r\n|[\n\r\u2028\u2029]/,Bn=/^[()[\]{}]$/;let Vn;const Wn=function(e){if("IdentifierName"===e.type){if((0,Fn.wb)(e.value)||(0,Fn.wh)(e.value,!0)||Hn.has(e.value))return"keyword";if(e.value[0]!==e.value[0].toLowerCase())return"capitalized"}if("Punctuator"===e.type&&Bn.test(e.value))return"uncolored";if("Invalid"===e.type&&("@"===e.value||"#"===e.value))return"punctuator";switch(e.type){case"NumericLiteral":return"number";case"StringLiteral":case"JSXString":case"NoSubstitutionTemplate":return"string";case"RegularExpressionLiteral":return"regex";case"Punctuator":case"JSXPunctuator":return"punctuator";case"MultiLineComment":case"SingleLineComment":return"comment";case"Invalid":case"JSXInvalid":return"invalid";case"JSXIdentifier":return"jsxIdentifier";default:return"uncolored"}};function zn(e){return!!_n||!!e.forceColor}function $n(e){return e.forceColor?new kn({level:1}):new kn}function Kn(e,t={}){if(""!==e&&zn(t)){const n=function(e){return{keyword:e.cyan,capitalized:e.yellow,jsxIdentifier:e.yellow,punctuator:e.yellow,number:e.magenta,string:e.green,regex:e.magenta,comment:e.gray,invalid:e.white.bgRed.bold}}($n(t));return function(e,t){let n="";for(const{type:i,value:r}of Vn(t)){const t=e[i];n+=t?r.split(Gn).map((e=>t(e))).join("\n"):r}return n}(n,e)}return e}Vn=function*(e){for(const t of pn(e,{jsx:!0}))switch(t.type){case"TemplateHead":yield{type:"string",value:t.value.slice(0,-2)},yield{type:"punctuator",value:"${"};break;case"TemplateMiddle":yield{type:"punctuator",value:"}"},yield{type:"string",value:t.value.slice(1,-2)},yield{type:"punctuator",value:"${"};break;case"TemplateTail":yield{type:"punctuator",value:"}"},yield{type:"string",value:t.value.slice(1)};break;default:yield{type:Wn(t),value:t.value}}};const Yn=/\r\n|[\n\r\u2028\u2029]/;function qn(e,t,n={}){const i=(n.highlightCode||n.forceColor)&&zn(n),r=$n(n),o=function(e){return{gutter:e.gray,marker:e.red.bold,message:e.red.bold}}(r),s=(e,t)=>i?e(t):t,a=e.split(Yn),{start:l,end:c,markerLines:u}=function(e,t,n){const i={column:0,line:-1,...e.start},r={...i,...e.end},{linesAbove:o=2,linesBelow:s=3}=n||{},a=i.line,l=i.column,c=r.line,u=r.column;let d=Math.max(a-(o+1),0),h=Math.min(t.length,c+s);-1===a&&(d=0),-1===c&&(h=t.length);const p=c-a,f={};if(p)for(let e=0;e<=p;e++){const n=e+a;if(l)if(0===e){const e=t[n-1].length;f[n]=[l,e-l+1]}else if(e===p)f[n]=[0,u];else{const i=t[n-e].length;f[n]=[0,i]}else f[n]=!0}else f[a]=l===u?!l||[l,0]:[l,u-l];return{start:d,end:h,markerLines:f}}(t,a,n),d=t.start&&"number"==typeof t.start.column,h=String(c).length;let p=(i?Kn(e,n):e).split(Yn,c).slice(l,c).map(((e,t)=>{const i=l+1+t,r=` ${` ${i}`.slice(-h)} |`,a=u[i],c=!u[i+1];if(a){let t="";if(Array.isArray(a)){const i=e.slice(0,Math.max(a[0]-1,0)).replace(/[^\t]/g," "),l=a[1]||1;t=["\n ",s(o.gutter,r.replace(/\d/g," "))," ",i,s(o.marker,"^").repeat(l)].join(""),c&&n.message&&(t+=" "+s(o.message,n.message))}return[s(o.marker,">"),s(o.gutter,r),e.length>0?` ${e}`:"",t].join("")}return` ${s(o.gutter,r)}${e.length>0?` ${e}`:""}`})).join("\n");return n.message&&!d&&(p=`${" ".repeat(h+1)}${n.message}\n${p}`),i?r.reset(p):p}function Qn(e){const t=e,n=e,i=e;if(t.path&&Array.isArray(t.path))return t.path;if("string"==typeof n.dotPath)return function(e){if(!e.startsWith(".")&&!e.startsWith("["))throw new SyntaxError(`parsePath(): Invalid dot-path, must begin with "." or "[": ${e}`);if("."===e)return[];const t=()=>{throw new Error(`parsePath(): Invalid dot-path: ${e}`)},n=[],i=(e,t)=>-1===e&&-1===t?-1:-1===e?t:-1===t||e<t?e:t;let r=0;for(;-1!==r&&r<e.length;)if("."===e.charAt(r))if("'"===e.charAt(r+1)){const i=e.indexOf("'",r+2);-1===i&&t(),n.push(e.slice(r+2,i)),r=i+1}else{const t=i(e.indexOf(".",r+1),e.indexOf("[",r+1));n.push(-1===t?e.slice(r+1):e.slice(r+1,t)),r=t}else if(e.charAt(r+1).match(/[0-9]/)){const i=e.indexOf("]",r+1);-1===i&&t(),n.push(e.slice(r+1,i)),r=i+1}else{"'"!==e.charAt(r+1)&&t();const i=e.indexOf("']",r+2);-1===i&&t(),n.push(e.slice(r+2,i)),r=i+2}return n}(n.dotPath);if("string"==typeof i.pointerPath)return function(e){if(!e.startsWith("/"))throw new SyntaxError(`parsePath(): Invalid pointer-path, must begin with "/": ${e}`);return"/"===e?[]:e.slice(1).split("/").map((e=>function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}(e)))}(i.pointerPath);throw new TypeError("parsePath(): Missing path argument")}function Xn(e,t){t=Math.min(Math.max(t,0),e.length);const{count:n,lastPos:i}=function(e,t,n){let i=0,r=0,o=0;for(;o<t;){const s=e.indexOf(n,o);if(-1===s||s>=t)break;o=s+1,o<t&&(++i,r=s)}return{count:i,lastPos:r}}(e,t+1,"\n");return{offset:t,line:n+1,column:Math.max(1,t-i+(0===n?1:0))}}function Zn(e,t){const{jsonDoc:n,jsonString:i}=e,{markIdentifier:r=!1}=t,o=Qn(t).map((e=>`${e}`));if(!n){if(0===o.length)return{start:{offset:0,line:1,column:1},end:{offset:9,line:1,column:10}};throw new Error("No such path in undefined")}const s=e=>`${(e=>"."+o.slice(0,e).join("."))(e)} [query: ${o.join(".")}]`,a=o.reduce(((e,t,n)=>"object"===(null==e?void 0:e.kind)?(()=>{const i=e.children.find((e=>e.keyToken.value===t));if(!i)throw new Error(`No such property ${t} in ${s(n)}`);return r&&n===o.length-1?i:i.valueNode})():"array"===(null==e?void 0:e.kind)?(()=>{const i=Number(t);if(isNaN(i))throw new Error(`Invalid non-numeric array index "${t}" in array at ${s(n)}`);if(i<0||i>=e.children.length)throw new RangeError(`Index ${i} out-of-bounds in array of size ${e.children.length} at ${s(n)}`);return e.children[Number(t)].valueNode})():(()=>{throw new Error(`No such property ${t} in ${s(n)}`)})()),n.root),l="object-property"===a.kind?{start:a.keyToken.offset,end:a.keyToken.offset+a.keyToken.raw.length}:a.range;return{start:Xn(i,l.start),end:Xn(i,l.end)}}var Jn=s(37172);function ei(e,t){const n=e[t];return"whitespace"===(null==n?void 0:n.type)?{inc:1,whitespaceToken:n}:{inc:0}}function ti(e,t){const n=ei(e,t),i=e[t+n.inc];return++n.inc,{whitespaceToken:n.whitespaceToken,consumedTokens:n.inc,token:i}}function ni(e,t){return e[t+ei(e,t).inc]}function ii(e){return{includeValueTokens:!1,...e}}function ri(e,t=e){return{start:e.offset,end:t.offset+t.raw.length}}function oi(e){return"string"===e.type?{kind:"string",token:e,range:ri(e)}:"number"===e.type?{kind:"number",token:e,range:ri(e)}:{kind:"literal",token:e,range:ri(e)}}function si(e,t,n,i){const r=e[t];if(!r)throw new Error(`Failed to parse JSON as token pos ${t}`);if(r.type!==n)throw new Error(`Failed to parse JSON at pos ${r.offset}, expected ${n} got ${r.type}`);if(i&&r.value!==i)throw new Error(`Failed to parse JSON at pos ${r.offset} of type ${n}, expected punctuation ${i} got ${r.value}`)}function ai(e,t){let n=t;const i=ei(e,n);n+=i.inc,si(e,n,"punctuator",":");const r=e[n++],o=ei(e,n);return n+=o.inc,{node:{kind:"object-property-colon",range:ri(e[t],e[n-1]),whitespaceBefore:i.whitespaceToken,punctuatorToken:r,whitespaceAfter:o.whitespaceToken},consumedTokens:n-t}}function li(e,t,n){const i=e[t];if("string"===(r=i).type||"number"===r.type||"literal"===r.type)return{consumedTokens:1,node:oi(i)};if("punctuator"===i.type&&"{"===i.value)return function(e,t,n){var i;const r=[];let o,s=t;for(;s<e.length;){const t=e[s],a=ni(e,s);if("punctuator"===a.type&&"}"===a.value){const t=ei(e,s);o=t.whitespaceToken,s+=t.inc+1;break}const l=ei(e,s);s+=l.inc,si(e,s,"string");const c=e[s++],u=ai(e,s);s+=u.consumedTokens;const d=li(e,s,n),h=n.options.includeValueTokens?e.slice(s,s+d.consumedTokens):[];s+=d.consumedTokens;const p=ni(e,s),f="punctuator"===p.type&&","===p.value?ti(e,s):{};s+=null!==(i=f.consumedTokens)&&void 0!==i?i:0,r.push({kind:"object-property",range:ri(t,e[s]),whitespaceBefore:l.whitespaceToken,keyToken:c,key:c.value,colon:u.node,valueTokens:h,whitespaceBeforeComma:f.whitespaceToken,comma:f.token,valueNode:d.node})}const a=s-t+1;return{node:{kind:"object",children:r,whitespaceAfterChildren:o,range:ri(e[t-1],e[s-1])},consumedTokens:a}}(e,t+1,n);if("punctuator"===i.type&&"["===i.value)return function(e,t,n){var i;const r=[];let o,s=t;for(;s<e.length;){const t=e[s],a=ni(e,s);if("punctuator"===a.type&&"]"===a.value){const t=ei(e,s);o=t.whitespaceToken,s+=t.inc+1;break}const l=ei(e,s);s+=l.inc;const c=li(e,s,n),u=n.options.includeValueTokens?e.slice(s,s+c.consumedTokens):[];s+=c.consumedTokens;const d=ni(e,s),h="punctuator"===d.type&&","===d.value?ti(e,s):{};s+=null!==(i=h.consumedTokens)&&void 0!==i?i:0,r.push({kind:"array-element",range:ri(t,e[s]),whitespaceBefore:l.whitespaceToken,valueTokens:u,whitespaceBeforeComma:h.whitespaceToken,comma:h.token,valueNode:c.node})}const a=s-t+1;return{node:{kind:"array",children:r,whitespaceAfterChildren:o,range:ri(e[t-1],e[s-1])},consumedTokens:a}}(e,t+1,n);var r;throw new Error(`Failed to parse JSON at pos ${i.offset}`)}function ci(e,t){const n=function(e,t){const n={options:ii(t)};if(0===e.trim().length)throw new Error("Invalid JSON: must not be an empty string");const i=function(e){let t=0;return e.map((e=>{const n=e;return n.offset=t,t+=e.raw.length,n}))}(Jn(e));let r=0;const o=ei(i,r);r+=o.inc;const{consumedTokens:s,node:a}=li(i,r,n),l=n.options.includeValueTokens?i.slice(r,r+s):[];r+=s;const c=ei(i,r);return r+=c.inc,{root:a,whitespaceBefore:o.whitespaceToken,valueTokens:l,whitespaceAfter:c.whitespaceToken}}(e);return{json:t||JSON.parse(e),jsonString:e,jsonDoc:n}}function ui(e){return null==e?[]:Array.isArray(e)?[...e]:[e]}function di(e){var t;if(!(null!==(t=e.dataPath)&&void 0!==t?t:e.instancePath))return{path:[],simplePath:[]};const n=e.instancePath?Qn({pointerPath:e.instancePath}):(e=>"."===e.charAt(0)||"["===e.charAt(0))(e.dataPath)?Qn({dotPath:e.dataPath}):Qn({pointerPath:e.dataPath}),i=n.map((e=>"number"==typeof e?{key:`${e}`,type:"number"}:{key:e,type:"string"})).filter((e=>""!==e.key)),r=i.map((({key:e})=>e));return{path:i,simplePath:r}}const hi={width:8,height:5,number:[["  ,--.  "," /    \\ ","|  ()  |"," \\    / ","  `--'  "],["   ,--. ","  /   | ","  `|  | ","   |  | ","   `--' "],["  ,---. "," '.-.  \\","  .-' .'"," /   '-."," '-----'"],[" ,----. "," '.-.  |","   .' < "," /'-'  |"," `----' "],["   ,---.","  /    |"," /  '  |"," '--|  |","    `--'"],[" ,-----."," |  .--'"," '--. `\\"," .--'  /"," `----' "],["   ,--. ","  /  .' "," |  .-. "," \\   o |","  `---' "],[" ,-----."," '--,  /","  .'  / "," /   /  "," `--'   "],["  ,---. "," |  o  |"," .'   '."," |  o  |","  `---' "],["  ,---. "," | o   \\"," `..'  |","  .'  / ","  `--'  "]]},pi=e=>(""+~~e).length,fi=" ".repeat(hi.width);function mi(e){const t=null==e?-1:"number"==typeof e.maxNumber?pi(e.maxNumber):e.maxWidth,n=t*hi.width,i=" ".repeat(n);function r(e,n=" "){const i=null==(e=null==e?void 0:~~e)?0===n?-1===t?void 0:Array(t).fill("0").join(""):`${e}`:0===n?Array(t-pi(e)).fill("0").join("")+e:`${e}`,r=-1===t?"":(e=>{if(e>t)throw new Error("Too wide text");return fi.repeat(t-e)})(null==i?0:i.length);if(null==i)return Array(hi.height).fill(r);const o=i.split("").map((e=>hi.number[Number(e)]));return Array.from({length:hi.height},((e,t)=>t)).map((e=>r+o.map((t=>t.filter(((t,n)=>n===e)))).join("")))}return{numberWidth:t,charWidth:n,emptyLine:i,print:r,printAsPrefix:function(e,t,n={}){const{fill:o,separator:s=""}=n,a=r(e,o),l=Math.max(a.length,t.length);return Array.from({length:l}).map(((e,n)=>{const r=a.length<=n?i:a[n],o=t.length<=n?"":t[n];return r+s+o}))}}}const gi=e=>null===e?"null":typeof e,vi=e=>null==e||"object"!=typeof e?{value:e,type:gi(e),isSimple:!0}:Array.isArray(e)?{value:"[...]",type:"array",isSimple:!1}:{value:"{...}",type:"object",isSimple:!1},yi=({type:e,value:t})=>e+"::"+t;function Ei({support:e,style:t,terminalLink:n}){const i=e=>e.path.map((({key:e,type:n})=>"number"===n?t.operator("[")+t.number(e)+t.operator("]"):t.operator(".")+t.string(e))).join(""),r=(e,{untyped:n=!1,includeType:i=!1}={})=>{const r=e.type,o=`${e.value}`,s="string"===r?n?t.pathDescription(o):t.string(`"${o}"`):"number"===r?t.number(o):t.primitive(o);return!i&&e.isSimple?s:s+t.title(" (as ")+t.pathDescription(r)+t.title(")")};return{support:e,style:t,link:(e,i)=>n(t.link(e),i),ensureColorUsage:t=>null==t?e:t,formatDataPath:i,pathDescription:(e,n)=>{const{dataPath:r}=e;if(0===r.path.length)return["",t.expr("root object"),""];return(e=>1===e.path.length?["",i(e),` ${n}`]:[`${n} at `,i(e),""])(r)},printEnum:(e,{indent:t=0,bullet:n=!0}={})=>{const i=0===t?"":" ".repeat(t),r=n?" ":"";return e.map((e=>`${i}    ${r}${e}`))},printError:e=>e.title+"\n\n"+e.codeFrame,formatTypedValue:r,formatValue:(e,t)=>r(vi(e),t)}}const Si={support:!1,terminalLink:(e,t)=>`${e} (${t})`,style:{title:e=>e,pathDescription:e=>e,expr:e=>e,type:e=>e,string:e=>e,number:e=>e,primitive:e=>e,dimmed:e=>e,good:e=>e,operator:e=>e,link:e=>e,regex:e=>e}};const bi=[],Oi=[];function _i(e,t){if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let i=e.length,r=t.length;for(;i>0&&e.charCodeAt(~-i)===t.charCodeAt(~-r);)i--,r--;let o,s,a,l,c=0;for(;c<i&&e.charCodeAt(c)===t.charCodeAt(c);)c++;if(i-=c,r-=c,0===i)return r;let u=0,d=0;for(;u<i;)Oi[u]=e.charCodeAt(c+u),bi[u]=++u;for(;d<r;)for(o=t.charCodeAt(c+d),a=d++,s=d,u=0;u<i;u++)l=o===Oi[u]?a:a+1,a=bi[u],s=bi[u]=a>s?l>s?s+1:l:l>a?a+1:l;return s}const Ti=e=>e<3?1:e<5?2:3;function Ai(e,t,n={}){if(!t)return;e=`${e}`;const{length:i}=e,{limit:r=Ti,referenceValue:o}=n,s="number"==typeof r?r:r(i),a=[],l=[];t.map((e=>vi(e))).map((t=>({...t,distance:t.isSimple?_i(e,`${t.value}`):1/0}))).sort(((e,t)=>e.distance===t.distance?0:e.distance<t.distance?-1:1)).forEach((({distance:e,type:t,value:n,isSimple:i})=>{-1===s||e<=s?a.push({type:t,value:n,isSimple:i}):l.push({type:t,value:n,isSimple:i})})),l.sort(((e,t)=>`${e.value}`.localeCompare(`${t.value}`)));return{suggestions:a,rest:l,referenceValue:o,best:null==a?void 0:a[0]}}function wi(e,t,n={}){var i,r;if(!e)return"";const{styleManager:{style:o,formatTypedValue:s,printEnum:a}}=t,l=Array.isArray(null==e?void 0:e.rest)?e:void 0,c=null!==(i=null==l?void 0:l.rest)&&void 0!==i?i:[],u=null!==(r=null==l?void 0:l.suggestions)&&void 0!==r?r:e,{untyped:d,referenceValue:h=(null==l?void 0:l.referenceValue),isSuggestion:p,isConst:f=!1}=n,m=void 0===h?void 0:gi(h),g=e=>void 0!==h&&m!==e.type,v=e=>s(e,{untyped:null!=d&&d,includeType:g(e)}),y=function(e,t){const n=new Set;return e.filter((e=>{const i=t(e);return!n.has(i)&&(n.add(i),!0)}))}(u,yi),E=[...y,...c],S=1===E.length?v(E[0]):2===E.length?v(E[0])+o.title(" or ")+v(E[1]):o.title("any of:")+"\n"+a([...y.map((e=>v(e))),...0===c.length?[]:["other available values:",...a(c.map((e=>v(e))),{indent:2,bullet:!1})]]).join("\n"),b=1!==E.length&&!f;return(p?o.title(`, ${b?"did you mean":"it must be"} `):"")+S+(b&&p&&y.length<3?o.title("?"):"")}var Ni=s(56239);function Ii(e,t=e.dataPath.simplePath){return null===e.data||"object"!=typeof e.data?e.data:Ni.Jt(e.data,function(e){return"/"+e.map((e=>function(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}(e))).join("/")}(t))}function Ri(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{keyword:o,typeErrors:s=[]}}=e,[a,l,c]=n(e,"value"),u=Ii(e),d=s.map((e=>e.params.type)),h=function(e,t,n){return"string"==typeof e&&t.includes("number")?{type:"number",value:n.styleManager.formatTypedValue({value:e,type:"number",isSimple:!0})}:"number"==typeof e&&t.includes("string")?{type:"string",value:n.styleManager.formatTypedValue({value:`${e}`,type:"string",isSimple:!0})}:void 0}(u,d,e),p=0===s.length?"unknown":wi(d.map((e=>({value:e,type:"string",isSimple:!0}))),e,{untyped:!0});return{title:t.title(`The type of the ${a}`)+l+t.title(`${c} should `)+("not"===o?t.title("NOT be ")+t.pathDescription(vi(u).type):t.title("be ")+p),codeFrame:i("not"===o?"change this type":"change this value"+(h?" to "+h.value+" (as "+t.pathDescription(h.type)+") perhaps?":""),e.parsedJson,{path:r.simplePath,markIdentifier:!1})}}function ki(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{keyword:o,params:{limit:s}}}=e,[a,l,c]=n(e,"array"),u=Ii(e),d=(e,t=Math.abs(u.length-s))=>e+(t>1?"s":""),h=("maxItems"===o?t.expr("should NOT have more than "):t.expr("should have at least "))+t.number(`${s}`)+t.expr(d(" item",s));return{title:t.title(`The ${a}`)+l+t.title(`${c} should be `)+h,codeFrame:i("maxItems"===o?t.title("Remove ")+t.number(""+(u.length-s))+t.title(d(" item")):t.title("Ensure the array has ")+t.number(""+(s-u.length))+t.title(d(" more item")),e.parsedJson,{path:r.simplePath,markIdentifier:!1})}}function Li(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{comparison:o,limit:s}}}=e,[a,l,c]=n(e,"value"),u=("<="===o?t.expr("less than or equal to"):"<"===o?t.expr("strictly less than"):">="===o?t.expr("greater than or equal to"):">"===o?t.expr("strictly greater than"):t.operator(`${o}`))+t.number(` ${s}`);return{title:t.title(`The ${a}`)+l+t.title(`${c} should be `)+u,codeFrame:i("Ensure this is "+u,e.parsedJson,{path:r.simplePath,markIdentifier:!1})}}function Mi(e){const{styleManager:{style:t,pathDescription:n,formatValue:i,formatTypedValue:r},printCode:o,dataPath:s,error:{params:{allowedValue:a,allowedValues:l}}}=e,c=null!=l?l:[a],u=Ii(e),[d,h,p]=n(e,"value"),f=Ai(u,c,{referenceValue:u}),m=1===c.length&&(null===c[0]||"object"!=typeof c[0]),g=t.title(`The ${d}`)+h+t.title(`${p} cannot be `)+i(u)+wi(f,e,{isSuggestion:!0,isConst:m}),v=o("replace this with "+(m?r(vi(c[0])):"an allowed value"+(f.best?" e.g. "+function({best:e,referenceValue:t},n){if(!e)return;const i=void 0!==t&&gi(t)!==e.type;return n.styleManager.formatTypedValue(e,{untyped:!1,includeType:i})}(f,e):"")),e.parsedJson,{path:s.simplePath,markIdentifier:!1});return{title:g,codeFrame:v}}const Di="https://json-schema.org/understanding-json-schema/reference/string.html#format",Pi={dateTime:{title:"RFC3339 Section 5.6",url:"https://tools.ietf.org/html/rfc3339#section-5.6"},email:{title:"RFC5322 Section 3.4.1",url:"https://tools.ietf.org/html/rfc5322#section-3.4.1"},idnEmail:{title:"RFC6531",url:"https://tools.ietf.org/html/rfc6531"},hostname:{title:"RFC1034 Section 3.1",url:"https://tools.ietf.org/html/rfc1034#section-3.1"},idnHostname:{title:"RFC5890 Section 2.3.2.3",url:"https://tools.ietf.org/html/rfc5890#section-2.3.2.3"},ipv4:{title:"RFC2673 Section 3.2",url:"https://tools.ietf.org/html/rfc2673#section-3.2"},ipv6:{title:"RFC2373 Section 2.2",url:"https://tools.ietf.org/html/rfc2373#section-2.2"},uri:{title:"RFC3986",url:"https://tools.ietf.org/html/rfc3986"},uriReference:{title:"RFC3986 Section 4.1",url:"https://tools.ietf.org/html/rfc3986#section-4.1"},iri:{title:"RFC3987",url:"https://tools.ietf.org/html/rfc3987"},uriTemplate:{title:"RFC6570",url:"https://tools.ietf.org/html/rfc6570"},jsonPointer:{title:"RFC6901",url:"https://tools.ietf.org/html/rfc6901"},relativeJsonPointer:{title:"Relative JSON Pointers",url:"https://tools.ietf.org/html/draft-handrews-relative-json-pointer-01"},regex:{title:"ECMA 262",url:"https://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf"}},Ci={"date-time":Pi.dateTime,time:Pi.dateTime,date:Pi.dateTime,email:Pi.email,"idn-email":Pi.idnEmail,hostname:Pi.hostname,"idn-hostname":Pi.idnHostname,ipv4:Pi.ipv4,ipv6:Pi.ipv6,uri:Pi.uri,"uri-reference":Pi.uriReference,iri:Pi.iri,"iri-reference":Pi.iri,"uri-template":Pi.uriTemplate,"json-pointer":Pi.jsonPointer,"relative-json-pointer":Pi.relativeJsonPointer,regex:Pi.regex};function xi(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{keyword:o,params:{limit:s}}}=e,[a,l,c]=n(e,"string"),u=`${"maxLength"===o?t.expr("at most"):"minLength"===o?t.expr("at least"):"{unknown}"} `+t.number(`${s}`)+t.expr(" characters long");return{title:t.title(`The ${a}`)+l+t.title(`${c} should be `)+u,codeFrame:i("Ensure this is "+u,e.parsedJson,{path:r.simplePath,markIdentifier:!1})}}const Ui={unknownError:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{message:o,keyword:s}}=e,[a,l,c]=n(e,"property");return{title:t.expr(`[${s}] `)+t.title(`The ${a}`)+l+t.title(`${c} ${o}`),codeFrame:i(o,e.parsedJson,{path:r.simplePath,markIdentifier:!1})}},additionalProperties:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{additionalProperty:o}}}=e,[s,a,l]=n(e,"object"),c=function(e,t){let n=e;for(const e of t.path){if(!n.properties||n.type&&"object"!==n.type)return;n="number"===e.type?n.items[Number(e.key)]:n.properties[e.key]}if(n&&"object"==typeof n.properties)return Object.keys(n.properties)}(e.schema,r);return{title:t.title(`The ${s}`)+a+t.title(`${l} should not have the property `)+t.pathDescription(o)+wi(Ai(o,c),e,{untyped:!0,isSuggestion:!0}),codeFrame:i("remove or rename "+t.pathDescription(`"${o}"`),e.parsedJson,{path:[...r.simplePath,o],markIdentifier:!0})}},anyOf:Ri,not:Ri,maxItems:ki,minItems:ki,maximum:Li,exclusiveMaximum:Li,minimum:Li,exclusiveMinimum:Li,const:Mi,enum:Mi,format:function(e){const{styleManager:{style:t,pathDescription:n,link:i},printCode:r,dataPath:o,error:{params:{format:s}}}=e,[a,l,c]=n(e,"value"),u=Ci[s],d=u?t.title(" according to ")+i(u.title,u.url)+" ":t.title(", check the ")+i("JSON Schema specification",Di);return{title:t.title(`The ${a}`)+l+t.title(`${c} is not valid `)+t.pathDescription(s)+d,codeFrame:r("ensure this is "+(u?"valid "+i(u.title,u.url):"a valid "+t.pathDescription(s)),e.parsedJson,{path:o.simplePath,markIdentifier:!1})}},if:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{failingKeyword:o}}}=e,[s,a,l]=n(e,"value");return{title:t.title("The conditional ")+t.expr(`if/${o}`)+t.title(` on ${s}`)+a+t.title(`${l} is not satisfied (showed in separate error)`)+"\n"+t.title("The ")+t.expr("if")+t.title(" clause references:"),codeFrame:i("Ensure the corresponding "+t.expr(o)+" clause is satisfied",e.parsedJson,{path:r.simplePath,markIdentifier:!1})}},multipleOf:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{multipleOf:o}}}=e,[s,a,l]=n(e,"value"),c=t.title("multiple of ")+t.number(`${o}`);return{title:t.title(`The ${s}`)+a+t.title(`${l} should be a `)+c+" "+t.title("(e.g. ")+[0,1,2,3].map((e=>t.number(""+e*o))).concat([t.title("etc")]).join(t.operator(", "))+t.title(")"),codeFrame:i("Ensure this is a "+c,e.parsedJson,{path:r.simplePath,markIdentifier:!1})}},pattern:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{pattern:o}}}=e,[s,a,l]=n(e,"string");return{title:t.title(`The ${s}`)+a+t.title(`${l} must match `)+t.regex(o),codeFrame:i("Ensure this matches the regex pattern",e.parsedJson,{path:r.simplePath,markIdentifier:!1})}},required:function(e){const{styleManager:{style:t,pathDescription:n},printCode:i,dataPath:r,error:{params:{missingProperty:o}}}=e,[s,a,l]=n(e,"value");return{title:t.title(`The ${s}`)+a+t.title(`${l} is missing required property `)+t.pathDescription(o),codeFrame:i("add missing property "+t.pathDescription(o),e.parsedJson,{path:r.simplePath,markIdentifier:!1})}},maxLength:xi,minLength:xi,type:function(e){const{styleManager:{style:t,pathDescription:n,formatTypedValue:i},printCode:r,dataPath:o,error:{params:{type:s}}}=e,a=Ii(e),[l,c,u]=n(e,"value"),d=function(e,t){const{isSimple:n,type:i}=vi(e);if(!n)return;const r=(()=>{if("null"===i){if("string"===t)return"null";if("number"===t)return 0;if("boolean"===t)return!1}else if("boolean"===i){if("string"===t)return`${e}`;if("number"===t)return e?1:0;if("null"===t)return e?void 0:null}else if("number"===i){if("string"===t)return`${e}`;if("boolean"===t)return 0!==e&&(1===e||void 0);if("null"===t)return 0===e?null:void 0}else if("string"===i){if("number"===t)return isNaN(Number(e))?void 0:Number(e);if("boolean"===t)return"true"===e||"false"!==e&&void 0;if("null"===t)return"null"===e?null:void 0}})();return void 0!==r?vi(r):void 0}(a,s),h=void 0===d?"":i(d,{includeType:!0});return{title:t.title(`The type of the ${l}`)+c+t.title(`${u} should be `)+t.pathDescription(s)+(h?t.title(", e.g. ")+h:""),codeFrame:r("Replace this"+(h?" with e.g. "+h:""),e.parsedJson,{path:o.simplePath,markIdentifier:!1})}},uniqueItems:function(e){const{styleManager:{style:t,pathDescription:n,formatValue:i},printCode:r,dataPath:o,error:{params:{i:s,j:a}}}=e,[l,c]=[s,a].sort(),u=Ii(e,[...o.simplePath,`${l}`]),[d,h,p]=n(e,"array");return{title:t.title(`The ${d}`)+h+t.title(`${p} should have unique items, but element `)+t.number(`${l}`)+t.title(" and ")+t.number(`${c}`)+t.title(" are identical: ")+i(u),codeFrame:r("Remove element "+t.number(`${l}`)+" or "+t.number(`${c}`),e.parsedJson,{path:o.simplePath,markIdentifier:!1})}}};function ji(e){const t=function(e){var t,n;const i=null!==(t=e.location)&&void 0!==t?t:"node"===e.environment,r=i&&(null!==(n=e.bigNumbers)&&void 0!==n?n:"node"===e.environment),o=function(e,t,n){return(i,r,o)=>e?n(i,r,{colors:t,...o}):""}(i,e.styleManager.support,e.printCode);return{...e,location:i,bigNumbers:r,printCode:o}}(e),{styleManager:n,printCode:i,bigNumbers:r}=t,o=function(e){const t=new Set;return e.filter((e=>"anyOf"===e.keyword)).forEach((n=>{n.typeErrors=e.filter((e=>e.dataPath===n.dataPath&&"type"===e.keyword)),n.typeErrors.forEach((e=>{t.add(e)}))})),e.filter((e=>!t.has(e)))}(ui(t.errors));if(0===o.length)return n.style.good("No errors");const s=function(e,t=4){const n=ci(JSON.stringify(null!=e?e:null,null,t));return void 0===e&&(n.json=void 0,n.jsonString="undefined",n.jsonDoc=void 0),n}(t.data,2),a=mi({maxNumber:o.length+1});return o.map(((e,l)=>{const c=function(e){return e.styleManager.printError(function(e){const t=Ui[e.error.keyword];return t?t(e):Ui.unknownError(e)}(e))}({errors:t.errors,schema:t.schema,data:t.data,styleManager:n,printCode:i,error:e,dataPath:di(e),parsedJson:s}).split("\n");return r&&1!==o.length?a.printAsPrefix(l+1,c,{separator:"  "}).join("\n"):c.join("\n")})).join("\n\n")}const Fi=function(e,t,n){const i=Ei(e),r=Ei(Si),o=e=>i.ensureColorUsage(e)?i:r;return function(e,i){if("function"==typeof e){const r=o(null==i?void 0:i.colors);return ji({errors:ui(e.errors),schema:e.schema,data:null==i?void 0:i.data,styleManager:r,printCode:t,location:null==i?void 0:i.location,bigNumbers:null==i?void 0:i.bigNumbers,environment:n})}{const i=o(null==e?void 0:e.colors);return ji({location:void 0,bigNumbers:void 0,...e,styleManager:i,printCode:t,environment:n})}}}(hn,((e,t,{path:n,markIdentifier:i,linesAbove:r=5,linesBelow:o=3,colors:s})=>{const{start:a,end:l}=Zn(t,{path:n,markIdentifier:i});return a?qn(t.jsonString,{start:a,end:l},{highlightCode:s,message:e,linesAbove:r,linesBelow:o}):`{The path ${n} cannot be found in json}`}),"node");var Hi=s(65882);const Gi="features/photos_hlr_roomnames_disabled";var Bi=s(37518),Vi=s(73094);const Wi=new h.Vy("showcase");class zi{constructor(e,t={},i=!1){var r;this.inWorkshop=e,this.editModePreferred=i,this.bindings=[],this.storeQueue=new L.L3,this.apiQueue=new L.L3,this.analyticsQueue=new L.L3({concurrency:1}),this.errorPromise=new n.i,this.forceLogin=!1,this.openingTool=null,this.uiLoading=Promise.resolve(),this.prefetchCaches=[],this.sceneLoader=new ze.LazyLoader,this.modulesLoadedPromise=new n.i,this.jsonSchemaValidator=function(){const e=new(yt())({strict:!1});return St()(e),{addSchema(t){e.addSchema(t)},validate:(t,n)=>e.validate(t,n),getSchema:t=>e.getSchema(t),prettify:(e,t)=>Fi(e,t)}}(),this.stopTourHook=async e=>{const t=e.market.tryGetData(ne.R);if(t&&t.tourPlaying){const t=await e.getModuleBySymbol(B.Xf);await t.stopTour(),await(0,F.cb)(10)}},this.settingOverrides=Object.assign({},t),this.assetBasePath=this.settingOverrides.assetBasePath=function(e){e=e.replace(/\/*$/,"/");const t=new URL(e,document.baseURI),n=[/^https:\/\/static\.matterport\.com(:[0-9]+)?\//,/^https:\/\/static\.matterportvr\.cn(:[0-9]+)?\//,/^https:\/\/[^\/]+\.awsstatic\.com\/([^?#]+\/)?matterport\/.*/,/^http:\/\/(localhost|127\.0\.0\.1)(:[0-9]+)?\/.*/].find((e=>t.href.match(e)))?t.origin:document.baseURI;return new URL(t.pathname,n).toString()}(null!==(r=this.settingOverrides.assetBasePath)&&void 0!==r?r:"./");const{container:o,overrideParams:s=(0,U.EN)()}=this.settingOverrides;this.overrideParams=s,this.quickstart="1"===s.qs||void 0!==s.note||void 0!==s.tag;const a=s.applicationKey||t.applicationKey;(0,Me.pN)(a||null),this.apiHost=((e,t)=>{const n=e.apiHost||t.apiHost;if(n){const e=(0,j.zh)(n);if(e)return e}return window.location.origin})(s,this.settingOverrides),this.oEmbedDeferred=new n.i,this.oEmbedConsumer=this.oEmbedDeferred.nativePromise(),this.apiHost!==window.location.origin&&(this.settingOverrides.apiHost=this.apiHost),this.container=o||document.body,this.modelUrls=(0,j.$j)(s.m||s.model,this.apiHost),this.initialModelSid=this.modelUrls.sid,this.mdsContext=new ke._(this.initialModelSid),this.mdsContext.simulateApiOutage="1"===s.simulateApiOutage?Y.u.TIMEOUT:Y.u.NONE,this.mdsContext.anonymousHeaderEnabled=!e}getManifest(){return[{type:B.nu,promise:()=>Promise.resolve().then(s.bind(s,29376))},{type:V.XT,promise:()=>Promise.resolve().then(s.bind(s,57035))},{type:V.uH,promise:()=>Promise.resolve().then(s.bind(s,9674))},{type:B.Ll,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,28614))},{type:M.WJ,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,3801))},{type:M.ZF,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,98239))},{type:B.aF,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,33183))},{type:M.S1,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,11889))},{type:V.q0,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,25959))},{type:B.Vc,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,80140))},{type:B.qL,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,60379))},{type:B.bj,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,49911))},{type:B.sA,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,39769))},{type:B.di,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,44406))},{type:B.Pn,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,7673))},{type:B.gS,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,95404))},{type:B.Wh,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,35872))},{type:B.$c,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,62303))},{type:B.M7,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,34720))},{type:B.CE,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,76924))},{type:B.mL,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,44019))},{type:V.bW,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,32327))},{type:V._r,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,15318))},{type:B.jh,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,39710))},{type:B.TV,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,63257))},{type:B.az,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,88346))},{type:B.Uu,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,87486))},{type:B.SH,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,21129))},{type:B.T9,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,41986))},{type:B.Z7,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,71927))},{type:B.UN,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,16821))},{type:B.fO,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,88398))},{type:B.vM,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,31841))},{type:B.lf,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,99460))},{type:B.N4,promise:()=>s.e(123).then(s.bind(s,69504))},{type:B.JY,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,30935))},{type:B.Qm,promise:()=>Promise.all([s.e(694),s.e(724),s.e(12),s.e(686),s.e(232),s.e(235),s.e(849),s.e(129),s.e(543),s.e(385)]).then(s.bind(s,20050))},{type:B.dC,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,11871))},{type:B.iV,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,98217))},{type:B.SD,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,33261))},{type:B.yT,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,30794))},{type:B.HX,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,43440))},{type:B.kM,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,53028))},{type:B.N7,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,18136))},{type:B.X7,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,79109))},{type:B.TY,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,40742))},{type:B.X$,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,47649))},{type:B.QW,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,59805))},{type:B.PD,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,69325))},{type:B.pR,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,38208))},{type:B.zj,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,79661))},{type:B.dT,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,98842))},{type:B.et,promise:()=>s.e(813).then(s.bind(s,37813))},{type:V.ur,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,13070))},{type:V.T6,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,6025))},{type:V.K4,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,9120))},{type:B.Kv,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,47167))},{type:B.GR,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,34457))},{type:V.L8,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,29228))},{type:B.PM,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,35396))},{type:B.Ne,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,65051))},{type:B._q,promise:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(12),s.e(686),s.e(232),s.e(168),s.e(631),s.e(114)]).then(s.bind(s,74072))},{type:B.qD,promise:()=>s.e(496).then(s.bind(s,91496))},{type:B.Et,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,92899))},{type:B.qy,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,96304))},{type:B.rA,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,12797))},{type:B.ep,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,13230))},{type:B.zX,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,33694))},{type:B._v,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,62592))},{type:B.Qj,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,49701))},{type:Q.r,promise:()=>s.e(884).then(s.bind(s,51884))},{type:B.yR,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,24679))},{type:B.Xx,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,11086))},{type:B.ZF,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,91994))},{type:B.N9,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,17160))},{type:B.kd,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,12251))},{type:B.TN,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,61257))},{type:B.gy,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,78292))},{type:B.cy,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,79747))},{type:B.Tx,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,41418))},{type:V.bw,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,10689))},{type:B.kG,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,67589))},{type:B.Yj,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,42161))},{type:B.PJ,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,78854))},{type:B.J$,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,31403))},{type:B.AO,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,26682))},{type:B.Np,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,67725))},{type:B.gk,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,16426))},{type:B.LG,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,64382))},{type:B.f0,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,89499))},{type:B.co,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,26519))},{type:B.wY,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,14288))},{type:B.lN,promise:()=>Promise.all([s.e(840),s.e(12),s.e(798),s.e(686),s.e(849),s.e(631),s.e(475)]).then(s.bind(s,43435))},{type:B.eE,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,49216))},{type:B.Yr,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,83681))},{type:B.aU,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,34567))},{type:B.FI,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,27145))},{type:B.zy,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,94745))},{type:B.QS,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,31993))},{type:B.He,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,33062))},{type:B.se,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,77714))},{type:B.Xf,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,79769))},{type:B.XQ,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,85092))},{type:B.tQ,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,76518))},{type:B.YC,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,48248))},{type:B.Vu,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,33930))},{type:B.rz,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,9859))},{type:B.A5,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,58671))},{type:B.JN,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,16115))},{type:B.uq,promise:()=>Promise.all([s.e(888),s.e(694),s.e(12),s.e(798),s.e(235),s.e(413),s.e(129),s.e(777)]).then(s.bind(s,63509))},{type:B.KT,promise:()=>Promise.all([s.e(895),s.e(504),s.e(177)]).then(s.bind(s,87177))},{type:B.Gw,promise:()=>Promise.all([s.e(235),s.e(587)]).then(s.bind(s,13254))}]}getAppPhases(e){return{[O.Jj.UNINITIALIZED]:[],[O.Jj.WAITING]:[(async()=>{await e.getModuleBySymbol(V.XT)})(),(async()=>{0})()],[O.Jj.LOADING]:[(async()=>(await e.getModuleBySymbol(V.XT)).waitForPlaying)()],[O.Jj.STARTING]:[(async()=>(await e.getModuleBySymbol(V.T6)).waitForFirstRender)(),(async()=>(await e.getModuleBySymbol(B.fO)).waitForData)()],[O.Jj.PLAYING]:[(async()=>(await e.getModuleBySymbol(V.T6)).waitForFlyin)()],[O.Jj.ERROR]:[this.errorPromise.nativePromise()]}}stop(){this.engineTick&&this.engineTick.stop()}setError(e){this.errorPromise.reject(e),this.stop()}async load(e,t){e.diContainer.get(gt.W8).resolve(),this.engine=e;const n=await this.loadAlwaysLoadModules(t);if(!t.coldStart)return void(this.uiLoading=this.loadUI(!0));const{editMode:i,ab:r}=await this.loadWaitingModules(n);try{await e.waitForLoadingModules(void 0,[B.Vu])}catch(t){this.setError(t),e.tick()}await this.loadPreplayModules(i),await(await e.getModuleBySymbol(V.XT)).waitForPlaying,await this.loadHighPriorityPlayModules(n,i),await this.engine.waitForLoadingModules(),await this.loadLowPriorityPlayModules(r),await this.engine.waitForLoadingModules(),this.modulesLoadedPromise.resolve()}async loadAlwaysLoadModules(e){this.engine.loadModuleBySymbol({type:M.WJ,config:{tasks:this.getAppPhases(this.engine)}});const t=await this.engine.loadModuleBySymbol({type:M.ZF,config:{useGUI:!0,queryScope:this.container.getRootNode(),overrideParams:this.overrideParams}});this.loadAnalytics();const n=(await this.engine.loadModuleBySymbol({type:B.qL,config:{baseUrl:this.modelUrls.urlBase,apiQueue:this.apiQueue,storeQueue:this.storeQueue,preloadConfig:"showcase",mdsContext:this.mdsContext}})).getApi(),i=await n.user,r=this.setInitialSettings(i,t,e);return this.engine.getModuleBySymbol(M.WJ).then((t=>{t.updateActiveApp(O.lg.SHOWCASE),e.coldStart||this.engine.broadcast(new T.Fj(O.lg.SHOWCASE))})),this.engine.market.waitForData(O.zH).then((e=>{e.onChanged((async()=>{const t=this.overrideParams.oops;if(t&&e.phase!==O.Jj.ERROR&&(e.phase=O.Jj.ERROR),e.phase===O.Jj.ERROR){const n=e.error,i=await this.engine.getModuleBySymbol(V.bW);throw t?i.showError(t):n instanceof Ie.X5?i.showError(X.b.MODEL_ARCHIVED):n instanceof Ie.Q8?i.showError(X.b.MODEL_COMPLIANCE):n instanceof Ie.a_?i.showError(X.b.MODEL_DELETED):n instanceof Ie.GI?i.showError(X.b.MODEL_FAILED):n instanceof Ie.cC?i.showError(X.b.MODEL_PENDING):n instanceof Ie.Wz?i.showError(X.b.MODEL_PROCESSING):n instanceof le.s?i.showError(X.b.WEBGL_UNSUPPORTED):n instanceof le.y?i.showError(X.b.WEBGL_GENERIC):i.showError(X.b.GENERIC),n}}))})),this.bindings.push((0,Be.$2)({messageBus:this.engine.msgBus}),function(e){const t=[];return t.push(new Be.GL({symbol:We.D.ModelMesh,callback:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(232),s.e(168),s.e(276)]).then(s.bind(s,86465)).then((t=>t.default(e.engine)))})),e.urlValues.debug&&t.push(new Be.GL({symbol:We.D.Navigation,callback:()=>Promise.all([s.e(798),s.e(413),s.e(543),s.e(745)]).then(s.bind(s,50857)).then((t=>t.default(e.engine)))}),new Be.GL({symbol:We.D.Octree,callback:()=>Promise.all([s.e(798),s.e(413),s.e(543),s.e(745)]).then(s.bind(s,46317)).then((t=>t.default(e.engine)))}),new Be.GL({symbol:We.D.PanoTiles,callback:()=>Promise.all([s.e(798),s.e(413),s.e(543),s.e(745)]).then(s.bind(s,2942)).then((t=>t.default(e.engine)))}),new Be.GL({symbol:We.D.Raycaster,callback:()=>Promise.all([s.e(798),s.e(413),s.e(543),s.e(745)]).then(s.bind(s,12655)).then((t=>t.default(e.engine)))}),new Be.GL({symbol:We.D.Snapping,callback:()=>Promise.all([s.e(798),s.e(413),s.e(543),s.e(745)]).then(s.bind(s,9831)).then((t=>t.default(e.engine)))}),new Be.GL({symbol:We.D.Tours,callback:()=>Promise.all([s.e(798),s.e(413),s.e(543),s.e(745)]).then(s.bind(s,17158)).then((t=>t.default(e.engine)))}),new Be.GL({symbol:We.D.WebGLRenderer,callback:()=>Promise.all([s.e(798),s.e(413),s.e(543),s.e(745)]).then(s.bind(s,33796)).then((t=>t.default(e.engine)))})),e.urlValues.tiledmesh&&t.push(new Be.GL({symbol:We.D.StreamingMesh,callback:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(232),s.e(168),s.e(276)]).then(s.bind(s,8072)).then((t=>t.default(e.engine)))}),new Be.GL({symbol:We.D.StreamingTexture,callback:()=>Promise.all([s.e(287),s.e(916),s.e(787),s.e(232),s.e(168),s.e(276)]).then(s.bind(s,12850)).then((t=>t.default(e.engine)))})),t.forEach((t=>e.messageBus.broadcast(t))),(0,Ve.Sh)((()=>null),(()=>t.forEach((t=>e.messageBus.broadcast(new Be.nt(t.payload))))))}({engine:this.engine,messageBus:this.engine.msgBus,urlValues:this.overrideParams})),r}async loadWaitingModules(e){var t,n;const[i,r]=await Promise.all([this.engine.getModuleBySymbol(M.ZF),this.engine.getModuleBySymbol(B.qL)]),o=r.getApi(),s=await o.user;Wi.info("Showcase app version: 25.7.3_webgl-869-g4345cd94f0"),this.canvas=document.createElement("canvas"),this.canvas.className="webgl-canvas";const a=parseInt(this.overrideParams.log,10);this.overrideParams.hasOwnProperty("log")&&!isNaN(a)&&(h.Vy.level=a),this.quickstart&&Wi.info("Quickstart engaged. Hold on to your knickers. "+performance.now()),this.engine.loadModuleBySymbol({type:B.Z7,config:{element:this.container}}),this.engine.loadModuleBySymbol({type:B.gS,config:{isLoggedIn:s.loggedIn,queue:this.apiQueue}}),this.engine.loadModuleBySymbol({type:V.bW,config:{apiHost:this.apiHost,container:this.container}}),this.engine.loadModuleBySymbol({type:B.Ll,config:{container:this.container}}),this.apiConfig=await o.getConfigs("showcase");const l=this.overrideParams.apq;this.mdsContext.apqEnabled=!0===this.apiConfig.apollo_apq?"0"!==l:"1"===l;const c=await async function(e){var t,n,i,r,o,s;const a={initialViewId:e.initialModelSid,rootModelId:e.initialModelSid,caches:[]};let l=Y.G.PRELOAD;const c=e.overrideParams.prefetch;c&&Object.values(Y.G).includes(c)&&(l=c);const u=new K.B({baseUrl:e.baseUrl,prefetchPolicy:l,initialData:$.P.getQuery("GetRootPrefetch"),query:W.GetRootPrefetch,variables:{modelId:e.initialModelSid,view:"root",sweepTags:e.inWorkshop?null:void 0},mdsContext:e.mdsContext,anonymous:!0}),d=new K.B({baseUrl:e.baseUrl,prefetchPolicy:l,initialData:$.P.getQuery("GetModelPrefetch"),query:W.GetModelPrefetch,variables:{modelId:e.initialModelSid,view:"default",sweepTags:e.inWorkshop?null:void 0},mdsContext:e.mdsContext,anonymous:!0}),h=new K.B({baseUrl:e.baseUrl,prefetchPolicy:l,initialData:$.P.getQuery("GetRoomClassifications"),query:z.GetRoomClassifications,variables:{},mdsContext:e.mdsContext,anonymous:!0});if(a.caches.push(u,d,h),l===Y.G.NONE)return a;const p=await Promise.all([u.initialLoadPromise,d.initialLoadPromise,h.initialLoadPromise]);return a.rootModelId=(null===(i=null===(n=null===(t=p[0])||void 0===t?void 0:t.data)||void 0===n?void 0:n.model)||void 0===i?void 0:i.id)||a.rootModelId,a.initialViewId=(null===(s=null===(o=null===(r=p[1])||void 0===r?void 0:r.data)||void 0===o?void 0:o.model)||void 0===s?void 0:s.id)||a.initialViewId,q.debug({result:a,data:p}),a}({anonymous:!0,baseUrl:this.apiHost,initialModelSid:this.initialModelSid,inWorkshop:this.inWorkshop,mdsContext:this.mdsContext,overrideParams:this.overrideParams});c.caches.forEach((e=>{this.prefetchCaches.push(e),this.mdsContext.sharedCaches.add(e)})),this.initialViewId=c.initialViewId,this.baseModelId=c.rootModelId;const u=this.overrideParams.applicationKey||this.settingOverrides.applicationKey;await this.startAuthAndPolicyModules(o,s.loggedIn,u),this.engine.loadModuleBySymbol({type:B.Qm}),this.engine.loadModuleBySymbol({type:B.M7,config:{canvas:this.canvas,antialias:"1"===this.overrideParams.aa,useEffectComposer:!(!this.settingOverrides||!this.settingOverrides.hasOwnProperty("useEffectComposer"))&&!!this.settingOverrides.useEffectComposer}}),this.engine.loadModuleBySymbol({type:B.jh});const d=this.container.querySelector("#canvas-container");this.engine.loadModuleBySymbol({type:B.CE,config:{canvas:this.canvas,container:d}}),this.engine.loadModuleBySymbol({type:B.TV}),this.engine.loadModuleBySymbol({type:B.J$});const p=await this.engine.getModuleBySymbol(B.M7);this.engineTick=new D(this.engine,p.threeRenderer,(e=>{this.engine.getModuleBySymbol(V.bW).then((t=>{this.setError(e),t.showError(X.b.GENERIC)}))})),this.setupOEmbedConsumer(this.settingOverrides.embedlyKey),this.engine.loadModuleBySymbol({type:V._r,config:{notificationDelayFrames:60}});const{settingsData:f}=i;this.openingTool=(0,re.X)(f),this.forceLogin=this.openingTool===ae.S0.NOTES&&!s.loggedIn&&!(0,H.al)();let m=this.editModePreferred;m&&this.forceLogin&&(Wi.warn("Cannot start in edit mode. Need to login to view note."),m=!1);const g={[Ae.Oe]:null,quickstart:this.quickstart,lang:this.overrideParams.lang,perf:this.overrideParams.perf,perfInterval:this.overrideParams.perfInterval,[je.k5]:(null===(t=this.apiConfig)||void 0===t?void 0:t.discover_space_url)||""};for(const e in g)i.updateSetting(e,g[e]);if(this.settingOverrides)for(const e in this.settingOverrides)i.updateSetting(e,this.settingOverrides[e]);const v=new ue(this.apiConfig),y=null!==(n=null==v?void 0:v.serialize())&&void 0!==n?n:[];this.loadInitialAppModules(y,p);const E=await this.engine.market.waitForData(at.L),S=await this.loadViewsAndStorage(this.initialViewId);this.baseModelId=S,await this.engine.loadModuleBySymbol({type:B.SH,config:{baseUrl:this.modelUrls.urlBase,api:o,viewId:this.initialViewId,queue:this.apiQueue,mdsContext:this.mdsContext}}),this.forceLogin&&this.openingTool===ae.S0.NOTES&&await this.loginToNote(this.baseModelId),i.hasProperty(fe.vg)||i.updateSetting(fe.vg,this.apiConfig.embedly_key),this.loadInitialDataModules(e,m);const b=()=>this.stopTourHook(this.engine);this.engine.commandBinder.hookCommand(Ne.aj,!0,b),this.engine.commandBinder.hookCommand(we.S2,!0,b);const O=this.container.querySelector("main")||document.body;return this.loadPluginModules(f,E,O,m),{editMode:m,ab:v}}async loadPreplayModules(e){const[t,n,i]=await Promise.all([this.engine.market.waitForData(Z.q),this.engine.market.waitForData(Le.G),this.engine.getModuleBySymbol(M.ZF)]);this.engine.loadModuleBySymbol({type:B.UN,config:{calculateTrimmedBounds:!0}});const{details:r}=t.model;this.container.getRootNode()instanceof ShadowRoot||(document.title=r.name),this.canvas.setAttribute("aria-label",r.name);const o=n.getStartingPose();!this.quickstart||o&&(0,oe.vy)(o.mode)||(Wi.warn("Disabling quickstart. No panorama start position."),this.quickstart=!1,i.updateSetting("quickstart",!1)),this.sceneLoader.setLoader((async()=>{var e;const t=await this.engine.loadModuleBySymbol({type:B.KT});return"1"===(null!==(e=this.overrideParams.loadExamples)&&void 0!==e?e:"1")&&await(0,ct.q)(),t.startLoading(),t})),await this.engine.loadModuleBySymbol({type:B.qD}),await this.engine.loadModuleBySymbol({type:B.iV}),this.quickstart&&(this.loadPanoControls(e),this.engineTick.start())}async loadHighPriorityPlayModules(e,t){this.canvas.setAttribute("tabIndex","0");const[n,i,r]=await Promise.all([this.engine.market.waitForData(Le.G),this.engine.getModuleBySymbol(B.M7),this.engine.getModuleBySymbol(M.ZF)]),o=n.getStartingPose();this.engine.loadModuleBySymbol({type:B.X$,config:{container:this.container}});const s=function(e,{dracoDecoderPath:t,basisTranscoderPath:n}){let i="vendors/three/0.176.0/";return!/^https?:\/\//.test("vendors/three/0.176.0/")&&(i=`${e}vendors/three/0.176.0/`),{dracoDecoderPath:t||`${i}libs/draco/gltf/`,basisTranscoderPath:n||`${i}libs/basis/`}}(this.assetBasePath,{dracoDecoderPath:this.settingOverrides.dracoDecoderPath,basisTranscoderPath:this.settingOverrides.basisTranscoderPath});r.updateSetting("dracoDecoderPath",s.dracoDecoderPath),this.engine.loadModuleBySymbol({type:B.GR,config:{startingMode:this.quickstart?o.mode:null,textureLOD:he.R.RAYCAST,colorizeRooms:"1"===this.overrideParams.colorizeRooms,colorizeChunks:"1"===this.overrideParams.colorizeChunks,wireframe:"1"===this.overrideParams.wireframe,gltfConfig:s}}),this.engine.loadModuleBySymbol({type:B.fO,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,queue:this.storeQueue}});const{maxMeshTextureQuality:a,textureLODThreshold:l}=(e=>{let t,n;return(0,H.Fr)()?(0,H.Fr)()&&e?(t=Te.M.ULTRA,n=10):(t=Te.M.MEDIUM,n=6):(t=Te.M.ULTRA,n=20),{maxMeshTextureQuality:t,textureLODThreshold:n}})(i.isHighPerformanceMobileGPU());Wi.info({maxMeshTextureQuality:a,textureLODThreshold:l,gpuInfo:i.gpuInfo}),this.engine.loadModuleBySymbol({type:V.L8,config:{maxQuality:a,textureLOD:he.R.RAYCAST,textureLODThreshold:l}}),this.engine.loadModuleBySymbol({type:B.yT}),this.engine.loadModuleBySymbol({type:B.SD,config:{startingMode:this.quickstart?o.mode:null}}),this.engine.loadModuleBySymbol({type:B.PD,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase}}),this.engine.loadModuleBySymbol({type:B.dC}),this.engine.loadModuleBySymbol({type:B.HX,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:B.QW,config:{startingFloorsVisibility:this.quickstart?o.floorVisibility:void 0,allowFloorChanges:e.Features[Oe.p]}}),this.engine.loadModuleBySymbol({type:B.kM});const c=this.container.querySelector("#app-container"),u=this.container.querySelector("main")||document.body,d=this.container.querySelector("#react-render-root")||document.body;this.engine.loadModuleBySymbol({type:B.nu,config:{workshopApp:this.inWorkshop,container:c,mainDiv:u,reactContainer:d,queue:this.apiQueue,apiHost:this.apiHost}});const h=await this.engine.getModuleBySymbol(B.az);this.engine.loadModuleBySymbol({type:B.N7,config:{registerConfirmViewChange:e=>h.registerConfirmViewChange(e)}}),this.engine.loadModuleBySymbol({type:V.uH}),this.engine.loadModuleBySymbol({type:B.pR}),this.engine.loadModuleBySymbol({type:B.zj}),this.engine.loadModuleBySymbol({type:B.dT}),this.engine.loadModuleBySymbol({type:B._q,config:{allowRotation:!1}}),this.engine.loadModuleBySymbol({type:B.et,config:{enabled:"1"!==this.overrideParams.nozoom}}),this.engine.loadModuleBySymbol({type:V.T6}),this.engine.loadModuleBySymbol({type:B.Kv,config:{raycastNeighbors:e.Features[Hi.R],enableWheel:"1"===this.overrideParams.nozoom,doubleClickToGoInside:!0}}),this.engine.loadModuleBySymbol({type:B.PM}),this.engine.loadModuleBySymbol({type:B.Xx}),this.engine.loadModuleBySymbol({type:B.Ne}),this.engine.loadModuleBySymbol({type:V.ur}),this.quickstart||(this.engineTick.start(),this.loadPanoControls(t))}async loadLowPriorityPlayModules(e){var t;const[n,i,r,o,s]=await Promise.all([this.engine.getModuleBySymbol(M.ZF),this.engine.market.waitForData(at.L),this.engine.getModuleBySymbol(B.qL),this.engine.market.waitForData(st.E),this.engine.market.waitForData(P.o)]);this.engine.loadModuleBySymbol({type:B.wY}),"0"!==this.overrideParams.portal&&(this.engine.loadModuleBySymbol({type:B.f0}),this.engine.loadModuleBySymbol({type:B.co})),this.engine.loadModuleBySymbol({type:B.gk,config:{showPinsInFloorplanDollhouse:"0"!==this.overrideParams.pin}}),this.engine.loadModuleBySymbol({type:B.LG}),this.engine.loadModuleBySymbol({type:B.se,config:{checkRenderModes:()=>{const e=this.engine.market.tryGetData(ne.R);if(e&&e.isTourActive())return!1;const t=this.engine.market.tryGetData(se.X);return!!t&&t.isInside()}}}),this.engine.loadModuleBySymbol({type:B.Qj}),this.engine.loadModuleBySymbol({type:B.aU,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}}),this.engine.loadModuleBySymbol({type:B.FI});const a=n.getProperty(ge.Jr);this.engine.loadModuleBySymbol({type:B.kd,config:{tagIconsEnabled:a}}),this.engine.loadModuleBySymbol({type:B.Et}),this.engine.loadModuleBySymbol({type:B.qy,config:{oEmbedConsumer:this.oEmbedConsumer,baseUrl:this.modelUrls.urlBase}});const l=await r.getApi().user,c=l.getFlags("showcase/");!async function(e,t,n,i,r,o,s,a){const l=t.subscriber_prompt_denylist||Ce.Z1.domainDenylist,{popupAllowed:c,bannerAllowed:u}=await Fe({urlValues:n,settingsData:e.settingsData,flags:i,loggedIn:r,inWorkshop:s,hasPolicy:o.hasPolicy.bind(o),domainDenylist:l});if(Ue.r.debug(`popupAllowed: ${c}, bannerAllowed: ${u}`),c||u){e.updateSetting(Ce.nt,!0);const i=c&&("1"===n[Ce.x$.forcePopup]||!!a.get("subscriber_prompt_a_popup")),r=u||"1"===n[Ce.x$.forceBanner],o=t.subscriber_prompt_a_delay_ms||Ce.Z1.popupDelay;Ue.r.debug(`popupEnabled: ${i}, bannerEnabled: ${r}`),e.registerSetting("Subscriber Prompt",Ce.An,{popupDelay:o,popupEnabled:i,bannerEnabled:r},!1,x.u.NONE)}}(n,this.apiConfig,this.overrideParams,c,l.loggedIn,i,this.inWorkshop,e);const u=this.overrideParams.stories,d="1"===u||"0"!==u&&i.hasPolicy(ie.bp);n.updateSetting(ie.AI,d),this.engine.getModuleBySymbol(B.aF).then((e=>{e.trackFeatures(`${ie.nn}:${d}`),(0,ut.n3)(e,i)})),this.engine.loadModuleBySymbol({type:B.XQ,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,storyToursFeature:d,looping:"1"===this.overrideParams.lp,queue:this.storeQueue,baseModelId:this.baseModelId,defurnishToursFeature:i.hasPolicy(ie.RZ)}});const h=(0,ht.FZ)(l,o,i,s);this.engine.loadModuleBySymbol({type:B.lN,config:{objectTagsEnabled:h}}),this.engine.loadModuleBySymbol({type:B.cy,config:{workshop:this.inWorkshop,baseUrl:this.modelUrls.urlBase}}),this.loadUserDependentModules(l.loggedIn,s,i,c),this.engine.loadModuleBySymbol({type:B.yR,config:{debug:"1"===this.overrideParams.fcdbg}}),this.engine.loadModuleBySymbol({type:B.ZF}),this.engine.loadModuleBySymbol({type:B.N9,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,objectTagsEnabled:h,inferMeshIds:!0,parserOptions:{supportLinks:!this.overrideParams.mls||"0"===this.overrideParams.mls,keepLinkLabels:!0}}}),this.engine.loadModuleBySymbol({type:B.Np}),this.engine.loadModuleBySymbol({type:B.Xf}),this.engine.loadModuleBySymbol({type:B.Tx}),this.engine.loadModuleBySymbol({type:B.ep}),this.engine.loadModuleBySymbol({type:B.zX}),this.engine.loadModuleBySymbol({type:B._v}),this.engine.loadModuleBySymbol({type:B.He,config:{baseUrl:this.modelUrls.urlBase}}),this.engine.loadModuleBySymbol({type:Q.r}),this.engine.loadModuleBySymbol({type:V.bw}),this.engine.loadModuleBySymbol({type:B.rA}),this.engine.loadModuleBySymbol({type:B.PJ}),this.engine.loadModuleBySymbol({type:B.tQ}),this.engine.loadModuleBySymbol({type:B.zy,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}});const p=n.getProperty(Gi);this.engine.loadModuleBySymbol({type:B.AO,config:{disableHlrRoomnames:p}}),this.engine.loadModuleBySymbol({type:B.Yr}),c.has(Bi.e)&&this.engine.loadModuleBySymbol({type:B.JN});const{q:f,qK:m,qF:g}=this.overrideParams;if(this.engine.loadModuleBySymbol({type:B.Yj,config:{urlQuery:f||((0,H.w2)()?"":f),urlQueryKeywords:m,urlQueryFilters:g,workshop:this.inWorkshop}}),h){const e=this.overrideParams.minConfidence?(0,G.qE)(parseFloat(this.overrideParams.minConfidence),.01,1):void 0;this.engine.loadModuleBySymbol({type:B.gy,config:{debug:!!this.overrideParams.debug,baseUrl:this.modelUrls.urlBase,baseModelId:this.baseModelId,minConfidence:e}})}const v=n.getProperty(He.F7);this.engine.loadModuleBySymbol({type:B.YC,config:{framebufferScaling:Math.min(this.overrideParams.xrframebuffer?parseFloat(this.overrideParams.xrframebuffer):0,1),webxr:null!==(t=this.overrideParams.webxr)&&void 0!==t?t:"mono",xrBrowsersUnlocked:v,xrHandTracking:"1"===this.overrideParams["xr.hands"],xrMesh:"1"===this.overrideParams["xr.mesh"],xrDebug:"1"===this.overrideParams["xr.debug"]}});if(n.getProperty(Pe.n)){const e=n.getProperty(Pe.s);this.engine.loadModuleBySymbol({type:B.QS,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,queue:this.storeQueue,promptEnabled:e,debug:"1"===this.overrideParams.modelRatingDebug}})}await this.isRoomBoundsEnabled()&&(this.engine.loadModuleBySymbol({type:B.A5}),this.engine.loadModuleBySymbol({type:B.rz})),this.engine.loadModuleBySymbol({type:B.eE}),this.engine.loadModuleBySymbol({type:B.kG}),this.engine.loadModuleBySymbol({type:B.uq}),(0,Vi.W)(i,s)&&this.engine.loadModuleBySymbol({type:B.Gw})}async isRoomBoundsEnabled(){const[e,t]=await Promise.all([this.engine.market.waitForData(at.L),this.engine.market.waitForData(P.o)]);return await this.engine.getModuleBySymbol(V.K4),(0,dt.m2)(e,t,this.inWorkshop)}setInitialSettings(e,t,n){const i=e.getFlags("showcase/"),r=(0,_e.A0)(parseFloat(this.overrideParams.wts)),{labels:o,mt:s,allowRating:a,tiledmesh:l,tagIcons:c}=this.overrideParams,u=i.has(ye.Z),d=(0,De.B)(navigator.language),h=i.has(Pe.n)?"0"!==a:"1"===a,p=this.inWorkshop&&e.loggedIn&&h,f=p&&i.has(Pe.s)?"0"!==a:"1"===a,m=i.has(ge.Jr)?"0"!==c:"1"===c,g=i.has(pe.sz)?"0"!==l:"1"===l,v="0"===this.overrideParams.ad,y=i.has(He.F7)?"0"!==this.overrideParams[He.RN]:"1"===this.overrideParams[He.RN],E=null!=this.overrideParams.showCeilings?"1"===this.overrideParams.showCeilings:i.has(mt.VS),S=null!=this.overrideParams.raycastNeighbors?"1"===this.overrideParams.raycastNeighbors:i.has(Hi.R),b=i.has(mt.AU),O={Features:{[Se.f]:!0,[Ee.s]:!0,[pe.sz]:g,[Ge.cB]:!v,[me.RP]:"0"!==o,[fe.qE]:"0"!==s,[Oe.p]:"0"!==this.overrideParams.f,[be._V]:r,[ye.Z]:u,[$e.e]:!1,[$e.n]:!1,[Pe.n]:p,[Pe.s]:f,[Gi]:null!=this.overrideParams.snapshotRoomNames?"0"===this.overrideParams.snapshotRoomNames:i.has(Gi),[Ce.nt]:!1,[ge.Jr]:m,[ge.GK]:!0,[ge.AM]:!0,[mt.VS]:E,[mt.AU]:b,[Hi.R]:S,[He.F7]:y},"User Preferences":{[C.Y.UnitType]:d,[C.Y.MeasurementSnapping]:!0,[C.Y.MeasurementContinuousLines]:!0,[C.Y.MeasurementUserNudgeSeen]:!1,[C.Y.DollhouseUserNudgeSeen]:!1,[C.Y.NotesModeNudgeSeen]:!1,[C.Y.LastRatingPromptTime]:null,[C.Y.SubscriberPromptDismissed]:!1,[C.Y.TourTextNudgeDismissed]:!1,[C.Y.TourMobileNavigationPromptSeen]:!1}};for(const e in O)for(const n in O[e]){if(void 0===O[e][n])continue;const i="User Preferences"===e?x.u.LOCAL_STORAGE:x.u.NONE;t.registerSetting(e,n,O[e][n],!0,i)}return t.updateSetting("assetBasePath",this.assetBasePath),O}setPluginPolicySettings(e,t){var n;const i={enabled:t.hasPolicy(lt.XX),canConfig:t.hasPolicy(lt.p_),canDebug:t.hasPolicy(lt._x),groups:(null===(n=t.getPolicy(lt.eV))||void 0===n?void 0:n.options)||[]};return e.setProperty(lt.p_,i.canConfig&&i.enabled),e.setProperty(lt.XX,i.enabled),i}loadUserDependentModules(e,t,n,i){this.engine.market.waitForData(st.E).then((r=>{(0,ve.uV)(e,n,r,t,i)&&this.engine.loadModuleBySymbol({type:B.TN,config:{workshop:this.inWorkshop,baseUrl:this.modelUrls.urlBase,readonly:!1}})}))}async unload(e){var t;this.prefetchCaches.forEach((e=>this.mdsContext.sharedCaches.delete(e))),this.prefetchCaches.length=0;try{const t=await e.getModuleBySymbol(B.Xf);await t.stopTour()}catch(e){Wi.debug("showcase unload called before tour controls registered, ignoring stopTour",e)}await this.uiLoading,await(null===(t=this.showcaseGui)||void 0===t?void 0:t.unloadUi().catch((e=>{Wi.error(e)}))),e.commandBinder.resetHooks(),this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}async loginToModel(e,t){Wi.info(`Loading model view: ${e}`);const n=this.forceLogin;await t.modelExists(e,{ignorePrefetch:n}).catch((async t=>{if(n&&(t instanceof Ie._W||t instanceof Ie.ZT))await this.showLoginScreen(e);else{if(!(t instanceof Ie._W))throw t;await this.login()}}))}async loginToNote(e){this.forceLogin&&await this.showLoginScreen(e)}loadInitialAppModules(e,t){this.engine.loadModuleBySymbol({type:B.sA}),this.engine.loadModuleBySymbol({type:B.mL,config:{disableWheel:"0"===this.overrideParams.wh,pointerPreventDefault:!this.settingOverrides||!this.settingOverrides.hasOwnProperty("pointerPreventDefault")||!!this.settingOverrides.pointerPreventDefault,rootNode:this.container.getRootNode()}}),this.engine.getModuleBySymbol(B.aF).then((n=>{n.setOptions({gpu:t.gpuInfo}),n.trackFeatures(...e,`${ge.jh}:true`)}))}async loadViewsAndStorage(e){await this.engine.loadModuleBySymbol({type:B.az,config:{viewId:e,baseUrl:this.apiHost,readonly:!0,inWorkshop:this.inWorkshop,modulesLoadedPromise:this.modulesLoadedPromise,mdsContext:this.mdsContext}});const t=(await this.engine.market.waitForData(ee.P)).getBaseModelId();return this.engine.loadModuleBySymbol({type:B.T9,config:{baseUrl:this.apiHost,mdsContext:this.mdsContext}}),t}async loadAnalytics(){this.engine.loadModuleBySymbol({type:B.aF}),this.engine.loadModuleBySymbol({type:B.$c,config:{appName:this.settingOverrides&&this.settingOverrides.appName||"showcase",provider:this.overrideParams.analytics,apiQueue:this.apiQueue,analyticsQueue:this.analyticsQueue,overrideParams:this.overrideParams}})}loadInitialDataModules(e,t){this.engine.loadModuleBySymbol({type:V.K4,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}}),this.engine.loadModuleBySymbol({type:B.bj,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!this.inWorkshop,queue:this.storeQueue,tiledMeshEnabled:e.Features[pe.sz]}});const n=this.settingOverrides.disableMobileRedirect,i=!!this.openingTool||void 0,r=!!this.openingTool||void 0,o=!!this.openingTool||void 0;this.engine.loadModuleBySymbol({type:V.XT,config:{disabled:this.forceLogin,openingTool:!!this.openingTool,viewId:this.initialViewId,baseUrl:this.modelUrls.urlBase,quickstart:this.quickstart,editMode:t,allowPlayInIframe:!!n||"1"===this.overrideParams.playsInline,allowAutoPlay:!!n,hideTitle:r,hideBranding:o,hidePoweredBy:i}}),this.engine.loadModuleBySymbol({type:B.Pn,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,initialViewId:this.initialViewId,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:B.Wh,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:B.di,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:B.Vu,config:{baseUrl:this.modelUrls.urlBase,readonly:!this.inWorkshop,requestQueue:this.storeQueue}})}loadPanoControls(e){this.uiLoading=this.loadUI(!(e||this.forceLogin)),this.engine.loadModuleBySymbol({type:B.X7}),this.engine.loadModuleBySymbol({type:B.TY})}async loadSdkModule(e){const t=this.overrideParams.applicationKey||this.settingOverrides.applicationKey,n=this.engine,i=this.assetBasePath,r=($.P.sdkMetadata,this.overrideParams.localSdkInterface),o=(this.overrideParams.sdkVersion,this.inWorkshop),a=async function(){return r?J("2"===r):function(e,t){const n={client:`${e}sdk/sdk-client.js`,interfaces:[`${e}sdk/sdk-interface.js`],sandbox:`${e}sdk/sandbox.html`};return t&&n.interfaces.push(`${e}sdk/edit-interface.js`),n}(i,o)}(),l={scene:this.sceneLoader};n.loadModuleBySymbol({type:M.S1,config:{applicationKey:t||"NO_APPLICATION_KEY_SUPPLIED",validationUrl:this.apiHost+"/api/v1/user/",getSdkConfig:a,setupExternalSdk:async e=>{const i=await Promise.resolve().then(s.bind(s,77689));await i.loadInterface(e,n,await a,l,await this.oEmbedConsumer,h.Vy.level,t||"",this.apiHost,this.jsonSchemaValidator)},queue:this.apiQueue,validateProvider:e=>this.validateSdkProvider(e)}})}loadUI(e){return Promise.all([this.engine.getModuleBySymbol(B.nu),this.engine.getModuleBySymbol(V.uH)]).then((([t,n])=>{this.guiModule=t,this.showcaseGui=n,e&&t.loadUi(n.loadUi)}))}async startAuthAndPolicyModules(e,t,n){this.loadSdkModule(e);const i=!!n,r=i?await this.doSdkAuth(n):{accepted:Promise.resolve()};if(r.token){Re.u.setToken(r.token);try{await e.modelExists(this.initialViewId,{ignorePrefetch:!0})}catch(e){throw Wi.error(e),this.setError(e),e}}else try{await this.loginToModel(this.initialViewId,e)}catch(e){throw this.setError(e),e}if(await this.engine.loadModuleBySymbol({type:B.Uu,config:{baseUrl:this.modelUrls.urlBase,viewId:this.initialViewId,mdsContext:this.mdsContext,isLoggedIn:t}}),i)try{await r.accepted}catch(e){return void this.setError(Error("invalid provider specified"))}}async doSdkAuth(e){const t=this.engine,n=await t.getModuleBySymbol(B.Ll);n.show();const i=await t.getModuleBySymbol(M.S1),r=await i.getClientAuth(e);return n.hide(),r}async validateSdkProvider(e){const t=!!(await this.engine.market.waitForData(at.L)).getPolicy(pt),n=ft.get(e)===pt;return!e||!n||t&&n}async showLoginScreen(e){var t,n;return(await this.engine.loadModuleBySymbol({type:B.Vc,config:{loginUrl:(null===(t=this.apiConfig)||void 0===t?void 0:t.authn_login_url)||"",registerUrl:(null===(n=this.apiConfig)||void 0===n?void 0:n.account_register_url)||"",modelId:e,baseUrl:this.modelUrls.urlBase,container:this.container}})).loadUi()}login(){return new Promise((async e=>{const t=await this.engine.loadModuleBySymbol({type:V.q0,config:{modelId:this.initialViewId,baseUrl:this.modelUrls.urlBase,container:this.container}});this.engine.subscribe(te.l,(()=>{t.hidePasswordScreen(),e()})),t.showPasswordScreen()}))}setupOEmbedConsumer(e){const t={embedlyKey:e||this.apiConfig.embedly_key,instagramAppId:this.apiConfig.instagram_app_id,instagramClientToken:this.apiConfig.instagram_client_token,googleMapsApiKey:this.apiConfig.google_maps_key};this.oEmbedDeferred.resolve(new ot(this.apiQueue,t))}async loadPluginModules(e,t,n,i){0}}var $i=s(30877);window.addEventListener("app-start",(e=>{var t,i;const r=function(e){const t=new R;t.diContainer.bindConstant(gt.W8,new n.i);const i=new zi(!1,e);t.loadApplication(i,i.setError.bind(i));const r=function(e){class t{constructor(e){this.windowContext=e,this.connectedPromise=new Promise((e=>{this.connectedPromiseResolve=e}))}async connect(...[,t={}]){const n=await e.getModuleBySymbol(M.S1),i=$i.p.connect(new Ki(n,t),new Yi,this.windowContext);return i.then((e=>this.connectedPromiseResolve(e))),i}}let n=window;window!==window.top&&(n=window.parent);window.opener&&(n=window.opener);const i=new t(n);return window.MP_SDK=i,i}(t);return{engine:t,showcase:i,sdkBoostrap:r}}(e.detail.config||{});null===(i=(t=e.detail).onStart)||void 0===i||i.call(t,{dispose:()=>{r.engine.dispose(),r.showcase.stop(),r.showcase.unload(r.engine)}}),r.sdkBoostrap.connectedPromise.then((t=>{var n,i;null===(i=(n=e.detail).onSdkConnected)||void 0===i||i.call(n,{mpSdk:t})}))}),!0);class Ki{constructor(e,t){this.sdk=e,this.options=t}connect(){return this.sdk.connect(`${window.location.protocol}//${window.location.host}`,this.options)}cancelConnecting(){}}class Yi{getFactory(e){return e.messengerFactory}}})()})();